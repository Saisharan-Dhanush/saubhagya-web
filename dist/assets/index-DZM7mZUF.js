const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/api-Bwr-8r2E.js","assets/ui-vendor-BS7p1Zk0.js","assets/react-vendor-C1G9MTLI.js","assets/utils-BEJD3qDL.js","assets/charts-n2sHyWfT.js","assets/Dashboard-BD2XLcwg.js","assets/CycleManagement-B0-FTITD.js","assets/Purification.config-BxofNtUh.js","assets/QualityControl-B1ck_J1x.js","assets/MaintenanceManagement-DUZrRW6V.js","assets/InventoryTransfer-B5dlFrV0.js","assets/SlurryManagement-B9RwXTMv.js","assets/RealTimeMonitoring-Ch8Jm8a_.js","assets/Dashboard-BCZ0HqOt.js","assets/mockDataService-DPeHm-bU.js","assets/ScheduleManager-C0sKYOPT.js","assets/RouteOptimization-BbR_BuBA.js","assets/ActiveDeliveries-xriFpj-r.js","assets/DeliveryConfirmation-Bu8ZIs_Z.js","assets/VehicleManagement-BgYzTTUK.js","assets/DeliveryHistory-Ddt3rOCg.js"])))=>i.map(i=>d[i]);
import{j as e,M as Cr,L as Dr,E as kr,a as ds,b as Ya,X as ws,S as ms,B as st,R as os,c as Te,C as Tr,H as Ir,D as Qe,W as Zs,Z as Rs,A as ke,T as he,d as le,P as tt,U as Ie,e as ti,f as Se,g as ai,h as ps,i as at,k as Ss,l as wa,m as Sa,n as ts,o as Ca,p as ri,q as Re,s as de,t as qt,u as we,v as $s,F as Oe,w as We,x as Is,y as Le,K as ni,G as Ht,z as rt,I as Aa,J as Gt,N as Qa,O as as,Q as Ka,V as qe,Y as Wt,_ as js,$ as nt,a0 as St,a1 as zt,a2 as hs,a3 as Yt,a4 as Qt,a5 as Ct,a6 as ua,a7 as Ar,a8 as ii,a9 as yt,aa as Bs,ab as Vs,ac as rs,ad as Pa,ae as Kt,af as Ra,ag as Pr,ah as Ma,ai as Rr,aj as Ea,ak as li,al as $t,am as ci,an as Zt,ao as Xs,ap as Xt,aq as oi,ar as Mr,as as di,at as Oa,au as Er,av as mi,aw as Or,ax as xi,ay as Lr,az as ui,aA as Fr,aB as _r,aC as hi,aD as gi,aE as pi,aF as Br,aG as ji,aH as fi,aI as vi,aJ as yi,aK as Za,aL as Ur,aM as La,aN as qr,aO as Ni,aP as Gr,aQ as bi,aR as Wr,aS as $r,aT as wi,aU as Si,aV as fs,aW as Ci,aX as Di,aY as ki,aZ as Ti,a_ as Vr,a$ as Ii,b0 as Ai,b1 as Dt,b2 as Pi,b3 as Ri,b4 as Mi,b5 as Fa,b6 as Ei,b7 as Hr,b8 as zr,b9 as _a,ba as Yr,bb as Qr,bc as Oi,bd as Kr,be as Zr,bf as Ft,bg as Li,bh as Ks,bi as Xr,bj as Fi,bk as Jr,bl as _i,bm as Jt,bn as Vt,bo as Bi,bp as Ui,bq as qi,br as Xa,bs as Ja,bt as Gi}from"./ui-vendor-BS7p1Zk0.js";import{a as Wi,r as h,u as xs,e as Hs,f as it,h as J,i as $i,R as U,B as Vi,N as Hi}from"./react-vendor-C1G9MTLI.js";import{t as zi,c as Yi,a as Qi}from"./utils-BEJD3qDL.js";import{R as Nt,L as Da,C as _t,X as Bt,Y as bt,T as wt,a as Ut,b as Gs,P as Ki,c as Zi,d as Xi,A as Ji,e as el}from"./charts-n2sHyWfT.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var ka={},er=Wi;ka.createRoot=er.createRoot,ka.hydrateRoot=er.hydrateRoot;const sl="modulepreload",tl=function(s){return"/"+s},sr={},Ae=function(t,a,r){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),o=c?.nonce||c?.getAttribute("nonce");n=Promise.allSettled(a.map(d=>{if(d=tl(d),d in sr)return;sr[d]=!0;const p=d.endsWith(".css"),N=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${N}`))return;const f=document.createElement("link");if(f.rel=p?"stylesheet":sl,p||(f.as="script"),f.crossOrigin="",f.href=d,o&&f.setAttribute("nonce",o),document.head.appendChild(f),p)return new Promise((u,v)=>{f.addEventListener("load",u),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(c){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=c,window.dispatchEvent(o),!o.defaultPrevented)throw c}return n.then(c=>{for(const o of c||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},ys={field_worker:[{module:"rfid",actions:["scan","sync"]},{module:"collection",actions:["log","voice"]},{module:"iot",actions:["sync","update"]},{module:"gps",actions:["track","update"]}],cluster_manager:[{module:"slurry",actions:["monitor","alert"]},{module:"digester",actions:["monitor","alert"]},{module:"pickup",actions:["schedule","manage"]},{module:"disputes",actions:["resolve","track"]}],cbg_sales:[{module:"inventory",actions:["manage","track"]},{module:"invoicing",actions:["create","send"]},{module:"crm",actions:["manage","update"]},{module:"peso",actions:["comply","report"]},{module:"upi",actions:["process","reconcile"]}],business_dev:[{module:"mapping",actions:["create","update"]},{module:"subsidy",actions:["assist","track"]},{module:"feasibility",actions:["calculate","analyze"]},{module:"pipeline",actions:["track","update"]}],admin:[{module:"users",actions:["create","read","update","delete"]},{module:"devices",actions:["manage","configure"]},{module:"permissions",actions:["assign","revoke"]},{module:"audit",actions:["view","export"]},{module:"alerts",actions:["configure","manage"]}],senior_leader:[{module:"voice_kpis",actions:["view","analyze"]},{module:"revenue",actions:["predict","analyze"]},{module:"carbon",actions:["trade","track"]},{module:"strategic",actions:["plan","approve"]}],purification_operator:[{module:"ch4_monitoring",actions:["monitor","alert"]},{module:"flow_rate",actions:["monitor","adjust"]},{module:"maintenance",actions:["schedule","track"]},{module:"voice_alerts",actions:["receive","respond"]}]},en=h.createContext(void 0);function Os(){const s=h.useContext(en);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}function al({children:s}){const[t,a]=h.useState(null),[r,n]=h.useState(!0),i=(u,v)=>t&&(t.permissions||ys[t.role]||[]).find(A=>A.module===u)?.actions.includes(v)||!1,c=()=>t?t.role==="senior_leader"||t.role==="admin"||!!t.executiveLevel:!1,o=()=>{if(!t)return"low";if(t.executiveLevel)return t.executiveLevel==="ceo"||t.executiveLevel==="cfo"?"high":"medium";switch(t.role){case"senior_leader":case"admin":return"high";case"cbg_sales":case"business_dev":return"medium";default:return"low"}},d=async(u,v)=>{try{const{apiService:j}=await Ae(async()=>{const{apiService:C}=await import("./api-Bwr-8r2E.js");return{apiService:C}},__vite__mapDeps([0,1,2,3,4])),P=u.includes("@")?u:`${u.replace("+91","")}@saubhagya.com`,A=await j.login(P,v);if(A.success&&A.data){const{user:C,token:y}=A.data,S=ol(u)||rl(C.role),T=dl(u)||ll(C.role),g={id:C.id,phone:u,email:C.email,name:ml(u)||C.name,role:S,department:il(S),permissions:nl(C.permissions||[]),lastAccess:new Date,appType:T,executiveLevel:cl(S),isActive:!0,roles:[S]};a(g),localStorage.setItem("user",JSON.stringify(g)),localStorage.setItem("saubhagya_jwt_token",y),localStorage.setItem("sessionStart",new Date().toISOString());return}else throw new Error(A.error||"Authentication failed")}catch{return p(u,v)}},p=async(u,v)=>{const P={"+919876543210":{id:"fw-001",phone:"+919876543210",email:"fieldworker@saubhagya.com",name:"Ramesh Kumar (Field Worker)",role:"field_worker",department:"Field Operations",appType:"gausakhi",permissions:ys.field_worker,lastAccess:new Date},"+918765432109":{id:"cm-001",phone:"+918765432109",email:"clustermanager@saubhagya.com",name:"Suresh Patel (Cluster Manager)",role:"cluster_manager",department:"Cluster Operations",appType:"biogassangh",permissions:ys.cluster_manager,lastAccess:new Date},"+917654321098":{id:"cs-001",phone:"+917654321098",email:"cbgsales@saubhagya.com",name:"Priya Sharma (CBG Sales Executive)",role:"cbg_sales",department:"Sales & Marketing",appType:"urjavyapar",permissions:ys.cbg_sales,lastAccess:new Date},"+916543210987":{id:"bd-001",phone:"+916543210987",email:"businessdev@saubhagya.com",name:"Amit Singh (Business Development)",role:"business_dev",department:"Business Development",appType:"urjasanyojak",permissions:ys.business_dev,lastAccess:new Date},"+915432109876":{id:"admin-001",phone:"+915432109876",email:"admin@saubhagya.com",name:"System Administrator",role:"admin",department:"IT Administration",appType:"admin",permissions:ys.admin,lastAccess:new Date},"+914321098765":{id:"sl-001",phone:"+914321098765",email:"seniorleader@saubhagya.com",name:"Dr. Rajesh Kumar (CEO)",role:"senior_leader",department:"Executive Leadership",appType:"urjaneta",executiveLevel:"ceo",permissions:ys.senior_leader,lastAccess:new Date},"+913210987654":{id:"po-001",phone:"+913210987654",email:"purificationop@saubhagya.com",name:"Vinod Yadav (Purification Operator)",role:"purification_operator",department:"Purification Operations",appType:"shuddhidoot",permissions:ys.purification_operator,lastAccess:new Date}}[u];if(!P)throw new Error("Invalid phone number or password");if(!["password123","fieldworker123","admin123"].includes(v))throw new Error("Invalid phone number or password");a(P),localStorage.setItem("user",JSON.stringify(P)),localStorage.setItem("sessionStart",new Date().toISOString())},N=async()=>{try{const{apiService:u}=await Ae(async()=>{const{apiService:v}=await import("./api-Bwr-8r2E.js");return{apiService:v}},__vite__mapDeps([0,1,2,3,4]));await u.logout()}catch{}a(null),localStorage.removeItem("user"),localStorage.removeItem("saubhagya_jwt_token"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("sessionStart"),localStorage.removeItem("voiceSessionData")};h.useEffect(()=>{const u=localStorage.getItem("user"),v=localStorage.getItem("sessionStart");if(u&&v){const j=JSON.parse(u),P=Date.now()-new Date(v).getTime(),A=j.role==="executive"?4*60*60*1e3:8*60*60*1e3;P>A?N():(j.permissions=ys[j.role]||[],a(j))}n(!1)},[]),h.useEffect(()=>{if(t&&c()){const u=setInterval(()=>{const v=localStorage.getItem("sessionStart");v&&Date.now()-new Date(v).getTime()},6e4);return()=>clearInterval(u)}},[t]);const f={user:t,loading:r,login:d,logout:N,hasPermission:i,isExecutive:c,getAccessLevel:o,accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")};return e.jsx(en.Provider,{value:f,children:s})}function rl(s){switch(s.toLowerCase()){case"admin":case"administrator":return"admin";case"field_worker":case"farmer":return"field_worker";case"cluster_manager":return"cluster_manager";case"cbg_sales":case"sales_executive":return"cbg_sales";case"business_dev":case"business_developer":return"business_dev";case"senior_leader":case"executive":case"ceo":case"cfo":return"senior_leader";case"purification_operator":case"operator":return"purification_operator";default:return"admin"}}function nl(s){const t={"cattle:read":{module:"rfid",actions:["scan","sync"]},"cattle:write":{module:"collection",actions:["log","voice"]},"transactions:read":{module:"disputes",actions:["resolve","track"]},"dashboard:read":{module:"voice_kpis",actions:["view","analyze"]},"users:manage":{module:"users",actions:["create","read","update","delete"]}},a=[];return s.forEach(r=>{t[r]&&a.push(t[r])}),a.length===0?ys.admin:a}function il(s){switch(s){case"FARMER":case"FIELD_WORKER":return"Field Operations";case"CLUSTER_MANAGER":return"Cluster Operations";case"CBG_SALES":case"SALES_EXECUTIVE":return"Sales & Marketing";case"BUSINESS_DEV":case"BUSINESS_DEVELOPER":return"Business Development";case"ADMIN":case"ADMINISTRATOR":return"IT Administration";case"SENIOR_LEADER":case"EXECUTIVE":case"CEO":case"CFO":return"Executive Leadership";case"PURIFICATION_OPERATOR":case"OPERATOR":return"Purification Operations";default:return"Field Operations"}}function ll(s){switch(s){case"FARMER":case"FIELD_WORKER":return"gausakhi";case"CLUSTER_MANAGER":return"biogassangh";case"CBG_SALES":case"SALES_EXECUTIVE":return"urjavyapar";case"BUSINESS_DEV":case"BUSINESS_DEVELOPER":return"urjasanyojak";case"ADMIN":case"ADMINISTRATOR":return"admin";case"SENIOR_LEADER":case"EXECUTIVE":case"CEO":case"CFO":return"urjaneta";case"PURIFICATION_OPERATOR":case"OPERATOR":return"shuddhidoot";default:return"gausakhi"}}function cl(s){switch(s){case"CEO":return"ceo";case"CFO":return"cfo";case"COO":return"coo";case"VP":return"vp";case"DIRECTOR":return"director";default:return}}function ol(s){return{"+919876543210":"field_worker","+918765432109":"cluster_manager","+917654321098":"cbg_sales","+916543210987":"business_dev","+915432109876":"admin","+914321098765":"senior_leader","+913210987654":"purification_operator"}[s]||null}function dl(s){return{"+919876543210":"gausakhi","+918765432109":"biogassangh","+917654321098":"urjavyapar","+916543210987":"urjasanyojak","+915432109876":"admin","+914321098765":"urjaneta","+913210987654":"shuddhidoot"}[s]||null}function ml(s){return{"+919876543210":"Ramesh Kumar (Field Worker)","+918765432109":"Suresh Patel (Cluster Manager)","+917654321098":"Priya Sharma (CBG Sales Executive)","+916543210987":"Amit Singh (Business Development)","+915432109876":"System Administrator","+914321098765":"Dr. Rajesh Kumar (CEO)","+913210987654":"Vinod Yadav (Purification Operator)"}[s]||null}const xl=[{id:"urjasanyojak",name:"UrjaSanyojak",displayName:"Biogas Cluster Management",description:"Comprehensive biogas production cluster oversight and management",url:"/",icon:"factory",category:"operational",requiredRoles:["executive","manager","operator","admin"],status:"active",lastUpdated:new Date},{id:"shuddhi-doot",name:"ShuddhiDoot",displayName:"Purification & Quality Control",description:"Advanced biogas purification monitoring and quality assurance",url:"/purification",icon:"filter",category:"operational",requiredRoles:["executive","manager","operator","analyst","admin"],status:"active",lastUpdated:new Date},{id:"urja-vyapar",name:"UrjaVyapar",displayName:"Sales & Distribution Management",description:"Comprehensive biogas sales, distribution, and customer management",url:"/sales",icon:"trending-up",category:"operational",requiredRoles:["executive","manager","admin"],status:"active",lastUpdated:new Date},{id:"urja-neta",name:"UrjaNeta",displayName:"Executive Analytics Dashboard",description:"Advanced voice-enabled business intelligence for senior leadership",url:"/urjaneta",icon:"brain",category:"executive",requiredRoles:["executive","admin"],status:"active",lastUpdated:new Date},{id:"admin-console",name:"AdminConsole",displayName:"System Administration",description:"Platform administration and system management",url:"/admin",icon:"settings",category:"analytics",requiredRoles:["admin"],status:"active",lastUpdated:new Date},{id:"gaushala",name:"GauShala",displayName:"GauShala Management",description:"Comprehensive cattle and dung collection management",url:"/gaushala",icon:"home",category:"operational",requiredRoles:["admin","field_worker","supervisor","manager"],status:"active",lastUpdated:new Date},{id:"executive-command",name:"ExecutiveCommand",displayName:"Executive Command Center",description:"Unified cross-module analytics and strategic insights",url:"/executive",icon:"crown",category:"executive",requiredRoles:["executive","admin"],status:"active",lastUpdated:new Date}],sn=h.createContext(void 0);function lt(){const s=h.useContext(sn);if(s===void 0)throw new Error("usePlatform must be used within a PlatformProvider");return s}function ul({children:s}){const{user:t,hasPermission:a,isExecutive:r}=Os(),[n,i]=h.useState({currentModule:"urjasanyojak",navigationHistory:["urjasanyojak"],breadcrumbs:[{label:"Dashboard",url:"/",module:"urjasanyojak"}]}),[c,o]=h.useState({theme:"light",language:"en",timezone:"Asia/Kolkata",autoSave:!0,sessionTimeout:r()?240:480,notifications:{enabled:!0,desktop:!0,email:r(),categories:["alerts","reports","updates"]}}),[d,p]=h.useState({totalSessions:1,activeModules:["urjasanyojak"],averageSessionDuration:0,lastActivity:new Date,moduleUsageStats:{urjasanyojak:1,"shuddhi-doot":0,"urja-vyapar":0,"urja-neta":0}}),[N]=h.useState(xl),f=(T,g=!0)=>{const l=N.find(m=>m.id===T);!l||!A(T)||(i(m=>({currentModule:T,previousModule:g?m.currentModule:void 0,navigationHistory:[...m.navigationHistory.slice(-10),T],breadcrumbs:[{label:l.displayName,url:l.url,module:T}]})),C(T),window.location.pathname!==l.url&&window.history.pushState(null,"",l.url))},u=T=>{i(g=>({...g,breadcrumbs:T}))},v=()=>{n.previousModule&&f(n.previousModule,!1)},j=T=>{o(g=>{const l={...g,...T};return localStorage.setItem("platformSettings",JSON.stringify(l)),l})},P=()=>t?N.filter(T=>T.status==="active"&&T.requiredRoles.includes(t.role)&&a(T.id,"view")):[],A=T=>{if(!t)return!1;const g=N.find(l=>l.id===T);return!g||g.status!=="active"?!1:g.requiredRoles.includes(t.role)&&a(g.id,"view")},C=T=>{p(g=>({...g,lastActivity:new Date,activeModules:Array.from(new Set([...g.activeModules,T])),moduleUsageStats:{...g.moduleUsageStats,[T]:(g.moduleUsageStats[T]||0)+1}}))},y=()=>({...d,averageSessionDuration:Date.now()-d.lastActivity.getTime()});h.useEffect(()=>{const T=localStorage.getItem("platformSettings");if(T)try{const g=JSON.parse(T);o(l=>({...l,...g}))}catch{}},[]),h.useEffect(()=>{const T=window.location.pathname,g=N.find(l=>l.url===T);g&&A(g.id)&&i(l=>({...l,currentModule:g.id}))},[N,t]),h.useEffect(()=>{t&&r()&&j({sessionTimeout:240,notifications:{...c.notifications,email:!0,categories:["alerts","reports","updates","urgent"]}})},[t,r]);const S={modules:N,navigationState:n,platformSettings:c,sessionMetrics:d,navigateToModule:f,updateBreadcrumbs:u,goBack:v,updatePlatformSettings:j,getAccessibleModules:P,isModuleAccessible:A,trackModuleUsage:C,getSessionSummary:y};return e.jsx(sn.Provider,{value:S,children:s})}function hl(){const[s,t]=h.useState(""),[a,r]=h.useState(""),[n,i]=h.useState(!1),[c,o]=h.useState(!1),[d,p]=h.useState("en"),{login:N}=Os(),f=xs(),u=async P=>{P.preventDefault(),o(!0);try{await N(s,a),f("/")}catch{}finally{o(!1)}},j={en:{title:"SAUBHAGYA Admin Dashboard",subtitle:"Biogas Management & Rural Energy Distribution",phone:"Phone Number",password:"Password",login:"Login",loading:"Logging in...",phonePlaceholder:"Enter your phone number",passwordPlaceholder:"Enter your password"},hi:{title:"सौभाग्य एडमिन डैशबोर्ड",subtitle:"बायोगैस प्रबंधन और ग्रामीण ऊर्जा वितरण",phone:"फ़ोन नंबर",password:"पासवर्ड",login:"लॉगिन",loading:"लॉगिन हो रहा है...",phonePlaceholder:"अपना फ़ोन नंबर दर्ज करें",passwordPlaceholder:"अपना पासवर्ड दर्ज करें"}}[d];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>p(d==="en"?"hi":"en"),className:"px-3 py-1 text-sm bg-white rounded-md shadow-sm border border-gray-200 hover:bg-gray-50",children:d==="en"?"हिंदी":"English"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:j.title}),e.jsx("p",{className:"text-gray-600",children:j.subtitle})]}),e.jsxs("form",{onSubmit:u,className:"bg-white p-8 rounded-lg shadow-lg space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:j.phone}),e.jsxs("div",{className:"relative",children:[e.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{id:"phone",type:"tel",value:s,onChange:P=>t(P.target.value),placeholder:j.phonePlaceholder,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:j.password}),e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{id:"password",type:n?"text":"password",value:a,onChange:P=>r(P.target.value),placeholder:j.passwordPlaceholder,className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx(kr,{className:"h-5 w-5"}):e.jsx(ds,{className:"h-5 w-5"})})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?j.loading:j.login})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500 space-y-1",children:[e.jsx("p",{children:e.jsx("strong",{children:"Demo Credentials:"})}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Field Worker:"})," +919876543210"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cluster Mgr:"})," +918765432109"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"CBG Sales:"})," +917654321098"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Business Dev:"})," +916543210987"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Admin:"})," +915432109876"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"CEO:"})," +914321098765"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purification:"})," +913210987654"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Transport:"})," +912109876543"]}),e.jsx("p",{children:e.jsx("em",{children:"Password for all: password123"})})]})]})]})})}function q(...s){return zi(Yi(s))}const Ta=Qi("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),O=h.forwardRef(({className:s,variant:t,size:a,...r},n)=>e.jsx("button",{className:q(Ta({variant:t,size:a,className:s})),ref:n,...r}));O.displayName="Button";function L({className:s,variant:t="default",...a}){return e.jsx("div",{className:q("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{"border-transparent bg-primary text-primary-foreground hover:bg-primary/80":t==="default","border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80":t==="secondary","border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80":t==="destructive","text-foreground":t==="outline"},s),...a})}const Js=h.forwardRef(({className:s,orientation:t="horizontal",decorative:a=!0,...r},n)=>e.jsx("div",{ref:n,role:a?"none":"separator","aria-orientation":t,className:q("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...r}));Js.displayName="Separator";function ct({moduleName:s,navigationItems:t,children:a,moduleSubtitle:r,userInfo:n,breadcrumbs:i,contentClassName:c}){const[o,d]=h.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>d(!1)}),e.jsx("aside",{className:`fixed left-0 top-0 w-56 h-screen bg-white border-r border-gray-200 z-50 transform transition-transform duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"} xl:translate-x-0`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"h-16 bg-white border-b border-gray-200 flex items-center px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(O,{variant:"ghost",size:"sm",className:"lg:hidden mr-2 p-1",onClick:()=>d(!o),children:e.jsx(Ya,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:s})]})}),e.jsxs("div",{className:"lg:hidden flex justify-between items-center p-4 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Menu"}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>d(!1),className:"p-1",children:e.jsx(ws,{className:"h-5 w-5"})})]}),r&&e.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:e.jsx("p",{className:"text-xs text-gray-600",children:r})}),e.jsx("nav",{className:"flex-1 p-3",children:e.jsx("div",{className:"space-y-2",children:t.map(p=>e.jsxs(O,{onClick:()=>{p.onClick(),d(!1)},variant:p.isActive?"default":"ghost",className:`w-full justify-start h-10 font-medium text-sm transition-all duration-200 ${p.isActive?"bg-blue-600 text-white hover:bg-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx("span",{className:`mr-3 flex-shrink-0 ${p.isActive?"text-white":"text-gray-500"}`,children:p.icon}),e.jsx("span",{className:"flex-1 text-left",children:p.label}),p.badge&&e.jsx(L,{variant:p.isActive?"outline":"secondary",className:`ml-auto text-xs ${p.isActive?"border-white/30 text-white bg-white/10":"bg-gray-200 text-gray-600"}`,children:p.badge})]},p.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"System Online"]})})]})}),e.jsxs("div",{className:"xl:ml-56 min-h-screen",children:[e.jsxs("header",{className:"fixed top-0 left-0 right-0 xl:left-56 h-16 bg-white border-b border-gray-200 z-40 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{variant:"ghost",size:"sm",className:"lg:hidden mr-2 p-1",onClick:()=>d(!o),children:e.jsx(Ya,{className:"h-5 w-5"})}),e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"S"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SAUBHAGYA"}),e.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Unified Platform"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(O,{variant:"ghost",size:"sm",children:[e.jsx(ms,{className:"w-4 h-4"}),e.jsx("span",{className:"sr-only",children:"Search"})]}),e.jsxs(O,{variant:"ghost",size:"sm",className:"relative",children:[e.jsx(st,{className:"w-4 h-4"}),e.jsx(L,{variant:"destructive",className:"absolute -top-1 -right-1 h-2 w-2 p-0 text-[10px] flex items-center justify-center",children:"2"}),e.jsx("span",{className:"sr-only",children:"Notifications"})]}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx("span",{className:"text-sm font-medium",children:"हिं"})}),e.jsx(Js,{orientation:"vertical",className:"h-6"}),n&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right text-sm hidden md:block",children:[e.jsx("div",{className:"font-medium text-gray-900",children:n.name}),e.jsx("div",{className:"text-xs text-gray-500",children:n.role})]}),e.jsx("div",{className:"h-8 w-8 bg-blue-600 rounded-full flex items-center justify-center",children:n.avatar?e.jsx("img",{src:n.avatar,alt:n.name,className:"h-8 w-8 rounded-full object-cover"}):e.jsx("span",{className:"text-white text-xs font-medium",children:n.name.charAt(0).toUpperCase()})})]})]})]}),i&&i.length>0&&e.jsx("div",{className:"fixed top-16 left-0 right-0 xl:left-56 h-12 bg-gray-50 border-b border-gray-200 z-30 flex items-center",children:e.jsx("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",children:i.map((p,N)=>e.jsxs("div",{className:"flex items-center",children:[N>0&&e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),p.onClick||p.url?e.jsx("button",{onClick:p.onClick,className:"hover:text-blue-600 transition-colors font-medium hover:underline",children:p.label}):e.jsx("span",{className:N===i.length-1?"text-gray-900 font-medium":"",children:p.label})]},N))})}),e.jsx("main",{className:q("pt-16 min-h-screen w-full p-6",i&&i.length>0?"pt-16 mt-12":"pt-16",c),children:a})]})]})}const b=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:q("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));b.displayName="Card";const D=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:q("flex flex-col space-y-1.5 p-6",s),...t}));D.displayName="CardHeader";const k=h.forwardRef(({className:s,...t},a)=>e.jsx("h3",{ref:a,className:q("text-2xl font-semibold leading-none tracking-tight",s),...t}));k.displayName="CardTitle";const se=h.forwardRef(({className:s,...t},a)=>e.jsx("p",{ref:a,className:q("text-sm text-muted-foreground",s),...t}));se.displayName="CardDescription";const w=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:q("p-6 pt-0",s),...t}));w.displayName="CardContent";const gl=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:q("flex items-center p-6 pt-0",s),...t}));gl.displayName="CardFooter";const pl=()=>{const[s,t]=h.useState(new Date),[a,r]=h.useState(!1),[n,i]=h.useState({cpuUsage:68,memoryUsage:84,diskUsage:45,networkLatency:12,uptime:99.7,throughput:1247});h.useEffect(()=>{const p=setInterval(()=>{i(N=>({cpuUsage:Math.max(50,Math.min(90,N.cpuUsage+(Math.random()-.5)*10)),memoryUsage:Math.max(70,Math.min(95,N.memoryUsage+(Math.random()-.5)*8)),diskUsage:Math.max(35,Math.min(60,N.diskUsage+(Math.random()-.5)*5)),networkLatency:Math.max(8,Math.min(25,N.networkLatency+(Math.random()-.5)*3)),uptime:Math.max(99,Math.min(99.9,N.uptime+(Math.random()-.5)*.2)),throughput:Math.max(1e3,Math.min(1500,N.throughput+(Math.random()-.5)*100))})),t(new Date)},3e4);return()=>clearInterval(p)},[]);const c=[{label:"Active Users",value:"247",status:"healthy",icon:e.jsx(Ie,{className:"h-6 w-6"})},{label:"Auth Service",value:"Online",status:"healthy",icon:e.jsx(ti,{className:"h-6 w-6"})},{label:"IoT Service",value:"Online",status:"healthy",icon:e.jsx(ke,{className:"h-6 w-6"})},{label:"System Alerts",value:"3",status:"warning",icon:e.jsx(le,{className:"h-6 w-6"})},{label:"Database",value:"98.5%",status:"healthy",icon:e.jsx(Qe,{className:"h-6 w-6"})},{label:"Last Backup",value:"2h ago",status:"healthy",icon:e.jsx(Se,{className:"h-6 w-6"})}],o=async()=>{r(!0),setTimeout(()=>{r(!1),t(new Date)},2e3)},d=p=>{switch(p){case"healthy":return e.jsx(L,{className:"bg-green-500",children:"Healthy"});case"warning":return e.jsx(L,{className:"bg-yellow-500",children:"Warning"});case"critical":return e.jsx(L,{className:"bg-red-500",children:"Critical"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Platform overview and system health monitoring"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right text-sm",children:[e.jsx("div",{className:"text-gray-500",children:"Last updated"}),e.jsx("div",{className:"font-medium",children:s.toLocaleTimeString()})]}),e.jsxs("button",{onClick:o,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(os,{className:`w-4 h-4 ${a?"animate-spin":""}`}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((p,N)=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:p.label}),p.icon]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.value}),e.jsx("div",{className:"mt-2",children:d(p.status)})]})]},N))}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-5 h-5"}),e.jsx("span",{children:"Real-time Performance Metrics"})]}),e.jsx(se,{children:"Live system resource utilization and performance indicators"})]}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tr,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:"CPU Usage"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.cpuUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.cpuUsage>80?"bg-red-500":n.cpuUsage>60?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${n.cpuUsage}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.cpuUsage>80?"High usage detected":"Normal operation"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ir,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Memory Usage"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.memoryUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.memoryUsage>90?"bg-red-500":n.memoryUsage>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${n.memoryUsage}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.memoryUsage>90?"Critical memory usage":"Acceptable usage"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Disk Usage"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.diskUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.diskUsage>80?"bg-red-500":n.diskUsage>60?"bg-yellow-500":"bg-purple-500"}`,style:{width:`${n.diskUsage}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.diskUsage>80?"Monitor disk space":"Plenty of space available"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zs,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Network Latency"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.networkLatency.toFixed(0),"ms"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.networkLatency>30?"bg-red-500":n.networkLatency>15?"bg-yellow-500":"bg-orange-500"}`,style:{width:`${n.networkLatency/50*100}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.networkLatency>20?"High latency detected":"Low latency - optimal"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rs,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm font-medium",children:"System Uptime"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.uptime.toFixed(2),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.uptime>99.5?"bg-green-500":n.uptime>99?"bg-yellow-500":"bg-red-500"}`,style:{width:`${n.uptime}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Excellent availability rating"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Throughput"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.throughput.toFixed(0)," req/min"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.throughput>1400?"bg-green-500":n.throughput>1e3?"bg-blue-500":"bg-red-500"}`,style:{width:`${n.throughput/2e3*100}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.throughput>1400?"High traffic volume":"Normal traffic levels"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-5 h-5"}),e.jsx("span",{children:"Recent Activity"})]}),e.jsx(se,{children:"Latest system events and user actions"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"New user registration"}),e.jsx("p",{className:"text-xs text-green-700",children:"Ram Kumar - Field Worker • 2 minutes ago"})]}),e.jsx(he,{className:"w-4 h-4 text-green-600"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"System backup completed"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Database backup successful • 15 minutes ago"})]}),e.jsx(Qe,{className:"w-4 h-4 text-blue-600"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Device calibration due"}),e.jsx("p",{className:"text-xs text-yellow-700",children:"IoT Sensor #247 requires attention • 1 hour ago"})]}),e.jsx(le,{className:"w-4 h-4 text-yellow-600"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Data sync completed"}),e.jsx("p",{className:"text-xs text-purple-700",children:"Gaushala cluster data synchronized • 2 hours ago"})]}),e.jsx(os,{className:"w-4 h-4 text-purple-600"})]})]})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"w-5 h-5"}),e.jsx("span",{children:"System Alerts"}),e.jsx(L,{className:"bg-yellow-500",children:"3 Active"})]}),e.jsx(se,{children:"Issues requiring immediate attention"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"High memory usage on IoT Service"}),e.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Memory usage: ",n.memoryUsage.toFixed(1),"% • Action required"]})]}),e.jsx(L,{className:"bg-yellow-600",children:"High"})]}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-600 rounded-full transition-all duration-500",style:{width:`${n.memoryUsage}%`}})})})]}),e.jsx("div",{className:"p-4 border border-blue-200 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Scheduled maintenance reminder"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Database maintenance window in 2 days • Plan accordingly"})]}),e.jsx(L,{className:"bg-blue-600",children:"Medium"})]})}),e.jsx("div",{className:"p-4 border border-orange-200 bg-orange-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-orange-800",children:"SSL certificate expiring soon"}),e.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"Certificate expires in 30 days • Renewal needed"})]}),e.jsx(L,{className:"bg-orange-600",children:"Low"})]})})]})})]})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"w-5 h-5"}),e.jsx("span",{children:"Platform Statistics"})]}),e.jsx(se,{children:"Comprehensive SAUBHAGYA platform metrics and KPIs"})]}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"2,450"}),e.jsx("div",{className:"text-sm text-blue-700",children:"CBG Production (m³)"}),e.jsxs("div",{className:"flex items-center justify-center mt-2",children:[e.jsx(he,{className:"w-4 h-4 text-green-600 mr-1"}),e.jsx("span",{className:"text-xs text-green-600",children:"+12.5%"})]})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"89.2%"}),e.jsx("div",{className:"text-sm text-green-700",children:"Operational Efficiency"}),e.jsxs("div",{className:"flex items-center justify-center mt-2",children:[e.jsx(he,{className:"w-4 h-4 text-green-600 mr-1"}),e.jsx("span",{className:"text-xs text-green-600",children:"+2.1%"})]})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"12"}),e.jsx("div",{className:"text-sm text-purple-700",children:"Active Clusters"}),e.jsxs("div",{className:"flex items-center justify-center mt-2",children:[e.jsx("div",{className:"w-4 h-4 bg-purple-600 rounded-full mr-1"}),e.jsx("span",{className:"text-xs text-purple-600",children:"Stable"})]})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:"145.5"}),e.jsx("div",{className:"text-sm text-orange-700",children:"Carbon Credits (tCO2e)"}),e.jsxs("div",{className:"flex items-center justify-center mt-2",children:[e.jsx(he,{className:"w-4 h-4 text-green-600 mr-1"}),e.jsx("span",{className:"text-xs text-green-600",children:"+8.3%"})]})]})]})})]})]})},ee=h.forwardRef(({className:s,type:t,...a},r)=>e.jsx("input",{type:t,className:q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...a}));ee.displayName="Input";const jl=()=>{const[s,t]=h.useState(""),[a,r]=h.useState("all"),n=[{id:"1",name:"Rajesh Kumar",email:"rajesh@gaushala.com",role:"Gaushala Admin",status:"active",lastLogin:"2 hours ago",createdDate:"2024-01-15"},{id:"2",name:"Priya Sharma",email:"priya@biogas.com",role:"Biogas Sangh",status:"active",lastLogin:"1 day ago",createdDate:"2024-02-10"},{id:"3",name:"Amit Patel",email:"amit@sales.com",role:"Sales Representative",status:"inactive",lastLogin:"1 week ago",createdDate:"2024-01-20"},{id:"4",name:"Sunita Devi",email:"sunita@purification.com",role:"Purification Operator",status:"active",lastLogin:"3 hours ago",createdDate:"2024-03-05"},{id:"5",name:"Dr. Suresh Verma",email:"suresh@admin.com",role:"Super Admin",status:"active",lastLogin:"30 minutes ago",createdDate:"2023-12-01"}],i=d=>{switch(d){case"active":return e.jsx(L,{className:"bg-green-500",children:"Active"});case"inactive":return e.jsx(L,{className:"bg-gray-500",children:"Inactive"});case"suspended":return e.jsx(L,{className:"bg-red-500",children:"Suspended"})}},c=d=>{const p={"Super Admin":"bg-purple-500","Gaushala Admin":"bg-blue-500","Biogas Sangh":"bg-green-500","Sales Representative":"bg-orange-500","Purification Operator":"bg-cyan-500",Viewer:"bg-gray-500"};return e.jsx(L,{className:p[d]||"bg-gray-500",children:d})},o=n.filter(d=>{const p=d.name.toLowerCase().includes(s.toLowerCase())||d.email.toLowerCase().includes(s.toLowerCase()),N=a==="all"||d.role===a;return p&&N});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage users, roles, and permissions across the platform"})]}),e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(ai,{className:"h-4 w-4"}),"Add User"]})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5"}),"User Directory"]}),e.jsxs(se,{children:["Total ",n.length," users across all roles"]})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ee,{placeholder:"Search users by name or email...",value:s,onChange:d=>t(d.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"w-48",children:e.jsxs("select",{value:a,onChange:d=>r(d.target.value),className:"w-full px-3 py-2 border border-input bg-background rounded-md",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"Super Admin",children:"Super Admin"}),e.jsx("option",{value:"Gaushala Admin",children:"Gaushala Admin"}),e.jsx("option",{value:"Biogas Sangh",children:"Biogas Sangh"}),e.jsx("option",{value:"Sales Representative",children:"Sales Representative"}),e.jsx("option",{value:"Purification Operator",children:"Purification Operator"}),e.jsx("option",{value:"Viewer",children:"Viewer"})]})})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4 font-medium",children:"User"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Role"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Last Login"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:o.map(d=>e.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:d.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d.email})]})}),e.jsx("td",{className:"p-4",children:c(d.role)}),e.jsx("td",{className:"p-4",children:i(d.status)}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:d.lastLogin}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(d.createdDate).toLocaleDateString()]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(ps,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:e.jsx(at,{className:"h-4 w-4"})})]})})]},d.id))})]})}),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ie,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No users found matching your criteria"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Role Distribution"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Gaushala Admin"}),e.jsx(L,{variant:"secondary",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Biogas Sangh"}),e.jsx(L,{variant:"secondary",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Sales Rep"}),e.jsx(L,{variant:"secondary",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Purification Op"}),e.jsx(L,{variant:"secondary",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Super Admin"}),e.jsx(L,{variant:"secondary",children:"1"})]})]})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"User Activity"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Active Users"}),e.jsx(L,{className:"bg-green-500",children:"4"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Inactive Users"}),e.jsx(L,{className:"bg-gray-500",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Recent Logins"}),e.jsx(L,{variant:"secondary",children:"3"})]})]})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Quick Actions"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{variant:"outline",className:"w-full justify-start",children:"Export User List"}),e.jsx(O,{variant:"outline",className:"w-full justify-start",children:"Bulk Import Users"}),e.jsx(O,{variant:"outline",className:"w-full justify-start",children:"Role Permissions"})]})})]})]})]})},fl=()=>{const[s,t]=h.useState(""),a=[{id:"RFID-001",name:"Cattle Tag Reader 1",type:"RFID",status:"online",location:"Mathura Gaushala - Gate 1",lastSeen:"2 minutes ago",batteryLevel:85},{id:"SCALE-001",name:"Biogas Scale Unit 1",type:"IoT Scale",status:"online",location:"Mathura Cluster - Digester 1",lastSeen:"1 minute ago",batteryLevel:92},{id:"CH4-001",name:"Methane Sensor 1",type:"CH4 Sensor",status:"maintenance",location:"Vrindavan Cluster - Production Unit",lastSeen:"2 hours ago",batteryLevel:45},{id:"GPS-001",name:"Vehicle Tracker 1",type:"GPS Unit",status:"online",location:"Transport Vehicle TV-001",lastSeen:"30 seconds ago",batteryLevel:78},{id:"RFID-002",name:"Cattle Tag Reader 2",type:"RFID",status:"offline",location:"Goverdhan Gaushala - Feeding Area",lastSeen:"6 hours ago",batteryLevel:12}],r=o=>{switch(o){case"online":return e.jsxs(L,{className:"bg-green-500 flex items-center gap-1",children:[e.jsx(Zs,{className:"h-3 w-3"}),"Online"]});case"offline":return e.jsxs(L,{className:"bg-red-500 flex items-center gap-1",children:[e.jsx(Sa,{className:"h-3 w-3"}),"Offline"]});case"maintenance":return e.jsxs(L,{className:"bg-yellow-500 flex items-center gap-1",children:[e.jsx(ts,{className:"h-3 w-3"}),"Maintenance"]})}},n=o=>{switch(o){case"RFID":return e.jsx(Ca,{className:"h-5 w-5"});case"IoT Scale":return e.jsx(wa,{className:"h-5 w-5"});case"CH4 Sensor":return e.jsx(ri,{className:"h-5 w-5"});case"GPS Unit":return e.jsx(Ca,{className:"h-5 w-5"})}},i=o=>o?o>50?"text-green-600":o>20?"text-yellow-600":"text-red-600":"text-gray-500",c=a.filter(o=>o.name.toLowerCase().includes(s.toLowerCase())||o.type.toLowerCase().includes(s.toLowerCase())||o.location.toLowerCase().includes(s.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Device Registry"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage IoT devices, RFID readers, sensors, and tracking units"})]}),e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"h-4 w-4"}),"Add Device"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Devices"}),e.jsx("p",{className:"text-2xl font-bold",children:a.length})]}),e.jsx(wa,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Online"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.filter(o=>o.status==="online").length})]}),e.jsx(Zs,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Offline"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.filter(o=>o.status==="offline").length})]}),e.jsx(Sa,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Maintenance"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:a.filter(o=>o.status==="maintenance").length})]}),e.jsx(ts,{className:"h-8 w-8 text-yellow-500"})]})})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:"Device Inventory"}),e.jsx(se,{children:"All registered IoT devices and sensors"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ee,{placeholder:"Search devices by name, type, or location...",value:s,onChange:o=>t(o.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4 font-medium",children:"Device"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Type"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Location"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Battery"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Last Seen"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:c.map(o=>e.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[n(o.type),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o.id})]})]})}),e.jsx("td",{className:"p-4",children:e.jsx(L,{variant:"secondary",children:o.type})}),e.jsx("td",{className:"p-4",children:r(o.status)}),e.jsx("td",{className:"p-4",children:e.jsx("p",{className:"text-sm",children:o.location})}),e.jsx("td",{className:"p-4",children:o.batteryLevel&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:`h-2 rounded-full ${i(o.batteryLevel).includes("green")?"bg-green-500":i(o.batteryLevel).includes("yellow")?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o.batteryLevel}%`}})}),e.jsxs("span",{className:`text-sm ${i(o.batteryLevel)}`,children:[o.batteryLevel,"%"]})]})}),e.jsx("td",{className:"p-4",children:e.jsx("p",{className:"text-sm",children:o.lastSeen})}),e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"flex gap-2",children:e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(ts,{className:"h-4 w-4"})})})})]},o.id))})]})})]})]})]})},vl=()=>{const[s,t]=h.useState(""),[a,r]=h.useState("all"),n=[{id:"AL-001",timestamp:"2024-01-15 14:30:25",user:"admin@saubhagya.com",action:"User Login",module:"Authentication",status:"success",ipAddress:"192.168.1.100",details:"Successful admin login from dashboard"},{id:"AL-002",timestamp:"2024-01-15 14:28:15",user:"rajesh@gaushala.com",action:"Update Device Configuration",module:"Device Management",status:"success",ipAddress:"192.168.1.105",details:"Modified RFID reader settings for Cattle Tag Reader 1"},{id:"AL-003",timestamp:"2024-01-15 14:25:10",user:"priya@biogas.com",action:"Failed Login Attempt",module:"Authentication",status:"failed",ipAddress:"192.168.1.110",details:"Invalid password provided - 3rd attempt"},{id:"AL-004",timestamp:"2024-01-15 14:20:05",user:"system",action:"Database Backup",module:"System",status:"success",ipAddress:"localhost",details:"Automated daily backup completed successfully"},{id:"AL-005",timestamp:"2024-01-15 14:15:30",user:"amit@sales.com",action:"Export Customer Data",module:"Sales",status:"warning",ipAddress:"192.168.1.112",details:"Large dataset export - monitoring for performance impact"},{id:"AL-006",timestamp:"2024-01-15 14:10:20",user:"admin@saubhagya.com",action:"Create User Account",module:"User Management",status:"success",ipAddress:"192.168.1.100",details:"New user account created for transport team member"}],i=p=>{switch(p){case"success":return e.jsx(de,{className:"h-4 w-4 text-green-500"});case"failed":return e.jsx(qt,{className:"h-4 w-4 text-red-500"});case"warning":return e.jsx(le,{className:"h-4 w-4 text-yellow-500"})}},c=p=>{switch(p){case"success":return e.jsx(L,{className:"bg-green-500",children:"Success"});case"failed":return e.jsx(L,{className:"bg-red-500",children:"Failed"});case"warning":return e.jsx(L,{className:"bg-yellow-500",children:"Warning"})}},o=p=>{switch(p){case"Authentication":return e.jsx(we,{className:"h-4 w-4"});case"User Management":return e.jsx($s,{className:"h-4 w-4"});case"System":return e.jsx(Qe,{className:"h-4 w-4"});default:return e.jsx(Qe,{className:"h-4 w-4"})}},d=n.filter(p=>{const N=p.action.toLowerCase().includes(s.toLowerCase())||p.user.toLowerCase().includes(s.toLowerCase())||p.details.toLowerCase().includes(s.toLowerCase()),f=a==="all"||p.module===a;return N&&f});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Audit Logs"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive audit trail of all system activities and user actions"})]}),e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-4 w-4"}),"Export Logs"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Events"}),e.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),e.jsx(Qe,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Success"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(p=>p.status==="success").length})]}),e.jsx(de,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Failed"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.filter(p=>p.status==="failed").length})]}),e.jsx(qt,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Warnings"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.filter(p=>p.status==="warning").length})]}),e.jsx(le,{className:"h-8 w-8 text-yellow-500"})]})})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"System Audit Trail"]}),e.jsx(se,{children:"Real-time monitoring of all user actions and system events"})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ee,{placeholder:"Search audit logs by action, user, or details...",value:s,onChange:p=>t(p.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"w-48",children:e.jsxs("select",{value:a,onChange:p=>r(p.target.value),className:"w-full px-3 py-2 border border-input bg-background rounded-md",children:[e.jsx("option",{value:"all",children:"All Modules"}),e.jsx("option",{value:"Authentication",children:"Authentication"}),e.jsx("option",{value:"User Management",children:"User Management"}),e.jsx("option",{value:"Device Management",children:"Device Management"}),e.jsx("option",{value:"Sales",children:"Sales"}),e.jsx("option",{value:"System",children:"System"})]})})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4 font-medium",children:"Timestamp"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"User"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Action"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Module"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"IP Address"})]})}),e.jsx("tbody",{children:d.map(p=>e.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[e.jsx("td",{className:"p-4",children:e.jsx("p",{className:"text-sm font-mono",children:p.timestamp})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($s,{className:"h-4 w-4"}),e.jsx("p",{className:"text-sm",children:p.user})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:p.action}),e.jsx("p",{className:"text-xs text-muted-foreground",children:p.details})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[o(p.module),e.jsx(L,{variant:"secondary",children:p.module})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[i(p.status),c(p.status)]})}),e.jsx("td",{className:"p-4",children:e.jsx("p",{className:"text-sm font-mono",children:p.ipAddress})})]},p.id))})]})}),d.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(we,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No audit logs found matching your criteria"})]})]})]})]})},yl=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Revenue & Carbon Reports"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive financial and environmental impact reporting"})]}),e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"h-4 w-4"}),"Create Custom Report"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Monthly Revenue"}),e.jsx(We,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"₹8.2L"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(L,{className:"bg-green-500",children:"+15.3%"}),e.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"vs last month"})]})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Carbon Credits"}),e.jsx(Is,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"145.5 tCO2e"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(L,{className:"bg-green-500",children:"+12.8%"}),e.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"this month"})]})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"CBG Production"}),e.jsx(Te,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"2,450 m³"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(L,{className:"bg-blue-500",children:"+8.4%"}),e.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"monthly avg"})]})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Cluster Efficiency"}),e.jsx(he,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"89.2%"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(L,{className:"bg-purple-500",children:"+2.1%"}),e.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"improvement"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5"}),"Revenue Breakdown"]}),e.jsx(se,{children:"Monthly revenue by source and performance"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"CBG Sales"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct biogas sales to customers"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-lg",children:"₹6.8L"}),e.jsx(L,{className:"bg-green-500",children:"83% of total"})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Carbon Credits"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"CO2 offset certificates sold"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-lg",children:"₹1.2L"}),e.jsx(L,{className:"bg-blue-500",children:"15% of total"})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Organic Fertilizer"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Slurry and compost sales"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-lg",children:"₹0.2L"}),e.jsx(L,{className:"bg-purple-500",children:"2% of total"})]})]})]})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-5 w-5"}),"Carbon Impact Summary"]}),e.jsx(se,{children:"Environmental impact and carbon credit calculations"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"CO2 Offset"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:"145.5 tCO2e"}),e.jsx("p",{className:"text-xs text-green-600",children:"This month"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Credits Generated"}),e.jsx("p",{className:"text-xl font-bold text-blue-900",children:"145"}),e.jsx("p",{className:"text-xs text-blue-600",children:"Verified credits"})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("p",{className:"font-medium mb-2",children:"Carbon Credit Pricing"}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Current Market Rate:"}),e.jsx("span",{className:"font-bold",children:"₹850/tCO2e"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Our Rate:"}),e.jsx("span",{className:"font-bold text-green-600",children:"₹825/tCO2e"})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-2 pt-2 border-t",children:[e.jsx("span",{children:"Total Value:"}),e.jsx("span",{className:"font-bold text-lg",children:"₹1,19,888"})]})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Cluster Performance"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Mathura Cluster"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-green-500 rounded-full",style:{width:"95%"}})}),e.jsx("span",{className:"text-sm font-medium",children:"95%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Vrindavan Cluster"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-green-500 rounded-full",style:{width:"92%"}})}),e.jsx("span",{className:"text-sm font-medium",children:"92%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Goverdhan Cluster"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-yellow-500 rounded-full",style:{width:"87%"}})}),e.jsx("span",{className:"text-sm font-medium",children:"87%"})]})]})]})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Quick Reports"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(O,{variant:"outline",className:"w-full justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-4 w-4"}),"Monthly Financial"]}),e.jsx(Re,{className:"h-4 w-4"})]}),e.jsxs(O,{variant:"outline",className:"w-full justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-4 w-4"}),"Carbon Credits"]}),e.jsx(Re,{className:"h-4 w-4"})]}),e.jsxs(O,{variant:"outline",className:"w-full justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Production Summary"]}),e.jsx(Re,{className:"h-4 w-4"})]}),e.jsxs(O,{variant:"outline",className:"w-full justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(tt,{className:"h-4 w-4"}),"Efficiency Analysis"]}),e.jsx(Re,{className:"h-4 w-4"})]})]})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Compliance Reports"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:"Government Quarterly"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Due: 31st Jan 2024"}),e.jsx(L,{className:"bg-green-500 mt-2",children:"Ready"})]}),e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:"Environmental Impact"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Due: 15th Feb 2024"}),e.jsx(L,{className:"bg-yellow-500 mt-2",children:"In Progress"})]}),e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:"Carbon Verification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Due: 28th Feb 2024"}),e.jsx(L,{className:"bg-blue-500 mt-2",children:"Scheduled"})]})]})})]})]})]}),Nl=()=>{const[s,t]=h.useState({biogasModule:!0,salesModule:!0,transportModule:!0,purificationModule:!0,analyticsModule:!0,apiBaseUrl:"https://api.saubhagya.com",webhookUrl:"https://webhook.saubhagya.com/events",apiKey:"••••••••••••••••",emailNotifications:!0,smsNotifications:!1,alertThreshold:"85",maintenanceReminders:!0,autoBackup:!0,backupFrequency:"daily",retentionDays:"30",twoFactorAuth:!0,sessionTimeout:"60",passwordExpiry:"90",defaultLanguage:"en",timezone:"Asia/Kolkata",currency:"INR"}),a=[{title:"Module Settings",description:"Enable or disable platform modules",icon:e.jsx(ts,{className:"h-5 w-5"}),settings:[{key:"biogasModule",label:"Biogas Production Module",type:"toggle",value:s.biogasModule},{key:"salesModule",label:"Sales & Distribution Module",type:"toggle",value:s.salesModule},{key:"transportModule",label:"Transport Management Module",type:"toggle",value:s.transportModule},{key:"purificationModule",label:"Purification Operations Module",type:"toggle",value:s.purificationModule},{key:"analyticsModule",label:"Analytics & Reporting Module",type:"toggle",value:s.analyticsModule}]},{title:"Integration Configuration",description:"API keys and webhook settings",icon:e.jsx(ni,{className:"h-5 w-5"}),settings:[{key:"apiBaseUrl",label:"API Base URL",type:"text",value:s.apiBaseUrl},{key:"webhookUrl",label:"Webhook URL",type:"text",value:s.webhookUrl},{key:"apiKey",label:"API Key",type:"password",value:s.apiKey}]},{title:"Notification Rules",description:"Alert thresholds and notification preferences",icon:e.jsx(st,{className:"h-5 w-5"}),settings:[{key:"emailNotifications",label:"Email Notifications",type:"toggle",value:s.emailNotifications},{key:"smsNotifications",label:"SMS Notifications",type:"toggle",value:s.smsNotifications},{key:"alertThreshold",label:"System Alert Threshold (%)",type:"text",value:s.alertThreshold},{key:"maintenanceReminders",label:"Maintenance Reminders",type:"toggle",value:s.maintenanceReminders}]},{title:"Backup Settings",description:"Data backup schedule and retention",icon:e.jsx(Qe,{className:"h-5 w-5"}),settings:[{key:"autoBackup",label:"Automatic Backups",type:"toggle",value:s.autoBackup},{key:"backupFrequency",label:"Backup Frequency",type:"select",value:s.backupFrequency,options:["hourly","daily","weekly"]},{key:"retentionDays",label:"Retention Period (days)",type:"text",value:s.retentionDays}]},{title:"Security Settings",description:"Authentication and security policies",icon:e.jsx(we,{className:"h-5 w-5"}),settings:[{key:"twoFactorAuth",label:"Two-Factor Authentication",type:"toggle",value:s.twoFactorAuth},{key:"sessionTimeout",label:"Session Timeout (minutes)",type:"text",value:s.sessionTimeout},{key:"passwordExpiry",label:"Password Expiry (days)",type:"text",value:s.passwordExpiry}]},{title:"Localization",description:"Language and regional settings",icon:e.jsx(Ht,{className:"h-5 w-5"}),settings:[{key:"defaultLanguage",label:"Default Language",type:"select",value:s.defaultLanguage,options:["en","hi"]},{key:"timezone",label:"Timezone",type:"select",value:s.timezone,options:["Asia/Kolkata","UTC"]},{key:"currency",label:"Currency",type:"select",value:s.currency,options:["INR","USD"]}]}],r=(i,c)=>{t(o=>({...o,[i]:c}))},n=i=>{switch(i.type){case"toggle":return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:i.label}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.value,onChange:c=>r(i.key,c.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]});case"select":return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:i.label}),e.jsx("select",{value:i.value,onChange:c=>r(i.key,c.target.value),className:"w-full px-3 py-2 border border-input bg-background rounded-md",children:i.options?.map(c=>e.jsx("option",{value:c,children:c},c))})]});case"password":return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:i.label}),e.jsx(ee,{type:"password",value:i.value,onChange:c=>r(i.key,c.target.value),placeholder:"Enter value..."})]});default:return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:i.label}),e.jsx(ee,{type:"text",value:i.value,onChange:c=>r(i.key,c.target.value),placeholder:"Enter value..."})]})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"System Configuration"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage platform settings, integrations, and security policies"})]}),e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4"}),"Save All Changes"]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.map((i,c)=>e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[i.icon,i.title]}),e.jsx(se,{children:i.description})]}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:i.settings.map((o,d)=>e.jsx("div",{children:n(o)},d))})})]},c))}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:"System Status"}),e.jsx(se,{children:"Current system configuration and status overview"})]}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Active Modules"}),e.jsx(L,{className:"bg-green-500",children:"5/5"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All platform modules are operational"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Security Score"}),e.jsx(L,{className:"bg-green-500",children:"98/100"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Excellent security configuration"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Last Backup"}),e.jsx(L,{className:"bg-blue-500",children:"2h ago"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Next backup scheduled in 22 hours"})]})]})})]})]})},bl=()=>{const s=xs(),t=Hs(),a=[{id:"dashboard",label:"Dashboard",icon:e.jsx(Aa,{className:"w-5 h-5"}),onClick:()=>s("/admin"),isActive:t.pathname==="/admin"||t.pathname==="/admin/"},{id:"users",label:"User Management",icon:e.jsx(Ie,{className:"w-5 h-5"}),onClick:()=>s("/admin/users"),isActive:t.pathname==="/admin/users"},{id:"devices",label:"Device Registry",icon:e.jsx(Ir,{className:"w-5 h-5"}),onClick:()=>s("/admin/devices"),isActive:t.pathname==="/admin/devices"},{id:"audit",label:"Audit Logs",icon:e.jsx(Oe,{className:"w-5 h-5"}),onClick:()=>s("/admin/audit"),isActive:t.pathname==="/admin/audit"},{id:"reports",label:"Reports",icon:e.jsx(Te,{className:"w-5 h-5"}),onClick:()=>s("/admin/reports"),isActive:t.pathname==="/admin/reports"},{id:"config",label:"Configuration",icon:e.jsx(ts,{className:"w-5 h-5"}),onClick:()=>s("/admin/config"),isActive:t.pathname==="/admin/config"}];return e.jsx(ct,{moduleName:"Admin",moduleSubtitle:"Platform Management",navigationItems:a,userInfo:{name:"Admin User",role:"System Administrator"},children:e.jsxs(it,{children:[e.jsx(J,{path:"/",element:e.jsx(pl,{})}),e.jsx(J,{path:"/users",element:e.jsx(jl,{})}),e.jsx(J,{path:"/devices",element:e.jsx(fl,{})}),e.jsx(J,{path:"/audit",element:e.jsx(vl,{})}),e.jsx(J,{path:"/reports",element:e.jsx(yl,{})}),e.jsx(J,{path:"/config",element:e.jsx(Nl,{})})]})})};function wl(){const[s,t]=h.useState([]),[a,r]=h.useState([]),[n,i]=h.useState({cpu:0,memory:0,disk:0,network:0,database:"healthy",uptime:0,activeUsers:0,lastBackup:new Date}),[c,o]=h.useState([]),[d,p]=h.useState(""),[N,f]=h.useState("all"),[u,v]=h.useState("all"),[j,P]=h.useState("en"),[A,C]=h.useState("dashboard"),S={en:{title:"System Administration Dashboard",subtitle:"User management, system monitoring, and security controls",users:"Users",auditLogs:"Audit Logs",systemHealth:"System Health",alerts:"Alerts",searchUsers:"Search users...",filterByRole:"Filter by role",filterByStatus:"Filter by status",all:"All",active:"Active",inactive:"Inactive",suspended:"Suspended",addUser:"Add User",exportData:"Export Data",name:"Name",email:"Email",role:"Role",status:"Status",lastLogin:"Last Login",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",systemMetrics:"System Metrics",cpu:"CPU",memory:"Memory",disk:"Disk",network:"Network",database:"Database",uptime:"Uptime",activeUsers:"Active Users",lastBackup:"Last Backup",healthy:"Healthy",warning:"Warning",critical:"Critical",security:"Security",performance:"Performance",system:"System",user:"User",low:"Low",medium:"Medium",high:"High",open:"Open",acknowledged:"Acknowledged",resolved:"Resolved",assign:"Assign",acknowledge:"Acknowledge",resolve:"Resolve",noActiveAlerts:"No active alerts",systemStatus:"System Status",diskUsage:"Disk Usage",userManagement:"User Management",timestamp:"Timestamp",resource:"Resource",ipAddress:"IP Address",success:"Success",failure:"Failure",quickActions:"Quick Actions",addUserDescription:"Create new user account",securitySettings:"Security Settings",securitySettingsDescription:"Configure security policies",backupManagement:"Backup Management",backupManagementDescription:"Backup schedule and recovery",systemConfiguration:"System Configuration",systemConfigurationDescription:"Configure system settings",gauSakhi:"GauSakhi",biogasSangh:"BiogasSangh",shuddhiDoot:"ShuddhiDoot",urjaVyapar:"UrjaVyapar",urjaNeta:"UrjaNeta",admin:"Admin"},hi:{title:"सिस्टम प्रशासन डैशबोर्ड",subtitle:"उपयोगकर्ता प्रबंधन, सिस्टम निगरानी और सुरक्षा नियंत्रण",users:"उपयोगकर्ता",auditLogs:"ऑडिट लॉग",systemHealth:"सिस्टम स्वास्थ्य",alerts:"अलर्ट",searchUsers:"उपयोगकर्ताओं को खोजें...",filterByRole:"भूमिका के अनुसार फ़िल्टर करें",filterByStatus:"स्थिति के अनुसार फ़िल्टर करें",all:"सभी",active:"सक्रिय",inactive:"निष्क्रिय",suspended:"निलंबित",addUser:"उपयोगकर्ता जोड़ें",exportData:"डेटा निर्यात करें",name:"नाम",email:"ईमेल",role:"भूमिका",status:"स्थिति",lastLogin:"अंतिम लॉगिन",actions:"कार्य",view:"देखें",edit:"संपादित करें",delete:"हटाएं",systemMetrics:"सिस्टम मेट्रिक्स",cpu:"सीपीयू",memory:"मेमोरी",disk:"डिस्क",network:"नेटवर्क",database:"डेटाबेस",uptime:"अपटाइम",activeUsers:"सक्रिय उपयोगकर्ता",lastBackup:"अंतिम बैकअप",healthy:"स्वस्थ",warning:"चेतावनी",critical:"गंभीर",security:"सुरक्षा",performance:"प्रदर्शन",system:"सिस्टम",user:"उपयोगकर्ता",low:"कम",medium:"मध्यम",high:"उच्च",open:"खुला",acknowledged:"स्वीकृत",resolved:"समाधान",assign:"नियुक्त करें",acknowledge:"स्वीकार करें",resolve:"समाधान करें",noActiveAlerts:"कोई खुला अलर्ट नहीं",systemStatus:"सिस्टम स्थिति",diskUsage:"डिस्क उपयोग",userManagement:"उपयोगकर्ता प्रबंधन",timestamp:"समयांक",resource:"संसाधन",ipAddress:"IP पता",success:"सफलता",failure:"विफलता",quickActions:"तेज़ कार्य",addUserDescription:"नया उपयोगकर्ता खाता बनाएं",securitySettings:"सुरक्षा सेटिंग्स",securitySettingsDescription:"सुरक्षा नीतियों को कॉन्फ़िगर करें",backupManagement:"बैकअप प्रबंधन",backupManagementDescription:"बैकअप अनुसूची और पुनर्स्थापना",systemConfiguration:"सिस्टम कॉन्फ़िगरेशन",systemConfigurationDescription:"सिस्टम सेटिंग्स को कॉन्फ़िगर करें",gauSakhi:"गौसाक्षी",biogasSangh:"बिओगास संघ",shuddhiDoot:"शुद्धिदूत",urjaVyapar:"उर्जा व्यापार",urjaNeta:"उर्जा नेटा",admin:"व्यवस्थापक"}}[j];h.useEffect(()=>{const M=[{id:"1",name:"Rajesh Kumar",email:"rajesh@saubhagya.com",role:"GauSakhi",status:"active",lastLogin:new Date(Date.now()-72e5),permissions:["cattle:read","cattle:write","location:read"],createdAt:new Date(Date.now()-2592e6)},{id:"2",name:"Priya Sharma",email:"priya@saubhagya.com",role:"BiogasSangh",status:"active",lastLogin:new Date(Date.now()-36e5),permissions:["cluster:read","cluster:write","iot:read","reports:read"],createdAt:new Date(Date.now()-216e7)},{id:"3",name:"Amit Singh",email:"amit@saubhagya.com",role:"ShuddhiDoot",status:"active",lastLogin:new Date(Date.now()-18e5),permissions:["purification:read","purification:write","maintenance:read"],createdAt:new Date(Date.now()-1728e6)},{id:"4",name:"Sita Devi",email:"sita@saubhagya.com",role:"UrjaVyapar",status:"active",lastLogin:new Date(Date.now()-27e5),permissions:["sales:read","sales:write","inventory:read","customers:read"],createdAt:new Date(Date.now()-1296e6)},{id:"5",name:"Vikram Patel",email:"vikram@saubhagya.com",role:"UrjaNeta",status:"active",lastLogin:new Date(Date.now()-108e5),permissions:["dashboard:read","reports:read","analytics:read"],createdAt:new Date(Date.now()-864e6)}];t(M)},[]),h.useEffect(()=>{const M=[{id:"1",user:"Rajesh Kumar",action:"LOGIN",resource:"Authentication",timestamp:new Date(Date.now()-72e5),ipAddress:"192.168.1.100",status:"success",details:"User logged in successfully"},{id:"2",user:"Priya Sharma",action:"UPDATE",resource:"Cluster Data",timestamp:new Date(Date.now()-36e5),ipAddress:"192.168.1.101",status:"success",details:"Updated cluster performance metrics"},{id:"3",user:"Amit Singh",action:"CREATE",resource:"Maintenance Schedule",timestamp:new Date(Date.now()-18e5),ipAddress:"192.168.1.102",status:"success",details:"Created new maintenance schedule for Compressor Unit A"},{id:"4",user:"Unknown",action:"LOGIN",resource:"Authentication",timestamp:new Date(Date.now()-9e5),ipAddress:"203.45.67.89",status:"failure",details:"Failed login attempt with invalid credentials"}];r(M)},[]),h.useEffect(()=>{const M=()=>{i({cpu:Math.random()*30+20,memory:Math.random()*40+30,disk:Math.random()*20+15,network:Math.random()*25+10,database:Math.random()>.8?"warning":"healthy",uptime:1296e6+Math.random()*60*60*1e3,activeUsers:Math.floor(Math.random()*20)+15,lastBackup:new Date(Date.now()-216e5)})};M();const $=setInterval(M,1e4);return()=>clearInterval($)},[]),h.useEffect(()=>{const M=[{id:"1",type:"security",severity:"medium",message:"Multiple failed login attempts detected from IP 203.45.67.89",timestamp:new Date(Date.now()-9e5),status:"open"},{id:"2",type:"performance",severity:"low",message:"Database query response time increased by 15%",timestamp:new Date(Date.now()-27e5),status:"acknowledged",assignedTo:"System Admin"},{id:"3",type:"system",severity:"low",message:"Backup completed successfully",timestamp:new Date(Date.now()-216e5),status:"resolved"}];o(M)},[]);const T=M=>{switch(M){case"GauSakhi":return"bg-blue-100 text-blue-800";case"BiogasSangh":return"bg-green-100 text-green-800";case"ShuddhiDoot":return"bg-purple-100 text-purple-800";case"UrjaVyapar":return"bg-orange-100 text-orange-800";case"UrjaNeta":return"bg-indigo-100 text-indigo-800";case"Admin":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=M=>{switch(M){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=M=>{switch(M){case"low":return"bg-blue-100 text-blue-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=M=>{switch(M){case"security":return e.jsx(we,{className:"h-4 w-4"});case"performance":return e.jsx(ke,{className:"h-4 w-4"});case"system":return e.jsx(Qe,{className:"h-4 w-4"});case"user":return e.jsx(Ie,{className:"h-4 w-4"});default:return e.jsx(le,{className:"h-4 w-4"})}},R=M=>{alert(`${M.toUpperCase()} export initiated for admin data`)},x=s.filter(M=>(N==="all"||M.role===N)&&(u==="all"||M.status===u)&&(M.name.toLowerCase().includes(d.toLowerCase())||M.email.toLowerCase().includes(d.toLowerCase()))),E=M=>{const $=Math.floor(M/864e5),G=Math.floor(M%(24*60*60*1e3)/(60*60*1e3));return`${$}d ${G}h`};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:S.title}),e.jsx("p",{className:"text-gray-600",children:S.subtitle})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>P(j==="en"?"hi":"en"),className:"px-3 py-1 text-sm bg-white rounded-md shadow-sm border border-gray-200 hover:bg-gray-50",children:j==="en"?"हिंदी":"English"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(Ss,{className:"h-4 w-4 inline mr-2"}),S.addUser]}),e.jsxs("button",{onClick:()=>R("pdf"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(Re,{className:"h-4 w-4 inline mr-2"}),S.exportData]}),e.jsxs("button",{onClick:()=>R("excel"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[e.jsx(Re,{className:"h-4 w-4 inline mr-2"}),"Excel"]})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>C("dashboard"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${A==="dashboard"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(ke,{className:"h-4 w-4 inline mr-2"}),"Dashboard"]}),e.jsxs("button",{onClick:()=>C("users"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${A==="users"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Ie,{className:"h-4 w-4 inline mr-2"}),"Users"]}),e.jsxs("button",{onClick:()=>C("security"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${A==="security"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(we,{className:"h-4 w-4 inline mr-2"}),"Security"]}),e.jsxs("button",{onClick:()=>C("system"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${A==="system"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(ts,{className:"h-4 w-4 inline mr-2"}),"System"]}),e.jsxs("button",{onClick:()=>C("logs"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${A==="logs"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Qe,{className:"h-4 w-4 inline mr-2"}),"Audit Logs"]})]})}),A==="dashboard"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ke,{className:"h-6 w-6 text-blue-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:S.cpu}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.cpu.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Qe,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:S.memory}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.memory.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(we,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:S.activeUsers}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:n.activeUsers})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Se,{className:"h-6 w-6 text-orange-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:S.uptime}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:E(n.uptime)})]})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:S.alerts}),e.jsxs("div",{className:"space-y-3",children:[c.filter(M=>M.status!=="resolved").map(M=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:m(M.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.message}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(M.severity)}`,children:M.severity})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[M.timestamp.toLocaleString("hi-IN")," • ",M.type]}),M.assignedTo&&e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[S.assign," to: ",M.assignedTo]})]})]},M.id)),c.filter(M=>M.status!=="resolved").length===0&&e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(de,{className:"h-8 w-8 mx-auto text-green-400 mb-2"}),e.jsx("p",{children:S.noActiveAlerts})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:S.systemStatus}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:S.database}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n.database==="healthy"?"bg-green-100 text-green-800":n.database==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.database==="healthy"?S.healthy:n.database==="warning"?S.warning:S.critical})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:S.diskUsage}),e.jsxs("span",{className:"text-sm font-medium",children:[n.disk.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:S.network}),e.jsxs("span",{className:"text-sm font-medium",children:[n.network.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:S.lastBackup}),e.jsx("span",{className:"text-sm font-medium",children:n.lastBackup.toLocaleString("hi-IN")})]})]})]})})]})]}),A==="users"&&e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:S.userManagement}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:S.searchUsers,value:d,onChange:M=>p(M.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:N,onChange:M=>f(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:S.all}),e.jsx("option",{value:"GauSakhi",children:S.gauSakhi}),e.jsx("option",{value:"BiogasSangh",children:S.biogasSangh}),e.jsx("option",{value:"ShuddhiDoot",children:S.shuddhiDoot}),e.jsx("option",{value:"UrjaVyapar",children:S.urjaVyapar}),e.jsx("option",{value:"UrjaNeta",children:S.urjaNeta}),e.jsx("option",{value:"Admin",children:S.admin})]}),e.jsxs("select",{value:u,onChange:M=>v(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:S.all}),e.jsx("option",{value:"active",children:S.active}),e.jsx("option",{value:"inactive",children:S.inactive}),e.jsx("option",{value:"suspended",children:S.suspended})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.user}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.role}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.lastLogin}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.actions})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(M=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.name}),e.jsx("div",{className:"text-sm text-gray-500",children:M.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T(M.role)}`,children:M.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(M.status)}`,children:M.status==="active"?S.active:M.status==="inactive"?S.inactive:S.suspended})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.lastLogin.toLocaleString("hi-IN")}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:e.jsx(ds,{className:"h-4 w-4 inline"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900 mr-3",children:e.jsx(ps,{className:"h-4 w-4 inline"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(at,{className:"h-4 w-4 inline"})})]})]},M.id))})]})})]})}),A==="security"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:S.alerts}),e.jsxs("div",{className:"space-y-3",children:[c.filter(M=>M.status!=="resolved").map(M=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:m(M.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.message}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(M.severity)}`,children:M.severity})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[M.timestamp.toLocaleString("hi-IN")," • ",M.type]}),M.assignedTo&&e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[S.assign," to: ",M.assignedTo]})]})]},M.id)),c.filter(M=>M.status!=="resolved").length===0&&e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(de,{className:"h-8 w-8 mx-auto text-green-400 mb-2"}),e.jsx("p",{children:S.noActiveAlerts})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:S.securitySettings}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:e.jsx(we,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Two-Factor Authentication"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Secure user accounts with 2FA"})]})]}),e.jsxs("div",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:e.jsx(Ie,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Access Controls"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Manage role-based permissions"})]})]}),e.jsxs("div",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-red-50 text-red-700 ring-4 ring-white",children:e.jsx(le,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Threat Detection"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Monitor suspicious activities"})]})]})]})]})})]}),A==="system"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ke,{className:"h-6 w-6 text-blue-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:S.cpu}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.cpu.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Qe,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:S.memory}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.memory.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(we,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:S.activeUsers}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:n.activeUsers})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Se,{className:"h-6 w-6 text-orange-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:S.uptime}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:E(n.uptime)})]})})]})})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:S.systemStatus}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:S.database}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n.database==="healthy"?"bg-green-100 text-green-800":n.database==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.database==="healthy"?S.healthy:n.database==="warning"?S.warning:S.critical})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:S.diskUsage}),e.jsxs("span",{className:"text-sm font-medium",children:[n.disk.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:S.network}),e.jsxs("span",{className:"text-sm font-medium",children:[n.network.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:S.lastBackup}),e.jsx("span",{className:"text-sm font-medium",children:n.lastBackup.toLocaleString("hi-IN")})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:S.quickActions}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:e.jsx(Ie,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),S.addUser]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:S.addUserDescription})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:e.jsx(we,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),S.securitySettings]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:S.securitySettingsDescription})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-purple-50 text-purple-700 ring-4 ring-white",children:e.jsx(Qe,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),S.backupManagement]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:S.backupManagementDescription})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-orange-50 text-orange-700 ring-4 ring-white",children:e.jsx(ts,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),S.systemConfiguration]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:S.systemConfigurationDescription})]})]})]})]})})]}),A==="logs"&&e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:S.auditLogs}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.timestamp}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.user}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.action}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.resource}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.ipAddress}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.status})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(M=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.timestamp.toLocaleString("hi-IN")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:M.user}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.action}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.resource}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.ipAddress}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${M.status==="success"?"bg-green-100 text-green-800":M.status==="failure"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:M.status==="success"?S.success:M.status==="failure"?S.failure:S.warning})})]},M.id))})]})})]})})]})}const tr="http://localhost:8080",Et="http://localhost:8081/auth/api";function Sl(){const{trackModuleUsage:s,updateBreadcrumbs:t}=lt(),{user:a}=Os(),[r,n]=h.useState([]),[i,c]=h.useState([]),[o,d]=h.useState([]),[p,N]=h.useState("feasibility"),[f,u]=h.useState(!0);h.useEffect(()=>{s("urjasanyojak","view"),t([{label:"UrjaSanyojak Dashboard",url:"/urjasanyojak",module:"business-dev"}]),v()},[]);const v=async()=>{u(!0);try{await Promise.all([j(),P(),A()])}catch{}u(!1)},j=async()=>{try{const l=await fetch(`${tr}/api/iot/analytics/feasibility/projects`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(l.ok){const m=await l.json();n(m)}else n([])}catch{n([])}},P=async()=>{try{const l=await fetch(`${Et}/subsidies/applications`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(l.ok){const m=await l.json();c(m)}else c([])}catch{c([])}},A=async()=>{try{const l=await fetch(`${Et}/business/leads`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(l.ok){const m=await l.json();d(m)}else d([])}catch{d([])}},C=async(l,m)=>{try{const R=await fetch(`${tr}/api/iot/analytics/feasibility/calculate`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({farmerId:l,cattleCount:m,location:"default",userId:a?.id})});if(R.ok){const x=await R.json();return await j(),x}}catch{}},y=async l=>{try{const m=await fetch(`${Et}/subsidies/apply`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({...l,submittedBy:a?.id,submissionDate:new Date})});if(m.ok){const R=await m.json();return await P(),alert(`Subsidy application ${R.applicationNumber} submitted successfully!`),R}}catch{alert("Error submitting application. Please try again.")}},S=async(l,m)=>{try{(await fetch(`${Et}/business/leads/${l}/update`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({stage:m,updatedBy:a?.id,lastContact:new Date})})).ok&&await A()}catch{}},T=l=>{switch(l){case"approved":case"completed":case"disbursed":case"conversion":return"bg-green-100 text-green-800 border-green-200";case"in_progress":case"under_review":case"assessment":case"negotiation":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},g=l=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(l);return f?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading business development dashboard..."})]})}):e.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(he,{className:"text-green-600"}),"UrjaSanyojak Dashboard"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Business Development & Project Pipeline Management"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Business Development Officer"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a?.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Active Projects"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.length})]}),e.jsx(Gt,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Subsidy Applications"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.length})]}),e.jsx(Qa,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Business Leads"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.length})]}),e.jsx(Ie,{className:"h-8 w-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Conversion Rate"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"65%"})]}),e.jsx(as,{className:"h-8 w-8 text-orange-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"feasibility",label:"Feasibility Projects",icon:Gt},{id:"subsidies",label:"Subsidy Applications",icon:Qa},{id:"pipeline",label:"Business Pipeline",icon:he}].map(({id:l,label:m,icon:R})=>e.jsxs("button",{onClick:()=>N(l),className:`py-4 px-2 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors ${p===l?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(R,{className:"h-4 w-4"}),m]},l))})}),e.jsxs("div",{className:"p-6",children:[p==="feasibility"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Feasibility Assessment Projects"}),e.jsxs("button",{onClick:()=>C("new-farmer",25),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Ka,{className:"h-4 w-4"}),"New Assessment"]})]}),e.jsx("div",{className:"space-y-4",children:r.map(l=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:l.farmerName}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${T(l.status)}`,children:l.status.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-4 w-4"}),l.location]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Cattle:"})," ",l.cattleCount]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Production:"})," ",l.estimatedProduction," m³/day"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ROI:"})," ",l.roiMonths," months"]})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Investment Required:"})," ",g(l.investmentRequired)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Subsidy Amount:"})," ",g(l.subsidyAmount)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>C(l.farmerId,l.cattleCount),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Recalculate"}),e.jsx("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"View Details"})]})]})},l.id))})]}),p==="subsidies"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Subsidy Applications"}),e.jsxs("button",{onClick:()=>y({farmerId:"FARM-NEW",farmerName:"New Farmer",subsidyType:"central",amount:5e5}),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Oe,{className:"h-4 w-4"}),"New Application"]})]}),e.jsx("div",{className:"space-y-4",children:i.map(l=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:l.farmerName}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${T(l.status)}`,children:l.status.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Application #:"})," ",l.applicationNumber]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",l.subsidyType.toUpperCase()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Amount:"})," ",g(l.amount)]})]}),l.remarks&&e.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Remarks:"})," ",l.remarks]})]}),e.jsxs("div",{className:"text-right text-sm text-gray-500",children:["Applied: ",l.applicationDate.toLocaleDateString()]})]})},l.id))})]}),p==="pipeline"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Business Pipeline"}),e.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Ka,{className:"h-4 w-4"}),"Add Lead"]})]}),e.jsx("div",{className:"space-y-4",children:o.map(l=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:l.farmerName}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${T(l.stage)}`,children:l.stage.replace("_"," ").toUpperCase()}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.interest==="high"?"bg-red-100 text-red-800":l.interest==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[l.interest.toUpperCase()," INTEREST"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-4 w-4"}),l.phone]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-4 w-4"}),l.location]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Cattle:"})," ",l.cattleCount]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Assigned:"})," ",l.assignedTo]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"h-4 w-4"}),"Last Contact: ",l.lastContact.toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(js,{className:"h-4 w-4"}),"Next Follow-up: ",l.nextFollowUp.toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:l.stage,onChange:m=>S(l.id,m.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[e.jsx("option",{value:"contact",children:"Contact"}),e.jsx("option",{value:"assessment",children:"Assessment"}),e.jsx("option",{value:"proposal",children:"Proposal"}),e.jsx("option",{value:"negotiation",children:"Negotiation"}),e.jsx("option",{value:"conversion",children:"Conversion"})]}),e.jsx("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"Contact"})]})]})},l.id))})]})]})]})]})}const Cl="http://localhost:8080",ar="http://localhost:8080",Dl="http://localhost:8083";function kl(){const{user:s}=Os(),{trackModuleUsage:t,updateBreadcrumbs:a}=lt(),[r,n]=h.useState([]),[i,c]=h.useState([]),[o,d]=h.useState({totalBiogas:0,dailyProduction:0,efficiency:0,activePlants:0,alerts:0}),[p,N]=h.useState(!1),[f,u]=h.useState(!1),[v,j]=h.useState(""),[P,A]=h.useState([]),[C,y]=h.useState(null),[S,T]=h.useState("en"),l={en:{title:"Biogas Cluster Management Dashboard",subtitle:"Real-time monitoring and management of biogas operations",clusterOverview:"Cluster Overview",totalGaushalas:"Total Gaushalas",activeDigesters:"Active Digesters",totalBiogas:"Total Biogas (m³)",todayCollection:"Today's Collection",pickupSchedule:"Pickup Schedule",alerts:"Alerts",alertManagement:"Alert Management",voiceSummary:"Voice Summary",speaking:"Speaking...",speakCommand:"Speak a command",startListening:"Start Listening",stopListening:"Stop Listening",exportData:"Export Data",exportPDF:"Export PDF",exportExcel:"Export Excel",recentActivity:"Recent Activity",systemHealth:"System Health",performance:"Performance",revenue:"Revenue",carbonCredits:"Carbon Credits",totalBiogasLabel:"Total Biogas",dailyProduction:"Daily Production",efficiency:"Efficiency",activePlants:"Active Plants",alertsLabel:"Alerts",ch4Level:"CH4 Level (Methane)",pressure:"Pressure",temperature:"Temperature",pickupScheduleLabel:"Pickup Schedule",cluster:"Cluster",time:"Time",truck:"Truck",quantity:"Quantity",status:"Status",action:"Action",scheduled:"Scheduled",edit:"Edit",newSchedule:"New Schedule",quickActions:"Quick Actions",pickupScheduleAction:"Pickup Schedule",clusterAnalysis:"Cluster Analysis",alertManagementLabel:"Alert Management",maintenance:"Maintenance"},hi:{title:"बायोगैस क्लस्टर प्रबंधन डैशबोर्ड",subtitle:"बायोगैस संचालन का रीयल-टाइम निगरानी और प्रबंधन",clusterOverview:"क्लस्टर अवलोकन",totalGaushalas:"कुल गौशालाएं",activeDigesters:"सक्रिय डाइजेस्टर",totalBiogas:"कुल बायोगैस (m³)",todayCollection:"आज का संग्रह",pickupSchedule:"पिकअप अनुसूची",alerts:"अलर्ट",alertManagement:"अलर्ट प्रबंधन",voiceSummary:"आवाज सारांश",speaking:"बोल रहा है...",speakCommand:"एक कमांड बोलें",startListening:"सुनना शुरू करें",stopListening:"सुनना बंद करें",exportData:"डेटा निर्यात करें",exportPDF:"PDF निर्यात करें",exportExcel:"Excel निर्यात करें",recentActivity:"हाल की गतिविधि",systemHealth:"सिस्टम स्वास्थ्य",performance:"प्रदर्शन",revenue:"राजस्व",carbonCredits:"कार्बन क्रेडिट",totalBiogasLabel:"कुल बायोगैस",dailyProduction:"दैनिक उत्पादन",efficiency:"दक्षता",activePlants:"सक्रिय प्लांट",alertsLabel:"अलर्ट",ch4Level:"CH4 स्तर (मीथेन)",pressure:"दबाव",temperature:"तापमान",pickupScheduleLabel:"पिकअप शेड्यूल",cluster:"क्लस्टर",time:"समय",truck:"ट्रक",quantity:"मात्रा",status:"स्थिति",action:"कार्य",scheduled:"निर्धारित",edit:"संपादित करें",newSchedule:"नया शेड्यूल",quickActions:"त्वरित कार्य",pickupScheduleAction:"पिकअप शेड्यूल",clusterAnalysis:"क्लस्टर विश्लेषण",alertManagementLabel:"अलर्ट प्रबंधन",maintenance:"रखरखाव"}}[S];h.useEffect(()=>{t("urjasanyojak"),a([{label:"UrjaSanyojak",url:"/",module:"urjasanyojak"},{label:"Dashboard",url:"/",module:"urjasanyojak"}])},[]);const m=async()=>{try{const I=localStorage.getItem("token");if(!I)return;const V=await fetch(`${Cl}/api/iot/devices?type=biogas_digester&gaushalaId=${s?.id}&status=ONLINE`,{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(V.ok){const _=await V.json();if(_.length>0){const H=_[0],z={ch4:H.ch4Concentration||0,pressure:H.pressure||0,temperature:H.temperature||0,timestamp:new Date(H.lastUpdate||Date.now())};n(te=>[z,...te.slice(0,19)])}}}catch{}};h.useEffect(()=>{m();const I=setInterval(m,1e4);return()=>clearInterval(I)},[s]);const R=async()=>{try{const I=localStorage.getItem("token");if(!I)return;const V=await fetch(`${Dl}/sales/schedules?gaushalaId=${s?.id}&type=pickup`,{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(V.ok){const H=(await V.json()).map(z=>({id:z.id,clusterId:z.clusterId||s?.clusterId,scheduledTime:new Date(z.scheduledTime),truckId:z.vehicleId||z.truckId,status:z.status?.toLowerCase()||"scheduled",estimatedVolume:z.estimatedVolume||z.quantity}));c(H)}}catch{c([])}};h.useEffect(()=>{R()},[s]);const x=async()=>{try{const I=localStorage.getItem("token");if(!I)return;const V=await fetch(`${ar}/production/metrics?gaushalaId=${s?.id}&timeframe=daily`,{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(V.ok){const _=await V.json();d({totalBiogas:_.totalBiogas||0,dailyProduction:_.dailyProduction||0,efficiency:_.efficiency||r[0]?.ch4||0,activePlants:_.activePlants||0,alerts:_.alerts||0})}}catch{if(r.length>0){const V=r[0];d(_=>({..._,efficiency:V.ch4,alerts:V.pressure>2.5||V.temperature>40?2:0}))}}};h.useEffect(()=>{x();const I=setInterval(x,6e4);return()=>clearInterval(I)},[s,r]);const E=()=>{if("speechSynthesis"in window){N(!0);const I=new SpeechSynthesisUtterance(`क्लस्टर सारांश: कुल बायोगैस ${Math.round(o.totalBiogas)} घन मीटर, दैनिक उत्पादन ${Math.round(o.dailyProduction)} घन मीटर, दक्षता ${Math.round(o.efficiency)} प्रतिशत, सक्रिय प्लांट ${o.activePlants}, अलर्ट ${o.alerts}`);I.lang="hi-IN",I.onend=()=>N(!1),speechSynthesis.speak(I)}},M=I=>{try{const V=localStorage.getItem("token");if(!V)return;const _=fetch(`${ar}/production/export?gaushalaId=${s?.id}&format=${I}`,{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});alert(`${I.toUpperCase()} export initiated for cluster data`)}catch{alert("Export failed. Please try again.")}},$=I=>{switch(I){case"scheduled":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},G=I=>{switch(I){case"scheduled":return"निर्धारित";case"in-progress":return"प्रगति में";case"completed":return"पूर्ण";case"cancelled":return"रद्द";default:return"अज्ञात"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l.title}),e.jsx("p",{className:"text-gray-600",children:"BiogasSangh Cluster Manager Dashboard"})]}),e.jsx("button",{onClick:()=>T(S==="en"?"hi":"en"),className:"px-3 py-1 text-sm bg-white rounded-md shadow-sm border border-gray-200 hover:bg-gray-50",children:S==="en"?"हिंदी":"English"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:E,disabled:p,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[e.jsx(nt,{className:"h-4 w-4"}),p?l.speaking:l.voiceSummary]}),e.jsxs("button",{onClick:()=>M("pdf"),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(Re,{className:"h-4 w-4"}),"PDF"]}),e.jsxs("button",{onClick:()=>M("excel"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[e.jsx(Re,{className:"h-4 w-4"}),"Excel"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Rs,{className:"h-6 w-6 text-blue-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:l.totalBiogasLabel}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[Math.round(o.totalBiogas)," m³"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(he,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:l.dailyProduction}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[Math.round(o.dailyProduction)," m³"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Te,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:l.efficiency}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[Math.round(o.efficiency),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Qe,{className:"h-6 w-6 text-orange-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:l.activePlants}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:o.activePlants})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(le,{className:"h-6 w-6 text-red-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:l.alertsLabel}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:o.alerts})]})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:l.ch4Level}),e.jsx("div",{className:"space-y-3",children:r.slice(0,10).map((I,V)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:I.timestamp.toLocaleTimeString("hi-IN")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:[I.ch4.toFixed(1),"%"]}),e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${I.ch4}%`}})})]})]},V))})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:[l.pressure," और ",l.temperature]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(St,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:l.pressure})]}),e.jsxs("span",{className:"text-lg font-medium",children:[r[0]?.pressure.toFixed(2)," bar"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(zt,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:l.temperature})]}),e.jsxs("span",{className:"text-lg font-medium",children:[r[0]?.temperature.toFixed(1),"°C"]})]})]})]})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:l.pickupScheduleLabel}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:l.newSchedule})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.cluster}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.time}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.truck}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.quantity}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.action})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(I=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:I.clusterId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.scheduledTime.toLocaleString("hi-IN")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.truckId}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[I.estimatedVolume," m³"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${$(I.status)}`,children:G(I.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:l.edit})})]},I.id))})]})})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:l.quickActions}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:e.jsx(hs,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),l.pickupScheduleAction]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"नया पिकअप शेड्यूल बनाएं"})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:e.jsx(Te,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),l.clusterAnalysis]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"विस्तृत प्रदर्शन विश्लेषण"})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-purple-50 text-purple-700 ring-4 ring-white",children:e.jsx(le,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),l.alertManagementLabel]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"अलर्ट और सूचनाएं देखें"})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-orange-50 text-orange-700 ring-4 ring-white",children:e.jsx(Le,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),l.maintenance]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"रखरखाव शेड्यूल देखें"})]})]})]})]})})]})}const tn=h.createContext(void 0),ot=()=>{const s=h.useContext(tn);if(!s)throw new Error("useExecutiveAnalytics must be used within ExecutiveAnalyticsProvider");return s},an=({children:s})=>{const[t,a]=h.useState([{id:"revenue",name:"Monthly Revenue",value:125e6,unit:"₹",change:15.8,trend:"up",target:15e7,confidence:.92,category:"financial",priority:"high"},{id:"production",name:"Biogas Production",value:12500,unit:"m³/day",change:12.5,trend:"up",target:15e3,confidence:.89,category:"operational",priority:"high"},{id:"carbon_credits",name:"Carbon Credits",value:450,unit:"tons CO2",change:22.1,trend:"up",target:500,confidence:.85,category:"environmental",priority:"high"},{id:"market_share",name:"Market Share",value:18.5,unit:"%",change:3.2,trend:"up",target:25,confidence:.78,category:"strategic",priority:"medium"},{id:"efficiency",name:"Operational Efficiency",value:87.3,unit:"%",change:5.1,trend:"up",target:90,confidence:.91,category:"operational",priority:"medium"},{id:"customer_satisfaction",name:"Customer Satisfaction",value:4.6,unit:"/5",change:-2.1,trend:"down",target:4.8,confidence:.83,category:"strategic",priority:"high"}]),[r,n]=h.useState([{id:"revenue_forecast",title:"Revenue Growth Acceleration",description:"Current trajectory suggests 18% quarterly growth, exceeding targets by ₹25Cr",impact:"positive",confidence:.87,category:"financial",actionRequired:!1,timeline:"Next Quarter",estimatedValue:25e6},{id:"carbon_opportunity",title:"Carbon Credit Market Expansion",description:"International markets showing 35% price premium - opportunity for ₹8Cr additional revenue",impact:"positive",confidence:.74,category:"environmental",actionRequired:!0,timeline:"3-6 months",estimatedValue:8e7},{id:"efficiency_risk",title:"Production Efficiency Plateau",description:"Three plants showing declining efficiency - risk of ₹12Cr revenue impact",impact:"negative",confidence:.82,category:"operational",actionRequired:!0,timeline:"Immediate",estimatedValue:-12e7}]),[i,c]=h.useState([{id:"market_expansion",name:"Regional Market Expansion",description:"Expand operations to 5 new high-potential regions with focus on rural communities",status:"in-progress",progress:65,budget:5e8,spent:32e7,roi:240,timeline:{start:"2024-01-01",end:"2024-12-31",milestones:[{name:"Site Selection",date:"2024-03-15",completed:!0},{name:"Regulatory Approval",date:"2024-06-30",completed:!0},{name:"Construction Phase",date:"2024-10-15",completed:!1},{name:"Operations Launch",date:"2024-12-31",completed:!1}]},riskLevel:"medium",owner:"Regional Development Team",category:"market-expansion",businessValue:"Increase market presence and revenue base",kpis:[{name:"New Regions",target:5,current:3,unit:"regions"},{name:"Revenue Increase",target:25,current:18,unit:"%"}]},{id:"ai_optimization",name:"AI-Driven Production Optimization",description:"Implement ML algorithms for biogas production efficiency and predictive maintenance",status:"planning",progress:25,budget:2e8,spent:5e7,roi:380,timeline:{start:"2024-06-01",end:"2024-11-30",milestones:[{name:"Algorithm Development",date:"2024-07-15",completed:!1},{name:"Pilot Testing",date:"2024-09-30",completed:!1},{name:"Full Deployment",date:"2024-11-30",completed:!1}]},riskLevel:"low",owner:"Technology Innovation Team",category:"technology",businessValue:"Improve operational efficiency and reduce costs",kpis:[{name:"Efficiency Gain",target:20,current:5,unit:"%"},{name:"Cost Reduction",target:15,current:0,unit:"%"}]},{id:"carbon_trading",name:"Carbon Credit Trading Platform",description:"Develop integrated platform for carbon credit generation and trading",status:"in-progress",progress:45,budget:15e7,spent:68e6,roi:450,timeline:{start:"2024-03-01",end:"2025-01-31",milestones:[{name:"Platform Design",date:"2024-05-15",completed:!0},{name:"Compliance Setup",date:"2024-08-30",completed:!0},{name:"Market Integration",date:"2024-12-15",completed:!1},{name:"Full Launch",date:"2025-01-31",completed:!1}]},riskLevel:"medium",owner:"Environmental Strategy Team",category:"strategic",businessValue:"Create new revenue stream from carbon credits",kpis:[{name:"Credits Generated",target:2e3,current:850,unit:"tons"},{name:"Revenue from Credits",target:80,current:35,unit:"₹Cr"}]},{id:"rural_digitization",name:"Rural Digitization Initiative",description:"Digital transformation of rural operations and farmer engagement",status:"planning",progress:15,budget:12e7,spent:18e6,roi:280,timeline:{start:"2024-08-01",end:"2025-06-30",milestones:[{name:"Technology Assessment",date:"2024-09-15",completed:!1},{name:"Pilot Implementation",date:"2024-12-31",completed:!1},{name:"Scale-up Phase",date:"2025-04-30",completed:!1},{name:"Full Deployment",date:"2025-06-30",completed:!1}]},riskLevel:"high",owner:"Digital Innovation Team",category:"operational",businessValue:"Improve farmer engagement and operational transparency",kpis:[{name:"Farmers Onboarded",target:1e4,current:1500,unit:"farmers"},{name:"Process Efficiency",target:30,current:8,unit:"%"}]}]),[o,d]=h.useState({creditsGenerated:450,creditsTarget:500,marketValue:675e5,projectedRevenue:85e6,co2Reduced:2250,certifications:["Gold Standard","VCS","CDM"],marketTrends:{currentPrice:15e4,projectedPrice:185e3,volatility:.12},esgRating:"A",environmentalScore:87,socialScore:82,governanceScore:88,totalCreditsIssued:420,averagePricePerCredit:165e3,complianceFrameworks:4,creditsRetired:380,creditsPending:70}),[p,N]=h.useState({marketShare:18.5,ranking:3,competitorCount:15,strengthScore:85,weaknessAreas:["Brand Recognition","Scale Limitations"],opportunities:["Government Policy Support","Carbon Market Growth","Technology Integration"],threats:["New Market Entrants","Regulatory Changes","Technology Disruption"],benchmarks:{efficiency:87,revenue:92,growth:85},highThreatCompetitors:2,keyOpportunities:3,overallCompetitiveStrength:85,marketGrowthRate:15.2,competitiveTrends:{innovation:82,customerSatisfaction:88,marketPresence:78}}),[f,u]=h.useState([]),[v,j]=h.useState(!1),[P,A]=h.useState(!1);h.useEffect(()=>{const x=setInterval(()=>{a(E=>E.map(M=>({...M,value:M.value+(Math.random()-.5)*(M.value*.01),change:M.change+(Math.random()-.5)*2})))},3e4);return()=>clearInterval(x)},[]);const C=async()=>{A(!0);try{await new Promise(E=>setTimeout(E,1500));const x=[{id:"market_trend_"+Date.now(),title:"Emerging Market Opportunity",description:`New government incentives in ${["Maharashtra","Gujarat","Punjab"][Math.floor(Math.random()*3)]} creating 25% growth potential`,impact:"positive",confidence:.76,category:"strategic",actionRequired:!0,timeline:"2-4 months",estimatedValue:35e6}];n(E=>[...x,...E.slice(0,2)])}finally{A(!1)}},y=x=>{u(E=>[x,...E.slice(0,19)])},S=(x,E)=>{a(M=>M.map($=>$.id===x?{...$,...E}:$))},T=(x,E)=>{c(M=>M.map($=>$.id===x?{...$,...E}:$))},g=Math.round(t.reduce((x,E)=>x+E.value/E.target*100,0)/t.length),l=r.filter(x=>x.impact==="negative"&&x.actionRequired&&x.confidence>.7),m=r.filter(x=>x.impact==="positive"&&x.confidence>.7).sort((x,E)=>(E.estimatedValue||0)-(x.estimatedValue||0)),R={kpis:t,insights:r,initiatives:i,carbonMetrics:o,competitiveData:p,voiceHistory:f,loading:v,refreshing:P,refreshData:C,addVoiceQuery:y,updateKPI:S,updateInitiative:T,overallPerformanceScore:g,criticalAlerts:l,topOpportunities:m};return e.jsx(tn.Provider,{value:R,children:s})},Ms=h.forwardRef(({className:s,variant:t="default",...a},r)=>e.jsx("div",{ref:r,role:"alert",className:q("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{"bg-background text-foreground":t==="default","border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive":t==="destructive"},s),...a}));Ms.displayName="Alert";const Tl=h.forwardRef(({className:s,...t},a)=>e.jsx("h5",{ref:a,className:q("mb-1 font-medium leading-none tracking-tight",s),...t}));Tl.displayName="AlertTitle";const Es=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:q("text-sm [&_p]:leading-relaxed",s),...t}));Es.displayName="AlertDescription";const Ba=h.createContext({value:"",onValueChange:()=>{}}),$e=h.forwardRef(({className:s,value:t,onValueChange:a,defaultValue:r,children:n,...i},c)=>{const[o,d]=h.useState(r||""),p=t!==void 0?t:o,N=a||d;return e.jsx(Ba.Provider,{value:{value:p,onValueChange:N},children:e.jsx("div",{ref:c,className:q("w-full",s),...i,children:n})})});$e.displayName="Tabs";const Ve=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));Ve.displayName="TabsList";const X=h.forwardRef(({className:s,value:t,children:a,...r},n)=>{const{value:i,onValueChange:c}=h.useContext(Ba);return e.jsx("button",{ref:n,className:q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",i===t&&"bg-background text-foreground shadow-sm",s),onClick:()=>c(t),...r,children:a})});X.displayName="TabsTrigger";const Y=h.forwardRef(({className:s,value:t,children:a,...r},n)=>{const{value:i}=h.useContext(Ba);return i!==t?null:e.jsx("div",{ref:n,className:q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r,children:a})});Y.displayName="TabsContent";const Il=()=>{const{user:s,isExecutive:t}=Os(),{navigationState:a,sessionMetrics:r,navigateToModule:n}=lt(),{kpis:i}=ot(),[c,o]=h.useState([{id:"unified-revenue",name:"Total Platform Revenue",value:1875e4,unit:"₹",change:22.5,trend:"up",modules:["urjasanyojak","shuddhi-doot","urja-vyapar"],priority:"high",lastUpdated:new Date},{id:"operational-efficiency",name:"Cross-Platform Efficiency",value:91.2,unit:"%",change:8.3,trend:"up",modules:["urjasanyojak","shuddhi-doot"],priority:"high",lastUpdated:new Date},{id:"executive-decisions",name:"Strategic Decisions This Week",value:12,unit:"decisions",change:-15.2,trend:"down",modules:["urja-neta"],priority:"medium",lastUpdated:new Date}]),[d,p]=h.useState([{id:"cross-platform-synergy",title:"Cross-Platform Operational Synergy",description:"UrjaSanyojak and ShuddhiDoot integration showing 15% efficiency gain in biogas quality control",impact:"positive",confidence:94,actionRequired:!1,modules:["urjasanyojak","shuddhi-doot"],value:"+₹2.3Cr",timeframe:"Q1 2025"},{id:"sales-production-gap",title:"Sales-Production Alignment Gap",description:"UrjaVyapar sales commitments exceeding UrjaSanyojak production capacity by 12%",impact:"negative",confidence:87,actionRequired:!0,modules:["urjasanyojak","urja-vyapar"],value:"Risk: ₹1.8Cr",timeframe:"Immediate"},{id:"quality-premium-opportunity",title:"Premium Quality Market Opportunity",description:"ShuddhiDoot purity levels enabling 25% premium pricing in international markets",impact:"positive",confidence:82,actionRequired:!0,modules:["shuddhi-doot","urja-vyapar"],value:"+₹4.2Cr",timeframe:"6 months"}]),[N,f]=h.useState([{id:"weekly-exec-review",title:"Weekly Executive Review",participants:["Dr. Rajesh Kumar","Priya Sharma","Amit Patel"],status:"scheduled",startTime:new Date(Date.now()+2*60*60*1e3),duration:60,modules:["urjasanyojak","shuddhi-doot","urja-vyapar","urja-neta"]},{id:"production-sales-sync",title:"Production-Sales Alignment",participants:["Operations Team","Sales Team"],status:"active",startTime:new Date(Date.now()-30*60*1e3),duration:90,modules:["urjasanyojak","urja-vyapar"]}]),[u,v]=h.useState(!1),j=C=>C>=1e7?`₹${(C/1e7).toFixed(1)}Cr`:C>=1e5?`₹${(C/1e5).toFixed(1)}L`:`₹${C.toLocaleString()}`,P=async()=>{v(!0),await new Promise(C=>setTimeout(C,2e3)),o(C=>C.map(y=>({...y,lastUpdated:new Date}))),v(!1)},A=C=>{n(C)};return t()?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Executive Command Center"}),e.jsx("p",{className:"text-gray-600",children:"Unified platform oversight and strategic decision support"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{variant:"default",className:"bg-gold-100 text-gold-800 border-gold-300",children:"Executive Access"}),e.jsxs(O,{onClick:P,disabled:u,variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(os,{className:`h-4 w-4 ${u?"animate-spin":""}`}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsxs($e,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-5",children:[e.jsx(X,{value:"overview",children:"Platform Overview"}),e.jsx(X,{value:"insights",children:"Strategic Insights"}),e.jsx(X,{value:"collaboration",children:"Collaboration"}),e.jsx(X,{value:"performance",children:"Performance"}),e.jsx(X,{value:"reports",children:"Executive Reports"})]}),e.jsxs(Y,{value:"overview",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(C=>e.jsxs(b,{className:"relative",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{className:"text-sm font-medium",children:C.name}),e.jsx(L,{variant:C.priority==="high"?"default":"secondary",className:"text-xs",children:C.priority})]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:C.unit==="₹"?j(C.value):`${C.value}${C.unit}`}),e.jsxs("div",{className:`flex items-center text-sm ${C.trend==="up"?"text-green-600":"text-red-600"}`,children:[e.jsx(he,{className:`h-4 w-4 mr-1 ${C.trend==="down"?"rotate-180":""}`}),Math.abs(C.change),"%"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Source Modules:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:C.modules.map(y=>e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>A(y),className:"h-6 px-2 text-xs bg-blue-50 hover:bg-blue-100 text-blue-700",children:y.replace("-","")},y))})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Updated: ",C.lastUpdated.toLocaleTimeString()]})]})})]},C.id))}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(Ht,{className:"h-5 w-5"}),e.jsx("span",{children:"Platform Module Status"})]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Yt,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-900",children:"UrjaSanyojak"}),e.jsx("div",{className:"text-sm text-green-700",children:"Active"})]})]}),e.jsx(L,{variant:"default",className:"bg-green-100 text-green-800 border-green-300",children:"99.2%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-900",children:"ShuddhiDoot"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Active"})]})]}),e.jsx(L,{variant:"default",className:"bg-blue-100 text-blue-800 border-blue-300",children:"98.7%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(he,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-purple-900",children:"UrjaVyapar"}),e.jsx("div",{className:"text-sm text-purple-700",children:"Active"})]})]}),e.jsx(L,{variant:"default",className:"bg-purple-100 text-purple-800 border-purple-300",children:"97.9%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gold-50 rounded-lg border border-gold-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ct,{className:"h-8 w-8 text-gold-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gold-900",children:"UrjaNeta"}),e.jsx("div",{className:"text-sm text-gold-700",children:"Executive"})]})]}),e.jsx(L,{variant:"default",className:"bg-gold-100 text-gold-800 border-gold-300",children:"100%"})]})]})})]})]}),e.jsx(Y,{value:"insights",className:"space-y-6",children:e.jsx("div",{className:"space-y-4",children:d.map(C=>e.jsxs(b,{className:`border-l-4 ${C.impact==="positive"?"border-l-green-500 bg-green-50":C.impact==="negative"?"border-l-red-500 bg-red-50":"border-l-blue-500 bg-blue-50"}`,children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(k,{className:"text-lg",children:C.title}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(L,{variant:"outline",className:"text-xs",children:["Confidence: ",C.confidence,"%"]}),e.jsx(L,{variant:"secondary",className:"text-xs",children:C.timeframe}),C.value&&e.jsx(L,{variant:C.impact==="positive"?"default":"destructive",className:"text-xs",children:C.value})]})]}),C.actionRequired&&e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(as,{className:"h-4 w-4 mr-1"}),"Action Required"]})]})}),e.jsxs(w,{children:[e.jsx("p",{className:"text-gray-700 mb-4",children:C.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:C.modules.map(y=>e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>A(y),className:"h-6 px-2 text-xs",children:y},y))}),e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(Oe,{className:"h-4 w-4 mr-1"}),"Generate Report"]})]})]})]},C.id))})}),e.jsx(Y,{value:"collaboration",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(ua,{className:"h-5 w-5"}),e.jsx("span",{children:"Active Sessions"})]})}),e.jsxs(w,{className:"space-y-4",children:[N.filter(C=>C.status==="active").map(C=>e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-green-900",children:C.title}),e.jsx(L,{variant:"default",className:"bg-green-100 text-green-800",children:"Live"})]}),e.jsxs("p",{className:"text-sm text-green-700 mb-2",children:["Participants: ",C.participants.join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-green-600",children:["Started: ",Math.floor((Date.now()-C.startTime.getTime())/6e4),"m ago"]}),e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(ua,{className:"h-4 w-4 mr-1"}),"Join"]})]})]},C.id)),N.filter(C=>C.status==="scheduled").map(C=>e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-blue-900",children:C.title}),e.jsx(L,{variant:"secondary",children:"Scheduled"})]}),e.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:["Participants: ",C.participants.join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-blue-600",children:["Starts: ",C.startTime.toLocaleTimeString()]}),e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(Le,{className:"h-4 w-4 mr-1"}),"Add to Calendar"]})]})]},C.id))]})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(Ar,{className:"h-5 w-5"}),e.jsx("span",{children:"Executive Actions"})]})}),e.jsxs(w,{className:"space-y-3",children:[e.jsxs(O,{variant:"outline",className:"w-full justify-start",children:[e.jsx(ua,{className:"h-4 w-4 mr-2"}),"Start Executive Meeting"]}),e.jsxs(O,{variant:"outline",className:"w-full justify-start",children:[e.jsx(ii,{className:"h-4 w-4 mr-2"}),"Share Cross-Module Insights"]}),e.jsxs(O,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Create Strategic Document"]}),e.jsxs(O,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Export Unified Report"]})]})]})]})}),e.jsx(Y,{value:"performance",className:"space-y-6",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"h-5 w-5"}),e.jsx("span",{children:"Platform Performance Metrics"})]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1.2s"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Avg Load Time"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.8%"}),e.jsx("div",{className:"text-sm text-green-700",children:"Platform Uptime"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"2.1s"}),e.jsx("div",{className:"text-sm text-purple-700",children:"SSO Response"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"94.2%"}),e.jsx("div",{className:"text-sm text-orange-700",children:"User Satisfaction"})]})]})})]})}),e.jsx(Y,{value:"reports",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(O,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(Oe,{className:"h-6 w-6"}),e.jsx("span",{children:"Weekly Executive Summary"})]}),e.jsxs(O,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(Te,{className:"h-6 w-6"}),e.jsx("span",{children:"Cross-Module Analytics"})]}),e.jsxs(O,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(as,{className:"h-6 w-6"}),e.jsx("span",{children:"Strategic Planning Report"})]}),e.jsxs(O,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(yt,{className:"h-6 w-6"}),e.jsx("span",{children:"Performance Review"})]}),e.jsxs(O,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(We,{className:"h-6 w-6"}),e.jsx("span",{children:"Financial Overview"})]}),e.jsxs(O,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(Ie,{className:"h-6 w-6"}),e.jsx("span",{children:"Team Productivity"})]})]})})]})]}):e.jsxs(Ms,{className:"m-6",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx(Es,{children:"Executive Command Center requires executive-level access."})]})},Al=()=>{const{trackModuleUsage:s,updateBreadcrumbs:t}=lt();return h.useEffect(()=>{s("urja-neta"),t([{label:"Executive",url:"/executive",module:"urja-neta"},{label:"Command Center",url:"/executive",module:"urja-neta"}])},[]),e.jsx(an,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Executive Command Center"}),e.jsx("p",{className:"text-gray-600",children:"Unified platform analytics and cross-module insights for senior leadership"})]})}),e.jsx(Il,{})]})})},Pl={},rn=Pl?.VITE_API_URL||"http://localhost:8080";async function ss(s,t={}){try{const a=localStorage.getItem("saubhagya_jwt_token"),r={"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...t.headers},n=await fetch(`${rn}${s}`,{...t,headers:r}),i=await n.json();return n.ok?{success:!0,data:i}:{success:!1,error:i.message||`HTTP error! status: ${n.status}`}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}}const Rl={async getStats(){return ss("/api/dashboard/stats")},async getRecentCollections(s=10){return ss(`/api/dashboard/recent-collections?limit=${s}`)},async getTopPerformers(s=5){return ss(`/api/dashboard/top-performers?limit=${s}`)}},Ml={async getAllCattle(){try{const{IoTServiceClient:s}=await Ae(async()=>{const{IoTServiceClient:a}=await Promise.resolve().then(()=>ft);return{IoTServiceClient:a}},void 0),t=await s.getCattleList();return{success:t.success,data:t.data||[]}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async getCattleById(s){const t=await this.getAllCattle();if(!t.success||!t.data)return{success:!1,error:t.error||"Failed to fetch cattle data"};const a=t.data.find(r=>r.id===s);return a?{success:!0,data:a}:{success:!1,error:"Cattle not found"}},async getCattleByRfid(s){return ss(`/api/v1/cattle/rfid/${encodeURIComponent(s)}`)},async createCattle(s){try{const{IoTServiceClient:t}=await Ae(async()=>{const{IoTServiceClient:r}=await Promise.resolve().then(()=>ft);return{IoTServiceClient:r}},void 0),a=await t.addCattle({tagId:s.rfidTag,name:s.name,breed:s.breed,age:s.age,weight:s.weight});return{success:a.success,data:a.data}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},async updateCattle(s,t){try{const{IoTServiceClient:a}=await Ae(async()=>{const{IoTServiceClient:i}=await Promise.resolve().then(()=>ft);return{IoTServiceClient:i}},void 0),r={id:s,name:t.name,breed:t.breed,age:t.age,weight:t.weight};t.rfidTag&&(r.rfidTag=t.rfidTag),t.health&&(r.health=t.health),t.owner&&(r.ownerName=t.owner),t.ownerId&&(r.ownerId=t.ownerId),t.location&&(r.location=t.location);const n=await a.updateCattle(s,r);return{success:n.success,data:n.data}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}},async deleteCattle(s){try{const{IoTServiceClient:t}=await Ae(async()=>{const{IoTServiceClient:r}=await Promise.resolve().then(()=>ft);return{IoTServiceClient:r}},void 0);return{success:(await t.deleteCattle(s)).success}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},async scanRfid(){return new Promise(s=>{setTimeout(()=>{s({success:!0,data:{rfidTag:`RFID-${Date.now()}`}})},2e3)})},async updateHealth(s,t,a){const r={health:t};return this.updateCattle(s,r)},async addMedicalRecord(s,t){return ss(`/api/v1/cattle/${s}/medical-records`,{method:"POST",body:JSON.stringify(t)})},async uploadPhoto(s,t){const a=new FormData;a.append("photo",t);try{const r=localStorage.getItem("saubhagya_jwt_token"),n=await fetch(`${rn}/api/v1/cattle/${s}/photo`,{method:"POST",headers:{...r&&{Authorization:`Bearer ${r}`}},body:a}),i=await n.json();return n.ok?{success:!0,data:i}:{success:!1,error:i.message||`HTTP error! status: ${n.status}`}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}},El={async getAllTransactions(){return ss("/api/v1/transactions")},async getTransactionById(s){return ss(`/api/v1/transactions/${s}`)},async createTransaction(s){try{const{BiogasServiceClient:t}=await Ae(async()=>{const{BiogasServiceClient:r}=await Promise.resolve().then(()=>ft);return{BiogasServiceClient:r}},void 0),a=await t.recordContribution({cattleId:s.cattleId,dungWeight:s.dungWeight,dungQuality:s.dungQuality,workerId:s.worker,notes:s.notes,digestorId:s.digestorId});return{success:a.success||!0,data:a.data||a}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},async updateTransaction(s,t){return ss(`/api/v1/transactions/${s}`,{method:"PUT",body:JSON.stringify(t)})},async processPayment(s,t){return ss(`/api/v1/transactions/${s}/payment`,{method:"POST",body:JSON.stringify({paymentMethod:t})})},async getTransactionsByDigestor(s){return ss(`/api/v1/transactions/digestor/${s}`)},async getTransactionsByWorker(s){return ss(`/api/v1/transactions/worker/${s}`)},async getTransactionsByCattle(s){return ss(`/api/v1/transactions/cattle/${s}`)}},Ke={cattle:Ml,dashboard:Rl,transactions:El},Ol={en:{dashboard:"Dashboard",totalCows:"Total Cattle",cowsIn:"Cattle In",cowsOut:"Cattle Out",dungToday:"Dung Today",dungMonth:"Dung This Month",revenue:"Revenue",avgQuality:"Avg Quality",healthyHead:"Healthy",sickHead:"Sick",recentCollections:"Recent Collections",topPerformers:"Top Performers",quickActions:"Quick Actions",addCattle:"Add Cattle",viewReports:"View Reports",createTransaction:"Record Dung Collection",systemHealth:"System Health",kg:"kg",collections:"collections",worker:"Worker",quality:"Quality",status:"Status",completed:"Completed",processing:"Processing",failed:"Failed",digestor:"Digestor",timeAgo:"ago",minutes:"min",hours:"h",days:"d",createTransactionTitle:"Record Dung Collection",selectCattle:"Select Cattle",enterWeight:"Enter Weight (kg)",addNotes:"Add Notes (Optional)",cancel:"Cancel",submit:"Submit",required:"This field is required"},hi:{dashboard:"डैशबोर्ड",totalCows:"कुल पशु",cowsIn:"आने वाले पशु",cowsOut:"जाने वाले पशु",dungToday:"आज का गोबर",dungMonth:"इस महीने का गोबर",revenue:"आय",avgQuality:"औसत गुणवत्ता",healthyHead:"स्वस्थ",sickHead:"बीमार",recentCollections:"हाल के संग्रह",topPerformers:"शीर्ष कार्यकर्ता",quickActions:"त्वरित कार्य",addCattle:"पशु जोड़ें",viewReports:"रिपोर्ट देखें",createTransaction:"गोबर संग्रह रिकॉर्ड करें",systemHealth:"सिस्टम स्वास्थ्य",kg:"किलो",collections:"संग्रह",worker:"कार्यकर्ता",quality:"गुणवत्ता",status:"स्थिति",completed:"पूर्ण",processing:"प्रक्रिया में",failed:"असफल",digestor:"डाइजेस्टर",timeAgo:"पहले",minutes:"मिनट",hours:"घंटे",days:"दिन",createTransactionTitle:"गोबर संग्रह रिकॉर्ड करें",selectCattle:"पशु चुनें",enterWeight:"वजन दर्ज करें (किलो)",addNotes:"टिप्पणी जोड़ें (वैकल्पिक)",cancel:"रद्द करें",submit:"जमा करें",required:"यह फील्ड आवश्यक है"}};function Ll({languageContext:s}){const{language:t,t:a}=s,r=xs(),[n,i]=h.useState({totalCows:0,cowsIn:0,cowsOut:0,dungCollectionToday:0,dungCollectionMonth:0,totalRevenue:0,averageQuality:0,activeWorkers:0,healthyCows:0,sickCows:0,recentCollections:[],topPerformers:[]}),[c,o]=h.useState(!0),[d,p]=h.useState(!1),[N,f]=h.useState({cattleId:"",weight:"",notes:""}),[u,v]=h.useState(!1),j=S=>Ol[t][S]||S;h.useEffect(()=>{P()},[]);const P=async()=>{try{o(!0);const S=await Ke.dashboard.getStats();S.success&&S.data?i(S.data):i({totalCows:147,cowsIn:12,cowsOut:5,dungCollectionToday:285,dungCollectionMonth:8420,totalRevenue:45680,averageQuality:8.7,activeWorkers:8,healthyCows:139,sickCows:8,recentCollections:[{id:"coll-001",cattleName:"Ganga",weight:24.5,quality:9.2,worker:"Ramesh Kumar",timestamp:Date.now()-15*60*1e3,digestorId:"DIG-001",status:"completed"},{id:"coll-002",cattleName:"Yamuna",weight:18.7,quality:8.8,worker:"Suresh Patel",timestamp:Date.now()-35*60*1e3,digestorId:"DIG-002",status:"completed"},{id:"coll-003",cattleName:"Saraswati",weight:22.1,quality:9,worker:"Vikash Singh",timestamp:Date.now()-52*60*1e3,digestorId:"DIG-001",status:"processing"},{id:"coll-004",cattleName:"Narmada",weight:26.3,quality:8.5,worker:"Rajesh Gupta",timestamp:Date.now()-78*60*1e3,digestorId:"DIG-003",status:"completed"},{id:"coll-005",cattleName:"Kaveri",weight:19.8,quality:7.9,worker:"Mukesh Yadav",timestamp:Date.now()-95*60*1e3,digestorId:"DIG-002",status:"failed"}],topPerformers:[{name:"Ramesh Kumar",collections:45,totalWeight:987.5,avgQuality:9.1},{name:"Suresh Patel",collections:38,totalWeight:832.4,avgQuality:8.8},{name:"Vikash Singh",collections:34,totalWeight:756.2,avgQuality:8.9},{name:"Rajesh Gupta",collections:29,totalWeight:678.9,avgQuality:8.4},{name:"Mukesh Yadav",collections:25,totalWeight:587.3,avgQuality:8.2}]})}catch{i({totalCows:147,cowsIn:12,cowsOut:5,dungCollectionToday:285,dungCollectionMonth:8420,totalRevenue:45680,averageQuality:8.7,activeWorkers:8,healthyCows:139,sickCows:8,recentCollections:[{id:"coll-001",cattleName:"Ganga",weight:24.5,quality:9.2,worker:"Ramesh Kumar",timestamp:Date.now()-15*60*1e3,digestorId:"DIG-001",status:"completed"},{id:"coll-002",cattleName:"Yamuna",weight:18.7,quality:8.8,worker:"Suresh Patel",timestamp:Date.now()-35*60*1e3,digestorId:"DIG-002",status:"completed"},{id:"coll-003",cattleName:"Saraswati",weight:22.1,quality:9,worker:"Vikash Singh",timestamp:Date.now()-52*60*1e3,digestorId:"DIG-001",status:"processing"}],topPerformers:[{name:"Ramesh Kumar",collections:45,totalWeight:987.5,avgQuality:9.1},{name:"Suresh Patel",collections:38,totalWeight:832.4,avgQuality:8.8},{name:"Vikash Singh",collections:34,totalWeight:756.2,avgQuality:8.9}]})}finally{o(!1)}},A=S=>{const g=Date.now()-S,l=Math.floor(g/(1e3*60)),m=Math.floor(g/(1e3*60*60)),R=Math.floor(g/(1e3*60*60*24));return R>0?`${R} ${j("days")} ${j("timeAgo")}`:m>0?`${m} ${j("hours")} ${j("timeAgo")}`:`${l} ${j("minutes")} ${j("timeAgo")}`},C=S=>{switch(S){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=async S=>{if(S.preventDefault(),!N.cattleId||!N.weight){alert(j("required"));return}v(!0);try{const T={cattleId:N.cattleId,weight:parseFloat(N.weight),notes:N.notes,type:"dung_collection",timestamp:new Date().toISOString()},g=await Ke.transactions.createTransaction(T);if(g.success)f({cattleId:"",weight:"",notes:""}),p(!1),P(),alert("Transaction recorded successfully!");else throw new Error(g.error||"Failed to create transaction")}catch{alert("Failed to record transaction. Please try again.")}finally{v(!1)}};return c?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"px-4 py-3 space-y-3 bg-gray-50 min-h-full",children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("h1",{className:"text-base font-bold text-gray-900",children:"Dashboard Overview"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Monitor your cattle management and collection metrics"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300 hover:scale-[1.02] overflow-hidden",children:[e.jsx("div",{className:"h-1 bg-gradient-to-r from-blue-500 to-blue-600"}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-blue-700",children:j("totalCows")}),e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(Bs,{className:"h-5 w-5 text-blue-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-3",children:n.totalCows}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-emerald-600",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),e.jsxs("span",{className:"font-medium",children:[n.cowsIn," In Today"]})]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"+8%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),e.jsxs("span",{className:"font-medium",children:[n.cowsOut," Out Today"]})]}),e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx(Vs,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"-3%"})]})]})]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300 hover:scale-[1.02] overflow-hidden",children:[e.jsx("div",{className:"h-1 bg-gradient-to-r from-green-500 to-green-600"}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-green-700",children:j("dungToday")}),e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(rs,{className:"h-5 w-5 text-green-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:n.dungCollectionToday}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"kg collected today"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["This month: ",n.dungCollectionMonth," kg"]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"+15%"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(n.dungCollectionToday/100*100,100)}%`}})})]})]})})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:j("revenue")}),e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(We,{className:"h-5 w-5 text-blue-600"})})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:["₹",n.totalRevenue.toLocaleString("hi-IN")]}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"total revenue"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"vs last month"}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"+12.5%"})]})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),e.jsx("span",{children:"Above target by ₹2,340"})]})]})]})})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:j("avgQuality")}),e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(ke,{className:"h-5 w-5 text-purple-600"})})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:[n.averageQuality,e.jsx("span",{className:"text-lg text-gray-500",children:"/10"})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"average quality score"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-emerald-600",children:[e.jsx(de,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{className:"font-medium",children:[n.healthyCows," Healthy"]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"95%"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx(js,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{className:"font-medium",children:[n.sickCows," Need Care"]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"5%"})]})]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j("quickActions")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Fast access to common tasks"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>r("/gaushala/cattle/add"),className:"flex items-center p-5 bg-gradient-to-r from-blue-50 to-blue-100/50 rounded-xl hover:from-blue-100 hover:to-blue-150 transition-all duration-200 group border border-blue-200/50",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-xl group-hover:bg-blue-700 transition-colors shadow-sm",children:e.jsx(Ss,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-blue-900",children:j("addCattle")}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Register new cattle with RFID"})]})]}),e.jsxs("button",{onClick:()=>r("/gaushala/cattle"),className:"flex items-center p-5 bg-gradient-to-r from-emerald-50 to-emerald-100/50 rounded-xl hover:from-emerald-100 hover:to-emerald-150 transition-all duration-200 group border border-emerald-200/50",children:[e.jsx("div",{className:"p-3 bg-emerald-600 rounded-xl group-hover:bg-emerald-700 transition-colors shadow-sm",children:e.jsx(ds,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-emerald-900",children:j("viewReports")}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Analytics and performance reports"})]})]}),e.jsxs("button",{onClick:()=>r("/gaushala/transactions/create"),className:"flex items-center p-5 bg-gradient-to-r from-orange-50 to-orange-100/50 rounded-xl hover:from-orange-100 hover:to-orange-150 transition-all duration-200 group border border-orange-200/50",children:[e.jsx("div",{className:"p-3 bg-orange-600 rounded-xl group-hover:bg-orange-700 transition-colors shadow-sm",children:e.jsx(rs,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-orange-900",children:j("createTransaction")}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Record new dung collection transaction"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j("recentCollections")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Latest dung collection activities"})]}),e.jsx("button",{className:"px-3 py-1.5 text-blue-600 hover:bg-blue-50 rounded-lg text-sm font-medium transition-colors",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:n.recentCollections.length===0?e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(ke,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"No recent collections"})]}):n.recentCollections.map(S=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:S.cattleName}),e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${C(S.status)}`,children:j(S.status)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(rs,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),e.jsxs("span",{className:"font-medium",children:[S.weight," kg"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ke,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),e.jsxs("span",{children:["Quality: ",S.quality,"/10"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Worker: ",S.worker]}),e.jsx("span",{children:A(S.timestamp)})]})]})})},S.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j("topPerformers")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Best performing workers this month"})]}),e.jsx("button",{className:"px-3 py-1.5 text-blue-600 hover:bg-blue-50 rounded-lg text-sm font-medium transition-colors",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:n.topPerformers.length===0?e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(Ie,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"No performance data yet"})]}):n.topPerformers.map((S,T)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsxs("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-bold text-sm ${T===0?"bg-gradient-to-r from-green-400 to-green-500":T===1?"bg-gradient-to-r from-gray-400 to-gray-600":T===2?"bg-gradient-to-r from-purple-600 to-purple-700":"bg-gradient-to-r from-blue-500 to-blue-600"}`,children:["#",T+1]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:S.name}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Collections"}),e.jsx("span",{className:"font-semibold",children:S.collections})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Total Weight"}),e.jsxs("span",{className:"font-semibold",children:[S.totalWeight," kg"]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Avg Quality"}),e.jsxs("span",{className:"font-semibold",children:[S.avgQuality,"/10"]})]})]})]})]})},S.name))})]})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j("createTransactionTitle")}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ws,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[j("selectCattle")," *"]}),e.jsxs("select",{value:N.cattleId,onChange:S=>f(T=>({...T,cattleId:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:j("selectCattle")}),e.jsx("option",{value:"cattle-001",children:"Ganga (RFID: RF001)"}),e.jsx("option",{value:"cattle-002",children:"Yamuna (RFID: RF002)"}),e.jsx("option",{value:"cattle-003",children:"Saraswati (RFID: RF003)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[j("enterWeight")," *"]}),e.jsx("input",{type:"number",step:"0.1",min:"0",value:N.weight,onChange:S=>f(T=>({...T,weight:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:j("addNotes")}),e.jsx("textarea",{value:N.notes,onChange:S=>f(T=>({...T,notes:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Optional notes about the collection..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",disabled:u,children:j("cancel")}),e.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center",disabled:u,children:[u?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(rt,{className:"h-4 w-4 mr-2"}),j("submit")]})]})]})]})})]})}const nn={"auth-service":{name:"Authentication Service",baseUrl:"http://localhost:8081",port:8081,endpoints:["/auth/api/v1/login","/auth/api/v1/register","/auth/api/v1/cattle/list","/auth/api/v1/cattle/store","/auth/oauth2/token"],status:"active"},"iot-service":{name:"IoT Device Management Service",baseUrl:"http://localhost:8080",port:8080,endpoints:["/iot/api/v1/devices","/iot/api/v1/rfid-tags","/iot/api/v1/sensors"],status:"active"},"biogas-service":{name:"Biogas Contribution Service",baseUrl:"http://localhost:8082",port:8082,endpoints:["/api/v1/contributions","/api/v1/contributions/farmer","/api/v1/contributions/analytics"],status:"active"},"transaction-service":{name:"Biogas Transaction Service",baseUrl:"http://localhost:8082",port:8082,endpoints:["/api/v1/transactions","/api/v1/biogas-production","/api/v1/contributions"],status:"active"},"sales-service":{name:"Commerce & Sales Service",baseUrl:"http://localhost:8083",port:8083,endpoints:["/api/commerce/sales","/api/commerce/orders","/api/commerce/contributions"],status:"active"},"reporting-service":{name:"Analytics & Reporting Service",baseUrl:"http://localhost:8084",port:8084,endpoints:["/api/v1/analytics","/api/v1/reports","/api/v1/dashboard"],status:"active"},"government-service":{name:"Government Dashboard Service",baseUrl:"http://localhost:8085",port:8085,endpoints:["/government/api/v1/dashboard","/government/api/v1/schemes","/government/api/v1/compliance"],status:"active"}};class ln{serviceRegistry=nn;getService(t){return this.serviceRegistry[t]||null}async callService(t,a,r={}){const n=this.getService(t);if(!n)throw new Error(`Service '${t}' not found in registry`);if(n.status!=="active")throw new Error(`Service '${t}' is currently ${n.status}`);const i=`${n.baseUrl}${a}`,c=localStorage.getItem("saubhagya_jwt_token"),o={"Content-Type":"application/json",...c&&{Authorization:`Bearer ${c}`},...r.headers};return fetch(i,{...r,headers:o})}getActiveServices(){return Object.values(this.serviceRegistry).filter(t=>t.status==="active")}async healthCheck(){const t={};for(const[a,r]of Object.entries(this.serviceRegistry))try{const n=await fetch(`${r.baseUrl}/actuator/health`,{method:"GET",timeout:5e3});t[a]=n.ok}catch{t[a]=!1}return t}}const _s=new ln,Fl={async getCattleList(){try{const s=await fetch("http://localhost:8081/auth/api/v1/cattle/list",{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch{return{success:!0,data:[{id:"cattle-001",rfidTag:"RFID001A2B3C",name:"गौमाता श्री",breed:"गिर",age:5,weight:450,health:"healthy",owner:"रामेश शर्मा",ownerId:"farmer_001",currentStatus:"IN",location:{latitude:28.6139,longitude:77.209,timestamp:Date.now(),address:"गौशाला नंबर 1, नई दिल्ली"},totalDungCollected:2850.5,lastDungCollection:Date.now()-864e5,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/4CAF50/white?text=Gaumata+Sri",medicalHistory:[{id:"med_001",date:Date.now()-2592e6,type:"vaccination",description:"FMD Vaccination",veterinarian:"Dr. सुरेश वर्मा",medication:"FMD Vaccine",nextCheckup:Date.now()+2592e6}],createdAt:Date.now()-31536e6,updatedAt:Date.now()},{id:"cattle-002",rfidTag:"RFID002D4E5F",name:"कामधेनु",breed:"सिंधी",age:3,weight:380,health:"healthy",owner:"सुनीता देवी",ownerId:"farmer_002",currentStatus:"IN",location:{latitude:28.62,longitude:77.21,timestamp:Date.now(),address:"गौशाला नंबर 2, नई दिल्ली"},totalDungCollected:1950.75,lastDungCollection:Date.now()-432e5,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/2196F3/white?text=Kamdhenu",medicalHistory:[{id:"med_002",date:Date.now()-1296e6,type:"checkup",description:"Regular Health Checkup",veterinarian:"Dr. अनिल कुमार",nextCheckup:Date.now()+1296e6}],createdAt:Date.now()-15768e6,updatedAt:Date.now()},{id:"cattle-003",rfidTag:"RFID003G6H7I",name:"नंदिनी",breed:"होल्स्टीन",age:4,weight:520,health:"vaccination_due",owner:"राजेश गुप्ता",ownerId:"farmer_003",currentStatus:"OUT",location:{latitude:28.605,longitude:77.195,timestamp:Date.now(),address:"चारागाह क्षेत्र, नई दिल्ली"},totalDungCollected:3200.25,lastDungCollection:Date.now()-1728e5,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/FF9800/white?text=Nandini",medicalHistory:[{id:"med_003",date:Date.now()-5184e6,type:"vaccination",description:"Brucellosis Vaccination",veterinarian:"Dr. प्रीति शर्मा",medication:"Brucella Vaccine",nextCheckup:Date.now()+6048e5}],createdAt:Date.now()-20736e6,updatedAt:Date.now()},{id:"cattle-004",rfidTag:"RFID004J8K9L",name:"सुरभि",breed:"जर्सी",age:2,weight:320,health:"recovering",owner:"मनोज कुमार",ownerId:"farmer_004",currentStatus:"IN",location:{latitude:28.63,longitude:77.22,timestamp:Date.now(),address:"चिकित्सा केंद्र, नई दिल्ली"},totalDungCollected:850.5,lastDungCollection:Date.now()-2592e5,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/E91E63/white?text=Surabhi",medicalHistory:[{id:"med_004",date:Date.now()-6048e5,type:"treatment",description:"Digestive Issues Treatment",veterinarian:"Dr. राहुल त्रिपाठी",medication:"Digestive Enzymes",nextCheckup:Date.now()+12096e5}],createdAt:Date.now()-10368e6,updatedAt:Date.now()},{id:"cattle-005",rfidTag:"RFID005M0N1O",name:"अदिति",breed:"गिर",age:6,weight:480,health:"healthy",owner:"गीता शर्मा",ownerId:"farmer_005",currentStatus:"IN",location:{latitude:28.64,longitude:77.23,timestamp:Date.now(),address:"गौशाला नंबर 3, नई दिल्ली"},totalDungCollected:4100.75,lastDungCollection:Date.now()-216e5,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/9C27B0/white?text=Aditi",medicalHistory:[{id:"med_005",date:Date.now()-7776e6,type:"surgery",description:"Cesarean Section",veterinarian:"Dr. अमित पटेल",medication:"Post-surgery antibiotics",nextCheckup:Date.now()+2592e6}],createdAt:Date.now()-41472e6,updatedAt:Date.now()},{id:"cattle-006",rfidTag:"RFID006P2Q3R",name:"लक्ष्मी",breed:"सिंधी",age:4,weight:410,health:"sick",owner:"दीपक अग्रवाल",ownerId:"farmer_006",currentStatus:"IN",location:{latitude:28.61,longitude:77.2,timestamp:Date.now(),address:"अस्पताल वार्ड, नई दिल्ली"},totalDungCollected:2350.25,lastDungCollection:Date.now()-432e6,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/795548/white?text=Lakshmi",medicalHistory:[{id:"med_006",date:Date.now()-864e5,type:"treatment",description:"Fever and Loss of Appetite",veterinarian:"Dr. संजय वर्मा",medication:"Antibiotics and Vitamins",nextCheckup:Date.now()+6048e5}],createdAt:Date.now()-2592e7,updatedAt:Date.now()}]}}},async addCattle(s){return(await _s.callService("auth-service","/auth/api/v1/cattle/store",{method:"POST",body:JSON.stringify(s)})).json()},async updateCattle(s,t){const a={...t,id:s};return(await _s.callService("auth-service","/auth/api/v1/cattle/update",{method:"PUT",body:JSON.stringify(a)})).json()},async deleteCattle(s){return(await _s.callService("auth-service",`/auth/api/v1/cattle/delete/${s}`,{method:"DELETE"})).json()}},ea={async recordContribution(s){try{const t=await fetch("http://localhost:8082/api/v1/contributions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return t.ok?await t.json():{success:!0,id:`COW_DUNG_TXN_${Date.now()}`,message:"Transaction recorded successfully (fallback mode)",...s}}catch{return{success:!0,id:`COW_DUNG_TXN_${Date.now()}`,message:"Transaction recorded successfully (fallback mode)",...s}}},async getAllContributions(s=0,t=100){try{const a=await fetch("http://localhost:8082/api/v1/contributions",{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok)return await a.json()||[];throw new Error(`HTTP error! status: ${a.status}`)}catch{return[{id:"COW_DUNG_TXN_1758163536",externalId:"COW_DUNG_TXN_1758163536",contributionDate:"2025-09-18T02:45:35.7132",cattleId:"cattle-010203",cattleName:"cattle-010203",rfidTag:"server_1758161786953_50ced630",weightKg:50.75,ratePerKg:12,totalAmount:609,paymentMethod:"UPI",paymentStatus:"COMPLETED",qualityGrade:"STANDARD",moistureContent:65,gpsLatitude:28.6139,gpsLongitude:77.209,operatorUserId:"gaushala_user",operatorName:"Ravi Sharma",operatorPhone:"+919876543210",workflowStatus:"CONTRIBUTION_RECORDED",validationStatus:"VALIDATED",farmer:{name:"Gaushala User",externalId:"gaushala_user",phone:"+911234567890"}},{id:"COW_DUNG_TXN_1758163874",externalId:"COW_DUNG_TXN_1758163874",contributionDate:"2025-09-18T02:51:14.20149",cattleId:"cattle-010203",cattleName:"cattle-010203",rfidTag:"server_1758161786953_50ced630",weightKg:35.25,ratePerKg:15,totalAmount:528.75,paymentMethod:"CASH",paymentStatus:"COMPLETED",qualityGrade:"PREMIUM",moistureContent:60,gpsLatitude:28.7041,gpsLongitude:77.1025,operatorUserId:"gaushala_user",operatorName:"Ravi Sharma",operatorPhone:"+919876543210",workflowStatus:"CONTRIBUTION_RECORDED",validationStatus:"VALIDATED",farmer:{name:"Gaushala User",externalId:"gaushala_user",phone:"+911234567890"}}]}},async getFarmerContributions(s,t=0,a=20){return(await _s.callService("biogas-service",`/api/v1/contributions/farmer/${s}?page=${t}&size=${a}`)).json()},async getContribution(s){return(await _s.callService("biogas-service",`/api/v1/contributions/${s}`)).json()},async processPayment(s,t){return(await _s.callService("biogas-service",`/api/v1/contributions/${s}/payment`,{method:"POST",body:JSON.stringify(t)})).json()},async getContributionAnalytics(s,t,a){return(await _s.callService("biogas-service",`/api/v1/contributions/analytics?clusterId=${s}&fromDate=${t}&toDate=${a}`)).json()}},ft=Object.freeze(Object.defineProperty({__proto__:null,BiogasServiceClient:ea,IoTServiceClient:Fl,MicroservicesClient:ln,SERVICE_REGISTRY:nn,microservicesClient:_s},Symbol.toStringTag,{value:"Module"})),ut={PREMIUM:15,STANDARD:12,BASIC:8},_l={en:{title:"Record Cow Dung Collection",subtitle:"Add new contribution to biogas production",farmerInfo:"Farmer Information",farmerName:"Farmer Name",farmerId:"Farmer ID",collectionDetails:"Collection Details",weight:"Weight (kg)",qualityGrade:"Quality Grade",premium:"Premium",standard:"Standard",basic:"Basic",moistureContent:"Moisture Content (%)",location:"Collection Location",latitude:"Latitude",longitude:"Longitude",getCurrentLocation:"Get Current Location",paymentDetails:"Payment Details",ratePerKg:"Rate per kg (₹)",totalAmount:"Total Amount (₹)",paymentMethod:"Payment Method",additionalInfo:"Additional Information",deviceId:"Device Reading ID",notes:"Notes",recordTransaction:"Record Transaction",cancel:"Cancel",processing:"Processing...",success:"Transaction recorded successfully!",error:"Failed to record transaction. Please try again.",requiredField:"This field is required",invalidWeight:"Weight must be greater than 0",invalidRate:"Rate must be greater than 0"},hi:{title:"गोबर संग्रह रिकॉर्ड करें",subtitle:"बायोगैस उत्पादन में नया योगदान जोड़ें",farmerInfo:"किसान की जानकारी",farmerName:"किसान का नाम",farmerId:"किसान ID",collectionDetails:"संग्रह विवरण",weight:"वजन (किलो)",qualityGrade:"गुणवत्ता श्रेणी",premium:"प्रीमियम",standard:"मानक",basic:"बेसिक",moistureContent:"नमी की मात्रा (%)",location:"संग्रह स्थान",latitude:"अक्षांश",longitude:"देशांतर",getCurrentLocation:"वर्तमान स्थान लें",paymentDetails:"भुगतान विवरण",ratePerKg:"प्रति किलो दर (₹)",totalAmount:"कुल राशि (₹)",paymentMethod:"भुगतान विधि",additionalInfo:"अतिरिक्त जानकारी",deviceId:"डिवाइस रीडिंग ID",notes:"टिप्पणी",recordTransaction:"लेनदेन रिकॉर्ड करें",cancel:"रद्द करें",processing:"प्रसंस्करण...",success:"लेनदेन सफलतापूर्वक रिकॉर्ड हुआ!",error:"लेनदेन रिकॉर्ड करने में विफल। कृपया पुनः प्रयास करें।",requiredField:"यह फ़ील्ड आवश्यक है",invalidWeight:"वजन 0 से अधिक होना चाहिए",invalidRate:"दर 0 से अधिक होनी चाहिए"}};function Bl({cattle:s,onClose:t,onSuccess:a}){const[r]=h.useState("en"),[n,i]=h.useState({cattleId:s?.id||"",farmerId:s?.ownerId||"",farmerName:s?.owner||"",weightKg:"",ratePerKg:ut.STANDARD.toString(),totalAmount:"0.00",paymentMethod:"UPI",qualityGrade:"STANDARD",moistureContent:"65",gpsLatitude:"",gpsLongitude:"",deviceReadingId:"",notes:""}),[c,o]=h.useState(!1),[d,p]=h.useState({}),[N,f]=h.useState("idle"),u=y=>_l[r][y]||y;h.useEffect(()=>{const y=parseFloat(n.weightKg),S=parseFloat(n.ratePerKg);if(!isNaN(y)&&!isNaN(S)&&y>0&&S>0){const T=(y*S).toFixed(2);i(g=>({...g,totalAmount:T}))}else i(T=>({...T,totalAmount:"0.00"}))},[n.weightKg,n.ratePerKg]),h.useEffect(()=>{const y=ut[n.qualityGrade].toString();i(S=>({...S,ratePerKg:y}))},[n.qualityGrade]);const v=(y,S)=>{i(T=>({...T,[y]:S})),d[y]&&p(T=>({...T,[y]:""}))},j=()=>{if(f("loading"),!navigator.geolocation){f("error"),alert("Geolocation is not supported by this browser.");return}navigator.geolocation.getCurrentPosition(y=>{i(S=>({...S,gpsLatitude:y.coords.latitude.toFixed(6),gpsLongitude:y.coords.longitude.toFixed(6)})),f("success")},y=>{f("error"),alert("Unable to get current location. Please enter manually.")})},P=()=>{const y={};n.farmerName.trim()||(y.farmerName=u("requiredField")),n.farmerId.trim()||(y.farmerId=u("requiredField"));const S=parseFloat(n.weightKg);(!n.weightKg||isNaN(S)||S<=0)&&(y.weightKg=u("invalidWeight"));const T=parseFloat(n.ratePerKg);return(!n.ratePerKg||isNaN(T)||T<=0)&&(y.ratePerKg=u("invalidRate")),p(y),Object.keys(y).length===0},A=async()=>{if(P()){o(!0);try{const y={externalId:`CONTRIB-${Date.now()}`,farmerId:n.farmerId,farmerName:n.farmerName,cattleId:n.cattleId,deviceReadingId:n.deviceReadingId||null,contributionDate:new Date().toISOString(),weightKg:parseFloat(n.weightKg),ratePerKg:parseFloat(n.ratePerKg),totalAmount:parseFloat(n.totalAmount),paymentMethod:n.paymentMethod,qualityGrade:n.qualityGrade,moistureContent:parseFloat(n.moistureContent),gpsLatitude:n.gpsLatitude?parseFloat(n.gpsLatitude):null,gpsLongitude:n.gpsLongitude?parseFloat(n.gpsLongitude):null,notes:n.notes||null,isSubsidyEligible:!0,carbonCreditEligible:!0},S=await ea.recordContribution(y);if(S.success!==!1)alert(u("success")),a(S),t();else throw new Error(S.message||"Failed to record contribution")}catch{alert(u("error"))}finally{o(!1)}}},C=y=>{switch(y){case"PREMIUM":return"bg-green-100 text-green-800 border-green-200";case"STANDARD":return"bg-blue-100 text-blue-800 border-blue-200";case"BASIC":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:u("title")}),e.jsx("p",{className:"text-gray-600",children:u("subtitle")}),s&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Cattle: ",s.name," (ID: ",s.rfidTag,")"]})]}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100",children:e.jsx(ws,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx($s,{className:"h-5 w-5 mr-2 text-blue-600"}),u("farmerInfo")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[u("farmerName")," *"]}),e.jsx("input",{type:"text",value:n.farmerName,onChange:y=>v("farmerName",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.farmerName?"border-red-300":"border-gray-300"}`}),d.farmerName&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.farmerName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[u("farmerId")," *"]}),e.jsx("input",{type:"text",value:n.farmerId,onChange:y=>v("farmerId",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.farmerId?"border-red-300":"border-gray-300"}`}),d.farmerId&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.farmerId})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(rs,{className:"h-5 w-5 mr-2 text-green-600"}),u("collectionDetails")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[u("weight")," *"]}),e.jsx("input",{type:"number",step:"0.1",min:"0",value:n.weightKg,onChange:y=>v("weightKg",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.weightKg?"border-red-300":"border-gray-300"}`}),d.weightKg&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.weightKg})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:u("qualityGrade")}),e.jsxs("select",{value:n.qualityGrade,onChange:y=>v("qualityGrade",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("option",{value:"PREMIUM",children:[u("premium")," (₹",ut.PREMIUM,"/kg)"]}),e.jsxs("option",{value:"STANDARD",children:[u("standard")," (₹",ut.STANDARD,"/kg)"]}),e.jsxs("option",{value:"BASIC",children:[u("basic")," (₹",ut.BASIC,"/kg)"]})]}),e.jsxs("div",{className:`mt-2 px-2 py-1 rounded text-xs border ${C(n.qualityGrade)}`,children:[e.jsx(Pa,{className:"h-3 w-3 inline mr-1"}),n.qualityGrade," Quality"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:u("moistureContent")}),e.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:n.moistureContent,onChange:y=>v("moistureContent",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(qe,{className:"h-5 w-5 mr-2 text-red-600"}),u("location")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:u("latitude")}),e.jsx("input",{type:"number",step:"any",value:n.gpsLatitude,onChange:y=>v("gpsLatitude",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:u("longitude")}),e.jsx("input",{type:"number",step:"any",value:n.gpsLongitude,onChange:y=>v("gpsLongitude",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{type:"button",onClick:j,disabled:N==="loading",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:[N==="loading"?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):e.jsx(qe,{className:"h-4 w-4 mr-2"}),u("getCurrentLocation")]})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Kt,{className:"h-5 w-5 mr-2 text-purple-600"}),u("paymentDetails")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[u("ratePerKg")," *"]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:n.ratePerKg,onChange:y=>v("ratePerKg",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.ratePerKg?"border-red-300":"border-gray-300"}`}),d.ratePerKg&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:d.ratePerKg})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:u("totalAmount")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:`₹${n.totalAmount}`,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 font-semibold text-green-600"}),e.jsx(Ra,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-green-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:u("paymentMethod")}),e.jsxs("select",{value:n.paymentMethod,onChange:y=>v("paymentMethod",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"NEFT",children:"NEFT"}),e.jsx("option",{value:"AEPS",children:"AEPS"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(he,{className:"h-5 w-5 mr-2 text-orange-600"}),u("additionalInfo")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:u("deviceId")}),e.jsx("input",{type:"text",value:n.deviceReadingId,onChange:y=>v("deviceReadingId",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional device reading ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:u("notes")}),e.jsx("textarea",{value:n.notes,onChange:y=>v("notes",y.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional notes about the collection"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:t,disabled:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:u("cancel")}),e.jsx("button",{onClick:A,disabled:c,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),u("processing")]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"h-4 w-4"}),u("recordTransaction")]})})]})]})]})})}const Ul={en:{title:"Transaction History",subtitle:"Complete contribution and payment history",summary:"Summary",totalContributions:"Total Contributions",totalWeight:"Total Weight",totalValue:"Total Value",avgQuality:"Average Quality",searchPlaceholder:"Search by transaction ID or notes...",filterByPayment:"Filter by Payment",filterByQuality:"Filter by Quality",allPayments:"All Payments",allQualities:"All Qualities",date:"Date",transactionId:"Transaction ID",weight:"Weight (kg)",quality:"Quality",amount:"Amount (₹)",paymentMethod:"Payment",status:"Status",actions:"Actions",view:"View Details",premium:"Premium",standard:"Standard",basic:"Basic",pending:"Pending",processing:"Processing",completed:"Completed",failed:"Failed",exportData:"Export Data",noTransactions:"No transactions found",kg:"kg",close:"Close",viewDetails:"View Details",location:"Location",moistureContent:"Moisture Content",notes:"Notes",workflowStatus:"Workflow Status",validationStatus:"Validation Status"},hi:{title:"लेनदेन इतिहास",subtitle:"पूर्ण योगदान और भुगतान इतिहास",summary:"सारांश",totalContributions:"कुल योगदान",totalWeight:"कुल वजन",totalValue:"कुल मूल्य",avgQuality:"औसत गुणवत्ता",searchPlaceholder:"लेनदेन ID या नोट्स से खोजें...",filterByPayment:"भुगतान के अनुसार फ़िल्टर करें",filterByQuality:"गुणवत्ता के अनुसार फ़िल्टर करें",allPayments:"सभी भुगतान",allQualities:"सभी गुणवत्ता",date:"दिनांक",transactionId:"लेनदेन ID",weight:"वजन (किलो)",quality:"गुणवत्ता",amount:"राशि (₹)",paymentMethod:"भुगतान",status:"स्थिति",actions:"कार्य",view:"विवरण देखें",premium:"प्रीमियम",standard:"मानक",basic:"बेसिक",pending:"लंबित",processing:"प्रसंस्करण",completed:"पूर्ण",failed:"असफल",exportData:"डेटा निर्यात करें",noTransactions:"कोई लेनदेन नहीं मिला",kg:"किलो",close:"बंद करें",viewDetails:"विवरण देखें",location:"स्थान",moistureContent:"नमी की मात्रा",notes:"टिप्पणी",workflowStatus:"वर्कफ़्लो स्थिति",validationStatus:"सत्यापन स्थिति"}};function ql({farmerId:s,farmerName:t,onClose:a}){const[r]=h.useState("en"),[n,i]=h.useState([]),[c,o]=h.useState([]),[d,p]=h.useState(!0),[N,f]=h.useState(""),[u,v]=h.useState(""),[j,P]=h.useState(""),[A,C]=h.useState(null),[y,S]=h.useState(!1),T=I=>Ul[r][I]||I;h.useEffect(()=>{g()},[s]),h.useEffect(()=>{l()},[n,N,u,j]);const g=async()=>{try{p(!0);const I=await ea.getFarmerContributions(s,0,100);I&&Array.isArray(I)?i(I):i([])}catch{i([])}finally{p(!1)}},l=()=>{let I=[...n];N&&(I=I.filter(V=>V.externalId.toLowerCase().includes(N.toLowerCase())||V.notes&&V.notes.toLowerCase().includes(N.toLowerCase()))),u&&(I=I.filter(V=>V.paymentMethod===u)),j&&(I=I.filter(V=>V.qualityGrade===j)),o(I)},m=()=>{const I=n.length,V=n.reduce((ce,re)=>ce+re.weightKg,0),_=n.reduce((ce,re)=>ce+re.totalAmount,0),H=n.reduce((ce,re)=>(ce[re.qualityGrade]=(ce[re.qualityGrade]||0)+1,ce),{}),z=Object.keys(H),te=z.length>0?z.reduce((ce,re)=>H[ce]>H[re]?ce:re):"STANDARD";return{totalContributions:I,totalWeight:V.toFixed(1),totalValue:_.toFixed(2),avgQuality:te}},R=I=>new Date(I).toLocaleDateString(r==="hi"?"hi-IN":"en-IN"),x=I=>{switch(I){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"PROCESSING":return"bg-blue-100 text-blue-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=I=>{switch(I){case"PREMIUM":return"bg-green-100 text-green-800";case"STANDARD":return"bg-blue-100 text-blue-800";case"BASIC":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},M=I=>{C(I),S(!0)},$=()=>{const I=n.map(te=>({"Transaction ID":te.externalId,Date:R(te.contributionDate),"Weight (kg)":te.weightKg,Quality:te.qualityGrade,"Rate (₹/kg)":te.ratePerKg,"Total Amount (₹)":te.totalAmount,"Payment Method":te.paymentMethod,"Payment Status":te.paymentStatus,Location:te.gpsLatitude&&te.gpsLongitude?`${te.gpsLatitude}, ${te.gpsLongitude}`:"N/A",Notes:te.notes||"N/A"})),V=[Object.keys(I[0]||{}).join(","),...I.map(te=>Object.values(te).join(","))].join(`
`),_=new Blob([V],{type:"text/csv"}),H=window.URL.createObjectURL(_),z=document.createElement("a");z.href=H,z.download=`farmer-${s}-contributions.csv`,z.click(),window.URL.revokeObjectURL(H)},G=m();return d?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-center mt-4",children:"Loading transaction history..."})]})}):e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-blue-50 to-green-50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:T("title")}),e.jsx("p",{className:"text-gray-600",children:T("subtitle")}),e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Farmer: ",t," (ID: ",s,")"]})]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100",children:e.jsx(ws,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:T("totalContributions")}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:G.totalContributions})]})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rs,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:T("totalWeight")}),e.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[G.totalWeight," ",T("kg")]})]})]})}),e.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ra,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:T("totalValue")}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:["₹",G.totalValue]})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pa,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:T("avgQuality")}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:T(G.avgQuality.toLowerCase())})]})]})})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:T("searchPlaceholder"),value:N,onChange:I=>f(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("select",{value:u,onChange:I=>v(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:T("allPayments")}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"NEFT",children:"NEFT"}),e.jsx("option",{value:"AEPS",children:"AEPS"})]}),e.jsxs("select",{value:j,onChange:I=>P(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:T("allQualities")}),e.jsx("option",{value:"PREMIUM",children:T("premium")}),e.jsx("option",{value:"STANDARD",children:T("standard")}),e.jsx("option",{value:"BASIC",children:T("basic")})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Re,{className:"h-4 w-4"}),T("exportData")]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("date")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("transactionId")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("weight")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("quality")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("amount")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("paymentMethod")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 text-gray-400 mr-2"}),R(I.contributionDate)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:I.externalId}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[I.weightKg," ",T("kg")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E(I.qualityGrade)}`,children:T(I.qualityGrade.toLowerCase())})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:["₹",I.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.paymentMethod}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(I.paymentStatus)}`,children:T(I.paymentStatus.toLowerCase())})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>M(I),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:T("viewDetails"),children:e.jsx(Se,{className:"h-4 w-4"})})})]},I.id))})]})}),c.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:T("noTransactions")})]})]})]}),y&&A&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Transaction Details"}),e.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ws,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Transaction ID"}),e.jsx("p",{className:"text-lg font-mono",children:A.externalId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date"}),e.jsx("p",{className:"text-lg",children:R(A.contributionDate)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Weight"}),e.jsxs("p",{className:"text-lg",children:[A.weightKg," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Rate per kg"}),e.jsxs("p",{className:"text-lg",children:["₹",A.ratePerKg]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),e.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["₹",A.totalAmount]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Method"}),e.jsx("p",{className:"text-lg",children:A.paymentMethod})]}),A.moistureContent&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Moisture Content"}),e.jsxs("p",{className:"text-lg",children:[A.moistureContent,"%"]})]}),A.gpsLatitude&&A.gpsLongitude&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Location"}),e.jsxs("p",{className:"text-lg",children:[A.gpsLatitude,", ",A.gpsLongitude]})]})]}),A.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("p",{className:"text-lg",children:A.notes})]})]})]})})]})})}const Gl={en:{title:"Cattle Management",subtitle:"Manage cattle records with RFID tracking",addCattle:"Add Cattle",searchPlaceholder:"Search by name, RFID, or owner...",filterBy:"Filter",allHealth:"All Health",healthy:"Healthy",sick:"Sick",recovering:"Recovering",vaccinationDue:"Vaccination Due",allBreeds:"All Breeds",allOwners:"All Owners",active:"Active",inactive:"Inactive",name:"Name",rfidTag:"RFID Tag",breed:"Breed",age:"Age",weight:"Weight",health:"Health",status:"Status",statusIn:"Inside",statusOut:"Outside",statusUnknown:"Unknown",allStatus:"All Status",owner:"Owner",lastCollection:"Last Collection",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",recordTransaction:"Record Dung Collection",viewHistory:"View Transaction History",scanRFID:"Scan RFID",addPhoto:"Add Photo",saveChanges:"Save Changes",cancel:"Cancel",cattleDetails:"Cattle Details",basicInfo:"Basic Information",locationInfo:"Location Information",collectionStats:"Collection Statistics",medicalHistory:"Medical History",latitude:"Latitude",longitude:"Longitude",address:"Address",totalCollected:"Total Collected",avgQuality:"Average Quality",lastCheckup:"Last Checkup",nextCheckup:"Next Checkup",kg:"kg",years:"years",never:"Never",editCattle:"Edit Cattle",deleteCattle:"Delete Cattle",confirmDelete:"Are you sure you want to delete this cattle record?",yes:"Yes",no:"No"},hi:{title:"पशु प्रबंधन",subtitle:"RFID ट्रैकिंग के साथ पशु रिकॉर्ड प्रबंधन",addCattle:"पशु जोड़ें",searchPlaceholder:"नाम, RFID, या मालिक से खोजें...",filterBy:"फ़िल्टर",allHealth:"सभी स्वास्थ्य",healthy:"स्वस्थ",sick:"बीमार",recovering:"ठीक हो रहा",vaccinationDue:"टीकाकरण देय",allBreeds:"सभी नस्लें",allOwners:"सभी मालिक",active:"सक्रिय",inactive:"निष्क्रिय",name:"नाम",rfidTag:"RFID टैग",breed:"नस्ल",age:"आयु",weight:"वज़न",health:"स्वास्थ्य",owner:"मालिक",lastCollection:"अंतिम संग्रह",actions:"कार्य",view:"देखें",edit:"संपादित करें",delete:"हटाएं",recordTransaction:"गोबर संग्रह रिकॉर्ड करें",viewHistory:"लेनदेन इतिहास देखें",scanRFID:"RFID स्कैन करें",addPhoto:"फोटो जोड़ें",saveChanges:"परिवर्तन सेव करें",cancel:"रद्द करें",cattleDetails:"पशु विवरण",basicInfo:"मूलभूत जानकारी",locationInfo:"स्थान की जानकारी",collectionStats:"संग्रह आंकड़े",medicalHistory:"चिकित्सा इतिहास",latitude:"अक्षांश",longitude:"देशांतर",address:"पता",totalCollected:"कुल संग्रहीत",avgQuality:"औसत गुणवत्ता",lastCheckup:"अंतिम जांच",nextCheckup:"अगली जांच",kg:"किलो",years:"वर्ष",never:"कभी नहीं",editCattle:"पशु संपादित करें",deleteCattle:"पशु हटाएं",confirmDelete:"क्या आप वाकई इस पशु रिकॉर्ड को हटाना चाहते हैं?",yes:"हाँ",no:"नहीं"}};function Wl({languageContext:s}){const{language:t}=s,a=xs(),[r,n]=h.useState([]),[i,c]=h.useState([]),[o,d]=h.useState(!0),[p,N]=h.useState(!1),[f,u]=h.useState(!1),[v,j]=h.useState(!1),[P,A]=h.useState(!1),[C,y]=h.useState(null),[S,T]=h.useState({}),[g,l]=h.useState(!1),[m,R]=h.useState({search:"",health:"",breed:"",owner:"",status:"",isActive:null,gaushalaId:void 0}),x=F=>Gl[t][F]||F;h.useEffect(()=>{E()},[]),h.useEffect(()=>{M()},[r,m]);const E=async()=>{try{d(!0);const F=await Ke.cattle.getAllCattle();F.success&&F.data&&n(F.data)}catch{}finally{d(!1)}},M=()=>{let F=[...r];m.search&&(F=F.filter(ne=>ne.name.toLowerCase().includes(m.search.toLowerCase())||ne.rfidTag.toLowerCase().includes(m.search.toLowerCase())||ne.owner.toLowerCase().includes(m.search.toLowerCase()))),m.health&&(F=F.filter(ne=>ne.health===m.health)),m.breed&&(F=F.filter(ne=>ne.breed===m.breed)),m.owner&&(F=F.filter(ne=>ne.owner===m.owner)),m.status&&(F=F.filter(ne=>ne.currentStatus===m.status)),m.isActive!==null&&(F=F.filter(ne=>ne.isActive===m.isActive)),m.gaushalaId&&(F=F.filter(ne=>ne.ownerId===m.gaushalaId)),c(F)},$=F=>{switch(F){case"healthy":return"bg-green-100 text-green-800";case"sick":return"bg-red-100 text-red-800";case"recovering":return"bg-yellow-100 text-yellow-800";case"vaccination_due":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},G=F=>new Date(F).toLocaleDateString(t==="hi"?"hi-IN":"en-IN"),I=F=>{y(F),N(!0)},V=F=>{y(F),T({name:F.name,rfidTag:F.rfidTag,breed:F.breed.toLowerCase(),age:(F.age*12).toString(),weight:F.weight.toString(),health:F.health,owner:F.owner,ownerId:F.ownerId,location:{latitude:F.location.latitude.toString(),longitude:F.location.longitude.toString(),address:F.location.address||""}}),u(!0)},_=(F,ne)=>{if(F.startsWith("location.")){const Pe=F.split(".")[1];T(He=>({...He,location:{...He.location,[Pe]:ne}}))}else T(Pe=>({...Pe,[F]:ne}))},H=async()=>{if(C){l(!0);try{const F={...S,age:parseInt(S.age),weight:parseFloat(S.weight),location:{latitude:parseFloat(S.location.latitude),longitude:parseFloat(S.location.longitude),address:S.location.address,timestamp:Date.now()}},ne=await Ke.cattle.updateCattle(C.id,F);ne.success?(n(Pe=>Pe.map(He=>He.id===C.id?{...He,...F,updatedAt:Date.now()}:He)),u(!1),y(null),T({}),alert("Cattle updated successfully!")):alert("Failed to update cattle: "+(ne.error||"Unknown error"))}catch{alert("Failed to update cattle. Please try again.")}finally{l(!1)}}},z=async F=>{if(confirm(x("confirmDelete")))try{(await Ke.cattle.deleteCattle(F.id)).success?n(Pe=>Pe.filter(He=>He.id!==F.id)):alert("Failed to delete cattle. Please try again.")}catch{alert("Error deleting cattle. Please try again.")}},te=F=>{y(F),j(!0)},ce=F=>{y(F),A(!0)},re=F=>{n(ne=>ne.map(Pe=>Pe.id===C?.id?{...Pe,totalDungCollected:Pe.totalDungCollected+parseFloat(F.weightKg||"0"),lastDungCollection:Date.now()}:Pe))},Us=async()=>{try{const F=await Ke.cattle.scanRfid();if(F.success&&F.data){const{rfidTag:ne,cattleInfo:Pe}=F.data;alert(Pe?`RFID Scanned: ${ne}
Cattle Found: ${Pe.name}`:`RFID Scanned: ${ne}
No cattle found with this tag.`)}else alert("Failed to scan RFID. Please try again.")}catch{alert("Error scanning RFID. Please try again.")}};return o?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:x("title")}),e.jsx("p",{className:"text-gray-600",children:x("subtitle")})]}),e.jsxs("button",{onClick:()=>a("/gaushala/cattle/add"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ss,{className:"h-4 w-4"}),x("addCattle")]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:x("searchPlaceholder"),value:m.search,onChange:F=>R(ne=>({...ne,search:F.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("select",{value:m.health,onChange:F=>R(ne=>({...ne,health:F.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:x("allHealth")}),e.jsx("option",{value:"healthy",children:x("healthy")}),e.jsx("option",{value:"sick",children:x("sick")}),e.jsx("option",{value:"recovering",children:x("recovering")}),e.jsx("option",{value:"vaccination_due",children:x("vaccinationDue")})]}),e.jsxs("select",{value:m.breed,onChange:F=>R(ne=>({...ne,breed:F.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:x("allBreeds")}),e.jsx("option",{value:"गिर",children:"गिर"}),e.jsx("option",{value:"सिंधी",children:"सिंधी"}),e.jsx("option",{value:"होल्स्टीन",children:"होल्स्टीन"}),e.jsx("option",{value:"जर्सी",children:"जर्सी"})]}),e.jsxs("button",{onClick:Us,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Pr,{className:"h-4 w-4"}),x("scanRFID")]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:x("name")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:x("rfidTag")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:x("breed")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:x("age")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:x("weight")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:x("health")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:x("owner")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:x("lastCollection")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:x("actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(F=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Bs,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",F.id]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zs,{className:"h-4 w-4 text-blue-500 mr-2"}),e.jsx("span",{className:"text-sm font-mono text-gray-900",children:F.rfidTag||F.tagId||F.id})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.breed}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[F.age," ",x("years")]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[F.weight," ",x("kg")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${$(F.health)}`,children:x(F.health)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.owner}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.lastDungCollection?G(F.lastDungCollection):x("never")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I(F),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:x("view"),children:e.jsx(ds,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>V(F),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:x("edit"),children:e.jsx(ps,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>te(F),className:"text-orange-600 hover:text-orange-900 p-1 rounded hover:bg-orange-50",title:x("recordTransaction"),children:e.jsx(rs,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ce(F),className:"text-purple-600 hover:text-purple-900 p-1 rounded hover:bg-purple-50",title:x("viewHistory"),children:e.jsx(Ma,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>z(F),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:x("delete"),children:e.jsx(at,{className:"h-4 w-4"})})]})})]},F.id))})]})}),i.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Bs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No cattle found matching your filters"})]})]}),p&&C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsxs("h3",{className:"text-xl font-semibold",children:[x("cattleDetails")," - ",C.name]}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ws,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x("basicInfo")}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("name"),":"]}),e.jsx("span",{className:"font-medium",children:C.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("rfidTag"),":"]}),e.jsx("span",{className:"font-mono font-medium",children:C.rfidTag})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("breed"),":"]}),e.jsx("span",{className:"font-medium",children:C.breed})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("age"),":"]}),e.jsxs("span",{className:"font-medium",children:[C.age," ",x("years")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("weight"),":"]}),e.jsxs("span",{className:"font-medium",children:[C.weight," ",x("kg")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("health"),":"]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${$(C.health)}`,children:x(C.health)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("owner"),":"]}),e.jsx("span",{className:"font-medium",children:C.owner})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x("locationInfo")}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("latitude"),":"]}),e.jsx("span",{className:"font-medium",children:C.location.latitude.toFixed(6)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("longitude"),":"]}),e.jsx("span",{className:"font-medium",children:C.location.longitude.toFixed(6)})]}),C.location.address&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("address"),":"]}),e.jsx("span",{className:"font-medium text-right",children:C.location.address})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x("collectionStats")}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("totalCollected"),":"]}),e.jsxs("span",{className:"font-medium",children:[C.totalDungCollected," ",x("kg")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("lastCollection"),":"]}),e.jsx("span",{className:"font-medium",children:C.lastDungCollection?G(C.lastDungCollection):x("never")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x("medicalHistory")}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:C.medicalHistory.map(F=>e.jsx("div",{className:"border-l-4 border-blue-500 pl-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:F.description}),e.jsx("p",{className:"text-sm text-gray-600",children:F.veterinarian}),F.medication&&e.jsx("p",{className:"text-xs text-gray-500",children:F.medication})]}),e.jsx("span",{className:"text-sm text-gray-500",children:G(F.date)})]})},F.id))})]})]})]})}),f&&C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsxs("h3",{className:"text-xl font-semibold",children:[x("editCattle")," - ",C.name]}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ws,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cattle Name *"}),e.jsx("input",{type:"text",value:S.name||"",onChange:F=>_("name",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RFID Tag *"}),e.jsx("input",{type:"text",value:S.rfidTag||"",onChange:F=>_("rfidTag",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Breed *"}),e.jsxs("select",{value:S.breed||"",onChange:F=>_("breed",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Breed"}),e.jsx("option",{value:"gir",children:"Gir"}),e.jsx("option",{value:"sahiwal",children:"Sahiwal"}),e.jsx("option",{value:"sindhi",children:"Red Sindhi"}),e.jsx("option",{value:"tharparkar",children:"Tharparkar"}),e.jsx("option",{value:"holstein",children:"Holstein Friesian"}),e.jsx("option",{value:"jersey",children:"Jersey"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Health Status"}),e.jsxs("select",{value:S.health||"",onChange:F=>_("health",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"healthy",children:"Healthy"}),e.jsx("option",{value:"sick",children:"Sick"}),e.jsx("option",{value:"recovering",children:"Recovering"}),e.jsx("option",{value:"vaccination_due",children:"Vaccination Due"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age (months)"}),e.jsx("input",{type:"number",value:S.age||"",onChange:F=>_("age",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight (kg)"}),e.jsx("input",{type:"number",value:S.weight||"",onChange:F=>_("weight",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.1"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Owner Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Name *"}),e.jsx("input",{type:"text",value:S.owner||"",onChange:F=>_("owner",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner ID/Phone"}),e.jsx("input",{type:"text",value:S.ownerId||"",onChange:F=>_("ownerId",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:S.location?.address||"",onChange:F=>_("location.address",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),e.jsx("input",{type:"number",value:S.location?.latitude||"",onChange:F=>_("location.latitude",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"any"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),e.jsx("input",{type:"number",value:S.location?.longitude||"",onChange:F=>_("location.longitude",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"any"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:()=>{u(!1),T({})},disabled:g,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{onClick:H,disabled:g||!S.name||!S.rfidTag,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[g&&e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),g?"Updating...":"Update Cattle"]})]})]})]})}),v&&C&&e.jsx(Bl,{cattle:C,onClose:()=>{j(!1),y(null)},onSuccess:re}),P&&C&&e.jsx(ql,{farmerId:C.ownerId,farmerName:C.owner,onClose:()=>{A(!1),y(null)}})]})}const xe={en:{title:"Add New Cattle",subtitle:"Register new cattle with RFID tracking",basicInfo:"Basic Information",name:"Cattle Name",nameHint:"Enter a unique name for the cattle",rfidTag:"RFID Tag",rfidHint:"Scan or enter RFID tag manually",scanRfid:"Scan RFID",breed:"Breed",selectBreed:"Select Breed",age:"Age (months)",weight:"Weight (kg)",health:"Health Status",selectHealth:"Select Health Status",ownerInfo:"Owner Information",ownerName:"Owner Name",ownerId:"Owner ID/Phone",locationInfo:"Location Information",address:"Address",latitude:"Latitude",longitude:"Longitude",getCurrentLocation:"Get Current Location",photo:"Cattle Photo",uploadPhoto:"Upload Photo",medicalInfo:"Medical Information",lastCheckup:"Last Checkup Date",nextCheckup:"Next Checkup Date",vaccination:"Vaccination Status",notes:"Additional Notes",save:"Save Cattle",cancel:"Cancel",saving:"Saving...",success:"Cattle added successfully!",error:"Failed to add cattle. Please try again.",required:"This field is required",breeds:{gir:"Gir",sindhi:"Red Sindhi",holstein:"Holstein Friesian",jersey:"Jersey",sahiwal:"Sahiwal",tharparkar:"Tharparkar"},healthStatus:{healthy:"Healthy",sick:"Sick",recovering:"Recovering",vaccination_due:"Vaccination Due"}},hi:{title:"नया पशु जोड़ें",subtitle:"RFID ट्रैकिंग के साथ नया पशु पंजीकरण",basicInfo:"बुनियादी जानकारी",name:"पशु का नाम",nameHint:"पशु के लिए एक अनूठा नाम दर्ज करें",rfidTag:"RFID टैग",rfidHint:"RFID टैग स्कैन करें या मैन्युअल रूप से दर्ज करें",scanRfid:"RFID स्कैन करें",breed:"नस्ल",selectBreed:"नस्ल चुनें",age:"आयु (महीने)",weight:"वजन (किलो)",health:"स्वास्थ्य स्थिति",selectHealth:"स्वास्थ्य स्थिति चुनें",ownerInfo:"मालिक की जानकारी",ownerName:"मालिक का नाम",ownerId:"मालिक ID/फोन",locationInfo:"स्थान की जानकारी",address:"पता",latitude:"अक्षांश",longitude:"देशांतर",getCurrentLocation:"वर्तमान स्थान प्राप्त करें",photo:"पशु की फोटो",uploadPhoto:"फोटो अपलोड करें",medicalInfo:"चिकित्सा जानकारी",lastCheckup:"अंतिम जांच की तारीख",nextCheckup:"अगली जांच की तारीख",vaccination:"टीकाकरण की स्थिति",notes:"अतिरिक्त नोट्स",save:"पशु सहेजें",cancel:"रद्द करें",saving:"सहेजा जा रहा है...",success:"पशु सफलतापूर्वक जोड़ा गया!",error:"पशु जोड़ने में विफल। कृपया पुनः प्रयास करें।",required:"यह फील्ड आवश्यक है",breeds:{gir:"गिर",sindhi:"लाल सिंधी",holstein:"होल्स्टीन फ्रीजियन",jersey:"जर्सी",sahiwal:"साहीवाल",tharparkar:"थारपारकर"},healthStatus:{healthy:"स्वस्थ",sick:"बीमार",recovering:"ठीक हो रहा",vaccination_due:"टीकाकरण देय"}}};function $l({languageContext:s}){const{t}=s,a=xs(),[r,n]=h.useState({name:"",rfidTag:"",breed:"gir",age:"5",weight:"450",health:"healthy",owner:"",ownerId:"1",location:{latitude:"23.7126",longitude:"76.6566",address:""}}),[i,c]=h.useState(null),[o,d]=h.useState(!1),[p,N]=h.useState(!1),[f,u]=h.useState(null),v=["gir","sahiwal","sindhi","tharparkar","holstein","jersey"],j=["healthy","sick","recovering","vaccination_due"],P=(l,m)=>{if(l.startsWith("location.")){const R=l.split(".")[1];n(x=>({...x,location:{...x.location,[R]:m}}))}else n(R=>({...R,[l]:m}));u(null)},A=l=>{const m=l.target.files?.[0];m&&c(m)},C=async()=>{N(!0);try{const l=await Ke.cattle.scanRfid();l.success&&l.data&&(n(m=>({...m,rfidTag:l.data.rfidTag})),l.data.cattleInfo&&u({type:"error",text:"RFID tag already exists for another cattle"}))}catch{u({type:"error",text:"Failed to scan RFID"})}finally{N(!1)}},y=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(l=>{n(m=>({...m,location:{...m.location,latitude:l.coords.latitude.toString(),longitude:l.coords.longitude.toString()}}))},l=>{u({type:"error",text:"Failed to get current location"})})},S=()=>!r.name||!r.rfidTag||!r.breed||!r.owner?(u({type:"error",text:"Please fill in all required fields"}),!1):!0,T=async l=>{if(l.preventDefault(),!!S()){d(!0),u(null);try{const m={tagId:r.rfidTag.toUpperCase(),name:r.name,breed:r.breed,age:parseInt(r.age),weight:parseFloat(r.weight),health:r.health,location:{latitude:23.7126,longitude:76.6566,timestamp:new Date().toISOString()},ownerId:r.ownerId,ownerName:r.owner,totalDungCollected:0,isActive:!0,photoUrl:"",lastDungCollection:null},R=await Ke.cattle.createCattle(m);if(R.success&&R.data)i&&await Ke.cattle.uploadPhoto(R.data.id,i),u({type:"success",text:xe[s.language].success}),setTimeout(()=>{a("/gaushala/cattle")},2e3);else throw new Error(R.error||"Failed to create cattle")}catch{u({type:"error",text:xe[s.language].error})}finally{d(!1)}}},g=()=>{a("/gaushala/cattle")};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Rr,{className:"h-4 w-4"}),xe[s.language].cancel]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-xl",children:e.jsx(Bs,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:xe[s.language].title}),e.jsx("p",{className:"text-gray-600",children:xe[s.language].subtitle})]})]})]}),f&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:f.text}),e.jsxs("form",{onSubmit:T,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Bs,{className:"h-5 w-5 text-blue-600"}),xe[s.language].basicInfo]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[xe[s.language].name," *"]}),e.jsx("input",{type:"text",value:r.name,onChange:l=>P("name",l.target.value),placeholder:xe[s.language].nameHint,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[xe[s.language].rfidTag," *"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r.rfidTag,onChange:l=>P("rfidTag",l.target.value),placeholder:xe[s.language].rfidHint,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),e.jsxs("button",{type:"button",onClick:C,disabled:p,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(Pr,{className:"h-4 w-4"}),p?"...":xe[s.language].scanRfid]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[xe[s.language].breed," *"]}),e.jsxs("select",{value:r.breed,onChange:l=>P("breed",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:xe[s.language].selectBreed}),v.map(l=>e.jsx("option",{value:l,children:xe[s.language].breeds[l]},l))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].health}),e.jsx("select",{value:r.health,onChange:l=>P("health",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:j.map(l=>e.jsx("option",{value:l,children:xe[s.language].healthStatus[l]},l))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].age}),e.jsx("input",{type:"number",value:r.age,onChange:l=>P("age",l.target.value),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].weight}),e.jsx("input",{type:"number",step:"0.1",value:r.weight,onChange:l=>P("weight",l.target.value),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:xe[s.language].ownerInfo}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[xe[s.language].ownerName," *"]}),e.jsx("input",{type:"text",value:r.owner,onChange:l=>P("owner",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].ownerId}),e.jsx("input",{type:"text",value:r.ownerId,onChange:l=>P("ownerId",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(qe,{className:"h-5 w-5 text-blue-600"}),xe[s.language].locationInfo]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].address}),e.jsx("textarea",{value:r.location.address,onChange:l=>P("location.address",l.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].latitude}),e.jsx("input",{type:"number",step:"any",value:r.location.latitude,onChange:l=>P("location.latitude",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].longitude}),e.jsx("input",{type:"number",step:"any",value:r.location.longitude,onChange:l=>P("location.longitude",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{type:"button",onClick:y,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[e.jsx(qe,{className:"h-4 w-4"}),xe[s.language].getCurrentLocation]})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ea,{className:"h-5 w-5 text-blue-600"}),xe[s.language].photo]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].uploadPhoto}),e.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),i&&e.jsxs("p",{className:"mt-2 text-sm text-green-600",children:["Selected: ",i.name]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Le,{className:"h-5 w-5 text-blue-600"}),xe[s.language].medicalInfo]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].lastCheckup}),e.jsx("input",{type:"date",value:r.lastCheckup,onChange:l=>P("lastCheckup",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].nextCheckup}),e.jsx("input",{type:"date",value:r.nextCheckup,onChange:l=>P("nextCheckup",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].vaccination}),e.jsx("input",{type:"text",value:r.vaccination,onChange:l=>P("vaccination",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:xe[s.language].notes}),e.jsx("textarea",{value:r.notes,onChange:l=>P("notes",l.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:g,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:xe[s.language].cancel}),e.jsxs("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(rt,{className:"h-4 w-4"}),o?xe[s.language].saving:xe[s.language].save]})]})]})]})})}const Q={en:{title:"Cattle Details",subtitle:"View and manage cattle information",edit:"Edit",save:"Save Changes",cancel:"Cancel",delete:"Delete Cattle",confirmDelete:"Are you sure you want to delete this cattle record?",basicInfo:"Basic Information",name:"Name",rfidTag:"RFID Tag",breed:"Breed",age:"Age",weight:"Weight",health:"Health Status",owner:"Owner",ownerId:"Owner ID",locationInfo:"Location Information",address:"Address",coordinates:"Coordinates",medicalHistory:"Medical History",addMedicalRecord:"Add Medical Record",collectionHistory:"Collection History",totalCollected:"Total Dung Collected",lastCollection:"Last Collection",photo:"Photo",changePhoto:"Change Photo",loading:"Loading...",saving:"Saving...",success:"Cattle updated successfully!",error:"Failed to update cattle",notFound:"Cattle not found",medicalRecordType:"Type",medicalRecordDate:"Date",medicalRecordDescription:"Description",medicalRecordVet:"Veterinarian",medicalRecordMedication:"Medication",medicalRecordNextCheckup:"Next Checkup",recordTypes:{checkup:"Checkup",vaccination:"Vaccination",treatment:"Treatment",surgery:"Surgery"},healthStatus:{healthy:"Healthy",sick:"Sick",recovering:"Recovering",vaccination_due:"Vaccination Due"},breeds:{gir:"Gir",sindhi:"Red Sindhi",holstein:"Holstein Friesian",jersey:"Jersey",sahiwal:"Sahiwal",tharparkar:"Tharparkar"}},hi:{title:"पशु विवरण",subtitle:"पशु की जानकारी देखें और प्रबंधित करें",edit:"संपादित करें",save:"परिवर्तन सहेजें",cancel:"रद्द करें",delete:"पशु हटाएं",confirmDelete:"क्या आप वाकई इस पशु का रिकॉर्ड हटाना चाहते हैं?",basicInfo:"बुनियादी जानकारी",name:"नाम",rfidTag:"RFID टैग",breed:"नस्ल",age:"आयु",weight:"वजन",health:"स्वास्थ्य स्थिति",owner:"मालिक",ownerId:"मालिक ID",locationInfo:"स्थान की जानकारी",address:"पता",coordinates:"निर्देशांक",medicalHistory:"चिकित्सा इतिहास",addMedicalRecord:"चिकित्सा रिकॉर्ड जोड़ें",collectionHistory:"संग्रह इतिहास",totalCollected:"कुल गोबर संग्रह",lastCollection:"अंतिम संग्रह",photo:"फोटो",changePhoto:"फोटो बदलें",loading:"लोड हो रहा है...",saving:"सहेजा जा रहा है...",success:"पशु सफलतापूर्वक अपडेट किया गया!",error:"पशु अपडेट करने में विफल",notFound:"पशु नहीं मिला",medicalRecordType:"प्रकार",medicalRecordDate:"तारीख",medicalRecordDescription:"विवरण",medicalRecordVet:"पशु चिकित्सक",medicalRecordMedication:"दवा",medicalRecordNextCheckup:"अगली जांच",recordTypes:{checkup:"जांच",vaccination:"टीकाकरण",treatment:"उपचार",surgery:"सर्जरी"},healthStatus:{healthy:"स्वस्थ",sick:"बीमार",recovering:"ठीक हो रहा",vaccination_due:"टीकाकरण देय"},breeds:{gir:"गिर",sindhi:"लाल सिंधी",holstein:"होल्स्टीन फ्रीजियन",jersey:"जर्सी",sahiwal:"साहीवाल",tharparkar:"थारपारकर"}}};function Vl({languageContext:s}){const{id:t}=$i(),a=xs(),{t:r}=s,[n,i]=h.useState(null),[c,o]=h.useState(!0),[d,p]=h.useState(!1),[N,f]=h.useState(!1),[u,v]=h.useState({}),[j,P]=h.useState(!1),[A,C]=h.useState(null),[y,S]=h.useState({type:"checkup",date:"",description:"",veterinarian:"",medication:"",nextCheckup:""}),[T,g]=h.useState(!1);h.useEffect(()=>{t&&l()},[t]);const l=async()=>{try{const I=await Ke.cattle.getCattleById(t);I.success&&I.data?(i(I.data),v(I.data)):C({type:"error",text:Q[s.language].notFound})}catch{C({type:"error",text:Q[s.language].error})}finally{o(!1)}},m=()=>{p(!0),C(null)},R=()=>{p(!1),v(n||{}),C(null)},x=async()=>{if(!(!n||!t)){f(!0);try{const I=await Ke.cattle.updateCattle(t,u);if(I.success&&I.data)i(I.data),p(!1),C({type:"success",text:Q[s.language].success});else throw new Error(I.error)}catch{C({type:"error",text:Q[s.language].error})}finally{f(!1)}}},E=async()=>{if(t){try{const I=await Ke.cattle.deleteCattle(t);if(I.success)a("/gaushala/cattle");else throw new Error(I.error)}catch{C({type:"error",text:Q[s.language].error})}P(!1)}},M=async()=>{if(!(!n||!t))try{const I={...y,date:new Date(y.date).getTime(),nextCheckup:y.nextCheckup?new Date(y.nextCheckup).getTime():void 0};(await Ke.cattle.addMedicalRecord(t,I)).success&&(await l(),g(!1),S({type:"checkup",date:"",description:"",veterinarian:"",medication:"",nextCheckup:""}))}catch{C({type:"error",text:"Failed to add medical record"})}},$=I=>new Date(I).toLocaleDateString(),G=I=>{switch(I){case"healthy":return"text-green-600 bg-green-100";case"sick":return"text-red-600 bg-red-100";case"recovering":return"text-yellow-600 bg-yellow-100";case"vaccination_due":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}};return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:Q[s.language].loading})]})}):n?e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsxs("button",{onClick:()=>a("/gaushala/cattle"),className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Rr,{className:"h-4 w-4"}),"Back to Cattle List"]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-xl",children:e.jsx(Bs,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),e.jsxs("p",{className:"text-gray-600",children:["RFID: ",n.rfidTag]})]})]}),e.jsx("div",{className:"flex gap-3",children:d?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:R,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:Q[s.language].cancel}),e.jsxs("button",{onClick:x,disabled:N,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[e.jsx(rt,{className:"h-4 w-4"}),N?Q[s.language].saving:Q[s.language].save]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ps,{className:"h-4 w-4"}),Q[s.language].edit]}),e.jsxs("button",{onClick:()=>P(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(at,{className:"h-4 w-4"}),Q[s.language].delete]})]})})]})]}),A&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${A.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:A.text}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Bs,{className:"h-5 w-5 text-blue-600"}),Q[s.language].basicInfo]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].name}),d?e.jsx("input",{type:"text",value:u.name||"",onChange:I=>v(V=>({...V,name:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:n.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].rfidTag}),e.jsx("p",{className:"text-gray-900 font-mono",children:n.rfidTag})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].breed}),d?e.jsxs("select",{value:u.breed||"",onChange:I=>v(V=>({...V,breed:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"gir",children:Q[s.language].breeds.gir}),e.jsx("option",{value:"sindhi",children:Q[s.language].breeds.sindhi}),e.jsx("option",{value:"holstein",children:Q[s.language].breeds.holstein}),e.jsx("option",{value:"jersey",children:Q[s.language].breeds.jersey})]}):e.jsx("p",{className:"text-gray-900",children:Q[s.language].breeds[n.breed]||n.breed})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].health}),d?e.jsxs("select",{value:u.health||"",onChange:I=>v(V=>({...V,health:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"healthy",children:Q[s.language].healthStatus.healthy}),e.jsx("option",{value:"sick",children:Q[s.language].healthStatus.sick}),e.jsx("option",{value:"recovering",children:Q[s.language].healthStatus.recovering}),e.jsx("option",{value:"vaccination_due",children:Q[s.language].healthStatus.vaccination_due})]}):e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${G(n.health)}`,children:Q[s.language].healthStatus[n.health]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].age}),d?e.jsx("input",{type:"number",value:u.age||"",onChange:I=>v(V=>({...V,age:parseInt(I.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("p",{className:"text-gray-900",children:[n.age," months"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].weight}),d?e.jsx("input",{type:"number",step:"0.1",value:u.weight||"",onChange:I=>v(V=>({...V,weight:parseFloat(I.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("p",{className:"text-gray-900",children:[n.weight," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].owner}),d?e.jsx("input",{type:"text",value:u.owner||"",onChange:I=>v(V=>({...V,owner:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:n.owner})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].ownerId}),e.jsx("p",{className:"text-gray-900",children:n.ownerId})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(qe,{className:"h-5 w-5 text-blue-600"}),Q[s.language].locationInfo]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].address}),e.jsx("p",{className:"text-gray-900",children:n.location.address||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].coordinates}),e.jsxs("p",{className:"text-gray-900",children:[n.location.latitude,", ",n.location.longitude]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(li,{className:"h-5 w-5 text-blue-600"}),Q[s.language].medicalHistory]}),e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[e.jsx(Oe,{className:"h-4 w-4"}),Q[s.language].addMedicalRecord]})]}),n.medicalHistory.length>0?e.jsx("div",{className:"space-y-4",children:n.medicalHistory.map((I,V)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:Q[s.language].recordTypes[I.type]}),e.jsx("span",{className:"text-sm text-gray-500",children:$(I.date)})]}),e.jsx("p",{className:"text-gray-700 mb-2",children:I.description}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Veterinarian: ",I.veterinarian]}),I.medication&&e.jsxs("p",{children:["Medication: ",I.medication]}),I.nextCheckup&&e.jsxs("p",{children:["Next Checkup: ",$(I.nextCheckup)]})]})]},V))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No medical records found"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx($t,{className:"h-5 w-5 text-blue-600"}),Q[s.language].photo]}),e.jsxs("div",{className:"text-center",children:[n.photoUrl?e.jsx("img",{src:n.photoUrl,alt:n.name,className:"w-full h-48 object-cover rounded-lg mb-4"}):e.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Bs,{className:"h-12 w-12 text-gray-400"})}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:Q[s.language].changePhoto})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5 text-blue-600"}),Q[s.language].collectionHistory]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].totalCollected}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n.totalDungCollected," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].lastCollection}),e.jsx("p",{className:"text-gray-900",children:n.lastDungCollection?$(n.lastDungCollection):"No collections yet"})]})]})]})]})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(le,{className:"h-6 w-6 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Q[s.language].delete})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:Q[s.language].confirmDelete}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:Q[s.language].cancel}),e.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:Q[s.language].delete})]})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:Q[s.language].addMedicalRecord}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Q[s.language].medicalRecordType}),e.jsxs("select",{value:y.type,onChange:I=>S(V=>({...V,type:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"checkup",children:Q[s.language].recordTypes.checkup}),e.jsx("option",{value:"vaccination",children:Q[s.language].recordTypes.vaccination}),e.jsx("option",{value:"treatment",children:Q[s.language].recordTypes.treatment}),e.jsx("option",{value:"surgery",children:Q[s.language].recordTypes.surgery})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Q[s.language].medicalRecordDate}),e.jsx("input",{type:"date",value:y.date,onChange:I=>S(V=>({...V,date:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Q[s.language].medicalRecordDescription}),e.jsx("textarea",{value:y.description,onChange:I=>S(V=>({...V,description:I.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Q[s.language].medicalRecordVet}),e.jsx("input",{type:"text",value:y.veterinarian,onChange:I=>S(V=>({...V,veterinarian:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:Q[s.language].cancel}),e.jsx("button",{onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Record"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(le,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:Q[s.language].notFound})]})})}const Hl={en:{title:"All Field Worker Transactions",subtitle:"Comprehensive transaction history across all field workers",summary:"Summary",totalTransactions:"Total Transactions",totalWeight:"Total Weight",totalValue:"Total Value",activeWorkers:"Active Workers",searchPlaceholder:"Search by transaction ID, farmer, or field worker...",filterByPayment:"Filter by Payment",filterByQuality:"Filter by Quality",filterByWorker:"Filter by Field Worker",allPayments:"All Payments",allQualities:"All Qualities",allWorkers:"All Field Workers",date:"Date",transactionId:"Transaction ID",farmer:"Farmer",fieldWorker:"Field Worker",weight:"Weight (kg)",quality:"Quality",amount:"Amount (₹)",paymentMethod:"Payment",status:"Status",actions:"Actions",view:"View Details",premium:"Premium",standard:"Standard",basic:"Basic",pending:"Pending",processing:"Processing",completed:"Completed",failed:"Failed",exportData:"Export Data",noTransactions:"No transactions found",kg:"kg",close:"Close",viewDetails:"View Details",location:"Location",moistureContent:"Moisture Content",notes:"Notes",workflowStatus:"Workflow Status",validationStatus:"Validation Status"}};function zl({onClose:s}){const[t]=h.useState("en"),[a,r]=h.useState([]),[n,i]=h.useState([]),[c,o]=h.useState(!0),[d,p]=h.useState(""),[N,f]=h.useState(""),[u,v]=h.useState(""),[j,P]=h.useState(""),[A,C]=h.useState(null),[y,S]=h.useState(!1),T=_=>Hl[t][_]||_;h.useEffect(()=>{g()},[]),h.useEffect(()=>{l()},[a,d,N,u,j]);const g=async()=>{try{o(!0);const _=await ea.getAllContributions();_&&Array.isArray(_)?r(_):r([])}catch{r([])}finally{o(!1)}},l=()=>{let _=[...a];d&&(_=_.filter(H=>H.externalId.toLowerCase().includes(d.toLowerCase())||H.farmer?.name&&H.farmer.name.toLowerCase().includes(d.toLowerCase())||H.operatorName&&H.operatorName.toLowerCase().includes(d.toLowerCase())||H.notes&&H.notes.toLowerCase().includes(d.toLowerCase()))),N&&(_=_.filter(H=>H.paymentMethod===N)),u&&(_=_.filter(H=>H.qualityGrade===u)),j&&(_=_.filter(H=>H.operatorUserId===j)),i(_)},m=()=>{const _=a.length,H=a.reduce((ce,re)=>ce+re.weightKg,0),z=a.reduce((ce,re)=>ce+re.totalAmount,0),te=new Set(a.map(ce=>ce.operatorUserId).filter(Boolean));return{totalTransactions:_,totalWeight:H.toFixed(1),totalValue:z.toFixed(2),activeWorkers:te.size}},R=()=>{const _=new Map;return a.forEach(H=>{H.operatorUserId&&H.operatorName&&_.set(H.operatorUserId,H.operatorName)}),Array.from(_.entries()).map(([H,z])=>({id:H,name:z}))},x=_=>new Date(_).toLocaleDateString("en-IN"),E=_=>{switch(_){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"PROCESSING":return"bg-blue-100 text-blue-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=_=>{switch(_){case"PREMIUM":return"bg-green-100 text-green-800";case"STANDARD":return"bg-blue-100 text-blue-800";case"BASIC":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},$=_=>{C(_),S(!0)},G=()=>{const _=a.map(re=>({"Transaction ID":re.externalId,Date:x(re.contributionDate),Farmer:re.farmer?.name||"Unknown","Field Worker":re.operatorName||"Unknown",Phone:re.operatorPhone||"N/A","Weight (kg)":re.weightKg,Quality:re.qualityGrade,"Rate (₹/kg)":re.ratePerKg,"Total Amount (₹)":re.totalAmount,"Payment Method":re.paymentMethod,"Payment Status":re.paymentStatus,Location:re.gpsLatitude&&re.gpsLongitude?`${re.gpsLatitude}, ${re.gpsLongitude}`:"N/A",Notes:re.notes||"N/A"})),H=[Object.keys(_[0]||{}).join(","),..._.map(re=>Object.values(re).join(","))].join(`
`),z=new Blob([H],{type:"text/csv"}),te=window.URL.createObjectURL(z),ce=document.createElement("a");ce.href=te,ce.download=`field-worker-transactions-${new Date().toISOString().split("T")[0]}.csv`,ce.click(),window.URL.revokeObjectURL(te)},I=m(),V=R();return c?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-center mt-4",children:"Loading transactions..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T("title")}),e.jsx("p",{className:"text-gray-600 mt-1",children:T("subtitle")})]}),s&&e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100",children:e.jsx(ws,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"h-10 w-10 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:T("totalTransactions")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.totalTransactions})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rs,{className:"h-10 w-10 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:T("totalWeight")}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[I.totalWeight," ",T("kg")]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ra,{className:"h-10 w-10 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:T("totalValue")}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₹",I.totalValue]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ie,{className:"h-10 w-10 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:T("activeWorkers")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.activeWorkers})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:T("searchPlaceholder"),value:d,onChange:_=>p(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("select",{value:j,onChange:_=>P(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:T("allWorkers")}),V.map(_=>e.jsx("option",{value:_.id,children:_.name},_.id))]}),e.jsxs("select",{value:N,onChange:_=>f(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:T("allPayments")}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"NEFT",children:"NEFT"}),e.jsx("option",{value:"AEPS",children:"AEPS"})]}),e.jsxs("select",{value:u,onChange:_=>v(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:T("allQualities")}),e.jsx("option",{value:"PREMIUM",children:T("premium")}),e.jsx("option",{value:"STANDARD",children:T("standard")}),e.jsx("option",{value:"BASIC",children:T("basic")})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Re,{className:"h-4 w-4"}),T("exportData")]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("date")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("transactionId")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("farmer")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("fieldWorker")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("weight")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("quality")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("amount")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("paymentMethod")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 text-gray-400 mr-2"}),x(_.contributionDate)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:_.externalId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.farmer?.name||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:_.farmer?.externalId})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx($s,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.operatorName||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:_.operatorPhone})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[_.weightKg," ",T("kg")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${M(_.qualityGrade)}`,children:T(_.qualityGrade.toLowerCase())})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:["₹",_.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.paymentMethod}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E(_.paymentStatus)}`,children:T(_.paymentStatus.toLowerCase())})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>$(_),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:T("viewDetails"),children:e.jsx(Se,{className:"h-4 w-4"})})})]},_.id))})]})}),n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:T("noTransactions")})]})]}),y&&A&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Transaction Details"}),e.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ws,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Transaction ID"}),e.jsx("p",{className:"text-lg font-mono",children:A.externalId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date"}),e.jsx("p",{className:"text-lg",children:x(A.contributionDate)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Farmer"}),e.jsx("p",{className:"text-lg",children:A.farmer?.name||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-500",children:A.farmer?.externalId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Field Worker"}),e.jsx("p",{className:"text-lg",children:A.operatorName||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-500",children:A.operatorPhone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Weight"}),e.jsxs("p",{className:"text-lg",children:[A.weightKg," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Rate per kg"}),e.jsxs("p",{className:"text-lg",children:["₹",A.ratePerKg]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),e.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["₹",A.totalAmount]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Method"}),e.jsx("p",{className:"text-lg",children:A.paymentMethod})]}),A.moistureContent&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Moisture Content"}),e.jsxs("p",{className:"text-lg",children:[A.moistureContent,"%"]})]}),A.gpsLatitude&&A.gpsLongitude&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Location"}),e.jsxs("p",{className:"text-lg",children:[A.gpsLatitude,", ",A.gpsLongitude]})]})]}),A.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("p",{className:"text-lg",children:A.notes})]})]})]})})]})})}const Yl={en:{title:"GauShala Management",subtitle:"Comprehensive cattle and dung collection management",home:"Dashboard",cattle:"Cattle Management",addCattle:"Add Cattle",cattleDetails:"Cattle Details",transactions:"Transaction History",allTransactions:"All Field Worker Transactions",settings:"Settings",hindi:"हिंदी",english:"English"},hi:{title:"गौशाला प्रबंधन",subtitle:"व्यापक पशु और गोबर संग्रह प्रबंधन",home:"डैशबोर्ड",cattle:"पशु प्रबंधन",addCattle:"पशु जोड़ें",cattleDetails:"पशु विवरण",transactions:"लेन-देन का इतिहास",allTransactions:"सभी फील्ड वर्कर लेन-देन",settings:"सेटिंग्स",hindi:"हिंदी",english:"English"}};function Ql(){const s=xs(),t=Hs(),{platformSettings:a,updateBreadcrumbs:r}=lt(),n=f=>{const u=f.split(".");let v=Yl[a.language];for(const j of u)v=v?.[j];return v||f},i={language:a.language,setLanguage:()=>{},t:n},c=()=>{const f=t.pathname;return f.includes("/cattle/add")?"addCattle":f.includes("/cattle/")&&f.split("/").length>3?"cattleDetails":f.includes("/cattle")?"cattle":f.includes("/all-transactions")?"allTransactions":"home"},o=f=>{switch(f){case"home":s("/gaushala"),r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("home"),url:"/gaushala",module:"gaushala"}]);break;case"cattle":s("/gaushala/cattle"),r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"}]);break;case"allTransactions":s("/gaushala/all-transactions"),r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("allTransactions"),url:"/gaushala/all-transactions",module:"gaushala"}]);break}},d=c(),p=()=>{switch(c()){case"home":return[{label:"Gausakhi",onClick:()=>s("/gaushala")},{label:"Dashboard"}];case"cattle":return[{label:"Gausakhi",onClick:()=>s("/gaushala")},{label:"Cattle Management"}];case"addCattle":return[{label:"Gausakhi",onClick:()=>s("/gaushala")},{label:"Cattle Management",onClick:()=>s("/gaushala/cattle")},{label:"Add Cattle"}];case"cattleDetails":return[{label:"Gausakhi",onClick:()=>s("/gaushala")},{label:"Cattle Management",onClick:()=>s("/gaushala/cattle")},{label:"Cattle Details"}];case"allTransactions":return[{label:"Gausakhi",onClick:()=>s("/gaushala")},{label:"Transaction History"}];default:return[{label:"Gausakhi"}]}},N=[{id:"home",label:"Dashboard",icon:e.jsx(ci,{className:"w-4 h-4"}),onClick:()=>o("home"),isActive:d==="home"},{id:"cattle",label:"Cattle Management",icon:e.jsx(Ie,{className:"w-4 h-4"}),onClick:()=>o("cattle"),isActive:d==="cattle"||d==="addCattle"||d==="cattleDetails"},{id:"allTransactions",label:"Transaction History",icon:e.jsx(Zt,{className:"w-4 h-4"}),onClick:()=>o("allTransactions"),isActive:d==="allTransactions"}];return h.useEffect(()=>{switch(c()){case"home":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("home"),url:"/gaushala",module:"gaushala"}]);break;case"cattle":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"}]);break;case"addCattle":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"},{label:n("addCattle"),url:"/gaushala/cattle/add",module:"gaushala"}]);break;case"cattleDetails":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"},{label:n("cattleDetails"),url:t.pathname,module:"gaushala"}]);break;case"allTransactions":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("allTransactions"),url:"/gaushala/all-transactions",module:"gaushala"}]);break}},[t.pathname,a.language]),e.jsx(ct,{moduleName:"Gausakhi",moduleSubtitle:"Comprehensive cattle and dung collection management",navigationItems:N,breadcrumbs:p(),userInfo:{name:"Ramesh Kumar",role:"Field Worker"},children:e.jsxs(it,{children:[e.jsx(J,{path:"/",element:e.jsx(Ll,{languageContext:i})}),e.jsx(J,{path:"/cattle",element:e.jsx(Wl,{languageContext:i})}),e.jsx(J,{path:"/cattle/add",element:e.jsx($l,{languageContext:i})}),e.jsx(J,{path:"/cattle/:id",element:e.jsx(Vl,{languageContext:i})}),e.jsx(J,{path:"/all-transactions",element:e.jsx(zl,{})})]})})}const ue=h.forwardRef(({className:s,value:t=0,max:a=100,...r},n)=>e.jsx("div",{ref:n,className:q("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...r,children:e.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-t/a*100}%)`}})}));ue.displayName="Progress";const ks={totalDigesters:3,activeDigesters:2,totalProduction:445.5,averageEfficiency:83.7,criticalAlerts:0,warningAlerts:1,totalBatches:156,pendingPayments:12,scheduledPickups:8},Kl=[{id:"D001",name:"Digester Alpha-1",status:"active",temperature:35.5,pressure:1.2,methaneLevel:65,dailyProduction:150.5,efficiency:85,lastUpdated:new Date().toISOString(),trends:{methane:2,production:5}},{id:"D002",name:"Digester Alpha-2",status:"active",temperature:37.2,pressure:1.5,methaneLevel:68,dailyProduction:175,efficiency:88,lastUpdated:new Date().toISOString(),trends:{methane:1,production:3}},{id:"D003",name:"Digester Alpha-3",status:"maintenance",temperature:32.1,pressure:.8,methaneLevel:58,dailyProduction:120,efficiency:78,lastUpdated:new Date().toISOString(),trends:{methane:-1,production:-2}}],Zl=[{month:"Jan",production:380,efficiency:85},{month:"Feb",production:420,efficiency:87},{month:"Mar",production:445,efficiency:84},{month:"Apr",production:465,efficiency:88},{month:"May",production:445,efficiency:86}],ha=[{name:"Active",value:2,color:"#22c55e"},{name:"Maintenance",value:1,color:"#f59e0b"},{name:"Offline",value:0,color:"#ef4444"}],Ot=({title:s,value:t,change:a,trend:r,icon:n,className:i=""})=>{const c=()=>{switch(r){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}},o=()=>{switch(r){case"up":return e.jsx(he,{className:"w-3 h-3"});case"down":return e.jsx(Vs,{className:"w-3 h-3"});default:return e.jsx(ke,{className:"w-3 h-3"})}};return e.jsxs(b,{className:`relative overflow-hidden ${i}`,children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium text-muted-foreground",children:s}),e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center",children:n})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold tracking-tight",children:t}),e.jsxs("div",{className:`flex items-center gap-1 text-xs ${c()}`,children:[o(),a]})]})]})},Xl=({digester:s})=>{const t=s.status==="active"?"bg-green-100 text-green-800 border-green-200":s.status==="maintenance"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",r=s.status==="active"?de:le;return e.jsxs(b,{className:"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-white to-slate-50",children:[e.jsxs(D,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{className:"text-lg font-bold text-slate-800",children:s.name}),e.jsxs(L,{className:`${t} border font-semibold capitalize flex items-center gap-1`,children:[e.jsx(r,{className:"w-3 h-3"}),s.status]})]}),e.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:["Last Updated: ",new Date(s.lastUpdated).toLocaleTimeString()]})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"text-sm font-semibold text-orange-700",children:"Temperature"})]}),e.jsxs("div",{className:"text-lg font-bold text-orange-900",children:[s.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(St,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"Pressure"})]}),e.jsxs("div",{className:"text-lg font-bold text-blue-900",children:[s.pressure," kPa"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-semibold text-yellow-700",children:"Methane"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-lg font-bold text-yellow-900",children:[s.methaneLevel,"%"]}),s.trends?.methane&&s.trends.methane>0?e.jsx(he,{className:"w-4 h-4 text-green-600"}):e.jsx(Vs,{className:"w-4 h-4 text-red-600"})]})]}),e.jsx(ue,{value:s.methaneLevel,className:"h-3 bg-yellow-200"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-semibold text-green-700",children:"Daily Production"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-lg font-bold text-green-900",children:[s.dailyProduction," m³"]}),s.trends?.production&&s.trends.production>0?e.jsx(he,{className:"w-4 h-4 text-green-600"}):e.jsx(Vs,{className:"w-4 h-4 text-red-600"})]})]}),e.jsx(ue,{value:s.efficiency,className:"h-3 bg-green-200"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-200",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Efficiency"}),e.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:[s.efficiency,"%"]})]})]})]})},Jl=({status:s,count:t})=>{const a=()=>{switch(s.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"offline":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(L,{className:`${a()} px-2 py-1`,children:[t," ",s]})},ec=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"BiogasSangh Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Overview of cluster operations and performance metrics"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Filter"]}),e.jsxs(O,{size:"sm",children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Ot,{title:"Total Production",value:`${ks.totalProduction} m³`,change:"+12% from last month",trend:"up",icon:e.jsx(Xt,{className:"h-4 w-4 text-blue-600"})}),e.jsx(Ot,{title:"Average Efficiency",value:`${ks.averageEfficiency}%`,change:"+2.1% from last week",trend:"up",icon:e.jsx(Rs,{className:"h-4 w-4 text-yellow-600"})}),e.jsx(Ot,{title:"Active Digesters",value:`${ks.activeDigesters}/${ks.totalDigesters}`,change:"1 in maintenance",trend:"neutral",icon:e.jsx(Yt,{className:"h-4 w-4 text-green-600"})}),e.jsx(Ot,{title:"Critical Alerts",value:ks.criticalAlerts.toString(),change:`${ks.warningAlerts} warnings`,trend:"neutral",icon:e.jsx(le,{className:"h-4 w-4 text-orange-600"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight mb-4",children:"Live Digester Status"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Kl.map(s=>e.jsx(Xl,{digester:s},s.id))})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-7",children:[e.jsxs(b,{className:"lg:col-span-4",children:[e.jsxs(D,{children:[e.jsx(k,{children:"Production Trends"}),e.jsx(se,{children:"Monthly biogas production and efficiency over time"})]}),e.jsx(w,{children:e.jsx(Nt,{width:"100%",height:300,children:e.jsxs(Da,{data:Zl,children:[e.jsx(_t,{strokeDasharray:"3 3"}),e.jsx(Bt,{dataKey:"month"}),e.jsx(bt,{yAxisId:"left"}),e.jsx(bt,{yAxisId:"right",orientation:"right"}),e.jsx(wt,{}),e.jsx(Ut,{}),e.jsx(Gs,{yAxisId:"left",type:"monotone",dataKey:"production",stroke:"#3b82f6",strokeWidth:3,name:"Production (m³)"}),e.jsx(Gs,{yAxisId:"right",type:"monotone",dataKey:"efficiency",stroke:"#22c55e",strokeWidth:3,name:"Efficiency (%)"})]})})})]}),e.jsxs(b,{className:"lg:col-span-3",children:[e.jsxs(D,{children:[e.jsx(k,{children:"Digester Status"}),e.jsx(se,{children:"Current operational status distribution"})]}),e.jsxs(w,{children:[e.jsx(Nt,{width:"100%",height:200,children:e.jsxs(Ki,{children:[e.jsx(Zi,{data:ha,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,dataKey:"value",stroke:"#fff",strokeWidth:2,children:ha.map((s,t)=>e.jsx(Xi,{fill:s.color},`cell-${t}`))}),e.jsx(wt,{})]})}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:ha.map(s=>e.jsx(Jl,{status:s.name,count:s.value},s.name))})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Total Batches"}),e.jsx(Te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:ks.totalBatches}),e.jsx(ue,{value:75,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"+23 from last month"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Pending Payments"}),e.jsx(Se,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:ks.pendingPayments}),e.jsx(ue,{value:30,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"2 overdue items"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Scheduled Pickups"}),e.jsx(Ie,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:ks.scheduledPickups}),e.jsx(ue,{value:60,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Next pickup: Today 2:00 PM"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"System Status"}),e.jsx(oi,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Healthy"}),e.jsx(ue,{value:95,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"All systems operational"})]})]})]}),e.jsx(Js,{}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:"Recent Activity"}),e.jsx(se,{children:"Latest updates and notifications from the cluster"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Digester Alpha-2 efficiency increased to 88%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Batch #156 scheduled for pickup"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"4 hours ago"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Payment reconciliation completed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"6 hours ago"})]})]})]})})]})]}),ve=ji,ye=fi,je=h.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(Mr,{ref:r,className:q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsx(di,{asChild:!0,children:e.jsx(Oa,{className:"h-4 w-4 opacity-50"})})]}));je.displayName=Mr.displayName;const cn=h.forwardRef(({className:s,...t},a)=>e.jsx(Er,{ref:a,className:q("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(mi,{className:"h-4 w-4"})}));cn.displayName=Er.displayName;const on=h.forwardRef(({className:s,...t},a)=>e.jsx(Or,{ref:a,className:q("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Oa,{className:"h-4 w-4"})}));on.displayName=Or.displayName;const fe=h.forwardRef(({className:s,children:t,position:a="popper",...r},n)=>e.jsx(xi,{children:e.jsxs(Lr,{ref:n,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...r,children:[e.jsx(cn,{}),e.jsx(ui,{className:q("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(on,{})]})}));fe.displayName=Lr.displayName;const sc=h.forwardRef(({className:s,...t},a)=>e.jsx(Fr,{ref:a,className:q("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));sc.displayName=Fr.displayName;const B=h.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(_r,{ref:r,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(hi,{children:e.jsx(gi,{className:"h-4 w-4"})})}),e.jsx(pi,{children:t})]}));B.displayName=_r.displayName;const tc=h.forwardRef(({className:s,...t},a)=>e.jsx(Br,{ref:a,className:q("-mx-1 my-1 h-px bg-muted",s),...t}));tc.displayName=Br.displayName;const ac=[{id:"D001",name:"Digester Alpha-1",status:"active",temperature:35.5,pressure:1.2,methaneLevel:65,dailyProduction:150.5,efficiency:85,lastUpdated:new Date().toISOString(),detailedSensors:{ph:7.2,humidity:82,co2Level:28,h2sLevel:.15,gasFlow:45.2,liquidLevel:78,stirringSpeed:120,powerConsumption:2.4},trends:{methane:2,production:5,temperature:1,pressure:.5}},{id:"D002",name:"Digester Alpha-2",status:"active",temperature:37.2,pressure:1.5,methaneLevel:68,dailyProduction:175,efficiency:88,lastUpdated:new Date().toISOString(),detailedSensors:{ph:7.5,humidity:85,co2Level:25,h2sLevel:.12,gasFlow:52.8,liquidLevel:82,stirringSpeed:115,powerConsumption:2.6},trends:{methane:1,production:3,temperature:.5,pressure:.2}},{id:"D003",name:"Digester Alpha-3",status:"maintenance",temperature:32.1,pressure:.8,methaneLevel:58,dailyProduction:120,efficiency:78,lastUpdated:new Date().toISOString(),detailedSensors:{ph:6.8,humidity:75,co2Level:35,h2sLevel:.22,gasFlow:32.1,liquidLevel:65,stirringSpeed:0,powerConsumption:.8},trends:{methane:-1,production:-2,temperature:-.5,pressure:-.1}}],rc=()=>{const[s,t]=h.useState(ac),[a,r]=h.useState(!0),[n,i]=h.useState(!0),[c,o]=h.useState(new Date),d=h.useCallback((u,v,j,P)=>{const A=(Math.random()-.5)*v,C=u+A;return j!==void 0&&P!==void 0?Math.max(j,Math.min(P,C)):C},[]),p=h.useCallback(()=>{n&&(t(u=>u.map(v=>v.status==="maintenance"?{...v,lastUpdated:new Date().toISOString()}:{...v,temperature:Math.round(d(v.temperature,.5,30,42)*10)/10,pressure:Math.round(d(v.pressure,.1,.5,2)*10)/10,methaneLevel:Math.round(d(v.methaneLevel,2,50,80)),efficiency:Math.round(d(v.efficiency,1,70,95)),detailedSensors:{ph:Math.round(d(v.detailedSensors.ph,.1,6,8.5)*10)/10,humidity:Math.round(d(v.detailedSensors.humidity,2,70,95)),co2Level:Math.round(d(v.detailedSensors.co2Level,1,20,40)),h2sLevel:Math.round(d(v.detailedSensors.h2sLevel,.02,.05,.3)*100)/100,gasFlow:Math.round(d(v.detailedSensors.gasFlow,2,30,70)*10)/10,liquidLevel:Math.round(d(v.detailedSensors.liquidLevel,1,60,90)),stirringSpeed:v.status==="active"?Math.round(d(v.detailedSensors.stirringSpeed,5,100,140)):0,powerConsumption:Math.round(d(v.detailedSensors.powerConsumption,.1,1.5,3.5)*10)/10},lastUpdated:new Date().toISOString()})),o(new Date))},[d,n]);h.useEffect(()=>{const u=setInterval(()=>{if(Math.random()<.05){r(!1),setTimeout(()=>r(!0),2e3);return}p()},3e3);return()=>clearInterval(u)},[p]);const N=()=>i(!n),f=h.useCallback(()=>p(),[p]);return{digesters:s,refreshData:f,isLoading:!1,isConnected:a,isRealTimeActive:n,toggleRealTime:N,lastUpdateTime:c}},Je=({title:s,value:t,unit:a="",icon:r,trend:n,color:i,status:c="normal",isUpdating:o=!1})=>{const d=()=>{switch(c){case"warning":return"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-amber-50 to-orange-50";case"critical":return"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-red-50 to-pink-50";default:return"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-white to-slate-50"}};return e.jsxs(b,{className:`
      ${d()}
      ${o?"ring-2 ring-blue-400/50":""}
    `,children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium text-muted-foreground",children:s}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`
            h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center
            ${o?"animate-pulse":""}
          `,children:r}),o&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t,a]}),n!==void 0&&e.jsx("div",{className:`
              flex items-center justify-center w-6 h-6 rounded-full
              ${n>0?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}
            `,children:n>0?e.jsx(he,{className:"w-3 h-3"}):e.jsx(Vs,{className:"w-3 h-3"})})]}),o&&e.jsx("div",{className:"w-full bg-muted rounded-full h-1 mt-2",children:e.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-1000",style:{width:"100%"}})})]})]})},nc=({isConnected:s,lastUpdate:t,isRealTimeActive:a,onToggleRealTime:r})=>e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[s?e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"w-4 h-4"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),e.jsx("span",{className:"text-sm font-medium",children:"CONNECTED"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[e.jsx(Sa,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"RECONNECTING"})]}),e.jsx(Js,{orientation:"vertical",className:"h-4"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Last Update: ",t.toLocaleTimeString()]})]}),e.jsx(O,{onClick:r,variant:a?"default":"outline",size:"sm",className:"gap-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(Ur,{className:"w-4 h-4"}),"Pause Updates"]}):e.jsxs(e.Fragment,{children:[e.jsx(La,{className:"w-4 h-4"}),"Resume Updates"]})})]})})}),ga=({title:s,subtitle:t,children:a,isLive:r=!1})=>e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(k,{className:"flex items-center gap-3",children:[s,r&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-green-600 uppercase tracking-wide",children:"LIVE"})]})]}),e.jsx(se,{children:t})]}),e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(wa,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(w,{children:a})]}),ic=s=>Array.from({length:24},(a,r)=>{const i=`${r.toString().padStart(2,"0")}:00`,c=Math.sin(r*.5)*5;return{time:i,temperature:Math.round((s.temperature+c+Math.random()*2)*10)/10,pressure:Math.round((s.pressure+c*.1+Math.random()*.2)*10)/10,methane:Math.round(s.methaneLevel+c+Math.random()*3),ph:Math.round((s.detailedSensors.ph+c*.1+Math.random()*.2)*10)/10,gasFlow:Math.round(s.detailedSensors.gasFlow+c+Math.random()*5),efficiency:Math.round(s.efficiency+c*.5+Math.random()*2)}}),lc=()=>{const[s,t]=h.useState("D001"),{digesters:a,refreshData:r,isLoading:n,isConnected:i,isRealTimeActive:c,toggleRealTime:o,lastUpdateTime:d}=rc(),p=a.find(P=>P.id===s)||a[0],[N,f]=h.useState(!1),u=ic(p);h.useEffect(()=>{if(i&&c){f(!0);const P=setTimeout(()=>f(!1),1e3);return()=>clearTimeout(P)}},[p.lastUpdated,i,c]);const j=p.status==="active"?de:le;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Real-Time Digester Monitoring"}),e.jsx("p",{className:"text-muted-foreground",children:"Live sensor data, advanced analytics, continuous monitoring"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm font-medium",children:"Select Digester:"}),e.jsxs(ve,{value:s,onValueChange:t,children:[e.jsx(je,{className:"w-48",children:e.jsx(ye,{placeholder:"Choose a digester"})}),e.jsx(fe,{children:a.map(P=>e.jsx(B,{value:P.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${P.status==="active"?"bg-green-500":"bg-yellow-500"}`}),P.name]})},P.id))})]})]}),e.jsxs(O,{onClick:r,disabled:n,variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(os,{className:"w-4 h-4 "}),"Refresh"]})]})]}),e.jsx(b,{children:e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(k,{className:"text-xl font-bold",children:p.name}),e.jsxs(se,{children:["Last Updated: ",new Date(p.lastUpdated).toLocaleString()]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(L,{className:`${p.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"} border font-semibold capitalize flex items-center gap-1`,children:[e.jsx(j,{className:"w-3 h-3"}),p.status.toUpperCase()]})})]})})}),e.jsx(nc,{isConnected:i,lastUpdate:d,isRealTimeActive:c,onToggleRealTime:o}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight mb-4 flex items-center gap-3",children:[e.jsx(Tr,{className:"h-4 w-4 text-blue-600"}),"Primary Sensors"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Je,{title:"Temperature",value:p.temperature,unit:"°C",icon:e.jsx(zt,{className:"h-4 w-4 text-orange-600"}),trend:p.trends?.temperature,color:"orange",status:p.temperature>40?"warning":"normal",isUpdating:N&&i&&c}),e.jsx(Je,{title:"Pressure",value:p.pressure,unit:" kPa",icon:e.jsx(St,{className:"h-4 w-4 text-blue-600"}),trend:p.trends?.pressure,color:"blue",isUpdating:N&&i&&c}),e.jsx(Je,{title:"Methane Level",value:p.methaneLevel,unit:"%",icon:e.jsx(Rs,{className:"h-4 w-4 text-yellow-600"}),trend:p.trends?.methane,color:"yellow",status:p.methaneLevel<60?"warning":"normal",isUpdating:N&&i&&c}),e.jsx(Je,{title:"Efficiency",value:p.efficiency,unit:"%",icon:e.jsx(ke,{className:"h-4 w-4 text-green-600"}),trend:p.trends?.production,color:"green",isUpdating:N&&i&&c})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight mb-4 flex items-center gap-3",children:[e.jsx(vi,{className:"h-4 w-4 text-purple-600"}),"Secondary Sensors"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Je,{title:"pH Level",value:p.detailedSensors?.ph,icon:e.jsx(yi,{className:"h-4 w-4 text-purple-600"}),color:"purple",status:p.detailedSensors?.ph<6.5||p.detailedSensors?.ph>8?"warning":"normal",isUpdating:N&&i&&c}),e.jsx(Je,{title:"Humidity",value:p.detailedSensors?.humidity,unit:"%",icon:e.jsx(Xt,{className:"h-4 w-4 text-cyan-600"}),color:"cyan",isUpdating:N&&i&&c}),e.jsx(Je,{title:"CO₂ Level",value:p.detailedSensors?.co2Level,unit:"%",icon:e.jsx(Za,{className:"h-4 w-4 text-gray-600"}),color:"gray",isUpdating:N&&i&&c}),e.jsx(Je,{title:"H₂S Level",value:p.detailedSensors?.h2sLevel,unit:" ppm",icon:e.jsx(le,{className:"h-4 w-4 text-red-600"}),color:"red",status:p.detailedSensors?.h2sLevel>.2?"warning":"normal",isUpdating:N&&i&&c})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight mb-4 flex items-center gap-3",children:[e.jsx(ts,{className:"h-4 w-4 text-indigo-600"}),"Operational Metrics"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Je,{title:"Gas Flow Rate",value:p.detailedSensors?.gasFlow,unit:" L/min",icon:e.jsx(Za,{className:"h-4 w-4 text-blue-600"}),color:"blue",isUpdating:N&&i&&c}),e.jsx(Je,{title:"Liquid Level",value:p.detailedSensors?.liquidLevel,unit:"%",icon:e.jsx(St,{className:"h-4 w-4 text-teal-600"}),color:"teal",status:p.detailedSensors?.liquidLevel<70?"warning":"normal",isUpdating:N&&i&&c}),e.jsx(Je,{title:"Stirring Speed",value:p.detailedSensors?.stirringSpeed,unit:" RPM",icon:e.jsx(ts,{className:"h-4 w-4 text-indigo-600"}),color:"indigo",status:p.status==="maintenance"&&p.detailedSensors?.stirringSpeed===0?"warning":"normal",isUpdating:N&&i&&c}),e.jsx(Je,{title:"Power Consumption",value:p.detailedSensors?.powerConsumption,unit:" kW",icon:e.jsx(Rs,{className:"h-4 w-4 text-yellow-600"}),color:"yellow",isUpdating:N&&i&&c})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx(ga,{title:"Live Efficiency Analytics",subtitle:"Real-time efficiency and gas flow correlation",isLive:i&&c,children:e.jsx(Nt,{width:"100%",height:300,children:e.jsxs(Da,{data:u,children:[e.jsx(_t,{strokeDasharray:"3 3"}),e.jsx(Bt,{dataKey:"time"}),e.jsx(bt,{}),e.jsx(wt,{}),e.jsx(Ut,{}),e.jsx(Gs,{type:"monotone",dataKey:"efficiency",stroke:"#10b981",strokeWidth:2,name:"Efficiency (%)"}),e.jsx(Gs,{type:"monotone",dataKey:"gasFlow",stroke:"#3b82f6",strokeWidth:2,name:"Gas Flow (L/min)"})]})})}),e.jsx(ga,{title:"Environmental Conditions",subtitle:"Temperature, pressure, and pH monitoring",isLive:i&&c,children:e.jsx(Nt,{width:"100%",height:300,children:e.jsxs(Da,{data:u,children:[e.jsx(_t,{strokeDasharray:"3 3"}),e.jsx(Bt,{dataKey:"time"}),e.jsx(bt,{}),e.jsx(wt,{}),e.jsx(Ut,{}),e.jsx(Gs,{type:"monotone",dataKey:"temperature",stroke:"#f59e0b",strokeWidth:2,name:"Temperature (°C)"}),e.jsx(Gs,{type:"monotone",dataKey:"pressure",stroke:"#8b5cf6",strokeWidth:2,name:"Pressure (kPa)"}),e.jsx(Gs,{type:"monotone",dataKey:"ph",stroke:"#ec4899",strokeWidth:2,name:"pH Level"})]})})})]}),e.jsx(ga,{title:"Live Methane Production Stream",subtitle:"Real-time methane concentration monitoring",isLive:i&&c,children:e.jsx(Nt,{width:"100%",height:300,children:e.jsxs(Ji,{data:u,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"methaneGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#fbbf24",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#fbbf24",stopOpacity:.1})]})}),e.jsx(_t,{strokeDasharray:"3 3"}),e.jsx(Bt,{dataKey:"time"}),e.jsx(bt,{}),e.jsx(wt,{}),e.jsx(Ut,{}),e.jsx(el,{type:"monotone",dataKey:"methane",stroke:"#fbbf24",strokeWidth:2,fillOpacity:1,fill:"url(#methaneGradient)",name:"Methane Level (%)"})]})})})]})},W=h.forwardRef(({className:s,...t},a)=>e.jsx("label",{ref:a,className:q("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...t}));W.displayName="Label";const dt=h.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t}));dt.displayName="Textarea";const gs=wi,dn=Si,cc=Ni,mn=h.forwardRef(({className:s,...t},a)=>e.jsx(qr,{ref:a,className:q("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));mn.displayName=qr.displayName;const ns=h.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(cc,{children:[e.jsx(mn,{}),e.jsxs(Gr,{ref:r,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(bi,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ws,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ns.displayName=Gr.displayName;const is=({className:s,...t})=>e.jsx("div",{className:q("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});is.displayName="DialogHeader";const zs=({className:s,...t})=>e.jsx("div",{className:q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});zs.displayName="DialogFooter";const ls=h.forwardRef(({className:s,...t},a)=>e.jsx(Wr,{ref:a,className:q("text-lg font-semibold leading-none tracking-tight",s),...t}));ls.displayName=Wr.displayName;const cs=h.forwardRef(({className:s,...t},a)=>e.jsx($r,{ref:a,className:q("text-sm text-muted-foreground",s),...t}));cs.displayName=$r.displayName;const Ua=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:q("w-full caption-bottom text-sm",s),...t})}));Ua.displayName="Table";const qa=h.forwardRef(({className:s,...t},a)=>e.jsx("thead",{ref:a,className:q("[&_tr]:border-b",s),...t}));qa.displayName="TableHeader";const Ga=h.forwardRef(({className:s,...t},a)=>e.jsx("tbody",{ref:a,className:q("[&_tr:last-child]:border-0",s),...t}));Ga.displayName="TableBody";const oc=h.forwardRef(({className:s,...t},a)=>e.jsx("tfoot",{ref:a,className:q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t}));oc.displayName="TableFooter";const kt=h.forwardRef(({className:s,...t},a)=>e.jsx("tr",{ref:a,className:q("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t}));kt.displayName="TableRow";const Fe=h.forwardRef(({className:s,...t},a)=>e.jsx("th",{ref:a,className:q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t}));Fe.displayName="TableHead";const _e=h.forwardRef(({className:s,...t},a)=>e.jsx("td",{ref:a,className:q("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t}));_e.displayName="TableCell";const dc=h.forwardRef(({className:s,...t},a)=>e.jsx("caption",{ref:a,className:q("mt-4 text-sm text-muted-foreground",s),...t}));dc.displayName="TableCaption";const vs=[{id:"BATCH-001",digesterId:"DIG-001",volume:45.2,methaneContent:65.8,status:"ready",createdDate:new Date().toISOString(),transferDate:new Date(Date.now()+72e5).toISOString(),qualityScore:92,farmerName:"राजेश कुमार",source:"Gokul Gaushala, Mathura",notes:"Premium quality cow dung batch from Rajesh Kumar. Optimal fermentation achieved with excellent gas composition. Ready for immediate transfer to distribution network. Source: 15 indigenous cows, organic feed only."},{id:"BATCH-002",digesterId:"DIG-002",volume:38.7,methaneContent:62.3,status:"processing",createdDate:new Date(Date.now()-864e5).toISOString(),qualityScore:78,farmerName:"सुनीता देवी",source:"Vrindavan Organic Farm",notes:"Mixed dung batch in active fermentation phase. Temperature maintained at 37°C. Expected completion in 48 hours with good quality prospects. Contains cow and buffalo dung mixture from certified organic farm."},{id:"BATCH-003",digesterId:"DIG-003",volume:52.8,methaneContent:68.2,status:"ready",createdDate:new Date(Date.now()-1728e5).toISOString(),transferDate:new Date().toISOString(),qualityScore:95,farmerName:"श्याम यादव",source:"Yamuna Riverside Gaushala",notes:"Exceptional buffalo dung batch from Shyam Yadav. Highest methane content achieved this quarter. Certified Grade A premium quality. Source: 25 Murrah buffaloes with optimal nutrition and care."},{id:"BATCH-004",digesterId:"DIG-001",volume:41.3,methaneContent:58.9,status:"testing",createdDate:new Date(Date.now()-2592e5).toISOString(),qualityScore:72,farmerName:"अमित शर्मा",source:"Govind Dairy Farm",notes:"Standard cow dung batch undergoing final quality assessment. Moderate methane levels detected. Awaiting lab confirmation for Grade B classification. Processing time extended due to lower initial moisture content."},{id:"BATCH-005",digesterId:"DIG-004",volume:29.6,methaneContent:55.4,status:"rejected",createdDate:new Date(Date.now()-3456e5).toISOString(),qualityScore:48,farmerName:"प्रेम सिंह",source:"Village Cooperative",notes:"Batch from contaminated feedstock. Low methane content due to improper storage conditions. Rejected for commercial use, diverted to compost production. Root cause: contamination from non-organic sources and poor collection hygiene."},{id:"BATCH-006",digesterId:"DIG-002",volume:47.9,methaneContent:63.7,status:"transferred",createdDate:new Date(Date.now()-432e6).toISOString(),transferDate:new Date(Date.now()-864e5).toISOString(),qualityScore:86,farmerName:"गीता देवी",source:"Krishna Valley Farm",notes:"High-quality mixed dung batch successfully transferred to Mathura distribution center. Excellent fermentation results with consistent gas output. Customer feedback: exceptional performance in commercial biogas units."},{id:"BATCH-007",digesterId:"DIG-003",volume:35.1,methaneContent:71.2,status:"ready",createdDate:new Date(Date.now()-5184e5).toISOString(),qualityScore:97,farmerName:"राम प्रसाद",source:"Organic Gaushala Trust",notes:"Premium buffalo dung batch with exceptional methane purity. Sourced from Organic Gaushala cooperative. Meets all export quality standards. Tested for international markets - approved for European biogas facilities."},{id:"BATCH-008",digesterId:"DIG-005",volume:33.4,methaneContent:59.8,status:"processing",createdDate:new Date(Date.now()-6048e5).toISOString(),qualityScore:74,farmerName:"लक्ष्मी यादव",source:"Braj Bhumi Gaushala",notes:"Cow dung batch from Gita Devi's farm. Processing delayed due to monsoon humidity. Temperature regulation implemented, expecting improvement. Additional heating systems deployed to counter seasonal moisture challenges."},{id:"BATCH-009",digesterId:"DIG-001",volume:44.7,methaneContent:66.4,status:"testing",createdDate:new Date(Date.now()-6912e5).toISOString(),qualityScore:88,farmerName:"विकास कुमार",source:"Vrindavan Heritage Gaushala",notes:"Large volume cow dung batch from Vrindavan Gaushala. Final quality checks in progress. Preliminary results show excellent commercial viability. Volume sufficient for pilot testing in urban biogas distribution network."},{id:"BATCH-010",digesterId:"DIG-004",volume:39.8,methaneContent:64.1,status:"transferred",createdDate:new Date(Date.now()-7776e5).toISOString(),transferDate:new Date(Date.now()-2592e5).toISOString(),qualityScore:83,farmerName:"सुरेश चंद्र",source:"Radha Krishna Dairy",notes:"Standard quality mixed dung batch successfully delivered to regional distribution network. Good consistency maintained throughout fermentation cycle. Successfully integrated into 5 commercial biogas plants in the region."}],pa=[{id:"CERT-001",batchId:"BATCH-001",issuedDate:new Date().toISOString(),qualityScore:92,certifiedBy:"Dr. Ravi Sharma, Quality Assurance",validUntil:new Date(Date.now()+15552e6).toISOString()},{id:"CERT-002",batchId:"BATCH-003",issuedDate:new Date(Date.now()-864e5).toISOString(),qualityScore:95,certifiedBy:"Dr. Priya Gupta, Chief Quality Officer",validUntil:new Date(Date.now()+154656e5).toISOString()},{id:"CERT-003",batchId:"BATCH-006",issuedDate:new Date(Date.now()-1728e5).toISOString(),qualityScore:86,certifiedBy:"Dr. Anil Kumar, Senior Analyst",validUntil:new Date(Date.now()+153792e5).toISOString()},{id:"CERT-004",batchId:"BATCH-007",issuedDate:new Date(Date.now()-2592e5).toISOString(),qualityScore:97,certifiedBy:"Dr. Sunita Singh, Export Certification",validUntil:new Date(Date.now()+152928e5).toISOString()},{id:"CERT-005",batchId:"BATCH-009",issuedDate:new Date(Date.now()-3456e5).toISOString(),qualityScore:88,certifiedBy:"Dr. Manoj Verma, Quality Assurance",validUntil:new Date(Date.now()+152064e5).toISOString()},{id:"CERT-006",batchId:"BATCH-010",issuedDate:new Date(Date.now()-432e6).toISOString(),qualityScore:83,certifiedBy:"Dr. Deepak Mishra, Regional Quality Head",validUntil:new Date(Date.now()+1512e7).toISOString()}],mc=async s=>Promise.resolve(),xc=async(s,t)=>Promise.resolve(),uc=async s=>Promise.resolve(),hc={en:{title:"Batch Management",subtitle:"Manage biogas batches from production to transfer",createBatch:"Create New Batch",editBatch:"Edit Batch",deleteBatch:"Delete Batch",batchList:"Batch List",activeQualities:"Active Quality Tests",certificates:"Quality Certificates",search:"Search batches...",filter:"Filter",batchId:"Batch ID",digesterId:"Digester ID",volume:"Volume (m³)",methaneContent:"Methane Content (%)",status:"Status",createdDate:"Created Date",transferDate:"Transfer Date",qualityScore:"Quality Score",notes:"Notes",actions:"Actions",create:"Create",update:"Update",cancel:"Cancel",delete:"Delete",confirm:"Confirm",processing:"Processing",ready:"Ready",transferred:"Transferred",rejected:"Rejected",testing:"Testing",viewDetails:"View Details",downloadCert:"Download Certificate",transferBatch:"Transfer Batch",qualityTest:"Quality Test",batchDetails:"Batch Details",transferHistory:"Transfer History",qualityReports:"Quality Reports",farmerName:"Farmer Name",source:"Source",certifiedBy:"Certified By",validUntil:"Valid Until"},hi:{title:"बैच प्रबंधन",subtitle:"उत्पादन से स्थानांतरण तक बायोगैस बैचों का प्रबंधन",createBatch:"नया बैच बनाएं",editBatch:"बैच संपादित करें",deleteBatch:"बैच हटाएं",batchList:"बैच सूची",activeQualities:"सक्रिय गुणवत्ता परीक्षण",certificates:"गुणवत्ता प्रमाणपत्र",search:"बैच खोजें...",filter:"फिल्टर",batchId:"बैच आईडी",digesterId:"डाइजेस्टर आईडी",volume:"आयतन (m³)",methaneContent:"मीथेन सामग्री (%)",status:"स्थिति",createdDate:"निर्मित दिनांक",transferDate:"स्थानांतरण दिनांक",qualityScore:"गुणवत्ता स्कोर",notes:"टिप्पणियां",actions:"कार्य",create:"बनाएं",update:"अपडेट करें",cancel:"रद्द करें",delete:"हटाएं",confirm:"पुष्टि करें",processing:"प्रसंस्करण",ready:"तैयार",transferred:"स्थानांतरित",rejected:"अस्वीकृत",testing:"परीक्षण",viewDetails:"विवरण देखें",downloadCert:"प्रमाणपत्र डाउनलोड करें",transferBatch:"बैच स्थानांतरित करें",qualityTest:"गुणवत्ता परीक्षण",batchDetails:"बैच विवरण",transferHistory:"स्थानांतरण इतिहास",qualityReports:"गुणवत्ता रिपोर्ट",farmerName:"किसान का नाम",source:"स्रोत",certifiedBy:"प्रमाणित करने वाला",validUntil:"तक वैध"}},rr=s=>{switch(s){case"processing":return"bg-blue-100 text-blue-800";case"ready":return"bg-green-100 text-green-800";case"transferred":return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800";case"testing":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},gc=s=>{switch(s){case"processing":return e.jsx(Se,{className:"w-4 h-4"});case"ready":return e.jsx(de,{className:"w-4 h-4"});case"transferred":return e.jsx(hs,{className:"w-4 h-4"});case"rejected":return e.jsx(js,{className:"w-4 h-4"});case"testing":return e.jsx(fs,{className:"w-4 h-4"});default:return e.jsx(fs,{className:"w-4 h-4"})}},nr=({batch:s,onSubmit:t,onCancel:a,t:r})=>{const[n,i]=h.useState({digesterId:s?.digesterId||"",volume:s?.volume?.toString()||"",methaneContent:s?.methaneContent?.toString()||"",notes:s?.notes||"",farmerName:s?.farmerName||"",source:s?.source||""}),c=o=>{o.preventDefault(),t({...n,volume:parseFloat(n.volume),methaneContent:parseFloat(n.methaneContent)})};return e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"digesterId",children:r("digesterId")}),e.jsxs(ve,{value:n.digesterId,onValueChange:o=>i(d=>({...d,digesterId:o})),children:[e.jsx(je,{children:e.jsx(ye,{placeholder:"Select digester"})}),e.jsxs(fe,{children:[e.jsx(B,{value:"DIG-001",children:"Digester 001 - Main Unit"}),e.jsx(B,{value:"DIG-002",children:"Digester 002 - Secondary Unit"}),e.jsx(B,{value:"DIG-003",children:"Digester 003 - Buffalo Unit"}),e.jsx(B,{value:"DIG-004",children:"Digester 004 - Mixed Feed"}),e.jsx(B,{value:"DIG-005",children:"Digester 005 - Experimental"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"farmerName",children:r("farmerName")}),e.jsx(ee,{id:"farmerName",value:n.farmerName,onChange:o=>i(d=>({...d,farmerName:o.target.value})),placeholder:"राजेश कुमार"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"source",children:r("source")}),e.jsx(ee,{id:"source",value:n.source,onChange:o=>i(d=>({...d,source:o.target.value})),placeholder:"Gokul Gaushala, Mathura"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"volume",children:r("volume")}),e.jsx(ee,{id:"volume",type:"number",step:"0.1",value:n.volume,onChange:o=>i(d=>({...d,volume:o.target.value})),placeholder:"0.0",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"methaneContent",children:r("methaneContent")}),e.jsx(ee,{id:"methaneContent",type:"number",step:"0.1",value:n.methaneContent,onChange:o=>i(d=>({...d,methaneContent:o.target.value})),placeholder:"0.0",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"notes",children:r("notes")}),e.jsx(dt,{id:"notes",value:n.notes,onChange:o=>i(d=>({...d,notes:o.target.value})),placeholder:"Detailed batch information including source details, quality parameters, and special notes...",rows:4})]}),e.jsxs(zs,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:a,children:r("cancel")}),e.jsx(O,{type:"submit",children:r(s?"update":"create")})]})]})},pc=({languageContext:s})=>{const[t,a]=h.useState(""),[r,n]=h.useState("all"),[i,c]=h.useState(!1),[o,d]=h.useState(null),[p,N]=h.useState(null),f=s?.language||"en",u=g=>s?.t(g)||hc[f][g]||g,v=vs.filter(g=>{const l=g.id.toLowerCase().includes(t.toLowerCase())||g.digesterId.toLowerCase().includes(t.toLowerCase())||g.farmerName?.toLowerCase().includes(t.toLowerCase())||g.source?.toLowerCase().includes(t.toLowerCase()),m=r==="all"||g.status===r;return l&&m}),j=async g=>{await mc(),c(!1)},P=async g=>{o&&(await xc(o.id),d(null))},A=async()=>{p&&(await uc(p.id),N(null))},C=vs.filter(g=>g.status==="processing"||g.status==="testing"),y=vs.filter(g=>g.status==="ready");vs.filter(g=>g.status==="transferred");const S=vs.reduce((g,l)=>g+l.volume,0),T=vs.filter(g=>g.qualityScore).reduce((g,l)=>g+(l.qualityScore||0),0)/vs.filter(g=>g.qualityScore).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:u("title")}),e.jsx("p",{className:"text-muted-foreground",children:u("subtitle")})]}),e.jsxs(gs,{open:i,onOpenChange:c,children:[e.jsx(dn,{asChild:!0,children:e.jsxs(O,{className:"gap-2",children:[e.jsx(Ss,{className:"w-4 h-4"}),u("createBatch")]})}),e.jsxs(ns,{className:"sm:max-w-[525px]",children:[e.jsxs(is,{children:[e.jsx(ls,{children:u("createBatch")}),e.jsx(cs,{children:"Create a new biogas batch from digester output with detailed source information"})]}),e.jsx(nr,{onSubmit:j,onCancel:()=>c(!1),t:u})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Active Batches"}),e.jsx(fs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:C.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently processing"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Ready for Transfer"}),e.jsx(de,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Quality approved"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Total Volume"}),e.jsx(hs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[S.toFixed(1)," m³"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All batches combined"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Average Quality"}),e.jsx(Oe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[T.toFixed(1),"/100"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Quality score average"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Certificates"}),e.jsx(Oe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:pa.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Available for download"})]})]})]}),e.jsxs($e,{defaultValue:"batches",className:"space-y-6",children:[e.jsxs(Ve,{children:[e.jsx(X,{value:"batches",children:u("batchList")}),e.jsx(X,{value:"quality",children:u("activeQualities")}),e.jsx(X,{value:"certificates",children:u("certificates")})]}),e.jsx(Y,{value:"batches",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(k,{children:u("batchList")}),e.jsx(se,{children:"Manage all biogas batches and their lifecycle with detailed source tracking"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(ee,{placeholder:u("search"),value:t,onChange:g=>a(g.target.value),className:"pl-10 w-64"})]}),e.jsxs(ve,{value:r,onValueChange:g=>n(g),children:[e.jsx(je,{className:"w-32",children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"all",children:"All Status"}),e.jsx(B,{value:"processing",children:"Processing"}),e.jsx(B,{value:"testing",children:"Testing"}),e.jsx(B,{value:"ready",children:"Ready"}),e.jsx(B,{value:"transferred",children:"Transferred"}),e.jsx(B,{value:"rejected",children:"Rejected"})]})]})]})]})}),e.jsx(w,{children:e.jsxs(Ua,{children:[e.jsx(qa,{children:e.jsxs(kt,{children:[e.jsx(Fe,{children:u("batchId")}),e.jsx(Fe,{children:u("farmerName")}),e.jsx(Fe,{children:u("source")}),e.jsx(Fe,{children:u("volume")}),e.jsx(Fe,{children:u("methaneContent")}),e.jsx(Fe,{children:u("status")}),e.jsx(Fe,{children:u("qualityScore")}),e.jsx(Fe,{children:u("createdDate")}),e.jsx(Fe,{children:u("actions")})]})}),e.jsx(Ga,{children:v.map(g=>e.jsxs(kt,{children:[e.jsx(_e,{className:"font-medium",children:g.id}),e.jsx(_e,{children:g.farmerName||"N/A"}),e.jsx(_e,{className:"max-w-32 truncate",title:g.source,children:g.source||"N/A"}),e.jsxs(_e,{children:[g.volume.toFixed(1)," m³"]}),e.jsxs(_e,{children:[g.methaneContent.toFixed(1),"%"]}),e.jsx(_e,{children:e.jsx(L,{className:rr(g.status),children:e.jsxs("div",{className:"flex items-center gap-1",children:[gc(g.status),u(g.status)]})})}),e.jsx(_e,{children:g.qualityScore?e.jsxs("span",{className:`font-medium ${g.qualityScore>=90?"text-green-600":g.qualityScore>=70?"text-yellow-600":"text-red-600"}`,children:[g.qualityScore,"/100"]}):e.jsx("span",{className:"text-muted-foreground",children:"Pending"})}),e.jsx(_e,{children:new Date(g.createdDate).toLocaleDateString()}),e.jsx(_e,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{size:"sm",variant:"outline",onClick:()=>d(g),children:e.jsx(ps,{className:"w-4 h-4"})}),e.jsx(O,{size:"sm",variant:"outline",onClick:()=>N(g),children:e.jsx(at,{className:"w-4 h-4"})}),e.jsx(O,{size:"sm",variant:"outline",title:g.notes,children:e.jsx(ds,{className:"w-4 h-4"})})]})})]},g.id))})]})})]})}),e.jsx(Y,{value:"quality",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:u("activeQualities")}),e.jsx(se,{children:"Monitor ongoing quality testing processes with detailed progress tracking"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[vs.filter(g=>g.status==="testing").map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-semibold",children:g.id}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Farmer: ",g.farmerName," | Volume: ",g.volume.toFixed(1)," m³"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Source: ",g.source]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{className:rr(g.status),children:u("testing")}),e.jsx(O,{size:"sm",variant:"outline",children:"View Progress"})]})]},g.id)),vs.filter(g=>g.status==="testing").length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(fs,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No active quality tests"})]})]})})]})}),e.jsx(Y,{value:"certificates",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:u("certificates")}),e.jsx(se,{children:"Download and manage quality certificates with detailed certification information"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[pa.map(g=>{const l=vs.find(m=>m.id===g.batchId);return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-semibold",children:g.batchId}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Farmer: ",l?.farmerName," | Score: ",g.qualityScore,"/100"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Certified by: ",g.certifiedBy]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issued: ",new Date(g.issuedDate).toLocaleDateString()," | Valid until: ",g.validUntil?new Date(g.validUntil).toLocaleDateString():"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{className:"bg-green-100 text-green-800",children:"Certified"}),e.jsxs(O,{size:"sm",variant:"outline",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Download"]})]})]},g.id)}),pa.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Oe,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No certificates available"})]})]})})]})})]}),e.jsx(gs,{open:!!o,onOpenChange:()=>d(null),children:e.jsxs(ns,{className:"sm:max-w-[525px]",children:[e.jsxs(is,{children:[e.jsx(ls,{children:u("editBatch")}),e.jsx(cs,{children:"Update batch information and status with detailed source tracking"})]}),o&&e.jsx(nr,{batch:o,onSubmit:P,onCancel:()=>d(null),t:u})]})}),e.jsx(gs,{open:!!p,onOpenChange:()=>N(null),children:e.jsxs(ns,{children:[e.jsxs(is,{children:[e.jsx(ls,{children:u("deleteBatch")}),e.jsxs(cs,{children:["Are you sure you want to delete batch ",p?.id,"? This action cannot be undone."]})]}),e.jsxs(zs,{children:[e.jsx(O,{variant:"outline",onClick:()=>N(null),children:u("cancel")}),e.jsx(O,{variant:"destructive",onClick:A,children:u("delete")})]})]})})]})},jc=[{id:"DISP-001",type:"WEIGHT_MISMATCH",status:"OPEN",farmerClaim:{weight:45.2,quality:"A",timestamp:new Date(Date.now()-36e5).toISOString(),photoproof:"photo_001.jpg"},iotReading:{weight:42.8,quality:"A",deviceId:"SCALE-001",confidence:.95,timestamp:new Date(Date.now()-36e5).toISOString()},createdAt:new Date(Date.now()-36e5).toISOString()},{id:"DISP-002",type:"QUALITY_ISSUE",status:"INVESTIGATING",farmerClaim:{weight:38.5,quality:"A",timestamp:new Date(Date.now()-72e5).toISOString()},iotReading:{weight:38.7,quality:"B",deviceId:"SENSOR-002",confidence:.88,timestamp:new Date(Date.now()-72e5).toISOString()},createdAt:new Date(Date.now()-72e5).toISOString()},{id:"DISP-003",type:"PAYMENT_DELAY",status:"RESOLVED",farmerClaim:{weight:52,quality:"A",timestamp:new Date(Date.now()-864e5).toISOString()},iotReading:{weight:51.8,quality:"A",deviceId:"SCALE-003",confidence:.97,timestamp:new Date(Date.now()-864e5).toISOString()},createdAt:new Date(Date.now()-864e5).toISOString(),resolution:"Payment processed after verification. Minor weight difference within acceptable tolerance.",resolvedAt:new Date(Date.now()-432e5).toISOString()}],fc=async(s,t)=>new Promise(a=>setTimeout(a,1e3)),vc=async(s,t)=>new Promise(a=>setTimeout(a,1e3)),yc=()=>{const[s,t]=h.useState(null),[a,r]=h.useState("ALL"),n=jc.filter(d=>a==="ALL"||d.status===a),i=async(d,p,N)=>{try{await fc(d,{resolution:p,favorFarmer:N,resolvedBy:"CLUSTER_MANAGER",timestamp:new Date().toISOString()}),t(null)}catch{}},c=d=>({WEIGHT_MISMATCH:"Weight Mismatch",QUALITY_ISSUE:"Quality Issue",PAYMENT_DELAY:"Payment Delay",COLLECTION_MISSED:"Collection Missed"})[d]||d,o=d=>({OPEN:"destructive",INVESTIGATING:"secondary",RESOLVED:"default",ESCALATED:"outline"})[d]||"outline";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dispute Resolution"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Resolve farmer disputes with side-by-side evidence comparison"})]}),e.jsx("div",{className:"flex space-x-2",children:["ALL","OPEN","INVESTIGATING","RESOLVED"].map(d=>e.jsx(O,{variant:a===d?"default":"outline",size:"sm",onClick:()=>r(d),children:d},d))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"h-5 w-5"}),e.jsxs("span",{children:["Active Disputes (",n.length,")"]})]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[n.map(d=>e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${s?.id===d.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>t(d),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:c(d.type)}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Dispute #",d.id]})]}),e.jsx(L,{variant:o(d.status),children:d.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-700",children:"Farmer Claim:"}),e.jsxs("p",{children:["Weight: ",d.farmerClaim.weight," kg"]}),e.jsxs("p",{children:["Quality: Grade ",d.farmerClaim.quality]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-700",children:"IoT Reading:"}),e.jsxs("p",{children:["Weight: ",d.iotReading.weight," kg"]}),e.jsxs("p",{children:["Quality: Grade ",d.iotReading.quality]}),e.jsxs("p",{children:["Confidence: ",(d.iotReading.confidence*100).toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[e.jsx(Se,{className:"h-3 w-3"}),e.jsxs("span",{children:["Created: ",new Date(d.createdAt).toLocaleDateString()]})]}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(ds,{className:"h-4 w-4"})})]})]},d.id)),n.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(le,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No disputes found for selected filter"})]})]})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Dispute Resolution"})}),e.jsx(w,{children:s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[e.jsxs("h3",{className:"font-semibold text-green-800 mb-3 flex items-center space-x-2",children:[e.jsx(rs,{className:"h-4 w-4"}),e.jsx("span",{children:"Farmer Evidence"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weight:"}),e.jsxs("span",{className:"font-medium",children:[s.farmerClaim.weight," kg"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quality:"}),e.jsxs("span",{className:"font-medium",children:["Grade ",s.farmerClaim.quality]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Time:"}),e.jsx("span",{className:"font-medium",children:new Date(s.farmerClaim.timestamp).toLocaleTimeString()})]}),s.farmerClaim.photoproof&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Photo Proof:"}),e.jsx("div",{className:"w-full h-24 bg-gray-200 rounded flex items-center justify-center",children:e.jsx($t,{className:"h-8 w-8 text-gray-400"})})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[e.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center space-x-2",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"IoT Evidence"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weight:"}),e.jsxs("span",{className:"font-medium",children:[s.iotReading.weight," kg"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quality:"}),e.jsxs("span",{className:"font-medium",children:["Grade ",s.iotReading.quality]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Device:"}),e.jsx("span",{className:"font-medium",children:s.iotReading.deviceId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Confidence:"}),e.jsxs("span",{className:"font-medium",children:[(s.iotReading.confidence*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Time:"}),e.jsx("span",{className:"font-medium",children:new Date(s.iotReading.timestamp).toLocaleTimeString()})]})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-3",children:"Variance Analysis"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weight Difference:"}),e.jsxs("span",{className:"font-medium",children:[Math.abs(s.farmerClaim.weight-s.iotReading.weight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quality Match:"}),e.jsx("span",{className:"font-medium",children:s.farmerClaim.quality===s.iotReading.quality?"✓ Match":"✗ Mismatch"})]})]})]}),s.status==="OPEN"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold",children:"Resolution Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(O,{className:"flex items-center space-x-2",onClick:()=>i(s.id,"Resolved in favor of farmer based on evidence review",!0),children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{children:"Favor Farmer"})]}),e.jsxs(O,{variant:"outline",className:"flex items-center space-x-2",onClick:()=>i(s.id,"Resolved in favor of IoT reading based on device confidence",!1),children:[e.jsx(qt,{className:"h-4 w-4"}),e.jsx("span",{children:"Favor IoT"})]})]}),e.jsx(O,{variant:"destructive",className:"w-full",onClick:()=>vc(s.id),children:"Escalate to Higher Authority"})]}),s.resolution&&e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Resolution"}),e.jsx("p",{className:"text-sm text-gray-700",children:s.resolution}),s.resolvedAt&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Resolved on: ",new Date(s.resolvedAt).toLocaleString()]})]})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(le,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a dispute to view details and resolution options"})]})})]})]})]})},ht=[{id:"PAY-001",farmerId:"FARM-001",amount:412.25,type:"CASH",status:"COMPLETED",createdAt:new Date().toISOString(),transactionId:"TXN-001",auditHash:"sha256:a1b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef123456",batchIds:["BATCH-001"]},{id:"PAY-002",farmerId:"FARM-002",amount:325.8,type:"UPI",status:"PENDING",createdAt:new Date(Date.now()-864e5).toISOString(),auditHash:"sha256:b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef1234567",batchIds:["BATCH-002"]}],Nc=[{id:"FARM-001",name:"राम कुमार"},{id:"FARM-002",name:"श्याम यादव"}],bc=()=>{const[s,t]=h.useState(null),a=i=>({PENDING:"secondary",PROCESSING:"outline",COMPLETED:"default",FAILED:"destructive"})[i]||"outline",r=i=>{switch(i){case"CASH":return"💵";case"UPI":return"📱";case"BANK_TRANSFER":return"🏦";case"CHEQUE":return"📝";default:return"💳"}},n=i=>Nc.find(o=>o.id===i)?.name||`Farmer ${i}`;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"-mt-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Reconciliation"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track and reconcile farmer payments with immutable audit log"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zt,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Payments"}),e.jsx("p",{className:"text-xl font-bold",children:ht.length})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-xl font-bold",children:ht.filter(i=>i.status==="COMPLETED").length})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(js,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-xl font-bold",children:ht.filter(i=>i.status==="PENDING").length})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"text-xl font-bold",children:["₹",ht.reduce((i,c)=>i+c.amount,0).toLocaleString()]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Payment Records"})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:ht.map(i=>e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${s?.id===i.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>t(i),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:n(i.farmerId)}),e.jsxs("p",{className:"text-sm text-gray-600",children:["₹",i.amount.toLocaleString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(L,{variant:a(i.status),children:i.status}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r(i.type)," ",i.type]})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{children:["#",i.id]}),e.jsx("span",{children:new Date(i.createdAt).toLocaleDateString()})]}),i.transactionId&&e.jsxs("div",{className:"mt-2 text-xs font-mono bg-gray-100 p-1 rounded",children:["TXN: ",i.transactionId]})]},i.id))})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Payment Details & Audit Trail"})}),e.jsx(w,{children:s?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Payment Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Payment ID:"}),e.jsx("p",{className:"font-medium",children:s.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsxs("p",{className:"font-medium",children:["₹",s.amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Farmer:"}),e.jsx("p",{className:"font-medium",children:n(s.farmerId)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Type:"}),e.jsxs("p",{className:"font-medium",children:[r(s.type)," ",s.type]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx(L,{variant:a(s.status),children:s.status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Created:"}),e.jsx("p",{className:"font-medium",children:new Date(s.createdAt).toLocaleString()})]})]}),s.transactionId&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),e.jsx("p",{className:"font-mono text-sm bg-white p-2 rounded border",children:s.transactionId})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center space-x-2",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsx("span",{children:"Audit Hash (Immutable)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ci,{className:"h-4 w-4 text-gray-500"}),e.jsx("p",{className:"font-mono text-xs bg-white p-2 rounded border flex-1",children:s.auditHash})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"This cryptographic hash ensures payment record integrity and prevents tampering."})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Related Batches"}),e.jsx("div",{className:"space-y-2",children:s.batchIds.map(i=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{children:["Batch ",i]}),e.jsx(L,{variant:"outline",children:"Linked"})]},i))})]}),s.status==="PENDING"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(O,{className:"w-full",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Mark as Completed"]}),e.jsx(O,{variant:"outline",className:"w-full",children:"Process Payment"})]}),s.status==="FAILED"&&e.jsx(O,{variant:"outline",className:"w-full",children:"Retry Payment"})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(We,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a payment to view details and audit trail"})]})})]})]})]})};function wc(s,t,a="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:s,timeZoneName:a}).format(t).split(/\s/g).slice(2).join(" ")}const Sc={},vt={};function Ws(s,t){try{const r=(Sc[s]||=new Intl.DateTimeFormat("en-US",{timeZone:s,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in vt?vt[r]:ir(r,r.split(":"))}catch{if(s in vt)return vt[s];const a=s?.match(Cc);return a?ir(s,a.slice(1)):NaN}}const Cc=/([+-]\d\d):?(\d\d)?/;function ir(s,t){const a=+(t[0]||0),r=+(t[1]||0),n=+(t[2]||0)/60;return vt[s]=a*60+r>0?a*60+r+n:a*60-r-n}class bs extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Ws(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),xn(this),Ia(this)):this.setTime(Date.now())}static tz(t,...a){return a.length?new bs(...a,t):new bs(Date.now(),t)}withTimeZone(t){return new bs(+this,t)}getTimezoneOffset(){const t=-Ws(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Ia(this),+this}[Symbol.for("constructDateFrom")](t){return new bs(+new Date(t),this.timeZone)}}const lr=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(s=>{if(!lr.test(s))return;const t=s.replace(lr,"$1UTC");bs.prototype[t]&&(s.startsWith("get")?bs.prototype[s]=function(){return this.internal[t]()}:(bs.prototype[s]=function(){return Date.prototype[t].apply(this.internal,arguments),Dc(this),+this},bs.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Ia(this),+this}))});function Ia(s){s.internal.setTime(+s),s.internal.setUTCSeconds(s.internal.getUTCSeconds()-Math.round(-Ws(s.timeZone,s)*60))}function Dc(s){Date.prototype.setFullYear.call(s,s.internal.getUTCFullYear(),s.internal.getUTCMonth(),s.internal.getUTCDate()),Date.prototype.setHours.call(s,s.internal.getUTCHours(),s.internal.getUTCMinutes(),s.internal.getUTCSeconds(),s.internal.getUTCMilliseconds()),xn(s)}function xn(s){const t=Ws(s.timeZone,s),a=t>0?Math.floor(t):Math.ceil(t),r=new Date(+s);r.setUTCHours(r.getUTCHours()-1);const n=-new Date(+s).getTimezoneOffset(),i=-new Date(+r).getTimezoneOffset(),c=n-i,o=Date.prototype.getHours.apply(s)!==s.internal.getUTCHours();c&&o&&s.internal.setUTCMinutes(s.internal.getUTCMinutes()+c);const d=n-a;d&&Date.prototype.setUTCMinutes.call(s,Date.prototype.getUTCMinutes.call(s)+d);const p=new Date(+s);p.setUTCSeconds(0);const N=n>0?p.getSeconds():(p.getSeconds()-60)%60,f=Math.round(-(Ws(s.timeZone,s)*60))%60;(f||N)&&(s.internal.setUTCSeconds(s.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(s,Date.prototype.getUTCSeconds.call(s)+f+N));const u=Ws(s.timeZone,s),v=u>0?Math.floor(u):Math.ceil(u),P=-new Date(+s).getTimezoneOffset()-v,A=v!==a,C=P-d;if(A&&C){Date.prototype.setUTCMinutes.call(s,Date.prototype.getUTCMinutes.call(s)+C);const y=Ws(s.timeZone,s),S=y>0?Math.floor(y):Math.ceil(y),T=v-S;T&&(s.internal.setUTCMinutes(s.internal.getUTCMinutes()+T),Date.prototype.setUTCMinutes.call(s,Date.prototype.getUTCMinutes.call(s)+T))}}class Be extends bs{static tz(t,...a){return a.length?new Be(...a,t):new Be(Date.now(),t)}toISOString(){const[t,a,r]=this.tzComponents(),n=`${t}${a}:${r}`;return this.internal.toISOString().slice(0,-1)+n}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,a,r,n]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${a} ${n}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[a,r,n]=this.tzComponents();return`${t} GMT${a}${r}${n} (${wc(this.timeZone,this)})`}toLocaleString(t,a){return Date.prototype.toLocaleString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleDateString(t,a){return Date.prototype.toLocaleDateString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleTimeString(t,a){return Date.prototype.toLocaleTimeString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),a=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),n=String(Math.abs(t)%60).padStart(2,"0");return[a,r,n]}withTimeZone(t){return new Be(+this,t)}[Symbol.for("constructDateFrom")](t){return new Be(+new Date(t),this.timeZone)}}const un=6048e5,kc=864e5,cr=Symbol.for("constructDateFrom");function Ee(s,t){return typeof s=="function"?s(t):s&&typeof s=="object"&&cr in s?s[cr](t):s instanceof Date?new s.constructor(t):new Date(t)}function Ne(s,t){return Ee(t||s,s)}function hn(s,t,a){const r=Ne(s,a?.in);return isNaN(t)?Ee(s,NaN):(t&&r.setDate(r.getDate()+t),r)}function gn(s,t,a){const r=Ne(s,a?.in);if(isNaN(t))return Ee(s,NaN);if(!t)return r;const n=r.getDate(),i=Ee(s,r.getTime());i.setMonth(r.getMonth()+t+1,0);const c=i.getDate();return n>=c?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}let Tc={};function At(){return Tc}function et(s,t){const a=At(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=Ne(s,t?.in),i=n.getDay(),c=(i<r?7:0)+i-r;return n.setDate(n.getDate()-c),n.setHours(0,0,0,0),n}function Tt(s,t){return et(s,{...t,weekStartsOn:1})}function pn(s,t){const a=Ne(s,t?.in),r=a.getFullYear(),n=Ee(a,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Tt(n),c=Ee(a,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const o=Tt(c);return a.getTime()>=i.getTime()?r+1:a.getTime()>=o.getTime()?r:r-1}function or(s){const t=Ne(s),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+s-+a}function mt(s,...t){const a=Ee.bind(null,t.find(r=>typeof r=="object"));return t.map(a)}function It(s,t){const a=Ne(s,t?.in);return a.setHours(0,0,0,0),a}function jn(s,t,a){const[r,n]=mt(a?.in,s,t),i=It(r),c=It(n),o=+i-or(i),d=+c-or(c);return Math.round((o-d)/kc)}function Ic(s,t){const a=pn(s,t),r=Ee(s,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),Tt(r)}function Ac(s,t,a){return hn(s,t*7,a)}function Pc(s,t,a){return gn(s,t*12,a)}function Rc(s,t){let a,r=t?.in;return s.forEach(n=>{!r&&typeof n=="object"&&(r=Ee.bind(null,n));const i=Ne(n,r);(!a||a<i||isNaN(+i))&&(a=i)}),Ee(r,a||NaN)}function Mc(s,t){let a,r=t?.in;return s.forEach(n=>{!r&&typeof n=="object"&&(r=Ee.bind(null,n));const i=Ne(n,r);(!a||a>i||isNaN(+i))&&(a=i)}),Ee(r,a||NaN)}function Ec(s,t,a){const[r,n]=mt(a?.in,s,t);return+It(r)==+It(n)}function fn(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Oc(s){return!(!fn(s)&&typeof s!="number"||isNaN(+Ne(s)))}function Lc(s,t,a){const[r,n]=mt(a?.in,s,t),i=r.getFullYear()-n.getFullYear(),c=r.getMonth()-n.getMonth();return i*12+c}function Fc(s,t){const a=Ne(s,t?.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}function _c(s,t){const[a,r]=mt(s,t.start,t.end);return{start:a,end:r}}function Bc(s,t){const{start:a,end:r}=_c(t?.in,s);let n=+a>+r;const i=n?+a:+r,c=n?r:a;c.setHours(0,0,0,0),c.setDate(1);let o=1;const d=[];for(;+c<=i;)d.push(Ee(a,c)),c.setMonth(c.getMonth()+o);return n?d.reverse():d}function Uc(s,t){const a=Ne(s,t?.in);return a.setDate(1),a.setHours(0,0,0,0),a}function qc(s,t){const a=Ne(s,t?.in),r=a.getFullYear();return a.setFullYear(r+1,0,0),a.setHours(23,59,59,999),a}function vn(s,t){const a=Ne(s,t?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function yn(s,t){const a=At(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=Ne(s,t?.in),i=n.getDay(),c=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+c),n.setHours(23,59,59,999),n}function Gc(s,t){return yn(s,{...t,weekStartsOn:1})}const Wc={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$c=(s,t,a)=>{let r;const n=Wc[s];return typeof n=="string"?r=n:t===1?r=n.one:r=n.other.replace("{{count}}",t.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function ja(s){return(t={})=>{const a=t.width?String(t.width):s.defaultWidth;return s.formats[a]||s.formats[s.defaultWidth]}}const Vc={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hc={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zc={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yc={date:ja({formats:Vc,defaultWidth:"full"}),time:ja({formats:Hc,defaultWidth:"full"}),dateTime:ja({formats:zc,defaultWidth:"full"})},Qc={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kc=(s,t,a,r)=>Qc[s];function gt(s){return(t,a)=>{const r=a?.context?String(a.context):"standalone";let n;if(r==="formatting"&&s.formattingValues){const c=s.defaultFormattingWidth||s.defaultWidth,o=a?.width?String(a.width):c;n=s.formattingValues[o]||s.formattingValues[c]}else{const c=s.defaultWidth,o=a?.width?String(a.width):s.defaultWidth;n=s.values[o]||s.values[c]}const i=s.argumentCallback?s.argumentCallback(t):t;return n[i]}}const Zc={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xc={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jc={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eo={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},so={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},to={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ao=(s,t)=>{const a=Number(s),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},ro={ordinalNumber:ao,era:gt({values:Zc,defaultWidth:"wide"}),quarter:gt({values:Xc,defaultWidth:"wide",argumentCallback:s=>s-1}),month:gt({values:Jc,defaultWidth:"wide"}),day:gt({values:eo,defaultWidth:"wide"}),dayPeriod:gt({values:so,defaultWidth:"wide",formattingValues:to,defaultFormattingWidth:"wide"})};function pt(s){return(t,a={})=>{const r=a.width,n=r&&s.matchPatterns[r]||s.matchPatterns[s.defaultMatchWidth],i=t.match(n);if(!i)return null;const c=i[0],o=r&&s.parsePatterns[r]||s.parsePatterns[s.defaultParseWidth],d=Array.isArray(o)?io(o,f=>f.test(c)):no(o,f=>f.test(c));let p;p=s.valueCallback?s.valueCallback(d):d,p=a.valueCallback?a.valueCallback(p):p;const N=t.slice(c.length);return{value:p,rest:N}}}function no(s,t){for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&t(s[a]))return a}function io(s,t){for(let a=0;a<s.length;a++)if(t(s[a]))return a}function lo(s){return(t,a={})=>{const r=t.match(s.matchPattern);if(!r)return null;const n=r[0],i=t.match(s.parsePattern);if(!i)return null;let c=s.valueCallback?s.valueCallback(i[0]):i[0];c=a.valueCallback?a.valueCallback(c):c;const o=t.slice(n.length);return{value:c,rest:o}}}const co=/^(\d+)(th|st|nd|rd)?/i,oo=/\d+/i,mo={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xo={any:[/^b/i,/^(a|c)/i]},uo={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ho={any:[/1/i,/2/i,/3/i,/4/i]},go={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},po={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jo={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fo={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},No={ordinalNumber:lo({matchPattern:co,parsePattern:oo,valueCallback:s=>parseInt(s,10)}),era:pt({matchPatterns:mo,defaultMatchWidth:"wide",parsePatterns:xo,defaultParseWidth:"any"}),quarter:pt({matchPatterns:uo,defaultMatchWidth:"wide",parsePatterns:ho,defaultParseWidth:"any",valueCallback:s=>s+1}),month:pt({matchPatterns:go,defaultMatchWidth:"wide",parsePatterns:po,defaultParseWidth:"any"}),day:pt({matchPatterns:jo,defaultMatchWidth:"wide",parsePatterns:fo,defaultParseWidth:"any"}),dayPeriod:pt({matchPatterns:vo,defaultMatchWidth:"any",parsePatterns:yo,defaultParseWidth:"any"})},Wa={code:"en-US",formatDistance:$c,formatLong:Yc,formatRelative:Kc,localize:ro,match:No,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bo(s,t){const a=Ne(s,t?.in);return jn(a,vn(a))+1}function Nn(s,t){const a=Ne(s,t?.in),r=+Tt(a)-+Ic(a);return Math.round(r/un)+1}function bn(s,t){const a=Ne(s,t?.in),r=a.getFullYear(),n=At(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=Ee(t?.in||s,0);c.setFullYear(r+1,0,i),c.setHours(0,0,0,0);const o=et(c,t),d=Ee(t?.in||s,0);d.setFullYear(r,0,i),d.setHours(0,0,0,0);const p=et(d,t);return+a>=+o?r+1:+a>=+p?r:r-1}function wo(s,t){const a=At(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,n=bn(s,t),i=Ee(t?.in||s,0);return i.setFullYear(n,0,r),i.setHours(0,0,0,0),et(i,t)}function wn(s,t){const a=Ne(s,t?.in),r=+et(a,t)-+wo(a,t);return Math.round(r/un)+1}function pe(s,t){const a=s<0?"-":"",r=Math.abs(s).toString().padStart(t,"0");return a+r}const Ls={y(s,t){const a=s.getFullYear(),r=a>0?a:1-a;return pe(t==="yy"?r%100:r,t.length)},M(s,t){const a=s.getMonth();return t==="M"?String(a+1):pe(a+1,2)},d(s,t){return pe(s.getDate(),t.length)},a(s,t){const a=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(s,t){return pe(s.getHours()%12||12,t.length)},H(s,t){return pe(s.getHours(),t.length)},m(s,t){return pe(s.getMinutes(),t.length)},s(s,t){return pe(s.getSeconds(),t.length)},S(s,t){const a=t.length,r=s.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return pe(n,t.length)}},Ys={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dr={G:function(s,t,a){const r=s.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(s,t,a){if(t==="yo"){const r=s.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return Ls.y(s,t)},Y:function(s,t,a,r){const n=bn(s,r),i=n>0?n:1-n;if(t==="YY"){const c=i%100;return pe(c,2)}return t==="Yo"?a.ordinalNumber(i,{unit:"year"}):pe(i,t.length)},R:function(s,t){const a=pn(s);return pe(a,t.length)},u:function(s,t){const a=s.getFullYear();return pe(a,t.length)},Q:function(s,t,a){const r=Math.ceil((s.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return pe(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(s,t,a){const r=Math.ceil((s.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return pe(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(s,t,a){const r=s.getMonth();switch(t){case"M":case"MM":return Ls.M(s,t);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(s,t,a){const r=s.getMonth();switch(t){case"L":return String(r+1);case"LL":return pe(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(s,t,a,r){const n=wn(s,r);return t==="wo"?a.ordinalNumber(n,{unit:"week"}):pe(n,t.length)},I:function(s,t,a){const r=Nn(s);return t==="Io"?a.ordinalNumber(r,{unit:"week"}):pe(r,t.length)},d:function(s,t,a){return t==="do"?a.ordinalNumber(s.getDate(),{unit:"date"}):Ls.d(s,t)},D:function(s,t,a){const r=bo(s);return t==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):pe(r,t.length)},E:function(s,t,a){const r=s.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(s,t,a,r){const n=s.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return pe(i,2);case"eo":return a.ordinalNumber(i,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(s,t,a,r){const n=s.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return pe(i,t.length);case"co":return a.ordinalNumber(i,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(s,t,a){const r=s.getDay(),n=r===0?7:r;switch(t){case"i":return String(n);case"ii":return pe(n,t.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(s,t,a){const n=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(s,t,a){const r=s.getHours();let n;switch(r===12?n=Ys.noon:r===0?n=Ys.midnight:n=r/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(s,t,a){const r=s.getHours();let n;switch(r>=17?n=Ys.evening:r>=12?n=Ys.afternoon:r>=4?n=Ys.morning:n=Ys.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(s,t,a){if(t==="ho"){let r=s.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return Ls.h(s,t)},H:function(s,t,a){return t==="Ho"?a.ordinalNumber(s.getHours(),{unit:"hour"}):Ls.H(s,t)},K:function(s,t,a){const r=s.getHours()%12;return t==="Ko"?a.ordinalNumber(r,{unit:"hour"}):pe(r,t.length)},k:function(s,t,a){let r=s.getHours();return r===0&&(r=24),t==="ko"?a.ordinalNumber(r,{unit:"hour"}):pe(r,t.length)},m:function(s,t,a){return t==="mo"?a.ordinalNumber(s.getMinutes(),{unit:"minute"}):Ls.m(s,t)},s:function(s,t,a){return t==="so"?a.ordinalNumber(s.getSeconds(),{unit:"second"}):Ls.s(s,t)},S:function(s,t){return Ls.S(s,t)},X:function(s,t,a){const r=s.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return xr(r);case"XXXX":case"XX":return qs(r);case"XXXXX":case"XXX":default:return qs(r,":")}},x:function(s,t,a){const r=s.getTimezoneOffset();switch(t){case"x":return xr(r);case"xxxx":case"xx":return qs(r);case"xxxxx":case"xxx":default:return qs(r,":")}},O:function(s,t,a){const r=s.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mr(r,":");case"OOOO":default:return"GMT"+qs(r,":")}},z:function(s,t,a){const r=s.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mr(r,":");case"zzzz":default:return"GMT"+qs(r,":")}},t:function(s,t,a){const r=Math.trunc(+s/1e3);return pe(r,t.length)},T:function(s,t,a){return pe(+s,t.length)}};function mr(s,t=""){const a=s>0?"-":"+",r=Math.abs(s),n=Math.trunc(r/60),i=r%60;return i===0?a+String(n):a+String(n)+t+pe(i,2)}function xr(s,t){return s%60===0?(s>0?"-":"+")+pe(Math.abs(s)/60,2):qs(s,t)}function qs(s,t=""){const a=s>0?"-":"+",r=Math.abs(s),n=pe(Math.trunc(r/60),2),i=pe(r%60,2);return a+n+t+i}const ur=(s,t)=>{switch(s){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Sn=(s,t)=>{switch(s){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},So=(s,t)=>{const a=s.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return ur(s,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ur(r,t)).replace("{{time}}",Sn(n,t))},Co={p:Sn,P:So},Do=/^D+$/,ko=/^Y+$/,To=["D","DD","YY","YYYY"];function Io(s){return Do.test(s)}function Ao(s){return ko.test(s)}function Po(s,t,a){const r=Ro(s,t,a);if(To.includes(s))throw new RangeError(r)}function Ro(s,t,a){const r=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${t}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Eo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Oo=/^'([^]*?)'?$/,Lo=/''/g,Fo=/[a-zA-Z]/;function _o(s,t,a){const r=At(),n=a?.locale??r.locale??Wa,i=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Ne(s,a?.in);if(!Oc(o))throw new RangeError("Invalid time value");let d=t.match(Eo).map(N=>{const f=N[0];if(f==="p"||f==="P"){const u=Co[f];return u(N,n.formatLong)}return N}).join("").match(Mo).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const f=N[0];if(f==="'")return{isToken:!1,value:Bo(N)};if(dr[f])return{isToken:!0,value:N};if(f.match(Fo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:N}});n.localize.preprocessor&&(d=n.localize.preprocessor(o,d));const p={firstWeekContainsDate:i,weekStartsOn:c,locale:n};return d.map(N=>{if(!N.isToken)return N.value;const f=N.value;(!a?.useAdditionalWeekYearTokens&&Ao(f)||!a?.useAdditionalDayOfYearTokens&&Io(f))&&Po(f,t,String(s));const u=dr[f[0]];return u(o,f,n.localize,p)}).join("")}function Bo(s){const t=s.match(Oo);return t?t[1].replace(Lo,"'"):s}function Uo(s,t){const a=Ne(s,t?.in),r=a.getFullYear(),n=a.getMonth(),i=Ee(a,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function qo(s,t){return Ne(s,t?.in).getMonth()}function Go(s,t){return Ne(s,t?.in).getFullYear()}function Wo(s,t){return+Ne(s)>+Ne(t)}function $o(s,t){return+Ne(s)<+Ne(t)}function Vo(s,t,a){const[r,n]=mt(a?.in,s,t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Ho(s,t,a){const[r,n]=mt(a?.in,s,t);return r.getFullYear()===n.getFullYear()}function zo(s,t,a){const r=Ne(s,a?.in),n=r.getFullYear(),i=r.getDate(),c=Ee(s,0);c.setFullYear(n,t,15),c.setHours(0,0,0,0);const o=Uo(c);return r.setMonth(t,Math.min(i,o)),r}function Yo(s,t,a){const r=Ne(s,a?.in);return isNaN(+r)?Ee(s,NaN):(r.setFullYear(t),r)}const hr=5,Qo=4;function Ko(s,t){const a=t.startOfMonth(s),r=a.getDay()>0?a.getDay():7,n=t.addDays(s,-r+1),i=t.addDays(n,hr*7-1);return t.getMonth(s)===t.getMonth(i)?hr:Qo}function Cn(s,t){const a=t.startOfMonth(s),r=a.getDay();return r===1?a:r===0?t.addDays(a,-1*6):t.addDays(a,-1*(r-1))}function Zo(s,t){const a=Cn(s,t),r=Ko(s,t);return t.addDays(a,r*7-1)}class Ze{constructor(t,a){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Be.tz(this.options.timeZone):new this.Date,this.newDate=(r,n,i)=>this.overrides?.newDate?this.overrides.newDate(r,n,i):this.options.timeZone?new Be(r,n,i,this.options.timeZone):new Date(r,n,i),this.addDays=(r,n)=>this.overrides?.addDays?this.overrides.addDays(r,n):hn(r,n),this.addMonths=(r,n)=>this.overrides?.addMonths?this.overrides.addMonths(r,n):gn(r,n),this.addWeeks=(r,n)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,n):Ac(r,n),this.addYears=(r,n)=>this.overrides?.addYears?this.overrides.addYears(r,n):Pc(r,n),this.differenceInCalendarDays=(r,n)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,n):jn(r,n),this.differenceInCalendarMonths=(r,n)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,n):Lc(r,n),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):Bc(r),this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):Zo(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):Gc(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):Fc(r),this.endOfWeek=(r,n)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,n):yn(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):qc(r),this.format=(r,n,i)=>{const c=this.overrides?.format?this.overrides.format(r,n,this.options):_o(r,n,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):Nn(r),this.getMonth=(r,n)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):qo(r,this.options),this.getYear=(r,n)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):Go(r,this.options),this.getWeek=(r,n)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):wn(r,this.options),this.isAfter=(r,n)=>this.overrides?.isAfter?this.overrides.isAfter(r,n):Wo(r,n),this.isBefore=(r,n)=>this.overrides?.isBefore?this.overrides.isBefore(r,n):$o(r,n),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):fn(r),this.isSameDay=(r,n)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,n):Ec(r,n),this.isSameMonth=(r,n)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,n):Vo(r,n),this.isSameYear=(r,n)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,n):Ho(r,n),this.max=r=>this.overrides?.max?this.overrides.max(r):Rc(r),this.min=r=>this.overrides?.min?this.overrides.min(r):Mc(r),this.setMonth=(r,n)=>this.overrides?.setMonth?this.overrides.setMonth(r,n):zo(r,n),this.setYear=(r,n)=>this.overrides?.setYear?this.overrides.setYear(r,n):Yo(r,n),this.startOfBroadcastWeek=(r,n)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):Cn(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):It(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):Tt(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):Uc(r),this.startOfWeek=(r,n)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):et(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):vn(r),this.options={locale:Wa,...t},this.overrides=a}getDigitMap(){const{numerals:t="latn"}=this.options,a=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let n=0;n<10;n++)r[n.toString()]=a.format(n);return r}replaceDigits(t){const a=this.getDigitMap();return t.replace(/\d/g,r=>a[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Ze.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:a,timeZone:r,numerals:n}=this.options,i=a?.code;if(i&&Ze.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:r,numberingSystem:n}).format(t)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,c)}}Ze.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Cs=new Ze;class Dn{constructor(t,a,r=Cs){this.date=t,this.displayMonth=a,this.outside=!!(a&&!r.isSameMonth(t,a)),this.dateLib=r}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Xo{constructor(t,a){this.date=t,this.weeks=a}}class Jo{constructor(t,a){this.days=a,this.weekNumber=t}}function ed(s){return U.createElement("button",{...s})}function sd(s){return U.createElement("span",{...s})}function td(s){const{size:t=24,orientation:a="left",className:r}=s;return U.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},a==="up"&&U.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),a==="down"&&U.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),a==="left"&&U.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),a==="right"&&U.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function ad(s){const{day:t,modifiers:a,...r}=s;return U.createElement("td",{...r})}function rd(s){const{day:t,modifiers:a,...r}=s,n=U.useRef(null);return U.useEffect(()=>{a.focused&&n.current?.focus()},[a.focused]),U.createElement("button",{ref:n,...r})}var K;(function(s){s.Root="root",s.Chevron="chevron",s.Day="day",s.DayButton="day_button",s.CaptionLabel="caption_label",s.Dropdowns="dropdowns",s.Dropdown="dropdown",s.DropdownRoot="dropdown_root",s.Footer="footer",s.MonthGrid="month_grid",s.MonthCaption="month_caption",s.MonthsDropdown="months_dropdown",s.Month="month",s.Months="months",s.Nav="nav",s.NextMonthButton="button_next",s.PreviousMonthButton="button_previous",s.Week="week",s.Weeks="weeks",s.Weekday="weekday",s.Weekdays="weekdays",s.WeekNumber="week_number",s.WeekNumberHeader="week_number_header",s.YearsDropdown="years_dropdown"})(K||(K={}));var De;(function(s){s.disabled="disabled",s.hidden="hidden",s.outside="outside",s.focused="focused",s.today="today"})(De||(De={}));var us;(function(s){s.range_end="range_end",s.range_middle="range_middle",s.range_start="range_start",s.selected="selected"})(us||(us={}));var Ye;(function(s){s.weeks_before_enter="weeks_before_enter",s.weeks_before_exit="weeks_before_exit",s.weeks_after_enter="weeks_after_enter",s.weeks_after_exit="weeks_after_exit",s.caption_after_enter="caption_after_enter",s.caption_after_exit="caption_after_exit",s.caption_before_enter="caption_before_enter",s.caption_before_exit="caption_before_exit"})(Ye||(Ye={}));function nd(s){const{options:t,className:a,components:r,classNames:n,...i}=s,c=[n[K.Dropdown],a].join(" "),o=t?.find(({value:d})=>d===i.value);return U.createElement("span",{"data-disabled":i.disabled,className:n[K.DropdownRoot]},U.createElement(r.Select,{className:c,...i},t?.map(({value:d,label:p,disabled:N})=>U.createElement(r.Option,{key:d,value:d,disabled:N},p))),U.createElement("span",{className:n[K.CaptionLabel],"aria-hidden":!0},o?.label,U.createElement(r.Chevron,{orientation:"down",size:18,className:n[K.Chevron]})))}function id(s){return U.createElement("div",{...s})}function ld(s){return U.createElement("div",{...s})}function cd(s){const{calendarMonth:t,displayIndex:a,...r}=s;return U.createElement("div",{...r},s.children)}function od(s){const{calendarMonth:t,displayIndex:a,...r}=s;return U.createElement("div",{...r})}function dd(s){return U.createElement("table",{...s})}function md(s){return U.createElement("div",{...s})}const kn=h.createContext(void 0);function Pt(){const s=h.useContext(kn);if(s===void 0)throw new Error("useDayPicker() must be used within a custom component.");return s}function xd(s){const{components:t}=Pt();return U.createElement(t.Dropdown,{...s})}function ud(s){const{onPreviousClick:t,onNextClick:a,previousMonth:r,nextMonth:n,...i}=s,{components:c,classNames:o,labels:{labelPrevious:d,labelNext:p}}=Pt(),N=h.useCallback(u=>{n&&a?.(u)},[n,a]),f=h.useCallback(u=>{r&&t?.(u)},[r,t]);return U.createElement("nav",{...i},U.createElement(c.PreviousMonthButton,{type:"button",className:o[K.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":d(r),onClick:f},U.createElement(c.Chevron,{disabled:r?void 0:!0,className:o[K.Chevron],orientation:"left"})),U.createElement(c.NextMonthButton,{type:"button",className:o[K.NextMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":p(n),onClick:N},U.createElement(c.Chevron,{disabled:n?void 0:!0,orientation:"right",className:o[K.Chevron]})))}function hd(s){const{components:t}=Pt();return U.createElement(t.Button,{...s})}function gd(s){return U.createElement("option",{...s})}function pd(s){const{components:t}=Pt();return U.createElement(t.Button,{...s})}function jd(s){const{rootRef:t,...a}=s;return U.createElement("div",{...a,ref:t})}function fd(s){return U.createElement("select",{...s})}function vd(s){const{week:t,...a}=s;return U.createElement("tr",{...a})}function yd(s){return U.createElement("th",{...s})}function Nd(s){return U.createElement("thead",{"aria-hidden":!0},U.createElement("tr",{...s}))}function bd(s){const{week:t,...a}=s;return U.createElement("th",{...a})}function wd(s){return U.createElement("th",{...s})}function Sd(s){return U.createElement("tbody",{...s})}function Cd(s){const{components:t}=Pt();return U.createElement(t.Dropdown,{...s})}const Dd=Object.freeze(Object.defineProperty({__proto__:null,Button:ed,CaptionLabel:sd,Chevron:td,Day:ad,DayButton:rd,Dropdown:nd,DropdownNav:id,Footer:ld,Month:cd,MonthCaption:od,MonthGrid:dd,Months:md,MonthsDropdown:xd,Nav:ud,NextMonthButton:hd,Option:gd,PreviousMonthButton:pd,Root:jd,Select:fd,Week:vd,WeekNumber:bd,WeekNumberHeader:wd,Weekday:yd,Weekdays:Nd,Weeks:Sd,YearsDropdown:Cd},Symbol.toStringTag,{value:"Module"}));function As(s,t,a=!1,r=Cs){let{from:n,to:i}=s;const{differenceInCalendarDays:c,isSameDay:o}=r;return n&&i?(c(i,n)<0&&([n,i]=[i,n]),c(t,n)>=(a?1:0)&&c(i,t)>=(a?1:0)):!a&&i?o(i,t):!a&&n?o(n,t):!1}function Tn(s){return!!(s&&typeof s=="object"&&"before"in s&&"after"in s)}function $a(s){return!!(s&&typeof s=="object"&&"from"in s)}function In(s){return!!(s&&typeof s=="object"&&"after"in s)}function An(s){return!!(s&&typeof s=="object"&&"before"in s)}function Pn(s){return!!(s&&typeof s=="object"&&"dayOfWeek"in s)}function Rn(s,t){return Array.isArray(s)&&s.every(t.isDate)}function Ps(s,t,a=Cs){const r=Array.isArray(t)?t:[t],{isSameDay:n,differenceInCalendarDays:i,isAfter:c}=a;return r.some(o=>{if(typeof o=="boolean")return o;if(a.isDate(o))return n(s,o);if(Rn(o,a))return o.includes(s);if($a(o))return As(o,s,!1,a);if(Pn(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(s.getDay()):o.dayOfWeek===s.getDay();if(Tn(o)){const d=i(o.before,s),p=i(o.after,s),N=d>0,f=p<0;return c(o.before,o.after)?f&&N:N||f}return In(o)?i(s,o.after)>0:An(o)?i(o.before,s)>0:typeof o=="function"?o(s):!1})}function kd(s,t,a,r,n){const{disabled:i,hidden:c,modifiers:o,showOutsideDays:d,broadcastCalendar:p,today:N}=t,{isSameDay:f,isSameMonth:u,startOfMonth:v,isBefore:j,endOfMonth:P,isAfter:A}=n,C=a&&v(a),y=r&&P(r),S={[De.focused]:[],[De.outside]:[],[De.disabled]:[],[De.hidden]:[],[De.today]:[]},T={};for(const g of s){const{date:l,displayMonth:m}=g,R=!!(m&&!u(l,m)),x=!!(C&&j(l,C)),E=!!(y&&A(l,y)),M=!!(i&&Ps(l,i,n)),$=!!(c&&Ps(l,c,n))||x||E||!p&&!d&&R||p&&d===!1&&R,G=f(l,N??n.today());R&&S.outside.push(g),M&&S.disabled.push(g),$&&S.hidden.push(g),G&&S.today.push(g),o&&Object.keys(o).forEach(I=>{const V=o?.[I];V&&Ps(l,V,n)&&(T[I]?T[I].push(g):T[I]=[g])})}return g=>{const l={[De.focused]:!1,[De.disabled]:!1,[De.hidden]:!1,[De.outside]:!1,[De.today]:!1},m={};for(const R in S){const x=S[R];l[R]=x.some(E=>E===g)}for(const R in T)m[R]=T[R].some(x=>x===g);return{...l,...m}}}function Td(s,t,a={}){return Object.entries(s).filter(([,n])=>n===!0).reduce((n,[i])=>(a[i]?n.push(a[i]):t[De[i]]?n.push(t[De[i]]):t[us[i]]&&n.push(t[us[i]]),n),[t[K.Day]])}function Id(s){return{...Dd,...s}}function Ad(s){const t={"data-mode":s.mode??void 0,"data-required":"required"in s?s.required:void 0,"data-multiple-months":s.numberOfMonths&&s.numberOfMonths>1||void 0,"data-week-numbers":s.showWeekNumber||void 0,"data-broadcast-calendar":s.broadcastCalendar||void 0,"data-nav-layout":s.navLayout||void 0};return Object.entries(s).forEach(([a,r])=>{a.startsWith("data-")&&(t[a]=r)}),t}function Va(){const s={};for(const t in K)s[K[t]]=`rdp-${K[t]}`;for(const t in De)s[De[t]]=`rdp-${De[t]}`;for(const t in us)s[us[t]]=`rdp-${us[t]}`;for(const t in Ye)s[Ye[t]]=`rdp-${Ye[t]}`;return s}function Mn(s,t,a){return(a??new Ze(t)).formatMonthYear(s)}const Pd=Mn;function Rd(s,t,a){return(a??new Ze(t)).format(s,"d")}function Md(s,t=Cs){return t.format(s,"LLLL")}function Ed(s,t,a){return(a??new Ze(t)).format(s,"cccccc")}function Od(s,t=Cs){return s<10?t.formatNumber(`0${s.toLocaleString()}`):t.formatNumber(`${s.toLocaleString()}`)}function Ld(){return""}function En(s,t=Cs){return t.format(s,"yyyy")}const Fd=En,_d=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Mn,formatDay:Rd,formatMonthCaption:Pd,formatMonthDropdown:Md,formatWeekNumber:Od,formatWeekNumberHeader:Ld,formatWeekdayName:Ed,formatYearCaption:Fd,formatYearDropdown:En},Symbol.toStringTag,{value:"Module"}));function Bd(s){return s?.formatMonthCaption&&!s.formatCaption&&(s.formatCaption=s.formatMonthCaption),s?.formatYearCaption&&!s.formatYearDropdown&&(s.formatYearDropdown=s.formatYearCaption),{..._d,...s}}function Ud(s,t,a,r,n){const{startOfMonth:i,startOfYear:c,endOfYear:o,eachMonthOfInterval:d,getMonth:p}=n;return d({start:c(s),end:o(s)}).map(u=>{const v=r.formatMonthDropdown(u,n),j=p(u),P=t&&u<i(t)||a&&u>i(a)||!1;return{value:j,label:v,disabled:P}})}function qd(s,t={},a={}){let r={...t?.[K.Day]};return Object.entries(s).filter(([,n])=>n===!0).forEach(([n])=>{r={...r,...a?.[n]}}),r}function Gd(s,t,a){const r=s.today(),n=t?s.startOfISOWeek(r):s.startOfWeek(r),i=[];for(let c=0;c<7;c++){const o=s.addDays(n,c);i.push(o)}return i}function Wd(s,t,a,r,n=!1){if(!s||!t)return;const{startOfYear:i,endOfYear:c,addYears:o,getYear:d,isBefore:p,isSameYear:N}=r,f=i(s),u=c(t),v=[];let j=f;for(;p(j,u)||N(j,u);)v.push(j),j=o(j,1);return n&&v.reverse(),v.map(P=>{const A=a.formatYearDropdown(P,r);return{value:d(P),label:A,disabled:!1}})}function On(s,t,a,r){let n=(r??new Ze(a)).format(s,"PPPP");return t.today&&(n=`Today, ${n}`),t.selected&&(n=`${n}, selected`),n}const $d=On;function Ln(s,t,a){return(a??new Ze(t)).formatMonthYear(s)}const Vd=Ln;function Hd(s,t,a,r){let n=(r??new Ze(a)).format(s,"PPPP");return t?.today&&(n=`Today, ${n}`),n}function zd(s){return"Choose the Month"}function Yd(){return""}function Qd(s){return"Go to the Next Month"}function Kd(s){return"Go to the Previous Month"}function Zd(s,t,a){return(a??new Ze(t)).format(s,"cccc")}function Xd(s,t){return`Week ${s}`}function Jd(s){return"Week Number"}function em(s){return"Choose the Year"}const sm=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Vd,labelDay:$d,labelDayButton:On,labelGrid:Ln,labelGridcell:Hd,labelMonthDropdown:zd,labelNav:Yd,labelNext:Qd,labelPrevious:Kd,labelWeekNumber:Xd,labelWeekNumberHeader:Jd,labelWeekday:Zd,labelYearDropdown:em},Symbol.toStringTag,{value:"Module"})),Rt=s=>s instanceof HTMLElement?s:null,fa=s=>[...s.querySelectorAll("[data-animated-month]")??[]],tm=s=>Rt(s.querySelector("[data-animated-month]")),va=s=>Rt(s.querySelector("[data-animated-caption]")),ya=s=>Rt(s.querySelector("[data-animated-weeks]")),am=s=>Rt(s.querySelector("[data-animated-nav]")),rm=s=>Rt(s.querySelector("[data-animated-weekdays]"));function nm(s,t,{classNames:a,months:r,focused:n,dateLib:i}){const c=h.useRef(null),o=h.useRef(r),d=h.useRef(!1);h.useLayoutEffect(()=>{const p=o.current;if(o.current=r,!t||!s.current||!(s.current instanceof HTMLElement)||r.length===0||p.length===0||r.length!==p.length)return;const N=i.isSameMonth(r[0].date,p[0].date),f=i.isAfter(r[0].date,p[0].date),u=f?a[Ye.caption_after_enter]:a[Ye.caption_before_enter],v=f?a[Ye.weeks_after_enter]:a[Ye.weeks_before_enter],j=c.current,P=s.current.cloneNode(!0);if(P instanceof HTMLElement?(fa(P).forEach(S=>{if(!(S instanceof HTMLElement))return;const T=tm(S);T&&S.contains(T)&&S.removeChild(T);const g=va(S);g&&g.classList.remove(u);const l=ya(S);l&&l.classList.remove(v)}),c.current=P):c.current=null,d.current||N||n)return;const A=j instanceof HTMLElement?fa(j):[],C=fa(s.current);if(C?.every(y=>y instanceof HTMLElement)&&A&&A.every(y=>y instanceof HTMLElement)){d.current=!0,s.current.style.isolation="isolate";const y=am(s.current);y&&(y.style.zIndex="1"),C.forEach((S,T)=>{const g=A[T];if(!g)return;S.style.position="relative",S.style.overflow="hidden";const l=va(S);l&&l.classList.add(u);const m=ya(S);m&&m.classList.add(v);const R=()=>{d.current=!1,s.current&&(s.current.style.isolation=""),y&&(y.style.zIndex=""),l&&l.classList.remove(u),m&&m.classList.remove(v),S.style.position="",S.style.overflow="",S.contains(g)&&S.removeChild(g)};g.style.pointerEvents="none",g.style.position="absolute",g.style.overflow="hidden",g.setAttribute("aria-hidden","true");const x=rm(g);x&&(x.style.opacity="0");const E=va(g);E&&(E.classList.add(f?a[Ye.caption_before_exit]:a[Ye.caption_after_exit]),E.addEventListener("animationend",R));const M=ya(g);M&&M.classList.add(f?a[Ye.weeks_before_exit]:a[Ye.weeks_after_exit]),S.insertBefore(g,S.firstChild)})}})}function im(s,t,a,r){const n=s[0],i=s[s.length-1],{ISOWeek:c,fixedWeeks:o,broadcastCalendar:d}=a??{},{addDays:p,differenceInCalendarDays:N,differenceInCalendarMonths:f,endOfBroadcastWeek:u,endOfISOWeek:v,endOfMonth:j,endOfWeek:P,isAfter:A,startOfBroadcastWeek:C,startOfISOWeek:y,startOfWeek:S}=r,T=d?C(n,r):c?y(n):S(n),g=d?u(i):c?v(j(i)):P(j(i)),l=N(g,T),m=f(i,n)+1,R=[];for(let M=0;M<=l;M++){const $=p(T,M);if(t&&A($,t))break;R.push($)}const E=(d?35:42)*m;if(o&&R.length<E){const M=E-R.length;for(let $=0;$<M;$++){const G=p(R[R.length-1],1);R.push(G)}}return R}function lm(s){const t=[];return s.reduce((a,r)=>{const n=r.weeks.reduce((i,c)=>i.concat(c.days.slice()),t.slice());return a.concat(n.slice())},t.slice())}function cm(s,t,a,r){const{numberOfMonths:n=1}=a,i=[];for(let c=0;c<n;c++){const o=r.addMonths(s,c);if(t&&o>t)break;i.push(o)}return i}function gr(s,t,a,r){const{month:n,defaultMonth:i,today:c=r.today(),numberOfMonths:o=1}=s;let d=n||i||c;const{differenceInCalendarMonths:p,addMonths:N,startOfMonth:f}=r;if(a&&p(a,d)<o-1){const u=-1*(o-1);d=N(a,u)}return t&&p(d,t)<0&&(d=t),f(d)}function om(s,t,a,r){const{addDays:n,endOfBroadcastWeek:i,endOfISOWeek:c,endOfMonth:o,endOfWeek:d,getISOWeek:p,getWeek:N,startOfBroadcastWeek:f,startOfISOWeek:u,startOfWeek:v}=r,j=s.reduce((P,A)=>{const C=a.broadcastCalendar?f(A,r):a.ISOWeek?u(A):v(A),y=a.broadcastCalendar?i(A):a.ISOWeek?c(o(A)):d(o(A)),S=t.filter(m=>m>=C&&m<=y),T=a.broadcastCalendar?35:42;if(a.fixedWeeks&&S.length<T){const m=t.filter(R=>{const x=T-S.length;return R>y&&R<=n(y,x)});S.push(...m)}const g=S.reduce((m,R)=>{const x=a.ISOWeek?p(R):N(R),E=m.find($=>$.weekNumber===x),M=new Dn(R,A,r);return E?E.days.push(M):m.push(new Jo(x,[M])),m},[]),l=new Xo(A,g);return P.push(l),P},[]);return a.reverseMonths?j.reverse():j}function dm(s,t){let{startMonth:a,endMonth:r}=s;const{startOfYear:n,startOfDay:i,startOfMonth:c,endOfMonth:o,addYears:d,endOfYear:p,newDate:N,today:f}=t,{fromYear:u,toYear:v,fromMonth:j,toMonth:P}=s;!a&&j&&(a=j),!a&&u&&(a=t.newDate(u,0,1)),!r&&P&&(r=P),!r&&v&&(r=N(v,11,31));const A=s.captionLayout==="dropdown"||s.captionLayout==="dropdown-years";return a?a=c(a):u?a=N(u,0,1):!a&&A&&(a=n(d(s.today??f(),-100))),r?r=o(r):v?r=N(v,11,31):!r&&A&&(r=p(s.today??f())),[a&&i(a),r&&i(r)]}function mm(s,t,a,r){if(a.disableNavigation)return;const{pagedNavigation:n,numberOfMonths:i=1}=a,{startOfMonth:c,addMonths:o,differenceInCalendarMonths:d}=r,p=n?i:1,N=c(s);if(!t)return o(N,p);if(!(d(t,s)<i))return o(N,p)}function xm(s,t,a,r){if(a.disableNavigation)return;const{pagedNavigation:n,numberOfMonths:i}=a,{startOfMonth:c,addMonths:o,differenceInCalendarMonths:d}=r,p=n?i??1:1,N=c(s);if(!t)return o(N,-p);if(!(d(N,t)<=0))return o(N,-p)}function um(s){const t=[];return s.reduce((a,r)=>a.concat(r.weeks.slice()),t.slice())}function sa(s,t){const[a,r]=h.useState(s);return[t===void 0?a:t,r]}function hm(s,t){const[a,r]=dm(s,t),{startOfMonth:n,endOfMonth:i}=t,c=gr(s,a,r,t),[o,d]=sa(c,s.month?c:void 0);h.useEffect(()=>{const l=gr(s,a,r,t);d(l)},[s.timeZone]);const p=cm(o,r,s,t),N=im(p,s.endMonth?i(s.endMonth):void 0,s,t),f=om(p,N,s,t),u=um(f),v=lm(f),j=xm(o,a,s,t),P=mm(o,r,s,t),{disableNavigation:A,onMonthChange:C}=s,y=l=>u.some(m=>m.days.some(R=>R.isEqualTo(l))),S=l=>{if(A)return;let m=n(l);a&&m<n(a)&&(m=n(a)),r&&m>n(r)&&(m=n(r)),d(m),C?.(m)};return{months:f,weeks:u,days:v,navStart:a,navEnd:r,previousMonth:j,nextMonth:P,goToMonth:S,goToDay:l=>{y(l)||S(l.date)}}}var Ns;(function(s){s[s.Today=0]="Today",s[s.Selected=1]="Selected",s[s.LastFocused=2]="LastFocused",s[s.FocusedModifier=3]="FocusedModifier"})(Ns||(Ns={}));function pr(s){return!s[De.disabled]&&!s[De.hidden]&&!s[De.outside]}function gm(s,t,a,r){let n,i=-1;for(const c of s){const o=t(c);pr(o)&&(o[De.focused]&&i<Ns.FocusedModifier?(n=c,i=Ns.FocusedModifier):r?.isEqualTo(c)&&i<Ns.LastFocused?(n=c,i=Ns.LastFocused):a(c.date)&&i<Ns.Selected?(n=c,i=Ns.Selected):o[De.today]&&i<Ns.Today&&(n=c,i=Ns.Today))}return n||(n=s.find(c=>pr(t(c)))),n}function pm(s,t,a,r,n,i,c){const{ISOWeek:o,broadcastCalendar:d}=i,{addDays:p,addMonths:N,addWeeks:f,addYears:u,endOfBroadcastWeek:v,endOfISOWeek:j,endOfWeek:P,max:A,min:C,startOfBroadcastWeek:y,startOfISOWeek:S,startOfWeek:T}=c;let l={day:p,week:f,month:N,year:u,startOfWeek:m=>d?y(m,c):o?S(m):T(m),endOfWeek:m=>d?v(m):o?j(m):P(m)}[s](a,t==="after"?1:-1);return t==="before"&&r?l=A([r,l]):t==="after"&&n&&(l=C([n,l])),l}function Fn(s,t,a,r,n,i,c,o=0){if(o>365)return;const d=pm(s,t,a.date,r,n,i,c),p=!!(i.disabled&&Ps(d,i.disabled,c)),N=!!(i.hidden&&Ps(d,i.hidden,c)),f=d,u=new Dn(d,f,c);return!p&&!N?u:Fn(s,t,u,r,n,i,c,o+1)}function jm(s,t,a,r,n){const{autoFocus:i}=s,[c,o]=h.useState(),d=gm(t.days,a,r||(()=>!1),c),[p,N]=h.useState(i?d:void 0);return{isFocusTarget:P=>!!d?.isEqualTo(P),setFocused:N,focused:p,blur:()=>{o(p),N(void 0)},moveFocus:(P,A)=>{if(!p)return;const C=Fn(P,A,p,t.navStart,t.navEnd,s,n);C&&(t.goToDay(C),N(C))}}}function fm(s,t){const{selected:a,required:r,onSelect:n}=s,[i,c]=sa(a,n?a:void 0),o=n?a:i,{isSameDay:d}=t,p=v=>o?.some(j=>d(j,v))??!1,{min:N,max:f}=s;return{selected:o,select:(v,j,P)=>{let A=[...o??[]];if(p(v)){if(o?.length===N||r&&o?.length===1)return;A=o?.filter(C=>!d(C,v))}else o?.length===f?A=[v]:A=[...A,v];return n||c(A),n?.(A,v,j,P),A},isSelected:p}}function vm(s,t,a=0,r=0,n=!1,i=Cs){const{from:c,to:o}=t||{},{isSameDay:d,isAfter:p,isBefore:N}=i;let f;if(!c&&!o)f={from:s,to:a>0?void 0:s};else if(c&&!o)d(c,s)?a===0?f={from:c,to:s}:n?f={from:c,to:void 0}:f=void 0:N(s,c)?f={from:s,to:c}:f={from:c,to:s};else if(c&&o)if(d(c,s)&&d(o,s))n?f={from:c,to:o}:f=void 0;else if(d(c,s))f={from:c,to:a>0?void 0:s};else if(d(o,s))f={from:s,to:a>0?void 0:s};else if(N(s,c))f={from:s,to:o};else if(p(s,c))f={from:c,to:s};else if(p(s,o))f={from:c,to:s};else throw new Error("Invalid range");if(f?.from&&f?.to){const u=i.differenceInCalendarDays(f.to,f.from);r>0&&u>r?f={from:s,to:void 0}:a>1&&u<a&&(f={from:s,to:void 0})}return f}function ym(s,t,a=Cs){const r=Array.isArray(t)?t:[t];let n=s.from;const i=a.differenceInCalendarDays(s.to,s.from),c=Math.min(i,6);for(let o=0;o<=c;o++){if(r.includes(n.getDay()))return!0;n=a.addDays(n,1)}return!1}function jr(s,t,a=Cs){return As(s,t.from,!1,a)||As(s,t.to,!1,a)||As(t,s.from,!1,a)||As(t,s.to,!1,a)}function Nm(s,t,a=Cs){const r=Array.isArray(t)?t:[t];if(r.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:a.isDate(o)?As(s,o,!1,a):Rn(o,a)?o.some(d=>As(s,d,!1,a)):$a(o)?o.from&&o.to?jr(s,{from:o.from,to:o.to},a):!1:Pn(o)?ym(s,o.dayOfWeek,a):Tn(o)?a.isAfter(o.before,o.after)?jr(s,{from:a.addDays(o.after,1),to:a.addDays(o.before,-1)},a):Ps(s.from,o,a)||Ps(s.to,o,a):In(o)||An(o)?Ps(s.from,o,a)||Ps(s.to,o,a):!1))return!0;const c=r.filter(o=>typeof o=="function");if(c.length){let o=s.from;const d=a.differenceInCalendarDays(s.to,s.from);for(let p=0;p<=d;p++){if(c.some(N=>N(o)))return!0;o=a.addDays(o,1)}}return!1}function bm(s,t){const{disabled:a,excludeDisabled:r,selected:n,required:i,onSelect:c}=s,[o,d]=sa(n,c?n:void 0),p=c?n:o;return{selected:p,select:(u,v,j)=>{const{min:P,max:A}=s,C=u?vm(u,p,P,A,i,t):void 0;return r&&a&&C?.from&&C.to&&Nm({from:C.from,to:C.to},a,t)&&(C.from=u,C.to=void 0),c||d(C),c?.(C,u,v,j),C},isSelected:u=>p&&As(p,u,!1,t)}}function wm(s,t){const{selected:a,required:r,onSelect:n}=s,[i,c]=sa(a,n?a:void 0),o=n?a:i,{isSameDay:d}=t;return{selected:o,select:(f,u,v)=>{let j=f;return!r&&o&&o&&d(f,o)&&(j=void 0),n||c(j),n?.(j,f,u,v),j},isSelected:f=>o?d(o,f):!1}}function Sm(s,t){const a=wm(s,t),r=fm(s,t),n=bm(s,t);switch(s.mode){case"single":return a;case"multiple":return r;case"range":return n;default:return}}function Cm(s){let t=s;t.timeZone&&(t={...s},t.today&&(t.today=new Be(t.today,t.timeZone)),t.month&&(t.month=new Be(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new Be(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new Be(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new Be(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new Be(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(me=>new Be(me,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new Be(t.selected.from,t.timeZone):void 0,to:t.selected.to?new Be(t.selected.to,t.timeZone):void 0}));const{components:a,formatters:r,labels:n,dateLib:i,locale:c,classNames:o}=h.useMemo(()=>{const me={...Wa,...t.locale};return{dateLib:new Ze({locale:me,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Id(t.components),formatters:Bd(t.formatters),labels:{...sm,...t.labels},locale:me,classNames:{...Va(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:p,navLayout:N,numberOfMonths:f=1,onDayBlur:u,onDayClick:v,onDayFocus:j,onDayKeyDown:P,onDayMouseEnter:A,onDayMouseLeave:C,onNextClick:y,onPrevClick:S,showWeekNumber:T,styles:g}=t,{formatCaption:l,formatDay:m,formatMonthDropdown:R,formatWeekNumber:x,formatWeekNumberHeader:E,formatWeekdayName:M,formatYearDropdown:$}=r,G=hm(t,i),{days:I,months:V,navStart:_,navEnd:H,previousMonth:z,nextMonth:te,goToMonth:ce}=G,re=kd(I,t,_,H,i),{isSelected:Us,select:F,selected:ne}=Sm(t,i)??{},{blur:Pe,focused:He,isFocusTarget:ta,moveFocus:Mt,setFocused:Ds}=jm(t,G,re,Us??(()=>!1),i),{labelDayButton:aa,labelGridcell:ra,labelGrid:na,labelMonthDropdown:ia,labelNav:xt,labelPrevious:la,labelNext:ca,labelWeekday:oa,labelWeekNumber:da,labelWeekNumberHeader:Z,labelYearDropdown:oe}=n,Me=h.useMemo(()=>Gd(i,t.ISOWeek),[i,t.ISOWeek]),ie=p!==void 0||v!==void 0,Xe=h.useCallback(()=>{z&&(ce(z),S?.(z))},[z,ce,S]),Ue=h.useCallback(()=>{te&&(ce(te),y?.(te))},[ce,te,y]),qn=h.useCallback((me,Ce)=>ae=>{ae.preventDefault(),ae.stopPropagation(),Ds(me),F?.(me.date,Ce,ae),v?.(me.date,Ce,ae)},[F,v,Ds]),Gn=h.useCallback((me,Ce)=>ae=>{Ds(me),j?.(me.date,Ce,ae)},[j,Ds]),Wn=h.useCallback((me,Ce)=>ae=>{Pe(),u?.(me.date,Ce,ae)},[Pe,u]),$n=h.useCallback((me,Ce)=>ae=>{const be={ArrowLeft:[ae.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ae.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ae.shiftKey?"year":"week","after"],ArrowUp:[ae.shiftKey?"year":"week","before"],PageUp:[ae.shiftKey?"year":"month","before"],PageDown:[ae.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(be[ae.key]){ae.preventDefault(),ae.stopPropagation();const[ze,ge]=be[ae.key];Mt(ze,ge)}P?.(me.date,Ce,ae)},[Mt,P,t.dir]),Vn=h.useCallback((me,Ce)=>ae=>{A?.(me.date,Ce,ae)},[A]),Hn=h.useCallback((me,Ce)=>ae=>{C?.(me.date,Ce,ae)},[C]),zn=h.useCallback(me=>Ce=>{const ae=Number(Ce.target.value),be=i.setMonth(i.startOfMonth(me),ae);ce(be)},[i,ce]),Yn=h.useCallback(me=>Ce=>{const ae=Number(Ce.target.value),be=i.setYear(i.startOfMonth(me),ae);ce(be)},[i,ce]),{className:Qn,style:Kn}=h.useMemo(()=>({className:[o[K.Root],t.className].filter(Boolean).join(" "),style:{...g?.[K.Root],...t.style}}),[o,t.className,t.style,g]),Zn=Ad(t),za=h.useRef(null);nm(za,!!t.animate,{classNames:o,months:V,focused:He,dateLib:i});const Xn={dayPickerProps:t,selected:ne,select:F,isSelected:Us,months:V,nextMonth:te,previousMonth:z,goToMonth:ce,getModifiers:re,components:a,classNames:o,styles:g,labels:n,formatters:r};return U.createElement(kn.Provider,{value:Xn},U.createElement(a.Root,{rootRef:t.animate?za:void 0,className:Qn,style:Kn,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Zn},U.createElement(a.Months,{className:o[K.Months],style:g?.[K.Months]},!t.hideNavigation&&!N&&U.createElement(a.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[K.Nav],style:g?.[K.Nav],"aria-label":xt(),onPreviousClick:Xe,onNextClick:Ue,previousMonth:z,nextMonth:te}),V.map((me,Ce)=>U.createElement(a.Month,{"data-animated-month":t.animate?"true":void 0,className:o[K.Month],style:g?.[K.Month],key:Ce,displayIndex:Ce,calendarMonth:me},N==="around"&&!t.hideNavigation&&Ce===0&&U.createElement(a.PreviousMonthButton,{type:"button",className:o[K.PreviousMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":la(z),onClick:Xe,"data-animated-button":t.animate?"true":void 0},U.createElement(a.Chevron,{disabled:z?void 0:!0,className:o[K.Chevron],orientation:t.dir==="rtl"?"right":"left"})),U.createElement(a.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:o[K.MonthCaption],style:g?.[K.MonthCaption],calendarMonth:me,displayIndex:Ce},d?.startsWith("dropdown")?U.createElement(a.DropdownNav,{className:o[K.Dropdowns],style:g?.[K.Dropdowns]},(()=>{const ae=d==="dropdown"||d==="dropdown-months"?U.createElement(a.MonthsDropdown,{key:"month",className:o[K.MonthsDropdown],"aria-label":ia(),classNames:o,components:a,disabled:!!t.disableNavigation,onChange:zn(me.date),options:Ud(me.date,_,H,r,i),style:g?.[K.Dropdown],value:i.getMonth(me.date)}):U.createElement("span",{key:"month"},R(me.date,i)),be=d==="dropdown"||d==="dropdown-years"?U.createElement(a.YearsDropdown,{key:"year",className:o[K.YearsDropdown],"aria-label":oe(i.options),classNames:o,components:a,disabled:!!t.disableNavigation,onChange:Yn(me.date),options:Wd(_,H,r,i,!!t.reverseYears),style:g?.[K.Dropdown],value:i.getYear(me.date)}):U.createElement("span",{key:"year"},$(me.date,i));return i.getMonthYearOrder()==="year-first"?[be,ae]:[ae,be]})(),U.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},l(me.date,i.options,i))):U.createElement(a.CaptionLabel,{className:o[K.CaptionLabel],role:"status","aria-live":"polite"},l(me.date,i.options,i))),N==="around"&&!t.hideNavigation&&Ce===f-1&&U.createElement(a.NextMonthButton,{type:"button",className:o[K.NextMonthButton],tabIndex:te?void 0:-1,"aria-disabled":te?void 0:!0,"aria-label":ca(te),onClick:Ue,"data-animated-button":t.animate?"true":void 0},U.createElement(a.Chevron,{disabled:te?void 0:!0,className:o[K.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Ce===f-1&&N==="after"&&!t.hideNavigation&&U.createElement(a.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[K.Nav],style:g?.[K.Nav],"aria-label":xt(),onPreviousClick:Xe,onNextClick:Ue,previousMonth:z,nextMonth:te}),U.createElement(a.MonthGrid,{role:"grid","aria-multiselectable":p==="multiple"||p==="range","aria-label":na(me.date,i.options,i)||void 0,className:o[K.MonthGrid],style:g?.[K.MonthGrid]},!t.hideWeekdays&&U.createElement(a.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:o[K.Weekdays],style:g?.[K.Weekdays]},T&&U.createElement(a.WeekNumberHeader,{"aria-label":Z(i.options),className:o[K.WeekNumberHeader],style:g?.[K.WeekNumberHeader],scope:"col"},E()),Me.map(ae=>U.createElement(a.Weekday,{"aria-label":oa(ae,i.options,i),className:o[K.Weekday],key:String(ae),style:g?.[K.Weekday],scope:"col"},M(ae,i.options,i)))),U.createElement(a.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:o[K.Weeks],style:g?.[K.Weeks]},me.weeks.map(ae=>U.createElement(a.Week,{className:o[K.Week],key:ae.weekNumber,style:g?.[K.Week],week:ae},T&&U.createElement(a.WeekNumber,{week:ae,style:g?.[K.WeekNumber],"aria-label":da(ae.weekNumber,{locale:c}),className:o[K.WeekNumber],scope:"row",role:"rowheader"},x(ae.weekNumber,i)),ae.days.map(be=>{const{date:ze}=be,ge=re(be);if(ge[De.focused]=!ge.hidden&&!!He?.isEqualTo(be),ge[us.selected]=Us?.(ze)||ge.selected,$a(ne)){const{from:ma,to:xa}=ne;ge[us.range_start]=!!(ma&&xa&&i.isSameDay(ze,ma)),ge[us.range_end]=!!(ma&&xa&&i.isSameDay(ze,xa)),ge[us.range_middle]=As(ne,ze,!0,i)}const Jn=qd(ge,g,t.modifiersStyles),ei=Td(ge,o,t.modifiersClassNames),si=!ie&&!ge.hidden?ra(ze,ge,i.options,i):void 0;return U.createElement(a.Day,{key:`${i.format(ze,"yyyy-MM-dd")}_${i.format(be.displayMonth,"yyyy-MM")}`,day:be,modifiers:ge,className:ei.join(" "),style:Jn,role:"gridcell","aria-selected":ge.selected||void 0,"aria-label":si,"data-day":i.format(ze,"yyyy-MM-dd"),"data-month":be.outside?i.format(ze,"yyyy-MM"):void 0,"data-selected":ge.selected||void 0,"data-disabled":ge.disabled||void 0,"data-hidden":ge.hidden||void 0,"data-outside":be.outside||void 0,"data-focused":ge.focused||void 0,"data-today":ge.today||void 0},!ge.hidden&&ie?U.createElement(a.DayButton,{className:o[K.DayButton],style:g?.[K.DayButton],type:"button",day:be,modifiers:ge,disabled:ge.disabled||void 0,tabIndex:ta(be)?0:-1,"aria-label":aa(ze,ge,i.options,i),onClick:qn(be,ge),onBlur:Wn(be,ge),onFocus:Gn(be,ge),onKeyDown:$n(be,ge),onMouseEnter:Vn(be,ge),onMouseLeave:Hn(be,ge)},m(ze,i.options,i)):!ge.hidden&&m(be.date,i.options,i))})))))))),t.footer&&U.createElement(a.Footer,{className:o[K.Footer],style:g?.[K.Footer],role:"status","aria-live":"polite"},t.footer)))}function Dm({className:s,classNames:t,showOutsideDays:a=!0,captionLayout:r="label",buttonVariant:n="ghost",formatters:i,components:c,...o}){const d=Va();return e.jsx(Cm,{showOutsideDays:a,className:q("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,s),captionLayout:r,formatters:{formatMonthDropdown:p=>p.toLocaleString("default",{month:"short"}),...i},classNames:{root:q("w-fit",d.root),months:q("relative flex flex-col gap-4 md:flex-row",d.months),month:q("flex w-full flex-col gap-4",d.month),nav:q("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",d.nav),button_previous:q(Ta({variant:n}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_previous),button_next:q(Ta({variant:n}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_next),month_caption:q("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",d.month_caption),dropdowns:q("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",d.dropdowns),dropdown_root:q("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",d.dropdown_root),dropdown:q("bg-popover absolute inset-0 opacity-0",d.dropdown),caption_label:q("select-none font-medium",r==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",d.caption_label),table:"w-full border-collapse",weekdays:q("flex",d.weekdays),weekday:q("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",d.weekday),week:q("mt-2 flex w-full",d.week),week_number_header:q("w-[--cell-size] select-none",d.week_number_header),week_number:q("text-muted-foreground select-none text-[0.8rem]",d.week_number),day:q("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",d.day),range_start:q("bg-accent rounded-l-md",d.range_start),range_middle:q("rounded-none",d.range_middle),range_end:q("bg-accent rounded-r-md",d.range_end),today:q("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",d.today),outside:q("text-muted-foreground aria-selected:text-muted-foreground",d.outside),disabled:q("text-muted-foreground opacity-50",d.disabled),hidden:q("invisible",d.hidden),...t},components:{Root:({className:p,rootRef:N,...f})=>e.jsx("div",{"data-slot":"calendar",ref:N,className:q(p),...f}),Chevron:({className:p,orientation:N,...f})=>N==="left"?e.jsx(Di,{className:q("size-4",p),...f}):N==="right"?e.jsx(ki,{className:q("size-4",p),...f}):e.jsx(Oa,{className:q("size-4",p),...f}),DayButton:km,WeekNumber:({children:p,...N})=>e.jsx("td",{...N,children:e.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:p})}),...c},...o})}function km({className:s,day:t,modifiers:a,...r}){const n=Va(),i=h.useRef(null);return h.useEffect(()=>{a.focused&&i.current?.focus()},[a.focused]),e.jsx(O,{ref:i,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":a.selected&&!a.range_start&&!a.range_end&&!a.range_middle,"data-range-start":a.range_start,"data-range-end":a.range_end,"data-range-middle":a.range_middle,className:q("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",n.day,s),...r})}const Tm=Ii,Im=Ai,_n=h.forwardRef(({className:s,align:t="center",sideOffset:a=4,...r},n)=>e.jsx(Ti,{children:e.jsx(Vr,{ref:n,align:t,sideOffset:a,className:q("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",s),...r})}));_n.displayName=Vr.displayName;const Ts=[{id:"SCH-001",farmerId:"FARM-001",farmerName:"राम कुमार",location:"Village A, District B",scheduledDate:new Date().toISOString(),scheduledTime:"09:00",assignedWorker:"W001",vehicleId:"V001",priority:"high",notes:"Regular pickup",status:"scheduled",estimatedDuration:45,estimatedDistance:12.5},{id:"SCH-002",farmerId:"FARM-002",farmerName:"श्याम यादव",location:"Village C, District B",scheduledDate:new Date(Date.now()+864e5).toISOString(),scheduledTime:"10:30",assignedWorker:"W002",vehicleId:"V002",priority:"medium",notes:"Buffalo dung collection",status:"scheduled",estimatedDuration:30,estimatedDistance:8.2}],Am=async s=>Promise.resolve(),Pm=async(s,t)=>Promise.resolve(),Rm=async s=>Promise.resolve(),Mm={en:{title:"Pickup Scheduler",subtitle:"Route planning and farmer assignment management",createSchedule:"Create Schedule",editSchedule:"Edit Schedule",deleteSchedule:"Delete Schedule",scheduleList:"Schedule List",routeOptimization:"Route Optimization",farmerAssignments:"Farmer Assignments",todaysPickups:"Today's Pickups",upcomingSchedules:"Upcoming Schedules",routeHistory:"Route History",farmerId:"Farmer ID",farmerName:"Farmer Name",location:"Location",scheduledTime:"Scheduled Time",estimatedDuration:"Est. Duration",status:"Status",assignedWorker:"Assigned Worker",vehicleId:"Vehicle ID",priority:"Priority",notes:"Notes",actions:"Actions",create:"Create",update:"Update",cancel:"Cancel",delete:"Delete",scheduled:"Scheduled",inProgress:"In Progress",completed:"Completed",delayed:"Delayed",cancelled:"Cancelled",high:"High",medium:"Medium",low:"Low",selectDate:"Select date",selectTime:"Select time",selectWorker:"Select worker",selectVehicle:"Select vehicle",optimizeRoute:"Optimize Route",viewMap:"View Map",contactFarmer:"Contact Farmer",estimatedTime:"ETA",distance:"Distance",totalDistance:"Total Distance",totalDuration:"Total Duration",numberOfStops:"Number of Stops",efficiency:"Route Efficiency"},hi:{title:"पिकअप शेड्यूलर",subtitle:"रूट प्लानिंग और किसान असाइनमेंट प्रबंधन",createSchedule:"शेड्यूल बनाएं",editSchedule:"शेड्यूल संपादित करें",deleteSchedule:"शेड्यूल हटाएं",scheduleList:"शेड्यूल सूची",routeOptimization:"रूट ऑप्टिमाइज़ेशन",farmerAssignments:"किसान असाइनमेंट",todaysPickups:"आज के पिकअप",upcomingSchedules:"आने वाले शेड्यूल",routeHistory:"रूट इतिहास",farmerId:"किसान आईडी",farmerName:"किसान का नाम",location:"स्थान",scheduledTime:"निर्धारित समय",estimatedDuration:"अनुमानित अवधि",status:"स्थिति",assignedWorker:"असाइन किया गया कार्यकर्ता",vehicleId:"वाहन आईडी",priority:"प्राथमिकता",notes:"टिप्पणियां",actions:"कार्य",create:"बनाएं",update:"अपडेट करें",cancel:"रद्द करें",delete:"हटाएं",scheduled:"निर्धारित",inProgress:"प्रगति में",completed:"पूर्ण",delayed:"विलंबित",cancelled:"रद्द",high:"उच्च",medium:"मध्यम",low:"निम्न",selectDate:"दिनांक चुनें",selectTime:"समय चुनें",selectWorker:"कार्यकर्ता चुनें",selectVehicle:"वाहन चुनें",optimizeRoute:"रूट ऑप्टिमाइज़ करें",viewMap:"मैप देखें",contactFarmer:"किसान से संपर्क करें",estimatedTime:"अनुमानित पहुंच समय",distance:"दूरी",totalDistance:"कुल दूरी",totalDuration:"कुल अवधि",numberOfStops:"स्टॉप की संख्या",efficiency:"रूट दक्षता"}},fr=s=>{switch(s){case"scheduled":return"bg-blue-100 text-blue-800";case"inProgress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"delayed":return"bg-orange-100 text-orange-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Em=s=>{switch(s){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Om=s=>{switch(s){case"scheduled":return e.jsx(Se,{className:"w-4 h-4"});case"inProgress":return e.jsx(hs,{className:"w-4 h-4"});case"completed":return e.jsx(de,{className:"w-4 h-4"});case"delayed":return e.jsx(js,{className:"w-4 h-4"});case"cancelled":return e.jsx(js,{className:"w-4 h-4"});default:return e.jsx(Se,{className:"w-4 h-4"})}},vr=({schedule:s,onSubmit:t,onCancel:a,t:r})=>{const[n,i]=h.useState({farmerId:s?.farmerId||"",farmerName:s?.farmerName||"",location:s?.location||"",scheduledDate:s?.scheduledDate?new Date(s.scheduledDate):new Date,scheduledTime:s?.scheduledTime||"",assignedWorker:s?.assignedWorker||"",vehicleId:s?.vehicleId||"",priority:s?.priority||"medium",notes:s?.notes||""}),c=o=>{o.preventDefault(),t({...n,scheduledDate:n.scheduledDate.toISOString()})};return e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"farmerId",children:r("farmerId")}),e.jsx(ee,{id:"farmerId",value:n.farmerId,onChange:o=>i(d=>({...d,farmerId:o.target.value})),placeholder:"FARM-001",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"farmerName",children:r("farmerName")}),e.jsx(ee,{id:"farmerName",value:n.farmerName,onChange:o=>i(d=>({...d,farmerName:o.target.value})),placeholder:"Farmer name",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"location",children:r("location")}),e.jsx(ee,{id:"location",value:n.location,onChange:o=>i(d=>({...d,location:o.target.value})),placeholder:"Village, District",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:r("selectDate")}),e.jsxs(Tm,{children:[e.jsx(Im,{asChild:!0,children:e.jsxs(O,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(Le,{className:"mr-2 h-4 w-4"}),n.scheduledDate.toLocaleDateString()]})}),e.jsx(_n,{className:"w-auto p-0",children:e.jsx(Dm,{mode:"single",selected:n.scheduledDate,onSelect:o=>o&&i(d=>({...d,scheduledDate:o})),initialFocus:!0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"scheduledTime",children:r("selectTime")}),e.jsx(ee,{id:"scheduledTime",type:"time",value:n.scheduledTime,onChange:o=>i(d=>({...d,scheduledTime:o.target.value})),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"assignedWorker",children:r("selectWorker")}),e.jsxs(ve,{value:n.assignedWorker,onValueChange:o=>i(d=>({...d,assignedWorker:o})),children:[e.jsx(je,{children:e.jsx(ye,{placeholder:"Select worker"})}),e.jsxs(fe,{children:[e.jsx(B,{value:"W001",children:"राजेश कुमार"}),e.jsx(B,{value:"W002",children:"सुनील यादव"}),e.jsx(B,{value:"W003",children:"अमित शर्मा"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"vehicleId",children:r("selectVehicle")}),e.jsxs(ve,{value:n.vehicleId,onValueChange:o=>i(d=>({...d,vehicleId:o})),children:[e.jsx(je,{children:e.jsx(ye,{placeholder:"Select vehicle"})}),e.jsxs(fe,{children:[e.jsx(B,{value:"V001",children:"Truck - RJ14-AB-1234"}),e.jsx(B,{value:"V002",children:"Van - RJ14-CD-5678"}),e.jsx(B,{value:"V003",children:"Pickup - RJ14-EF-9012"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"priority",children:r("priority")}),e.jsxs(ve,{value:n.priority,onValueChange:o=>i(d=>({...d,priority:o})),children:[e.jsx(je,{children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"high",children:r("high")}),e.jsx(B,{value:"medium",children:r("medium")}),e.jsx(B,{value:"low",children:r("low")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"notes",children:r("notes")}),e.jsx(ee,{id:"notes",value:n.notes,onChange:o=>i(d=>({...d,notes:o.target.value})),placeholder:"Additional notes..."})]}),e.jsxs(zs,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:a,children:r("cancel")}),e.jsx(O,{type:"submit",children:r(s?"update":"create")})]})]})},Lm=({languageContext:s})=>{const[t,a]=h.useState(!1),[r,n]=h.useState(null),[i,c]=h.useState(null),o=s?.language||"en",d=y=>s?.t(y)||Mm[o][y]||y,p=async y=>{await Am(),a(!1)},N=async y=>{r&&(await Pm(r.id),n(null))},f=async()=>{i&&(await Rm(i.id),c(null))},u=Ts.filter(y=>new Date(y.scheduledDate).toDateString()===new Date().toDateString()),v=Ts.filter(y=>new Date(y.scheduledDate)>new Date&&new Date(y.scheduledDate).toDateString()!==new Date().toDateString()),j=Ts.filter(y=>y.status==="inProgress"),P=Ts.filter(y=>y.status==="completed"),A=Ts.reduce((y,S)=>y+(S.estimatedDistance||0),0),C=Ts.length>0?P.length/Ts.length*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:d("title")}),e.jsx("p",{className:"text-muted-foreground",children:d("subtitle")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{variant:"outline",className:"gap-2",children:[e.jsx(Dt,{className:"w-4 h-4"}),d("optimizeRoute")]}),e.jsxs(gs,{open:t,onOpenChange:a,children:[e.jsx(dn,{asChild:!0,children:e.jsxs(O,{className:"gap-2",children:[e.jsx(Ss,{className:"w-4 h-4"}),d("createSchedule")]})}),e.jsxs(ns,{className:"sm:max-w-[500px]",children:[e.jsxs(is,{children:[e.jsx(ls,{children:d("createSchedule")}),e.jsx(cs,{children:"Create a new pickup schedule for farmer dung collection"})]}),e.jsx(vr,{onSubmit:p,onCancel:()=>a(!1),t:d})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:d("todaysPickups")}),e.jsx(Se,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.length," in progress"]})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Active Routes"}),e.jsx(hs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Workers on field"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:d("totalDistance")}),e.jsx(Pi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[A.toFixed(1)," km"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total planned distance"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:d("efficiency")}),e.jsx(de,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[C.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completion rate"})]})]})]}),e.jsxs($e,{defaultValue:"today",className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-4",children:[e.jsx(X,{value:"today",children:d("todaysPickups")}),e.jsx(X,{value:"upcoming",children:d("upcomingSchedules")}),e.jsx(X,{value:"routes",children:d("routeOptimization")}),e.jsx(X,{value:"assignments",children:d("farmerAssignments")})]}),e.jsx(Y,{value:"today",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:d("todaysPickups")}),e.jsx(se,{children:"Today's scheduled pickups and their current status"})]}),e.jsxs(w,{children:[e.jsxs(Ua,{children:[e.jsx(qa,{children:e.jsxs(kt,{children:[e.jsx(Fe,{children:d("farmerName")}),e.jsx(Fe,{children:d("location")}),e.jsx(Fe,{children:d("scheduledTime")}),e.jsx(Fe,{children:d("status")}),e.jsx(Fe,{children:d("assignedWorker")}),e.jsx(Fe,{children:d("estimatedTime")}),e.jsx(Fe,{children:d("actions")})]})}),e.jsx(Ga,{children:u.map(y=>e.jsxs(kt,{children:[e.jsx(_e,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($s,{className:"w-4 h-4"}),y.farmerName]})}),e.jsx(_e,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4"}),y.location]})}),e.jsx(_e,{children:y.scheduledTime}),e.jsx(_e,{children:e.jsx(L,{className:fr(y.status),children:e.jsxs("div",{className:"flex items-center gap-1",children:[Om(y.status),d(y.status)]})})}),e.jsx(_e,{children:y.assignedWorker}),e.jsx(_e,{children:y.estimatedDuration?`${y.estimatedDuration} min`:"N/A"}),e.jsx(_e,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{size:"sm",variant:"outline",children:e.jsx(Ri,{className:"w-4 h-4"})}),e.jsx(O,{size:"sm",variant:"outline",children:e.jsx(Wt,{className:"w-4 h-4"})}),e.jsx(O,{size:"sm",variant:"outline",onClick:()=>n(y),children:e.jsx(ps,{className:"w-4 h-4"})})]})})]},y.id))})]}),u.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Se,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No pickups scheduled for today"})]})]})]})}),e.jsx(Y,{value:"upcoming",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:d("upcomingSchedules")}),e.jsx(se,{children:"Scheduled pickups for the coming days"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[v.map(y=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h4",{className:"font-semibold",children:y.farmerName}),e.jsx(L,{className:Em(y.priority),children:d(y.priority)})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"w-3 h-3"}),y.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-3 h-3"}),new Date(y.scheduledDate).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"w-3 h-3"}),y.scheduledTime]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:fr(y.status),children:d(y.status)}),e.jsx(O,{size:"sm",variant:"outline",onClick:()=>n(y),children:e.jsx(ps,{className:"w-4 h-4"})}),e.jsx(O,{size:"sm",variant:"outline",onClick:()=>c(y),children:e.jsx(at,{className:"w-4 h-4"})})]})]},y.id)),v.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Le,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No upcoming schedules"})]})]})})]})}),e.jsx(Y,{value:"routes",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:d("routeOptimization")}),e.jsx(se,{children:"Optimize pickup routes for maximum efficiency"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Ts.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:d("numberOfStops")})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[A.toFixed(1)," km"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:d("totalDistance")})]})]}),e.jsxs(O,{className:"w-full gap-2",children:[e.jsx(Dt,{className:"w-4 h-4"}),d("optimizeRoute")]})]})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:"Route Efficiency"}),e.jsx(se,{children:"Current route performance metrics"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Completion Rate"}),e.jsxs("span",{children:[C.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${C}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg. Duration:"}),e.jsx("span",{className:"ml-2 font-medium",children:"45 min"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Fuel Efficiency:"}),e.jsx("span",{className:"ml-2 font-medium",children:"12 km/L"})]})]})]})})]})]})}),e.jsx(Y,{value:"assignments",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:d("farmerAssignments")}),e.jsx(se,{children:"Manage farmer-worker assignments and contact information"})]}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:Ts.slice(0,10).map(y=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($s,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:y.farmerName})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",y.farmerId,")"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"w-3 h-3"}),y.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),y.assignedWorker]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{size:"sm",variant:"outline",children:e.jsx(Wt,{className:"w-4 h-4"})}),e.jsx(O,{size:"sm",variant:"outline",children:e.jsx(qe,{className:"w-4 h-4"})})]})]},y.id))})})]})})]}),e.jsx(gs,{open:!!r,onOpenChange:()=>n(null),children:e.jsxs(ns,{className:"sm:max-w-[500px]",children:[e.jsxs(is,{children:[e.jsx(ls,{children:d("editSchedule")}),e.jsx(cs,{children:"Update schedule information and assignments"})]}),r&&e.jsx(vr,{schedule:r,onSubmit:N,onCancel:()=>n(null),t:d})]})}),e.jsx(gs,{open:!!i,onOpenChange:()=>c(null),children:e.jsxs(ns,{children:[e.jsxs(is,{children:[e.jsx(ls,{children:d("deleteSchedule")}),e.jsx(cs,{children:"Are you sure you want to delete this pickup schedule? This action cannot be undone."})]}),e.jsxs(zs,{children:[e.jsx(O,{variant:"outline",onClick:()=>c(null),children:d("cancel")}),e.jsx(O,{variant:"destructive",onClick:f,children:d("delete")})]})]})})]})},jt=[{id:"TXN-2024-001",farmerId:"FARM-MH-001",farmerName:"राजेश कुमार शर्मा",farmerAadhaar:"****-****-2156",location:"गोकुल गौशाला, मथुरा, उत्तर प्रदेश",phoneNumber:"+91 98765 43210",dungType:"cow",measuredWeight:52.8,qualityGrade:"gradeA",moistureContent:12,paymentMethod:"upi",paymentStatus:"completed",ratePerKg:9.5,totalAmount:501.6,advanceAmount:250,balanceAmount:251.6,notes:"प्रीमियम गुणवत्ता गाय का गोबर। जैविक खाद से पोषित 18 गायों से संग्रह। श्रेष्ठ किण्वन क्षमता के साथ उच्च मीथेन सामग्री की अपेक्षा।",photos:["photo1.jpg","photo2.jpg","photo3.jpg"],measurementDate:"2024-01-15T08:30:00Z",collectionDate:"2024-01-15T09:00:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-001",deviceName:"Smart Scale Alpha-1",timestamp:"2024-01-15T08:32:15Z",temperature:28.5,humidity:65,ph_level:7.2,gas_content:68.5,rfid_tag:"RFID-001-ABC123",gps_coordinates:"27.4924, 77.6737",verification_score:95.8,sensor_readings:{weight_sensor:52.8,quality_sensor:94.2,moisture_sensor:12.1}},batchReference:{batchId:"BATCH-2024-001",digesterId:"DIG-MAIN-001",expectedYield:42.5,fermentationDays:28,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"UP-80-AB-1234",driverName:"मोहन यादव",routeId:"ROUTE-MTH-001",estimatedDelivery:"2024-01-15T11:00:00Z"},inspector:{name:"डॉ. सुरेश गुप्ता",id:"INS-001",signature:!0},certificates:["ORGANIC-CERT-001","QUALITY-CERT-001"],verificationPhotos:["verify1.jpg","verify2.jpg"],qrCode:"QR-TXN-2024-001-ABC123",receiptNumber:"RCP-2024-000001",gstDetails:{gstNumber:"GST09ABCDE1234F1Z5",taxAmount:25.08,cgst:12.54,sgst:12.54}},{id:"TXN-2024-002",farmerId:"FARM-UP-002",farmerName:"श्याम लाल यादव",farmerAadhaar:"****-****-3487",location:"वृंदावन डेयरी फार्म, मथुरा",phoneNumber:"+91 87654 32109",dungType:"buffalo",measuredWeight:48.3,qualityGrade:"gradeB",moistureContent:15,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:8.5,totalAmount:410.55,advanceAmount:200,balanceAmount:210.55,notes:"भैंस का गोबर - उच्च नाइट्रोजन सामग्री। 12 भैंसों से दैनिक संग्रह। अगली डिलीवरी के समय भुगतान शेष।",photos:["photo4.jpg","photo5.jpg"],measurementDate:"2024-01-14T16:45:00Z",collectionDate:"2024-01-14T17:15:00Z",status:"payment_pending",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-002",deviceName:"Smart Scale Beta-2",timestamp:"2024-01-14T16:47:22Z",temperature:26.8,humidity:72,ph_level:6.9,gas_content:62.3,rfid_tag:"RFID-002-DEF456",gps_coordinates:"27.5204, 77.6839",verification_score:87.5,sensor_readings:{weight_sensor:48.3,quality_sensor:85.6,moisture_sensor:15.2}},batchReference:{batchId:"BATCH-2024-002",digesterId:"DIG-SEC-002",expectedYield:38.2,fermentationDays:30,qualityPrediction:"good"},transportDetails:{vehicleNumber:"UP-80-CD-5678",driverName:"राम प्रसाद",routeId:"ROUTE-VRN-001",estimatedDelivery:"2024-01-14T19:00:00Z"},inspector:{name:"इंजी. अमित सिंह",id:"INS-002",signature:!0},certificates:["QUALITY-CERT-002"],verificationPhotos:["verify3.jpg"],qrCode:"QR-TXN-2024-002-DEF456",receiptNumber:"RCP-2024-000002",gstDetails:{gstNumber:"GST09ABCDE1234F1Z5",taxAmount:20.53,cgst:10.26,sgst:10.27}},{id:"TXN-2024-003",farmerId:"FARM-RJ-003",farmerName:"गीता देवी",farmerAadhaar:"****-****-5692",location:"आदर्श गौशाला, अलवर, राजस्थान",phoneNumber:"+91 96543 21087",dungType:"mixed",measuredWeight:65.7,qualityGrade:"gradeA",moistureContent:10,paymentMethod:"bank_transfer",paymentStatus:"completed",ratePerKg:10,totalAmount:657,advanceAmount:300,balanceAmount:357,notes:"मिश्रित गोबर - गाय और भैंस का संयोजन। उत्कृष्ट किण्वन गुणवत्ता। सबसे बड़ी दैनिक आपूर्ति। 25 पशुओं से एकत्रित।",photos:["photo6.jpg","photo7.jpg","photo8.jpg","photo9.jpg"],measurementDate:"2024-01-13T07:15:00Z",collectionDate:"2024-01-13T07:45:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-003",deviceName:"Smart Scale Gamma-3",timestamp:"2024-01-13T07:17:45Z",temperature:29.2,humidity:58,ph_level:7.4,gas_content:71.2,rfid_tag:"RFID-003-GHI789",gps_coordinates:"27.5525, 76.6346",verification_score:97.2,sensor_readings:{weight_sensor:65.7,quality_sensor:96.8,moisture_sensor:10.3}},batchReference:{batchId:"BATCH-2024-003",digesterId:"DIG-MAIN-001",expectedYield:52.8,fermentationDays:25,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"RJ-14-EF-9012",driverName:"लखन सिंह",routeId:"ROUTE-ALW-001",estimatedDelivery:"2024-01-13T10:30:00Z"},inspector:{name:"डॉ. प्रिया शर्मा",id:"INS-003",signature:!0},certificates:["ORGANIC-CERT-002","QUALITY-CERT-003","ISO-CERT-001"],verificationPhotos:["verify4.jpg","verify5.jpg"],qrCode:"QR-TXN-2024-003-GHI789",receiptNumber:"RCP-2024-000003",gstDetails:{gstNumber:"GST08FGHIJ5678K2A6",taxAmount:32.85,cgst:16.42,sgst:16.43}},{id:"TXN-2024-004",farmerId:"FARM-HR-004",farmerName:"विक्रम सिंह",farmerAadhaar:"****-****-7834",location:"हरियाणा डेयरी कोऑपरेटिव, गुरुग्राम",phoneNumber:"+91 85432 10976",dungType:"cow",measuredWeight:42.1,qualityGrade:"gradeB",moistureContent:14,paymentMethod:"upi",paymentStatus:"partial",ratePerKg:8.75,totalAmount:368.37,advanceAmount:150,balanceAmount:218.37,notes:"देसी गाय का गोबर। जैविक चारा उपयोग। मध्यम गुणवत्ता लेकिन स्थिर आपूर्ति। 14 देसी गायों से संग्रह।",photos:["photo10.jpg","photo11.jpg"],measurementDate:"2024-01-12T14:20:00Z",collectionDate:"2024-01-12T15:00:00Z",status:"quality_check",qualityVerificationStatus:"pending",iotVerification:{deviceId:"IOT-SCALE-004",deviceName:"Smart Scale Delta-4",timestamp:"2024-01-12T14:22:18Z",temperature:31.1,humidity:55,ph_level:6.8,gas_content:59.7,rfid_tag:"RFID-004-JKL012",gps_coordinates:"28.4595, 77.0266",verification_score:82.3,sensor_readings:{weight_sensor:42.1,quality_sensor:78.9,moisture_sensor:14.1}},batchReference:{batchId:"BATCH-2024-004",digesterId:"DIG-SEC-003",expectedYield:32.8,fermentationDays:32,qualityPrediction:"average"},transportDetails:{vehicleNumber:"HR-26-GH-3456",driverName:"सुरेश कुमार",routeId:"ROUTE-GGN-001",estimatedDelivery:"2024-01-12T17:30:00Z"},inspector:{name:"तकनीशियन राज कुमार",id:"INS-004",signature:!1},certificates:["QUALITY-CERT-004"],verificationPhotos:["verify6.jpg"],qrCode:"QR-TXN-2024-004-JKL012",receiptNumber:"RCP-2024-000004",gstDetails:{gstNumber:"GST06MNOPQ9012L3B7",taxAmount:18.42,cgst:9.21,sgst:9.21}},{id:"TXN-2024-005",farmerId:"FARM-PB-005",farmerName:"जसप्रीत कौर",farmerAadhaar:"****-****-9156",location:"पंजाब मिल्क फेडरेशन, लुधियाना",phoneNumber:"+91 74321 09865",dungType:"buffalo",measuredWeight:58.9,qualityGrade:"gradeA",moistureContent:11,paymentMethod:"online",paymentStatus:"completed",ratePerKg:9.25,totalAmount:544.82,advanceAmount:0,balanceAmount:544.82,notes:"उच्च गुणवत्ता भैंस का गोबर। पंजाब की उन्नत नस्ल से। उत्कृष्ट कार्बन-नाइट्रोजन अनुपात। 20 मुर्रा भैंसों से दैनिक संग्रह।",photos:["photo12.jpg","photo13.jpg","photo14.jpg"],measurementDate:"2024-01-11T09:30:00Z",collectionDate:"2024-01-11T10:00:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-005",deviceName:"Smart Scale Epsilon-5",timestamp:"2024-01-11T09:32:55Z",temperature:25.6,humidity:68,ph_level:7.1,gas_content:69.8,rfid_tag:"RFID-005-MNO345",gps_coordinates:"30.9010, 75.8573",verification_score:93.7,sensor_readings:{weight_sensor:58.9,quality_sensor:92.4,moisture_sensor:11.2}},batchReference:{batchId:"BATCH-2024-005",digesterId:"DIG-MAIN-002",expectedYield:47.3,fermentationDays:26,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"PB-10-IJ-7890",driverName:"गुरदीप सिंह",routeId:"ROUTE-LDH-001",estimatedDelivery:"2024-01-11T12:45:00Z"},inspector:{name:"डॉ. हरप्रीत कौर",id:"INS-005",signature:!0},certificates:["ORGANIC-CERT-003","QUALITY-CERT-005"],verificationPhotos:["verify7.jpg","verify8.jpg"],qrCode:"QR-TXN-2024-005-MNO345",receiptNumber:"RCP-2024-000005",gstDetails:{gstNumber:"GST03PQRST3456M4C8",taxAmount:27.24,cgst:13.62,sgst:13.62}},{id:"TXN-2024-006",farmerId:"FARM-MP-006",farmerName:"रामेश्वर प्रसाद",farmerAadhaar:"****-****-2479",location:"मध्यप्रदेश गौशाला, इंदौर",phoneNumber:"+91 93210 87654",dungType:"cow",measuredWeight:35.6,qualityGrade:"gradeC",moistureContent:18,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:7.5,totalAmount:267,advanceAmount:100,balanceAmount:167,notes:"मिश्रित नस्ल की गायों से गोबर। कुछ नमी अधिक होने के कारण Grade C। सुधार की संभावना। 10 गायों से संग्रह।",photos:["photo15.jpg"],measurementDate:"2024-01-10T11:15:00Z",collectionDate:"2024-01-10T11:45:00Z",status:"pending",qualityVerificationStatus:"requires_recheck",iotVerification:{deviceId:"IOT-SCALE-006",deviceName:"Smart Scale Zeta-6",timestamp:"2024-01-10T11:17:33Z",temperature:33.2,humidity:78,ph_level:6.5,gas_content:52.4,rfid_tag:"RFID-006-PQR678",gps_coordinates:"22.7196, 75.8577",verification_score:68.9,sensor_readings:{weight_sensor:35.6,quality_sensor:65.2,moisture_sensor:18.3}},batchReference:{batchId:"BATCH-2024-006",digesterId:"DIG-SEC-004",expectedYield:26.2,fermentationDays:35,qualityPrediction:"below_average"},transportDetails:{vehicleNumber:"MP-09-KL-2345",driverName:"अशोक यादव",routeId:"ROUTE-IND-001",estimatedDelivery:"2024-01-10T14:00:00Z"},inspector:{name:"तकनीशियन मनोज त्रिवेदी",id:"INS-006",signature:!1},certificates:[],verificationPhotos:["verify9.jpg"],qrCode:"QR-TXN-2024-006-PQR678",receiptNumber:"RCP-2024-000006",gstDetails:{gstNumber:"GST23STUVW7890N5D9",taxAmount:13.35,cgst:6.67,sgst:6.68}},{id:"TXN-2024-007",farmerId:"FARM-GJ-007",farmerName:"કિશોર ભાઈ પટેલ",farmerAadhaar:"****-****-5813",location:"અમુલ ડેરી કોઓપરેટિવ, આણંદ, ગુજરાત",phoneNumber:"+91 82109 76543",dungType:"mixed",measuredWeight:71.4,qualityGrade:"gradeA",moistureContent:9,paymentMethod:"bank_transfer",paymentStatus:"completed",ratePerKg:10.5,totalAmount:749.7,advanceAmount:400,balanceAmount:349.7,notes:"ગુજરાતની શ્રેષ્ઠ ગુણવત્તાનું મિશ્રિત ગોબર। અમુલ ડેરીના ઉચ્ચ ધોરણ પ્રમાણે. 30 પશુઓથી દૈનિક સંગ્રહ। સર્વોત્તમ કિણ્વન ક્ષમતા।",photos:["photo16.jpg","photo17.jpg","photo18.jpg","photo19.jpg"],measurementDate:"2024-01-09T06:45:00Z",collectionDate:"2024-01-09T07:15:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-007",deviceName:"Smart Scale Eta-7",timestamp:"2024-01-09T06:47:42Z",temperature:27.8,humidity:62,ph_level:7.6,gas_content:74.1,rfid_tag:"RFID-007-STU901",gps_coordinates:"22.5645, 72.9289",verification_score:98.5,sensor_readings:{weight_sensor:71.4,quality_sensor:97.8,moisture_sensor:9.1}},batchReference:{batchId:"BATCH-2024-007",digesterId:"DIG-MAIN-003",expectedYield:58.6,fermentationDays:24,qualityPrediction:"outstanding"},transportDetails:{vehicleNumber:"GJ-01-MN-4567",driverName:"રવિ ભાઈ શાહ",routeId:"ROUTE-AND-001",estimatedDelivery:"2024-01-09T09:30:00Z"},inspector:{name:"ડૉ. જયશ્રી પટેલ",id:"INS-007",signature:!0},certificates:["ORGANIC-CERT-004","QUALITY-CERT-006","ISO-CERT-002","AMUL-CERT-001"],verificationPhotos:["verify10.jpg","verify11.jpg"],qrCode:"QR-TXN-2024-007-STU901",receiptNumber:"RCP-2024-000007",gstDetails:{gstNumber:"GST24VWXYZ1234O6E0",taxAmount:37.48,cgst:18.74,sgst:18.74}},{id:"TXN-2024-008",farmerId:"FARM-TN-008",farmerName:"முருகன் செட்டியார்",farmerAadhaar:"****-****-7926",location:"தமிழ்நாடு பால் கூட்டுறவு, கோயம்புத்தூர்",phoneNumber:"+91 76543 21098",dungType:"buffalo",measuredWeight:46.8,qualityGrade:"gradeB",moistureContent:16,paymentMethod:"upi",paymentStatus:"completed",ratePerKg:8.25,totalAmount:386.1,advanceAmount:150,balanceAmount:236.1,notes:"தமிழ்நாட்டு எருமையின் சாணம். நல்ல தரம். தென்னிந்திய காலநிலைக்கு ஏற்ற கிளர்வித்தல் குணங்கள். 16 எருமைகளில் இருந்து சேகரிப்பு.",photos:["photo20.jpg","photo21.jpg"],measurementDate:"2024-01-08T15:30:00Z",collectionDate:"2024-01-08T16:00:00Z",status:"completed",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-008",deviceName:"Smart Scale Theta-8",timestamp:"2024-01-08T15:32:28Z",temperature:32.4,humidity:75,ph_level:6.7,gas_content:61.9,rfid_tag:"RFID-008-VWX234",gps_coordinates:"11.0168, 76.9558",verification_score:84.6,sensor_readings:{weight_sensor:46.8,quality_sensor:82.3,moisture_sensor:16.1}},batchReference:{batchId:"BATCH-2024-008",digesterId:"DIG-SOUTH-001",expectedYield:36.4,fermentationDays:29,qualityPrediction:"good"},transportDetails:{vehicleNumber:"TN-38-OP-6789",driverName:"குமார் ராஜு",routeId:"ROUTE-CBE-001",estimatedDelivery:"2024-01-08T18:15:00Z"},inspector:{name:"இன்ஜி. வெங்கடேஷ்",id:"INS-008",signature:!0},certificates:["QUALITY-CERT-007","SOUTH-CERT-001"],verificationPhotos:["verify12.jpg"],qrCode:"QR-TXN-2024-008-VWX234",receiptNumber:"RCP-2024-000008",gstDetails:{gstNumber:"GST33ABCDE5678P7F1",taxAmount:19.3,cgst:9.65,sgst:9.65}},{id:"TXN-2024-009",farmerId:"FARM-KA-009",farmerName:"ಶ್ರೀನಿವಾಸ ರೆಡ್ಡಿ",farmerAadhaar:"****-****-4051",location:"ಕರ್ನಾಟಕ ಮಿಲ್ಕ್ ಫೆಡರೇಶನ್, ಬೆಂಗಳೂರು",phoneNumber:"+91 65432 10987",dungType:"cow",measuredWeight:39.7,qualityGrade:"gradeA",moistureContent:13,paymentMethod:"online",paymentStatus:"partial",ratePerKg:9,totalAmount:357.3,advanceAmount:200,balanceAmount:157.3,notes:"ಕರ್ನಾಟಕದ ಸ್ಥಳೀಯ ಹಸುಗಳ ಸಗಣಿ। ಉತ್ತಮ ಗುಣಮಟ್ಟ ಮತ್ತು ಜೈವಿಕ ಸಂಯೋಜನೆ। 12 ಸ್ಥಳೀಯ ಹಸುಗಳಿಂದ ಸಂಗ್ರಹ।",photos:["photo22.jpg","photo23.jpg"],measurementDate:"2024-01-07T10:00:00Z",collectionDate:"2024-01-07T10:30:00Z",status:"payment_pending",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-009",deviceName:"Smart Scale Iota-9",timestamp:"2024-01-07T10:02:15Z",temperature:24.9,humidity:69,ph_level:7.3,gas_content:66.7,rfid_tag:"RFID-009-YZA567",gps_coordinates:"12.9716, 77.5946",verification_score:91.2,sensor_readings:{weight_sensor:39.7,quality_sensor:89.8,moisture_sensor:13.2}},batchReference:{batchId:"BATCH-2024-009",digesterId:"DIG-SOUTH-002",expectedYield:31.8,fermentationDays:27,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"KA-03-QR-8901",driverName:"ರಮೇಶ್ ಕುಮಾರ್",routeId:"ROUTE-BLR-001",estimatedDelivery:"2024-01-07T13:00:00Z"},inspector:{name:"ಡಾ. ಪ್ರಮೋದ್ ಶೆಟ್ಟಿ",id:"INS-009",signature:!0},certificates:["ORGANIC-CERT-005","QUALITY-CERT-008"],verificationPhotos:["verify13.jpg","verify14.jpg"],qrCode:"QR-TXN-2024-009-YZA567",receiptNumber:"RCP-2024-000009",gstDetails:{gstNumber:"GST29FGHIJ9012Q8G2",taxAmount:17.86,cgst:8.93,sgst:8.93}},{id:"TXN-2024-010",farmerId:"FARM-WB-010",farmerName:"অমিত চক্রবর্তী",farmerAadhaar:"****-****-8394",location:"পশ্চিমবঙ্গ দুগ্ধ সমবায়, কলকাতা",phoneNumber:"+91 54321 09876",dungType:"mixed",measuredWeight:55.2,qualityGrade:"gradeB",moistureContent:17,paymentMethod:"bank_transfer",paymentStatus:"completed",ratePerKg:8,totalAmount:441.6,advanceAmount:250,balanceAmount:191.6,notes:"পশ্চিমবঙ্গের মিশ্র গোবর। ভালো গুণমান এবং আর্দ্রতা কিছুটা বেশি। ১৮টি গরু ও মহিষ থেকে সংগ্রহ। বর্ষাকালের কারণে কিছুটা আর্দ্রতা।",photos:["photo24.jpg","photo25.jpg","photo26.jpg"],measurementDate:"2024-01-06T13:45:00Z",collectionDate:"2024-01-06T14:15:00Z",status:"completed",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-010",deviceName:"Smart Scale Kappa-10",timestamp:"2024-01-06T13:47:51Z",temperature:30.5,humidity:82,ph_level:6.9,gas_content:58.3,rfid_tag:"RFID-010-BCD890",gps_coordinates:"22.5726, 88.3639",verification_score:79.4,sensor_readings:{weight_sensor:55.2,quality_sensor:76.8,moisture_sensor:17.3}},batchReference:{batchId:"BATCH-2024-010",digesterId:"DIG-EAST-001",expectedYield:42.1,fermentationDays:31,qualityPrediction:"average"},transportDetails:{vehicleNumber:"WB-06-ST-2345",driverName:"সুভাষ দাস",routeId:"ROUTE-KOL-001",estimatedDelivery:"2024-01-06T16:30:00Z"},inspector:{name:"ইঞ্জি. রাজীব ঘোষ",id:"INS-010",signature:!0},certificates:["QUALITY-CERT-009"],verificationPhotos:["verify15.jpg"],qrCode:"QR-TXN-2024-010-BCD890",receiptNumber:"RCP-2024-000010",gstDetails:{gstNumber:"GST19KLMNO3456R9H3",taxAmount:22.08,cgst:11.04,sgst:11.04}}],Fm=async s=>new Promise(t=>{setTimeout(()=>{t(s)},1500)}),_m={en:{title:"Transaction Entry",subtitle:"IoT weight capture and photo proof documentation",newTransaction:"New Transaction",iotWeightCapture:"IoT Weight Capture",photoProof:"Photo Proof",transactionHistory:"Transaction History",farmerDetails:"Farmer Details",weightMeasurement:"Weight Measurement",paymentDetails:"Payment Details",farmerId:"Farmer ID",farmerName:"Farmer Name",farmerAadhaar:"Aadhaar (Masked)",location:"Location",phoneNumber:"Phone Number",dungType:"Dung Type",measurementDate:"Measurement Date",collectionDate:"Collection Date",measuredWeight:"Measured Weight (kg)",qualityGrade:"Quality Grade",moistureContent:"Moisture Content (%)",paymentMethod:"Payment Method",paymentStatus:"Payment Status",ratePerKg:"Rate per kg (₹)",totalAmount:"Total Amount (₹)",advanceAmount:"Advance Amount (₹)",balanceAmount:"Balance Amount (₹)",notes:"Notes",captureWeight:"Capture Weight from IoT",takePhoto:"Take Photo",uploadPhoto:"Upload Photo",saveTransaction:"Save Transaction",weighingInProgress:"Weighing in Progress...",weightCaptured:"Weight Captured Successfully",photoRequired:"Photo proof is required",transactionSaved:"Transaction saved successfully",cash:"Cash",online:"Online",bank_transfer:"Bank Transfer",upi:"UPI",pending:"Pending",partial:"Partial",completed:"Completed",failed:"Failed",cancelled:"Cancelled",verified:"Verified",quality_check:"Quality Check",payment_pending:"Payment Pending",gradeA:"Grade A (Premium)",gradeB:"Grade B (Standard)",gradeC:"Grade C (Basic)",cow:"Cow Dung",buffalo:"Buffalo Dung",mixed:"Mixed Dung",connecting:"Connecting to IoT scale...",connected:"Connected to IoT scale",connectionFailed:"Failed to connect to IoT scale",retryConnection:"Retry Connection",manualEntry:"Manual Entry",autoCapture:"Auto Capture",calibrateScale:"Calibrate Scale",viewDetails:"View Details",printReceipt:"Print Receipt",status:"Status",amount:"Amount",date:"Date",actions:"Actions",iotVerification:"IoT Verification",batchReference:"Batch Reference",transportDetails:"Transport Details",inspector:"Inspector",certificates:"Certificates",qrCode:"QR Code",receiptNumber:"Receipt Number",gstDetails:"GST Details",deviceId:"Device ID",temperature:"Temperature (°C)",humidity:"Humidity (%)",phLevel:"pH Level",gasContent:"Gas Content (%)",rfidTag:"RFID Tag",gpsCoordinates:"GPS Coordinates",verificationScore:"Verification Score",batchId:"Batch ID",digesterId:"Digester ID",expectedYield:"Expected Yield (L)",fermentationDays:"Fermentation Days",qualityPrediction:"Quality Prediction",vehicleNumber:"Vehicle Number",driverName:"Driver Name",routeId:"Route ID",estimatedDelivery:"Estimated Delivery",gstNumber:"GST Number",taxAmount:"Tax Amount (₹)",cgst:"CGST (₹)",sgst:"SGST (₹)",approved:"Approved",rejected:"Rejected",requires_recheck:"Requires Recheck"},hi:{title:"लेन-देन प्रविष्टि",subtitle:"IoT वजन कैप्चर और फोटो प्रूफ दस्तावेजीकरण",newTransaction:"नया लेन-देन",iotWeightCapture:"IoT वजन कैप्चर",photoProof:"फोटो प्रूफ",transactionHistory:"लेन-देन इतिहास",farmerDetails:"किसान विवरण",weightMeasurement:"वजन माप",paymentDetails:"भुगतान विवरण",farmerId:"किसान आईडी",farmerName:"किसान का नाम",farmerAadhaar:"आधार (मास्क्ड)",location:"स्थान",phoneNumber:"फोन नंबर",dungType:"गोबर का प्रकार",measurementDate:"माप की तारीख",collectionDate:"संग्रह की तारीख",measuredWeight:"मापा गया वजन (किलो)",qualityGrade:"गुणवत्ता ग्रेड",moistureContent:"नमी की मात्रा (%)",paymentMethod:"भुगतान विधि",paymentStatus:"भुगतान स्थिति",ratePerKg:"प्रति किलो दर (₹)",totalAmount:"कुल राशि (₹)",advanceAmount:"अग्रिम राशि (₹)",balanceAmount:"शेष राशि (₹)",notes:"टिप्पणियां",captureWeight:"IoT से वजन कैप्चर करें",takePhoto:"फोटो लें",uploadPhoto:"फोटो अपलोड करें",saveTransaction:"लेन-देन सेव करें",weighingInProgress:"तौलना प्रगति में...",weightCaptured:"वजन सफलतापूर्वक कैप्चर किया गया",photoRequired:"फोटो प्रूफ आवश्यक है",transactionSaved:"लेन-देन सफलतापूर्वक सेव किया गया",cash:"नकद",online:"ऑनलाइन",bank_transfer:"बैंक ट्रांसफर",upi:"UPI",pending:"लंबित",partial:"आंशिक",completed:"पूर्ण",failed:"असफल",cancelled:"रद्द",verified:"सत्यापित",quality_check:"गुणवत्ता जांच",payment_pending:"भुगतान लंबित",gradeA:"ग्रेड A (प्रीमियम)",gradeB:"ग्रेड B (मानक)",gradeC:"ग्रेड C (बेसिक)",cow:"गाय का गोबर",buffalo:"भैंस का गोबर",mixed:"मिश्रित गोबर",connecting:"IoT स्केल से कनेक्ट हो रहा है...",connected:"IoT स्केल से कनेक्ट हो गया",connectionFailed:"IoT स्केल से कनेक्ट नहीं हो सका",retryConnection:"फिर से कोशिश करें",manualEntry:"मैन्युअल एंट्री",autoCapture:"ऑटो कैप्चर",calibrateScale:"स्केल कैलिब्रेट करें",viewDetails:"विवरण देखें",printReceipt:"रसीद प्रिंट करें",status:"स्थिति",amount:"राशि",date:"तारीख",actions:"कार्य",iotVerification:"IoT सत्यापन",batchReference:"बैच संदर्भ",transportDetails:"परिवहन विवरण",inspector:"निरीक्षक",certificates:"प्रमाणपत्र",qrCode:"QR कोड",receiptNumber:"रसीद संख्या",gstDetails:"GST विवरण",deviceId:"डिवाइस आईडी",temperature:"तापमान (°C)",humidity:"आर्द्रता (%)",phLevel:"pH स्तर",gasContent:"गैस सामग्री (%)",rfidTag:"RFID टैग",gpsCoordinates:"GPS निर्देशांक",verificationScore:"सत्यापन स्कोर",batchId:"बैच आईडी",digesterId:"डाइजेस्टर आईडी",expectedYield:"अपेक्षित उत्पादन (L)",fermentationDays:"किण्वन दिन",qualityPrediction:"गुणवत्ता भविष्यवाणी",vehicleNumber:"वाहन संख्या",driverName:"चालक का नाम",routeId:"मार्ग आईडी",estimatedDelivery:"अनुमानित डिलीवरी",gstNumber:"GST संख्या",taxAmount:"कर राशि (₹)",cgst:"CGST (₹)",sgst:"SGST (₹)",approved:"अनुमोदित",rejected:"अस्वीकृत",requires_recheck:"पुनः जांच आवश्यक"}},Bm=s=>{switch(s){case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"verified":return"bg-blue-100 text-blue-800";case"quality_check":return"bg-orange-100 text-orange-800";case"payment_pending":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},Um=s=>{switch(s){case"completed":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-orange-100 text-orange-800";case"failed":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},qm=s=>{switch(s){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"requires_recheck":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Gm=({onWeightCaptured:s,t})=>{const[a,r]=h.useState(!1),[n,i]=h.useState(!1),[c,o]=h.useState(!1),[d,p]=h.useState(0),[N,f]=h.useState(!1),[u,v]=h.useState(null),j=h.useCallback(()=>{r(!0),f(!1),setTimeout(()=>{if(r(!1),Math.random()>.2){i(!0);const y={deviceId:`IOT-SCALE-${Math.floor(Math.random()*10)+1}`.padStart(3,"0"),deviceName:"Smart Scale Alpha-Pro",timestamp:new Date().toISOString(),temperature:25+Math.random()*10,humidity:55+Math.random()*25,ph_level:6.5+Math.random()*1.5,gas_content:55+Math.random()*20,verification_score:80+Math.random()*20};v(y);const S=setInterval(()=>{p(T=>{const g=45+Math.random()*10;return Math.round(g*10)/10})},500);return()=>clearInterval(S)}else f(!0)},2e3)},[]),P=()=>{o(!0),setTimeout(()=>{o(!1),s(d)},1500)},A=()=>{const C=48.5+Math.random()*5;s(Math.round(C*10)/10)};return e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"w-5 h-5"}),t("iotWeightCapture")]}),e.jsx(se,{children:"Connect to IoT scale for automatic weight measurement with verification"})]}),e.jsxs(w,{className:"space-y-4",children:[!n&&!N&&e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(rs,{className:"w-8 h-8 text-gray-400"})}),e.jsx(O,{onClick:j,disabled:a,className:"w-full",children:a?e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"w-4 h-4 mr-2 animate-spin"}),t("connecting")]}):"Connect to IoT Scale"})]}),N&&e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs(Ms,{children:[e.jsx(js,{className:"h-4 w-4"}),e.jsx(Es,{children:t("connectionFailed")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{onClick:j,variant:"outline",className:"w-full",children:t("retryConnection")}),e.jsx(O,{onClick:A,variant:"secondary",className:"w-full",children:t("manualEntry")})]})]}),n&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-sm text-green-600 mb-2",children:[e.jsx(de,{className:"w-4 h-4 inline mr-1"}),t("connected")]}),e.jsxs("div",{className:"text-4xl font-bold text-blue-600",children:[d.toFixed(1)," kg"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Real-time weight reading"})]}),u&&e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs bg-blue-50 p-3 rounded",children:[e.jsxs("div",{children:["Device: ",u.deviceName]}),e.jsxs("div",{children:["Score: ",u.verification_score?.toFixed(1),"%"]}),e.jsxs("div",{children:["Temp: ",u.temperature?.toFixed(1),"°C"]}),e.jsxs("div",{children:["Humidity: ",u.humidity?.toFixed(0),"%"]}),e.jsxs("div",{children:["pH: ",u.ph_level?.toFixed(1)]}),e.jsxs("div",{children:["Gas: ",u.gas_content?.toFixed(1),"%"]})]}),c&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{value:75,className:"w-full"}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:t("weighingInProgress")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(O,{onClick:P,disabled:c,className:"w-full",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"Capturing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fa,{className:"w-4 h-4 mr-2"}),t("captureWeight")]})}),e.jsx(O,{onClick:()=>{},variant:"outline",className:"w-full",children:t("calibrateScale")})]})]})]})]})},Wm=({onPhotoAdded:s,photos:t,t:a})=>{const r=h.useRef(null),n=c=>{const o=c.target.files?.[0];if(o){const d=new FileReader;d.onload=p=>{const N=p.target?.result;s(N)},d.readAsDataURL(o)}},i=()=>{const c=`data:image/svg+xml;base64,${btoa(`
      <svg width="300" height="200" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f3f4f6"/>
        <text x="50%" y="40%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="14" fill="#6b7280">
          Dung Sample Photo ${t.length+1}
        </text>
        <text x="50%" y="60%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="10" fill="#9ca3af">
          Timestamp: ${new Date().toLocaleString()}
        </text>
      </svg>
    `)}`;s(c)};return e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx($t,{className:"w-5 h-5"}),a("photoProof")]}),e.jsx(se,{children:"Capture photos of dung samples for quality verification and compliance"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(O,{onClick:i,variant:"outline",className:"w-full",children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),a("takePhoto")]}),e.jsxs(O,{onClick:()=>r.current?.click(),variant:"outline",className:"w-full",children:[e.jsx(Ea,{className:"w-4 h-4 mr-2"}),a("uploadPhoto")]})]}),e.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:n,className:"hidden"}),t.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium mb-2",children:["Captured Photos (",t.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map((c,o)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:c,alt:`Sample ${o+1}`,className:"w-full h-24 object-cover rounded border"}),e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx(L,{variant:"secondary",className:"text-xs",children:o+1})})]},o))})]}),t.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Hr,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"No photos captured yet"}),e.jsx("p",{className:"text-xs",children:a("photoRequired")})]})]})]})},$m=({languageContext:s})=>{const[t,a]=h.useState("new"),[r,n]=h.useState({farmerId:"",farmerName:"",farmerAadhaar:"",location:"",phoneNumber:"",dungType:"cow",measuredWeight:0,qualityGrade:"gradeB",moistureContent:15,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:8.5,advanceAmount:0,notes:""}),[i,c]=h.useState([]),[o,d]=h.useState(!1),[p,N]=h.useState(!1),f=s?.language||"en",u=l=>s?.t(l)||_m[f][l]||l,v=l=>{n(m=>({...m,measuredWeight:l}))},j=l=>{c(m=>[...m,l])},P=()=>r.measuredWeight*r.ratePerKg,A=()=>P()-r.advanceAmount,C=async()=>{if(r.measuredWeight===0){alert("Please capture weight first");return}if(i.length===0){alert(u("photoRequired"));return}d(!0);try{const l={...r,totalAmount:P(),balanceAmount:A(),photos:i,measurementDate:new Date().toISOString(),collectionDate:new Date().toISOString(),status:"pending",qualityVerificationStatus:"pending"};await Fm(l),N(!0),setTimeout(()=>{N(!1),n({farmerId:"",farmerName:"",farmerAadhaar:"",location:"",phoneNumber:"",dungType:"cow",measuredWeight:0,qualityGrade:"gradeB",moistureContent:15,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:8.5,advanceAmount:0,notes:""}),c([])},2e3)}catch{}finally{d(!1)}},y=jt.slice(0,10),S=jt.filter(l=>l.status==="pending"||l.status==="payment_pending"),T=jt.filter(l=>new Date(l.measurementDate).toDateString()===new Date().toDateString()),g=jt.filter(l=>l.status==="verified");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:u("title")}),e.jsx("p",{className:"text-muted-foreground",children:u("subtitle")})]}),p&&e.jsxs(Ms,{className:"w-auto",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx(Es,{children:u("transactionSaved")})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Today's Transactions"}),e.jsx(Le,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.reduce((l,m)=>l+m.measuredWeight,0).toFixed(1)," kg total"]})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Pending Verification"}),e.jsx(Se,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:S.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Verified Transactions"}),e.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"IoT verified entries"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Total Value"}),e.jsx(he,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["₹",jt.reduce((l,m)=>l+m.totalAmount,0).toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All transactions"})]})]})]}),e.jsxs($e,{value:t,onValueChange:a,children:[e.jsxs(Ve,{className:"grid w-full grid-cols-3",children:[e.jsx(X,{value:"new",children:u("newTransaction")}),e.jsx(X,{value:"iot",children:u("iotWeightCapture")}),e.jsx(X,{value:"history",children:u("transactionHistory")})]}),e.jsxs(Y,{value:"new",className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:u("farmerDetails")}),e.jsx(se,{children:"Basic farmer information and contact details"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"farmerId",children:u("farmerId")}),e.jsx(ee,{id:"farmerId",value:r.farmerId,onChange:l=>n(m=>({...m,farmerId:l.target.value})),placeholder:"FARM-001"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"farmerName",children:u("farmerName")}),e.jsx(ee,{id:"farmerName",value:r.farmerName,onChange:l=>n(m=>({...m,farmerName:l.target.value})),placeholder:"राम कुमार"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"farmerAadhaar",children:u("farmerAadhaar")}),e.jsx(ee,{id:"farmerAadhaar",value:r.farmerAadhaar,onChange:l=>n(m=>({...m,farmerAadhaar:l.target.value})),placeholder:"****-****-1234"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"location",children:u("location")}),e.jsx(ee,{id:"location",value:r.location,onChange:l=>n(m=>({...m,location:l.target.value})),placeholder:"Village, District"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"phoneNumber",children:u("phoneNumber")}),e.jsx(ee,{id:"phoneNumber",value:r.phoneNumber,onChange:l=>n(m=>({...m,phoneNumber:l.target.value})),placeholder:"+91 98765 43210"})]})]})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:u("weightMeasurement")}),e.jsx(se,{children:"Dung quality and weight measurement details"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"dungType",children:u("dungType")}),e.jsxs(ve,{value:r.dungType,onValueChange:l=>n(m=>({...m,dungType:l})),children:[e.jsx(je,{children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"cow",children:u("cow")}),e.jsx(B,{value:"buffalo",children:u("buffalo")}),e.jsx(B,{value:"mixed",children:u("mixed")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"qualityGrade",children:u("qualityGrade")}),e.jsxs(ve,{value:r.qualityGrade,onValueChange:l=>n(m=>({...m,qualityGrade:l})),children:[e.jsx(je,{children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"gradeA",children:u("gradeA")}),e.jsx(B,{value:"gradeB",children:u("gradeB")}),e.jsx(B,{value:"gradeC",children:u("gradeC")})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"measuredWeight",children:u("measuredWeight")}),e.jsx(ee,{id:"measuredWeight",type:"number",step:"0.1",value:r.measuredWeight,onChange:l=>n(m=>({...m,measuredWeight:parseFloat(l.target.value)||0})),placeholder:"0.0"}),r.measuredWeight>0&&e.jsxs("div",{className:"text-sm text-green-600",children:[e.jsx(de,{className:"w-4 h-4 inline mr-1"}),u("weightCaptured")]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"moistureContent",children:u("moistureContent")}),e.jsx(ee,{id:"moistureContent",type:"number",value:r.moistureContent,onChange:l=>n(m=>({...m,moistureContent:parseInt(l.target.value)||0})),placeholder:"15"})]})]})]})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:u("paymentDetails")}),e.jsx(se,{children:"Payment method and amount calculation"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"paymentMethod",children:u("paymentMethod")}),e.jsxs(ve,{value:r.paymentMethod,onValueChange:l=>n(m=>({...m,paymentMethod:l})),children:[e.jsx(je,{children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"cash",children:u("cash")}),e.jsx(B,{value:"online",children:u("online")}),e.jsx(B,{value:"bank_transfer",children:u("bank_transfer")}),e.jsx(B,{value:"upi",children:u("upi")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"paymentStatus",children:u("paymentStatus")}),e.jsxs(ve,{value:r.paymentStatus,onValueChange:l=>n(m=>({...m,paymentStatus:l})),children:[e.jsx(je,{children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"pending",children:u("pending")}),e.jsx(B,{value:"partial",children:u("partial")}),e.jsx(B,{value:"completed",children:u("completed")})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"ratePerKg",children:u("ratePerKg")}),e.jsx(ee,{id:"ratePerKg",type:"number",step:"0.50",value:r.ratePerKg,onChange:l=>n(m=>({...m,ratePerKg:parseFloat(l.target.value)||0}))})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:u("totalAmount")}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["₹",P().toFixed(2)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"advanceAmount",children:u("advanceAmount")}),e.jsx(ee,{id:"advanceAmount",type:"number",step:"0.50",value:r.advanceAmount,onChange:l=>n(m=>({...m,advanceAmount:parseFloat(l.target.value)||0}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:u("balanceAmount")}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["₹",A().toFixed(2)]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"notes",children:u("notes")}),e.jsx(dt,{id:"notes",value:r.notes,onChange:l=>n(m=>({...m,notes:l.target.value})),placeholder:"Additional notes...",rows:2})]})]})]}),e.jsx(Wm,{onPhotoAdded:j,photos:i,t:u})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(O,{onClick:C,disabled:o||r.measuredWeight===0||i.length===0,className:"w-48",children:o?e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"w-4 h-4 mr-2"}),u("saveTransaction")]})})})]}),e.jsx(Y,{value:"iot",children:e.jsx(Gm,{onWeightCaptured:v,t:u})}),e.jsx(Y,{value:"history",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:u("transactionHistory")}),e.jsx(se,{children:"Comprehensive transaction records with IoT verification and batch tracking"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[y.map(l=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h4",{className:"font-semibold",children:l.farmerName}),e.jsx(L,{className:Bm(l.status),children:u(l.status)}),e.jsx(L,{className:Um(l.paymentStatus),children:u(l.paymentStatus)}),e.jsx(L,{className:qm(l.qualityVerificationStatus),children:u(l.qualityVerificationStatus)})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($s,{className:"w-3 h-3"}),l.farmerId]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"w-3 h-3"}),l.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Fa,{className:"w-3 h-3"}),l.measuredWeight," kg"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-3 h-3"}),new Date(l.measurementDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold",children:["₹",l.totalAmount.toFixed(2)]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.receiptNumber})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 bg-blue-50 p-3 rounded text-xs",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-1",children:[e.jsx(Ca,{className:"w-3 h-3"}),"IoT Device"]}),e.jsx("div",{children:l.iotVerification.deviceName}),e.jsx("div",{className:"text-muted-foreground",children:l.iotVerification.deviceId})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-1",children:[e.jsx(we,{className:"w-3 h-3"}),"Verification Score"]}),e.jsxs("div",{className:"text-green-600 font-bold",children:[l.iotVerification.verification_score.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Batch Reference"}),e.jsx("div",{children:l.batchReference.batchId}),e.jsxs("div",{className:"text-muted-foreground",children:["Yield: ",l.batchReference.expectedYield,"L"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-1",children:[e.jsx(Ei,{className:"w-3 h-3"}),"QR Code"]}),e.jsx("div",{className:"font-mono",children:l.qrCode})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",children:"Transport Details"}),e.jsx("div",{children:l.transportDetails.vehicleNumber}),e.jsx("div",{children:l.transportDetails.driverName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",children:"Quality Inspector"}),e.jsx("div",{children:l.inspector.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[l.inspector.signature?e.jsx(de,{className:"w-3 h-3 text-green-600"}):e.jsx(Se,{className:"w-3 h-3 text-orange-600"}),l.inspector.signature?"Signed":"Pending Signature"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",children:"Certificates"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:l.certificates.map((m,R)=>e.jsx(L,{variant:"outline",className:"text-xs",children:m},R))})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsxs(O,{size:"sm",variant:"outline",children:[e.jsx(ds,{className:"w-4 h-4 mr-1"}),u("viewDetails")]}),e.jsxs(O,{size:"sm",variant:"outline",children:[e.jsx(Zt,{className:"w-4 h-4 mr-1"}),u("printReceipt")]}),e.jsxs(O,{size:"sm",variant:"outline",children:[e.jsx(Re,{className:"w-4 h-4 mr-1"}),"Download"]})]})]},l.id)),y.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Hr,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No transactions found"})]})]})})]})})]})]})},Fs=h.forwardRef(({className:s,checked:t,onCheckedChange:a,disabled:r,...n},i)=>{const[c,o]=h.useState(!1),d=t!==void 0?t:c,p=a||o;return e.jsx("button",{type:"button",role:"switch","aria-checked":d,ref:i,className:q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",d?"bg-primary":"bg-input",s),disabled:r,onClick:()=>p(!d),...n,children:e.jsx("span",{className:q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",d?"translate-x-5":"translate-x-0")})})});Fs.displayName="Switch";const Qs=[{id:"A001",level:"warning",type:"temperature",title:"High Temperature Alert - Digester 001",message:"Temperature exceeds optimal range at 42°C. Recommended range: 35-40°C. Automatic cooling system activated.",digesterId:"DIG-001",timestamp:new Date().toISOString(),status:"active",value:"42.3°C",severity:3,location:"Gokul Gaushala Main Unit",assignedTo:"राजेश कुमार",estimatedResolution:"2 hours"},{id:"A002",level:"critical",type:"pressure",title:"Critical Pressure Level - Buffalo Unit",message:"Pressure levels dangerously high at 2.1 kPa. Immediate attention required. Safety valve may trigger.",digesterId:"DIG-003",timestamp:new Date(Date.now()-36e5).toISOString(),status:"active",value:"2.1 kPa",severity:5,location:"Yamuna Riverside Buffalo Unit",assignedTo:"सुनील यादव",estimatedResolution:"Immediate"},{id:"A003",level:"warning",type:"methane",title:"Low Methane Content - Secondary Unit",message:"Methane levels dropped to 58%. Expected range: 60-70%. Check feedstock quality and pH levels.",digesterId:"DIG-002",timestamp:new Date(Date.now()-72e5).toISOString(),status:"active",value:"58.2%",severity:3,location:"Vrindavan Organic Farm",assignedTo:"अमित शर्मा",estimatedResolution:"4 hours"},{id:"A004",level:"critical",type:"connectivity",title:"IoT Sensor Connection Lost",message:"Temperature and pressure sensors offline for Digester 005. Last reading 45 minutes ago. Manual monitoring required.",digesterId:"DIG-005",timestamp:new Date(Date.now()-27e5).toISOString(),status:"active",value:"Offline 45min",severity:4,location:"Experimental Unit",assignedTo:"तकनीकी टीम",estimatedResolution:"1 hour"},{id:"A005",level:"warning",type:"gasProduction",title:"Reduced Gas Production - Main Unit",message:"Daily production down 15% from average. Current: 128 m³/day, Expected: 150 m³/day. Check feeding schedule.",digesterId:"DIG-001",timestamp:new Date(Date.now()-108e5).toISOString(),status:"active",value:"128 m³/day",severity:2,location:"Gokul Gaushala Main Unit",assignedTo:"गीता देवी",estimatedResolution:"6 hours"},{id:"A006",level:"info",type:"maintenance",title:"Scheduled Maintenance Due - Mixed Feed Unit",message:"Routine maintenance scheduled for Digester 004 tomorrow at 10:00 AM. Expected downtime: 4 hours.",digesterId:"DIG-004",timestamp:new Date(Date.now()-144e5).toISOString(),status:"active",value:"Tomorrow 10:00 AM",severity:1,location:"Mixed Feed Processing",assignedTo:"रखरखाव टीम",estimatedResolution:"24 hours"},{id:"A007",level:"critical",type:"safety",title:"Gas Leak Detection - Safety Alert",message:"Potential gas leak detected near Digester 002. Area evacuated. Emergency response team notified. Safety protocols activated.",digesterId:"DIG-002",timestamp:new Date(Date.now()-18e6).toISOString(),status:"active",value:"Level 3 Alert",severity:5,location:"Vrindavan Organic Farm",assignedTo:"आपातकालीन टीम",estimatedResolution:"Immediate"},{id:"A008",level:"warning",type:"efficiency",title:"Efficiency Drop - Buffalo Unit",message:"Overall efficiency decreased to 78%. Normal range: 85-92%. Consider feedstock optimization and pH adjustment.",digesterId:"DIG-003",timestamp:new Date(Date.now()-216e5).toISOString(),status:"acknowledged",value:"78%",severity:3,location:"Yamuna Riverside Buffalo Unit",assignedTo:"विकास कुमार",estimatedResolution:"8 hours"},{id:"A009",level:"warning",type:"temperature",title:"Low Temperature - Experimental Unit",message:"Temperature dropped to 32°C due to ambient weather. Heating system activated. Monitoring bacterial activity.",digesterId:"DIG-005",timestamp:new Date(Date.now()-252e5).toISOString(),status:"resolved",value:"32.1°C",severity:2,location:"Experimental Unit",assignedTo:"लक्ष्मी यादव",estimatedResolution:"Resolved"},{id:"A010",level:"info",type:"gasProduction",title:"Optimal Production - Main Unit",message:"Excellent gas production recorded. 165 m³/day achieved - 10% above target. Feeding schedule optimized.",digesterId:"DIG-001",timestamp:new Date(Date.now()-288e5).toISOString(),status:"resolved",value:"165 m³/day",severity:1,location:"Gokul Gaushala Main Unit",assignedTo:"राजेश कुमार",estimatedResolution:"Resolved"},{id:"A011",level:"critical",type:"pressure",title:"Pressure Relief Valve Triggered",message:"Automatic pressure relief activated on Digester 004. System stabilized. Check for blockages in gas outlet lines.",digesterId:"DIG-004",timestamp:new Date(Date.now()-324e5).toISOString(),status:"acknowledged",value:"2.3 kPa",severity:4,location:"Mixed Feed Processing",assignedTo:"सुरेश चंद्र",estimatedResolution:"3 hours"},{id:"A012",level:"warning",type:"maintenance",title:"Cleaning Cycle Overdue - Secondary Unit",message:"Digester cleaning overdue by 3 days. Efficiency may be impacted. Schedule cleaning within 24 hours.",digesterId:"DIG-002",timestamp:new Date(Date.now()-36e6).toISOString(),status:"active",value:"3 days overdue",severity:3,location:"Vrindavan Organic Farm",assignedTo:"रखरखाव टीम",estimatedResolution:"12 hours"},{id:"A013",level:"info",type:"connectivity",title:"IoT System Upgrade Complete",message:"Sensor firmware updated successfully on all digesters. New features: enhanced accuracy and predictive maintenance alerts.",digesterId:"ALL",timestamp:new Date(Date.now()-432e5).toISOString(),status:"resolved",value:"v2.1.3",severity:1,location:"All Units",assignedTo:"तकनीकी टीम",estimatedResolution:"Completed"},{id:"A014",level:"warning",type:"methane",title:"Methane Purity Concern - Mixed Feed",message:"Methane purity at 61% with higher CO2 content. Check feedstock composition and pH balance. Consider additives.",digesterId:"DIG-004",timestamp:new Date(Date.now()-468e5).toISOString(),status:"acknowledged",value:"61.3%",severity:3,location:"Mixed Feed Processing",assignedTo:"अमित शर्मा",estimatedResolution:"6 hours"},{id:"A015",level:"critical",type:"safety",title:"Emergency Shutdown - Buffalo Unit",message:"Emergency shutdown triggered due to multiple sensor failures. Unit isolated. Technical team dispatched for inspection.",digesterId:"DIG-003",timestamp:new Date(Date.now()-504e5).toISOString(),status:"resolved",value:"System Isolated",severity:5,location:"Yamuna Riverside Buffalo Unit",assignedTo:"आपातकालीन टीम",estimatedResolution:"Resolved"}],Vm=[{type:"temperature",enabled:!0,minThreshold:35,maxThreshold:40,unit:"°C",description:"Optimal temperature range for methanogenic bacteria activity"},{type:"pressure",enabled:!0,minThreshold:.8,maxThreshold:1.8,unit:"kPa",description:"Safe operating pressure range for biogas digester"},{type:"methane",enabled:!0,minThreshold:60,maxThreshold:75,unit:"%",description:"Methane content percentage in biogas output"},{type:"gasProduction",enabled:!0,minThreshold:100,maxThreshold:200,unit:"m³/day",description:"Daily biogas production volume"},{type:"efficiency",enabled:!0,minThreshold:80,maxThreshold:95,unit:"%",description:"Overall digester efficiency percentage"},{type:"connectivity",enabled:!0,minThreshold:95,maxThreshold:100,unit:"%",description:"IoT sensor connectivity and data availability"},{type:"safety",enabled:!0,minThreshold:0,maxThreshold:0,unit:"level",description:"Safety alert threshold (0 = no tolerance for safety issues)"},{type:"maintenance",enabled:!0,minThreshold:0,maxThreshold:7,unit:"days",description:"Maintenance schedule adherence (max 7 days overdue)"}],yr=async s=>Promise.resolve(),Hm=async s=>Promise.resolve(),zm=async s=>Promise.resolve(),Ym={en:{title:"Alerts Management",subtitle:"Real-time monitoring and threshold management",activeAlerts:"Active Alerts",alertHistory:"Alert History",thresholdSettings:"Threshold Settings",notificationSettings:"Notification Settings",createAlert:"Create Alert",critical:"Critical",warning:"Warning",info:"Info",success:"Success",temperature:"Temperature",pressure:"Pressure",methane:"Methane Level",gasProduction:"Gas Production",efficiency:"Efficiency",connectivity:"Connectivity",safety:"Safety",maintenance:"Maintenance",digesterId:"Digester ID",alertType:"Alert Type",level:"Level",message:"Message",timestamp:"Timestamp",status:"Status",actions:"Actions",resolve:"Resolve",dismiss:"Dismiss",viewDetails:"View Details",soundAlerts:"Sound Alerts",emailNotifications:"Email Notifications",smsNotifications:"SMS Notifications",pushNotifications:"Push Notifications",acknowledgeAll:"Acknowledge All",clearHistory:"Clear History",exportAlerts:"Export Alerts",minThreshold:"Minimum Threshold",maxThreshold:"Maximum Threshold",enabled:"Enabled",disabled:"Disabled",acknowledged:"Acknowledged",resolved:"Resolved",active:"Active",temperatureThresholds:"Temperature Thresholds",pressureThresholds:"Pressure Thresholds",methaneThresholds:"Methane Thresholds",productionThresholds:"Production Thresholds",alertCount:"Total Alerts",criticalCount:"Critical Alerts",warningCount:"Warning Alerts",resolvedToday:"Resolved Today",alertFrequency:"Alert Frequency",responseTime:"Avg Response Time",systemStatus:"System Status",monitoringActive:"Monitoring Active",allSystems:"All Systems Operational",someIssues:"Some Issues Detected",criticalIssues:"Critical Issues Present",location:"Location",assignedTo:"Assigned To",estimatedResolution:"Est. Resolution",severity:"Severity",value:"Current Value",unit:"Unit",description:"Description"},hi:{title:"अलर्ट प्रबंधन",subtitle:"रियल-टाइम निगरानी और थ्रेशोल्ड प्रबंधन",activeAlerts:"सक्रिय अलर्ट",alertHistory:"अलर्ट इतिहास",thresholdSettings:"थ्रेशोल्ड सेटिंग्स",notificationSettings:"नोटिफिकेशन सेटिंग्स",createAlert:"अलर्ट बनाएं",critical:"गंभीर",warning:"चेतावनी",info:"जानकारी",success:"सफलता",temperature:"तापमान",pressure:"दबाव",methane:"मीथेन स्तर",gasProduction:"गैस उत्पादन",efficiency:"दक्षता",connectivity:"कनेक्टिविटी",safety:"सुरक्षा",maintenance:"रखरखाव",digesterId:"डाइजेस्टर आईडी",alertType:"अलर्ट प्रकार",level:"स्तर",message:"संदेश",timestamp:"समयमुहर",status:"स्थिति",actions:"कार्य",resolve:"हल करें",dismiss:"खारिज करें",viewDetails:"विवरण देखें",soundAlerts:"ध्वनि अलर्ट",emailNotifications:"ईमेल नोटिफिकेशन",smsNotifications:"SMS नोटिफिकेशन",pushNotifications:"पुश नोटिफिकेशन",acknowledgeAll:"सभी स्वीकार करें",clearHistory:"इतिहास साफ करें",exportAlerts:"अलर्ट निर्यात करें",minThreshold:"न्यूनतम थ्रेशोल्ड",maxThreshold:"अधिकतम थ्रेशोल्ड",enabled:"सक्षम",disabled:"अक्षम",acknowledged:"स्वीकृत",resolved:"हल किया गया",active:"सक्रिय",temperatureThresholds:"तापमान थ्रेशोल्ड",pressureThresholds:"दबाव थ्रेशोल्ड",methaneThresholds:"मीथेन थ्रेशोल्ड",productionThresholds:"उत्पादन थ्रेशोल्ड",alertCount:"कुल अलर्ट",criticalCount:"गंभीर अलर्ट",warningCount:"चेतावनी अलर्ट",resolvedToday:"आज हल किए गए",alertFrequency:"अलर्ट आवृत्ति",responseTime:"औसत प्रतिक्रिया समय",systemStatus:"सिस्टम स्थिति",monitoringActive:"निगरानी सक्रिय",allSystems:"सभी सिस्टम चालू",someIssues:"कुछ समस्याएं मिलीं",criticalIssues:"गंभीर समस्याएं मौजूद",location:"स्थान",assignedTo:"सौंपा गया",estimatedResolution:"अनुमानित समाधान",severity:"गंभीरता",value:"वर्तमान मान",unit:"इकाई",description:"विवरण"}},Bn=s=>{switch(s){case"critical":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"info":return"bg-blue-100 text-blue-800";case"success":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Un=s=>{switch(s){case"critical":return e.jsx(le,{className:"w-4 h-4 text-red-500"});case"warning":return e.jsx(js,{className:"w-4 h-4 text-yellow-500"});case"info":return e.jsx(Yr,{className:"w-4 h-4 text-blue-500"});case"success":return e.jsx(de,{className:"w-4 h-4 text-green-500"});default:return e.jsx(st,{className:"w-4 h-4 text-gray-500"})}},Ha=s=>{switch(s){case"temperature":return e.jsx(zt,{className:"w-4 h-4"});case"pressure":return e.jsx(St,{className:"w-4 h-4"});case"methane":return e.jsx(Rs,{className:"w-4 h-4"});case"gasProduction":return e.jsx(ke,{className:"w-4 h-4"});case"efficiency":return e.jsx(de,{className:"w-4 h-4"});case"connectivity":return e.jsx(Zs,{className:"w-4 h-4"});case"safety":return e.jsx(we,{className:"w-4 h-4"});case"maintenance":return e.jsx(Qr,{className:"w-4 h-4"});default:return e.jsx(st,{className:"w-4 h-4"})}},Qm=s=>s>=5?e.jsx(le,{className:"w-4 h-4 text-red-500"}):s>=4?e.jsx(js,{className:"w-4 h-4 text-orange-500"}):s>=3?e.jsx(js,{className:"w-4 h-4 text-yellow-500"}):s>=2?e.jsx(Yr,{className:"w-4 h-4 text-blue-500"}):e.jsx(de,{className:"w-4 h-4 text-green-500"}),Km=({alert:s,onResolve:t,onDismiss:a,t:r})=>e.jsx(b,{className:`border-l-4 ${s.level==="critical"?"border-l-red-500":s.level==="warning"?"border-l-yellow-500":s.level==="info"?"border-l-blue-500":"border-l-green-500"}`,children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Un(s.level),e.jsx(L,{className:Bn(s.level),children:r(s.level)}),e.jsxs(L,{variant:"outline",children:[Ha(s.type),e.jsx("span",{className:"ml-1",children:r(s.type)})]}),s.severity&&e.jsxs("div",{className:"flex items-center gap-1",children:[Qm(s.severity),e.jsxs("span",{className:"text-xs",children:[s.severity,"/5"]})]})]}),e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.message}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",s.location]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Assigned:"})," ",s.assignedTo]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Digester:"})," ",s.digesterId]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ETA:"})," ",s.estimatedResolution]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Time:"})," ",new Date(s.timestamp).toLocaleString()]}),s.value&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Value:"})," ",s.value]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(O,{size:"sm",variant:"outline",onClick:()=>t(s.id),disabled:s.status==="resolved",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx(O,{size:"sm",variant:"outline",onClick:()=>a(s.id),disabled:s.status==="resolved",children:e.jsx(qt,{className:"w-4 h-4"})}),e.jsx(O,{size:"sm",variant:"outline",children:e.jsx(ds,{className:"w-4 h-4"})})]})]})})}),Zm=({config:s,onUpdate:t,t:a})=>{const[r,n]=h.useState(s),i=()=>{t(r)};return e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[Ha(s.type),a(s.type)," ",a("thresholds")]}),e.jsxs(se,{children:[s.description," (",s.unit,")"]})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(W,{htmlFor:`${s.type}-enabled`,children:"Enable Monitoring"}),e.jsx(Fs,{id:`${s.type}-enabled`,checked:r.enabled,onCheckedChange:c=>n(o=>({...o,enabled:c}))})]}),r.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:`${s.type}-min`,children:[a("minThreshold")," (",s.unit,")"]}),e.jsx(ee,{id:`${s.type}-min`,type:"number",value:r.minThreshold,onChange:c=>n(o=>({...o,minThreshold:parseFloat(c.target.value)||0}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:`${s.type}-max`,children:[a("maxThreshold")," (",s.unit,")"]}),e.jsx(ee,{id:`${s.type}-max`,type:"number",value:r.maxThreshold,onChange:c=>n(o=>({...o,maxThreshold:parseFloat(c.target.value)||0}))})]})]}),e.jsx(O,{onClick:i,className:"w-full",children:"Save Configuration"})]})]})]})},Xm=({languageContext:s})=>{const[t,a]=h.useState("all"),[r,n]=h.useState("all"),[i,c]=h.useState("all"),[o,d]=h.useState(!0),[p,N]=h.useState({sound:!0,email:!0,sms:!1,push:!0}),f=s?.language||"en",u=l=>s?.t(l)||Ym[f][l]||l;h.useEffect(()=>{if(!o)return;const l=setInterval(()=>{},5e3);return()=>clearInterval(l)},[o]);const v=Qs.filter(l=>{const m=t==="all"||l.level===t,R=r==="all"||l.type===r,x=i==="all"||l.status===i;return m&&R&&x}),j=Qs.filter(l=>l.status==="active"),P=j.filter(l=>l.level==="critical"),A=j.filter(l=>l.level==="warning"),C=Qs.filter(l=>l.status==="resolved"&&new Date(l.timestamp).toDateString()===new Date().toDateString()),y=P.length>0?"critical":A.length>0?"warning":"normal",S=async l=>{await yr()},T=async l=>{await Hm()},g=async()=>{for(const l of j)await yr(l.id)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:u("title")}),e.jsx("p",{className:"text-muted-foreground",children:u("subtitle")})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{htmlFor:"monitoring-toggle",children:u("monitoringActive")}),e.jsx(Fs,{id:"monitoring-toggle",checked:o,onCheckedChange:d})]}),e.jsxs(O,{onClick:g,disabled:j.length===0,variant:"outline",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),u("acknowledgeAll")," (",j.length,")"]})]})]}),y!=="normal"&&e.jsxs(Ms,{className:`${y==="critical"?"border-red-200 bg-red-50":"border-yellow-200 bg-yellow-50"}`,children:[e.jsx(le,{className:`h-4 w-4 ${y==="critical"?"text-red-600":"text-yellow-600"}`}),e.jsxs(Es,{className:`${y==="critical"?"text-red-800":"text-yellow-800"}`,children:[u(y==="critical"?"criticalIssues":"someIssues"),y==="critical"&&` - ${P.length} critical alerts require immediate attention.`]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:u("alertCount")}),e.jsx(st,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Qs.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.length," active"]})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:u("criticalCount")}),e.jsx(le,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:P.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Require immediate action"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:u("warningCount")}),e.jsx(js,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:A.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:u("resolvedToday")}),e.jsx(de,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Issues resolved"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:u("responseTime")}),e.jsx(Se,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"2.4h"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Average resolution time"})]})]})]}),e.jsxs($e,{defaultValue:"active",className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-4",children:[e.jsx(X,{value:"active",children:u("activeAlerts")}),e.jsx(X,{value:"history",children:u("alertHistory")}),e.jsx(X,{value:"thresholds",children:u("thresholdSettings")}),e.jsx(X,{value:"notifications",children:u("notificationSettings")})]}),e.jsxs(Y,{value:"active",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"w-4 h-4"}),e.jsx(W,{children:"Filters:"})]}),e.jsxs(ve,{value:t,onValueChange:l=>a(l),children:[e.jsx(je,{className:"w-40",children:e.jsx(ye,{placeholder:"Level"})}),e.jsxs(fe,{children:[e.jsx(B,{value:"all",children:"All Levels"}),e.jsx(B,{value:"critical",children:u("critical")}),e.jsx(B,{value:"warning",children:u("warning")}),e.jsx(B,{value:"info",children:u("info")})]})]}),e.jsxs(ve,{value:r,onValueChange:l=>n(l),children:[e.jsx(je,{className:"w-40",children:e.jsx(ye,{placeholder:"Type"})}),e.jsxs(fe,{children:[e.jsx(B,{value:"all",children:"All Types"}),e.jsx(B,{value:"temperature",children:u("temperature")}),e.jsx(B,{value:"pressure",children:u("pressure")}),e.jsx(B,{value:"methane",children:u("methane")}),e.jsx(B,{value:"gasProduction",children:u("gasProduction")}),e.jsx(B,{value:"efficiency",children:u("efficiency")}),e.jsx(B,{value:"connectivity",children:u("connectivity")}),e.jsx(B,{value:"safety",children:u("safety")}),e.jsx(B,{value:"maintenance",children:u("maintenance")})]})]}),e.jsxs(ve,{value:i,onValueChange:l=>c(l),children:[e.jsx(je,{className:"w-40",children:e.jsx(ye,{placeholder:"Status"})}),e.jsxs(fe,{children:[e.jsx(B,{value:"all",children:"All Status"}),e.jsx(B,{value:"active",children:u("active")}),e.jsx(B,{value:"acknowledged",children:u("acknowledged")}),e.jsx(B,{value:"resolved",children:u("resolved")})]})]})]}),e.jsx("div",{className:"space-y-4",children:v.length===0?e.jsx(b,{children:e.jsxs(w,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(de,{className:"w-16 h-16 text-green-500 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-2",children:u("allSystems")}),e.jsx("p",{className:"text-muted-foreground text-center",children:"No alerts match the current filter criteria. All monitored systems are operating within normal parameters."})]})}):v.map(l=>e.jsx(Km,{alert:l,onResolve:S,onDismiss:T,t:u},l.id))})]}),e.jsx(Y,{value:"history",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:u("alertHistory")}),e.jsx(se,{children:"Historical alert data and resolution tracking with detailed analysis"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[Qs.slice(0,20).map(l=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Un(l.level),e.jsx(L,{className:Bn(l.level),children:u(l.level)}),e.jsxs(L,{variant:"outline",children:[Ha(l.type),e.jsx("span",{className:"ml-1",children:u(l.type)})]}),e.jsx(L,{variant:l.status==="resolved"?"default":"secondary",children:u(l.status)})]}),e.jsx("h4",{className:"font-semibold",children:l.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Location: ",l.location]}),e.jsxs("span",{children:["Assigned: ",l.assignedTo]}),e.jsx("span",{children:new Date(l.timestamp).toLocaleString()})]})]}),e.jsx(O,{size:"sm",variant:"outline",children:e.jsx(ds,{className:"w-4 h-4"})})]},l.id)),Qs.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Se,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No alert history available"})]})]})})]})}),e.jsx(Y,{value:"thresholds",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:Vm.map(l=>e.jsx(Zm,{config:l,onUpdate:zm,t:u},l.type))})}),e.jsx(Y,{value:"notifications",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:u("notificationSettings")}),e.jsx(se,{children:"Configure how you receive alert notifications"})]}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs(W,{htmlFor:"sound-alerts",className:"flex items-center gap-2",children:[p.sound?e.jsx(nt,{className:"w-4 h-4"}):e.jsx(zr,{className:"w-4 h-4"}),u("soundAlerts")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sound when new alerts arrive"})]}),e.jsx(Fs,{id:"sound-alerts",checked:p.sound,onCheckedChange:l=>N(m=>({...m,sound:l}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(W,{htmlFor:"email-notifications",children:u("emailNotifications")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send alerts via email"})]}),e.jsx(Fs,{id:"email-notifications",checked:p.email,onCheckedChange:l=>N(m=>({...m,email:l}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(W,{htmlFor:"sms-notifications",children:u("smsNotifications")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send critical alerts via SMS"})]}),e.jsx(Fs,{id:"sms-notifications",checked:p.sms,onCheckedChange:l=>N(m=>({...m,sms:l}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(W,{htmlFor:"push-notifications",children:u("pushNotifications")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Browser push notifications"})]}),e.jsx(Fs,{id:"push-notifications",checked:p.push,onCheckedChange:l=>N(m=>({...m,push:l}))})]})]})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:"Alert Management"}),e.jsx(se,{children:"Bulk actions and system controls"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs(O,{onClick:g,disabled:j.length===0,className:"w-full",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),u("acknowledgeAll")," (",j.length,")"]}),e.jsxs(O,{variant:"outline",className:"w-full",children:[e.jsx(_a,{className:"w-4 h-4 mr-2"}),u("clearHistory")]}),e.jsxs(O,{variant:"outline",className:"w-full",children:[e.jsx(ts,{className:"w-4 h-4 mr-2"}),u("exportAlerts")]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(W,{children:"Real-time Monitoring"}),e.jsxs("div",{className:"flex items-center gap-2",children:[o?e.jsx(La,{className:"w-4 h-4 text-green-500"}):e.jsx(Ur,{className:"w-4 h-4 text-gray-500"}),e.jsx(Fs,{checked:o,onCheckedChange:d})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o?"Monitoring system is active":"Monitoring is paused"})]})]})]})]})})]})]})},Jm=()=>{const{user:s}=Os(),t=xs(),a=Hs(),r=[{id:"dashboard",label:"Dashboard",icon:e.jsx(Te,{className:"w-4 h-4"}),onClick:()=>t("/cluster"),isActive:a.pathname==="/cluster"},{id:"digesters",label:"Digester Monitoring",icon:e.jsx(Yt,{className:"w-4 h-4"}),onClick:()=>t("/cluster/digesters"),isActive:a.pathname==="/cluster/digesters"},{id:"batches",label:"Batch Management",icon:e.jsx(Fa,{className:"w-4 h-4"}),onClick:()=>t("/cluster/batches"),isActive:a.pathname==="/cluster/batches"},{id:"disputes",label:"Dispute Resolution",icon:e.jsx(Oi,{className:"w-4 h-4"}),onClick:()=>t("/cluster/disputes"),isActive:a.pathname==="/cluster/disputes"},{id:"payments",label:"Payment Reconciliation",icon:e.jsx(Kt,{className:"w-4 h-4"}),onClick:()=>t("/cluster/payments"),isActive:a.pathname==="/cluster/payments"},{id:"scheduler",label:"Pickup Scheduler",icon:e.jsx(Se,{className:"w-4 h-4"}),onClick:()=>t("/cluster/scheduler"),isActive:a.pathname==="/cluster/scheduler"},{id:"transactions",label:"Transaction Entry",icon:e.jsx(Zt,{className:"w-4 h-4"}),onClick:()=>t("/cluster/transactions"),isActive:a.pathname==="/cluster/transactions"},{id:"alerts",label:"Alerts Management",icon:e.jsx(st,{className:"w-4 h-4"}),onClick:()=>t("/cluster/alerts"),isActive:a.pathname==="/cluster/alerts"}],n=[{label:"SAUBHAGYA",onClick:()=>t("/")},{label:"BiogasSangh Cluster",onClick:()=>t("/cluster")}],i=()=>{const c=a.pathname;return c==="/cluster/digesters"?e.jsx(lc,{}):c==="/cluster/batches"?e.jsx(pc,{}):c==="/cluster/disputes"?e.jsx(yc,{}):c==="/cluster/payments"?e.jsx(bc,{}):c==="/cluster/scheduler"?e.jsx(Lm,{}):c==="/cluster/transactions"?e.jsx($m,{}):c==="/cluster/alerts"?e.jsx(Xm,{}):e.jsx(ec,{})};return e.jsx(ct,{moduleName:"BiogasSangh",moduleSubtitle:"Cluster Management & Operations",navigationItems:r,userInfo:{name:s?.name||"Cluster Manager",role:"CLUSTER_MANAGER"},breadcrumbs:n,contentClassName:"!pt-16 !mt-2",children:i()})},Na=()=>[{id:"cust_001",name:"Green Energy Industries",type:"industrial",contactPerson:"Rajesh Kumar",phone:"+91-9876543210",email:"rajesh@greenenergy.com",address:{street:"123 Industrial Area, Phase 2",city:"Noida",state:"Uttar Pradesh",pincode:"201301",coordinates:{lat:28.5355,lng:77.391}},creditLimit:5e6,creditUsed:125e4,paymentTerms:30,gstNumber:"09ABCDE1234F1Z5",panNumber:"ABCDE1234F",status:"active",registrationDate:new Date("2023-01-15"),lastOrderDate:new Date("2024-09-15"),totalOrders:45,totalRevenue:125e5,riskCategory:"low"},{id:"cust_002",name:"Sunrise Hotel Chain",type:"commercial",contactPerson:"Priya Sharma",phone:"+91-9876543211",email:"priya@sunrisehotels.com",address:{street:"45 MG Road",city:"Bangalore",state:"Karnataka",pincode:"560001",coordinates:{lat:12.9716,lng:77.5946}},creditLimit:1e6,creditUsed:15e4,paymentTerms:15,gstNumber:"29FGHIJ5678K2L6",panNumber:"FGHIJ5678K",status:"active",registrationDate:new Date("2023-03-20"),lastOrderDate:new Date("2024-09-20"),totalOrders:32,totalRevenue:28e5,riskCategory:"low"},{id:"cust_003",name:"Residential Society - Emerald Heights",type:"residential",contactPerson:"Amit Verma",phone:"+91-9876543212",email:"amit@emeraldheights.com",address:{street:"Emerald Heights, Sector 65",city:"Gurgaon",state:"Haryana",pincode:"122018",coordinates:{lat:28.4089,lng:77.0507}},creditLimit:5e5,creditUsed:75e3,paymentTerms:7,status:"active",registrationDate:new Date("2023-06-10"),lastOrderDate:new Date("2024-09-18"),totalOrders:28,totalRevenue:85e4,riskCategory:"medium"}],Nr=()=>[{id:"cont_001",customerId:"cust_001",contractNumber:"SB-2024-001",type:"supply",status:"active",startDate:new Date("2024-01-01"),endDate:new Date("2024-12-31"),gasType:"biogas",quantity:1e4,pricePerUnit:45,totalValue:54e5,paymentTerms:{advancePercentage:20,creditDays:30,penaltyRate:2},deliveryTerms:{location:"Customer Site",frequency:"monthly",transportMode:"pipeline"},version:1,signedDate:new Date("2023-12-15"),signedBy:{customer:{name:"Rajesh Kumar",designation:"CEO",signature:"digital_signature_1"},company:{name:"Saubhagya Representative",designation:"Sales Manager",signature:"digital_signature_2"}},documents:[{id:"doc_001",name:"Supply Agreement.pdf",type:"contract",url:"/documents/supply_agreement_001.pdf",uploadDate:new Date("2023-12-15")}]}],br=()=>[{id:"inv_001",gasType:"biogas",batchNumber:"BG-2024-001",productionDate:new Date("2024-09-15"),quantity:5e3,availableQuantity:3500,unit:"cubic_meters",quality:{methaneContent:65,purity:98.5,pressure:15,temperature:25},location:{plantId:"plant_001",tankId:"tank_A1",coordinates:{lat:28.7041,lng:77.1025}},pesoCompliance:{certificateNumber:"PESO-2024-001",issueDate:new Date("2024-01-15"),expiryDate:new Date("2025-01-15"),status:"valid",inspector:"Dr. Rajesh Gupta"},pricePerUnit:45,reservedQuantity:1500,status:"available"},{id:"inv_002",gasType:"compressed",batchNumber:"CG-2024-005",productionDate:new Date("2024-09-20"),quantity:2e3,availableQuantity:1800,unit:"kg",quality:{methaneContent:95,purity:99.2,pressure:200,temperature:20},location:{plantId:"plant_002",tankId:"tank_B2",coordinates:{lat:28.6139,lng:77.209}},pesoCompliance:{certificateNumber:"PESO-2024-002",issueDate:new Date("2024-02-01"),expiryDate:new Date("2025-02-01"),status:"valid",inspector:"Mr. Suresh Yadav"},pricePerUnit:65,reservedQuantity:200,status:"available"}],ex=()=>[{id:"ord_001",orderNumber:"ORD-2024-001",customerId:"cust_001",contractId:"cont_001",orderDate:new Date("2024-09-15"),requestedDeliveryDate:new Date("2024-09-25"),status:"confirmed",items:[{inventoryId:"inv_001",gasType:"biogas",quantity:1e3,pricePerUnit:45,totalAmount:45e3,batchNumber:"BG-2024-001"}],totalQuantity:1e3,totalAmount:45e3,discountPercentage:5,discountAmount:2250,taxAmount:7695,finalAmount:50445,deliveryAddress:{street:"123 Industrial Area, Phase 2",city:"Noida",state:"Uttar Pradesh",pincode:"201301",coordinates:{lat:28.5355,lng:77.391}},deliveryInstructions:"Delivery during business hours only",invoiceGenerated:!0,invoiceNumber:"INV-2024-001",paymentStatus:"pending",createdBy:"sales_user_001",lastModifiedBy:"sales_user_001",lastModifiedDate:new Date("2024-09-15")}],sx=()=>[{id:"inv_001",invoiceNumber:"INV-2024-001",orderId:"ord_001",customerId:"cust_001",invoiceDate:new Date("2024-09-15"),dueDate:new Date("2024-10-15"),status:"sent",items:[{description:"Biogas Supply - BG-2024-001",quantity:1e3,unit:"cubic meters",pricePerUnit:45,totalAmount:45e3,taxRate:18,taxAmount:8100}],subtotal:45e3,discountAmount:2250,taxAmount:7695,totalAmount:50445,paidAmount:0,balanceAmount:50445,paymentTerms:"Net 30 days",bankDetails:{accountName:"Saubhagya Energy Solutions",accountNumber:"1234567890",ifscCode:"SBIN0001234",bankName:"State Bank of India"},notes:"Payment due within 30 days of invoice date",generatedBy:"manual"}],Ge={async getCustomers(s){const t=Na();return{success:!0,data:t,pagination:{page:1,limit:10,total:t.length,totalPages:1}}},async getCustomerById(s){const a=Na().find(r=>r.id===s);return{success:!!a,data:a,message:a?"Customer found":"Customer not found"}},async createCustomer(s){return{success:!0,data:{...s,id:`cust_${Date.now()}`},message:"Customer created successfully"}},async updateCustomer(s,t){const r=Na().find(i=>i.id===s);return r?{success:!0,data:{...r,...t},message:"Customer updated successfully"}:{success:!1,data:null,message:"Customer not found"}},async getContracts(){const s=Nr();return{success:!0,data:s,pagination:{page:1,limit:10,total:s.length,totalPages:1}}},async getContractById(s){const a=Nr().find(r=>r.id===s);return{success:!!a,data:a,message:a?"Contract found":"Contract not found"}},async createContract(s){return{success:!0,data:{...s,id:`cont_${Date.now()}`},message:"Contract created successfully"}},async getInventory(s){const t=br();return{success:!0,data:t,pagination:{page:1,limit:10,total:t.length,totalPages:1}}},async updateInventoryItem(s,t){const r=br().find(i=>i.id===s);return r?{success:!0,data:{...r,...t},message:"Inventory item updated successfully"}:{success:!1,data:null,message:"Inventory item not found"}},async getOrders(s){const t=ex();return{success:!0,data:t,pagination:{page:1,limit:10,total:t.length,totalPages:1}}},async createOrder(s){return{success:!0,data:{...s,id:`ord_${Date.now()}`,orderNumber:`ORD-${new Date().getFullYear()}-${Date.now().toString().slice(-6)}`},message:"Order created successfully"}},async getInvoices(){const s=sx();return{success:!0,data:s,pagination:{page:1,limit:10,total:s.length,totalPages:1}}},async generateInvoice(s){return{success:!0,data:{id:`inv_${Date.now()}`,invoiceNumber:`INV-${new Date().getFullYear()}-${Date.now().toString().slice(-6)}`,orderId:s,customerId:"cust_001",invoiceDate:new Date,dueDate:new Date(Date.now()+2592e6),status:"draft",items:[],subtotal:0,discountAmount:0,taxAmount:0,totalAmount:0,paidAmount:0,balanceAmount:0,paymentTerms:"Net 30 days",bankDetails:{accountName:"Saubhagya Energy Solutions",accountNumber:"1234567890",ifscCode:"SBIN0001234",bankName:"State Bank of India"},generatedBy:"manual"},message:"Invoice generated successfully"}},async startVoiceSession(s){return{success:!0,data:{id:`voice_${Date.now()}`,sessionId:`session_${Date.now()}`,startTime:new Date,language:s,transcription:"",confidence:0,extractedData:{items:[]},status:"recording",validationErrors:[]},message:"Voice session started"}},async processVoiceData(s,t){return{success:!0,data:{id:s,sessionId:s,startTime:new Date(Date.now()-6e4),endTime:new Date,language:"hindi",transcription:"ग्रीन एनर्जी इंडस्ट्रीज के लिए एक हजार क्यूबिक मीटर बायो गैस, पैंतालीस रुपए प्रति यूनिट",confidence:.85,extractedData:{customerName:"Green Energy Industries",customerId:"cust_001",items:[{description:"Biogas",quantity:1e3,unit:"cubic meters",pricePerUnit:45}],totalAmount:45e3},status:"completed",validationErrors:[]},message:"Voice data processed successfully"}},async getPayments(){return{success:!0,data:[],pagination:{page:1,limit:10,total:0,totalPages:0}}},async getDeliveries(){return{success:!0,data:[],pagination:{page:1,limit:10,total:0,totalPages:0}}},async getPriceData(){return{success:!0,data:[],message:"Price data retrieved successfully"}},async getComplianceRecords(){return{success:!0,data:[],pagination:{page:1,limit:10,total:0,totalPages:0}}},async getSalesMetrics(){return{success:!0,data:{totalRevenue:15e6,totalOrders:105,averageOrderValue:142857,totalCustomers:25,activeContracts:8,inventoryValue:25e5,pendingPayments:75e4,deliverySuccess:98.5,customerSatisfaction:4.6,periodComparison:{revenue:{current:15e6,previous:12e6,change:25},orders:{current:105,previous:85,change:23.5},customers:{current:25,previous:20,change:25}}},message:"Metrics retrieved successfully"}}},Lt=({title:s,value:t,change:a,icon:r,description:n,status:i="neutral"})=>{const c=()=>a===void 0?"text-gray-500":a>=0?"text-green-600":"text-red-600",o=()=>a===void 0?null:a>=0?e.jsx(he,{className:"w-4 h-4"}):e.jsx(Vs,{className:"w-4 h-4"});return e.jsxs(b,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:s}),r]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t}),a!==void 0&&e.jsxs("div",{className:`flex items-center space-x-1 text-xs ${c()}`,children:[o(),e.jsxs("span",{children:[Math.abs(a),"% from last month"]})]}),n&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n})]})]})},tx=({order:s})=>{const t=a=>{switch(a){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:s.orderNumber}),e.jsx(L,{className:t(s.status),children:s.status})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[s.items[0]?.gasType," • ",s.totalQuantity.toLocaleString()," units"]}),e.jsx("div",{className:"text-xs text-gray-500",children:s.orderDate.toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold",children:["₹",s.finalAmount.toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Due: ",s.requestedDeliveryDate.toLocaleDateString()]})]})]})},ax=({item:s})=>{const a=(()=>{const r=(s.quantity-s.availableQuantity)/s.quantity*100;return r>80?{color:"text-red-600",level:"Critical"}:r>60?{color:"text-yellow-600",level:"Warning"}:{color:"text-blue-600",level:"Info"}})();return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(le,{className:`w-5 h-5 ${a.color}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.batchNumber}),e.jsxs("div",{className:"text-sm text-gray-600",children:[s.gasType," • Available: ",s.availableQuantity.toLocaleString()," ",s.unit]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["PESO: ",s.pesoCompliance.status]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(L,{className:a.color.includes("red")?"bg-red-100 text-red-800":a.color.includes("yellow")?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:a.level}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["₹",(s.availableQuantity*s.pricePerUnit).toLocaleString()]})]})]})},rx=[{metric:"Delivery Success",current:98.5,target:98},{metric:"Customer Satisfaction",current:87,target:90},{metric:"Order Fulfillment",current:95.2,target:95},{metric:"Payment Collection",current:82,target:95}],nx=[{month:"Jan",value:1850},{month:"Feb",value:2305},{month:"Mar",value:1870},{month:"Apr",value:2450},{month:"May",value:2890},{month:"Jun",value:3140}],ix=[{type:"Biogas",percentage:45,color:"bg-blue-500"},{type:"CBG",percentage:30,color:"bg-green-500"},{type:"Methane",percentage:25,color:"bg-purple-500"}],lx=[{month:"Jan",customers:12},{month:"Feb",customers:18},{month:"Mar",customers:15},{month:"Apr",customers:22},{month:"May",customers:25},{month:"Jun",customers:28}],wr=({data:s,title:t})=>{const a=Math.max(...s.map(r=>r.value||r.customers));return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative h-48 flex items-end justify-between space-x-1 bg-gray-50 p-4 rounded-lg",children:s.map((r,n)=>{const i=r.value||r.customers,c=i/a*80,d=r.value!==void 0?`₹${(i/1e3).toFixed(1)}K`:i.toString();return e.jsxs("div",{className:"flex-1 flex flex-col items-center relative",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-2 absolute -top-6",children:d}),e.jsxs("div",{className:"w-full flex flex-col items-center",children:[e.jsx("div",{className:"w-8 bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-md transition-all duration-300 hover:from-blue-700 hover:to-blue-500 shadow-md border border-blue-300",style:{height:`${Math.max(c,12)}px`,minHeight:"12px"},title:`${r.month}: ${d}`}),e.jsx("span",{className:"text-xs text-gray-600 font-medium mt-2",children:r.month})]})]},n)})}),e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Peak: ",t.includes("Revenue")?`₹${(a/1e3).toFixed(1)}K`:a," • Growth: ",t.includes("Revenue")?"+69.7%":"+133%"," vs Jan"]})]})},cx=({data:s,title:t})=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:t}),e.jsx("div",{className:"space-y-3",children:s.map((a,r)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${a.color}`}),e.jsx("span",{className:"text-gray-600",children:a.type})]}),e.jsxs("span",{className:"font-medium",children:[a.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${a.color} transition-all duration-300`,style:{width:`${a.percentage}%`}})})]},r))})]}),ox=()=>{const[s,t]=h.useState(null),[a,r]=h.useState([]),[n,i]=h.useState([]),[c,o]=h.useState(!0),[d,p]=h.useState(new Date),N=async()=>{o(!0);try{const[f,u,v]=await Promise.all([Ge.getSalesMetrics(),Ge.getOrders(),Ge.getInventory()]);if(f.success&&t(f.data),u.success&&r(u.data.slice(0,5)),v.success){const j=v.data.filter(P=>(P.quantity-P.availableQuantity)/P.quantity*100>60||P.pesoCompliance.status!=="valid");i(j.slice(0,5))}p(new Date)}catch{}finally{o(!1)}};return h.useEffect(()=>{N()},[]),c?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(os,{className:"w-8 h-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading dashboard..."})]}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sales Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Overview of your biogas sales performance and operations"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right text-sm",children:[e.jsx("div",{className:"text-muted-foreground",children:"Last updated"}),e.jsx("div",{className:"font-semibold",children:d.toLocaleTimeString()})]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:N,children:[e.jsx(os,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Lt,{title:"Total Revenue",value:`₹${(s.totalRevenue/1e6).toFixed(1)}M`,change:s.periodComparison.revenue.change,icon:e.jsx(We,{className:"w-5 h-5 text-green-600"}),description:"Monthly revenue growth"}),e.jsx(Lt,{title:"Total Orders",value:s.totalOrders,change:s.periodComparison.orders.change,icon:e.jsx(Oe,{className:"w-5 h-5 text-blue-600"}),description:"Orders processed"}),e.jsx(Lt,{title:"Active Customers",value:s.totalCustomers,change:s.periodComparison.customers.change,icon:e.jsx(Ie,{className:"w-5 h-5 text-purple-600"}),description:"Customer base growth"}),e.jsx(Lt,{title:"Avg Order Value",value:`₹${(s.averageOrderValue/1e3).toFixed(0)}K`,icon:e.jsx(fs,{className:"w-5 h-5 text-orange-600"}),description:"Per order average"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{className:"pb-3",children:e.jsxs(k,{className:"flex items-center space-x-2 text-base",children:[e.jsx(ke,{className:"w-4 h-4 text-indigo-600"}),e.jsx("span",{children:"Performance Metrics"})]})}),e.jsx(w,{className:"space-y-3",children:rx.map(f=>{const u=f.current/f.target*100,v=f.current>=f.target,j=f.current>=f.target*.9;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:f.metric}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[f.current,"% / ",f.target,"%"]}),e.jsx("div",{className:`w-3 h-3 rounded-full flex items-center justify-center text-xs ${v?"bg-green-100 text-green-700":j?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:v?"✓":j?"!":"⚠"})]})]}),e.jsx("div",{className:"relative w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${v?"bg-green-500":j?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(u,100)}%`}})})]},f.metric)})})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"pb-3",children:[e.jsxs(k,{className:"flex items-center space-x-2 text-base",children:[e.jsx(Te,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:"Revenue Trend"})]}),e.jsx(se,{className:"text-xs",children:"6-month revenue performance"})]}),e.jsx(w,{children:e.jsx(wr,{data:nx,title:"Monthly Revenue"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsxs(D,{className:"pb-3",children:[e.jsxs(k,{className:"flex items-center space-x-2 text-base",children:[e.jsx(tt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Gas Type Mix"})]}),e.jsx(se,{className:"text-xs",children:"Distribution by gas type"})]}),e.jsx(w,{children:e.jsx(cx,{data:ix,title:"Gas Types"})})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"pb-3",children:[e.jsxs(k,{className:"flex items-center space-x-2 text-base",children:[e.jsx(ke,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Customer Growth"})]}),e.jsx(se,{className:"text-xs",children:"New customers per month"})]}),e.jsx(w,{children:e.jsx(wr,{data:lx,title:"New Customers"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"w-5 h-5"}),e.jsx("span",{children:"Recent Orders"})]}),e.jsx(se,{children:"Latest order activity"})]}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:a.length>0?a.map(f=>e.jsx(tx,{order:f},f.id)):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No recent orders available"})})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"w-5 h-5"}),e.jsx("span",{children:"Inventory Alerts"})]}),e.jsx(se,{children:"Items requiring attention"})]}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:n.length>0?n.map(f=>e.jsx(ax,{item:f},f.id)):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No inventory alerts at this time"})})})]})]})]})},dx=({customer:s,onEdit:t,onViewDetails:a})=>{const r=o=>{switch(o){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},n=o=>{switch(o){case"commercial":return"bg-blue-100 text-blue-800";case"industrial":return"bg-purple-100 text-purple-800";case"residential":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},i=o=>{switch(o){case"low":return"text-green-600";case"medium":return"text-yellow-600";case"high":return"text-red-600";default:return"text-gray-600"}},c=s.creditUsed/s.creditLimit*100;return e.jsxs(b,{className:"hover:shadow-md transition-shadow",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(k,{className:"text-lg",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:r(s.status),children:s.status}),e.jsx(L,{className:n(s.type),children:s.type})]})]}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(Kr,{className:"w-4 h-4"})})]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Zr,{className:"w-4 h-4 mr-2"}),s.contactPerson]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),s.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Cr,{className:"w-4 h-4 mr-2"}),s.email]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),s.address.city,", ",s.address.state]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Credit Utilization"}),e.jsxs("span",{className:i(s.riskCategory),children:[c.toFixed(1),"%"]})]}),e.jsx(ue,{value:c,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Used: ₹",(s.creditUsed/1e3).toFixed(0),"K"]}),e.jsxs("span",{children:["Limit: ₹",(s.creditLimit/1e3).toFixed(0),"K"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold",children:s.totalOrders}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Orders"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold",children:["₹",(s.totalRevenue/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Revenue"})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsx(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>a(s),children:"View Details"}),e.jsxs(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>t(s),children:[e.jsx(ps,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})]})},mx=({customer:s,onSave:t,onCancel:a})=>{const[r,n]=h.useState(s||{name:"",type:"commercial",contactPerson:"",phone:"",email:"",address:{street:"",city:"",state:"",pincode:""},creditLimit:0,paymentTerms:30,gstNumber:"",panNumber:"",status:"active"}),i=c=>{c.preventDefault(),t(r)};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"name",children:"Company/Customer Name"}),e.jsx(ee,{id:"name",value:r.name,onChange:c=>n({...r,name:c.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"type",children:"Customer Type"}),e.jsxs(ve,{value:r.type,onValueChange:c=>n({...r,type:c}),children:[e.jsx(je,{children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"commercial",children:"Commercial"}),e.jsx(B,{value:"industrial",children:"Industrial"}),e.jsx(B,{value:"residential",children:"Residential"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"contactPerson",children:"Contact Person"}),e.jsx(ee,{id:"contactPerson",value:r.contactPerson,onChange:c=>n({...r,contactPerson:c.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"phone",children:"Phone Number"}),e.jsx(ee,{id:"phone",value:r.phone,onChange:c=>n({...r,phone:c.target.value}),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"email",children:"Email Address"}),e.jsx(ee,{id:"email",type:"email",value:r.email,onChange:c=>n({...r,email:c.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"street",children:"Street Address"}),e.jsx(dt,{id:"street",value:r.address?.street,onChange:c=>n({...r,address:{...r.address,street:c.target.value}}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"city",children:"City"}),e.jsx(ee,{id:"city",value:r.address?.city,onChange:c=>n({...r,address:{...r.address,city:c.target.value}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"state",children:"State"}),e.jsx(ee,{id:"state",value:r.address?.state,onChange:c=>n({...r,address:{...r.address,state:c.target.value}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"pincode",children:"PIN Code"}),e.jsx(ee,{id:"pincode",value:r.address?.pincode,onChange:c=>n({...r,address:{...r.address,pincode:c.target.value}}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"creditLimit",children:"Credit Limit (₹)"}),e.jsx(ee,{id:"creditLimit",type:"number",value:r.creditLimit,onChange:c=>n({...r,creditLimit:Number(c.target.value)}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"paymentTerms",children:"Payment Terms (Days)"}),e.jsx(ee,{id:"paymentTerms",type:"number",value:r.paymentTerms,onChange:c=>n({...r,paymentTerms:Number(c.target.value)}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"gstNumber",children:"GST Number (Optional)"}),e.jsx(ee,{id:"gstNumber",value:r.gstNumber,onChange:c=>n({...r,gstNumber:c.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"panNumber",children:"PAN Number (Optional)"}),e.jsx(ee,{id:"panNumber",value:r.panNumber,onChange:c=>n({...r,panNumber:c.target.value})})]})]}),e.jsxs(zs,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),e.jsx(O,{type:"submit",children:s?"Update Customer":"Create Customer"})]})]})},xx=()=>{const[s,t]=h.useState([]),[a,r]=h.useState([]),[n,i]=h.useState(!0),[c,o]=h.useState(""),[d,p]=h.useState({}),[N,f]=h.useState(null),[u,v]=h.useState(!1),[j,P]=h.useState(!1),A=async()=>{i(!0);try{const m=await Ge.getCustomers(d);m.success&&(t(m.data),r(m.data))}catch{}finally{i(!1)}};h.useEffect(()=>{A()},[d]),h.useEffect(()=>{const m=s.filter(R=>R.name.toLowerCase().includes(c.toLowerCase())||R.contactPerson.toLowerCase().includes(c.toLowerCase())||R.email.toLowerCase().includes(c.toLowerCase())||R.phone.includes(c));r(m)},[s,c]);const C=()=>{f(null),v(!0)},y=m=>{f(m),v(!0)},S=m=>{f(m),P(!0)},T=async m=>{try{N?await Ge.updateCustomer(N.id,m):await Ge.createCustomer(m),v(!1),A()}catch{}},l=(()=>{const m=s.length,R=s.filter(M=>M.status==="active").length,x=s.filter(M=>M.riskCategory==="high").length,E=s.reduce((M,$)=>M+$.totalRevenue,0);return{total:m,active:R,highRisk:x,totalRevenue:E}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Customer Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage customer profiles, credit limits, and relationships"})]}),e.jsxs(O,{onClick:C,children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ie,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold",children:l.total})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Customers"}),e.jsx("p",{className:"text-2xl font-bold",children:l.active})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"High Risk"}),e.jsx("p",{className:"text-2xl font-bold",children:l.highRisk})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Kt,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",(l.totalRevenue/1e6).toFixed(1),"M"]})]})]})})})]}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ms,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search customers by name, contact, email, or phone...",value:c,onChange:m=>o(m.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ve,{value:d.status?.[0]||"all",onValueChange:m=>p({...d,status:m==="all"?void 0:[m]}),children:[e.jsx(je,{className:"w-40",children:e.jsx(ye,{placeholder:"Status"})}),e.jsxs(fe,{children:[e.jsx(B,{value:"all",children:"All Status"}),e.jsx(B,{value:"active",children:"Active"}),e.jsx(B,{value:"inactive",children:"Inactive"}),e.jsx(B,{value:"suspended",children:"Suspended"})]})]}),e.jsxs(ve,{value:d.type?.[0]||"all",onValueChange:m=>p({...d,type:m==="all"?void 0:[m]}),children:[e.jsx(je,{className:"w-40",children:e.jsx(ye,{placeholder:"Type"})}),e.jsxs(fe,{children:[e.jsx(B,{value:"all",children:"All Types"}),e.jsx(B,{value:"commercial",children:"Commercial"}),e.jsx(B,{value:"industrial",children:"Industrial"}),e.jsx(B,{value:"residential",children:"Residential"})]})]}),e.jsxs(O,{variant:"outline",children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"More Filters"]})]})]})})}),n?e.jsx("div",{className:"text-center py-8",children:"Loading customers..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(m=>e.jsx(dx,{customer:m,onEdit:y,onViewDetails:S},m.id))}),e.jsx(gs,{open:u,onOpenChange:v,children:e.jsxs(ns,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(is,{children:[e.jsx(ls,{children:N?"Edit Customer":"Add New Customer"}),e.jsx(cs,{children:N?"Update customer information and settings.":"Create a new customer profile with contact and credit information."})]}),e.jsx(mx,{customer:N||void 0,onSave:T,onCancel:()=>v(!1)})]})}),e.jsx(gs,{open:j,onOpenChange:P,children:e.jsxs(ns,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(is,{children:[e.jsx(ls,{children:N?.name}),e.jsx(cs,{children:"Complete customer profile and history"})]}),N&&e.jsxs($e,{defaultValue:"profile",className:"w-full",children:[e.jsxs(Ve,{children:[e.jsx(X,{value:"profile",children:"Profile"}),e.jsx(X,{value:"orders",children:"Orders"}),e.jsx(X,{value:"payments",children:"Payments"}),e.jsx(X,{value:"analytics",children:"Analytics"})]}),e.jsx(Y,{value:"profile",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{className:"text-sm",children:"Contact Information"})}),e.jsxs(w,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Person:"})," ",N.contactPerson]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Phone:"})," ",N.phone]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",N.email]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Address:"})," ",N.address.street,", ",N.address.city]})]})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{className:"text-sm",children:"Business Information"})}),e.jsxs(w,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",N.type]}),e.jsxs("div",{children:[e.jsx("strong",{children:"GST Number:"})," ",N.gstNumber||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"PAN Number:"})," ",N.panNumber||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Registration Date:"})," ",N.registrationDate.toLocaleDateString()]})]})]})]})}),e.jsx(Y,{value:"orders",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Order History"})}),e.jsx(w,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Order history will be displayed here"})})]})}),e.jsx(Y,{value:"payments",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Payment History"})}),e.jsx(w,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Payment history will be displayed here"})})]})}),e.jsx(Y,{value:"analytics",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Customer Analytics"})}),e.jsx(w,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Customer analytics will be displayed here"})})]})})]})]})})]})},ux=({contract:s,customer:t,onEdit:a,onView:r,onSign:n})=>{const i=N=>{switch(N){case"active":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"expired":return"bg-red-100 text-red-800";case"terminated":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},c=N=>{switch(N){case"supply":return"bg-blue-100 text-blue-800";case"bulk":return"bg-purple-100 text-purple-800";case"subscription":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},d=(()=>{const N=new Date,u=new Date(s.endDate).getTime()-N.getTime();return Math.ceil(u/(1e3*60*60*24))})(),p=(()=>{const N=new Date(s.startDate).getTime(),f=new Date(s.endDate).getTime(),u=new Date().getTime(),v=f-N,j=u-N;return Math.min(Math.max(j/v*100,0),100)})();return e.jsxs(b,{className:"hover:shadow-md transition-shadow",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(k,{className:"text-lg",children:s.contractNumber}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:i(s.status),children:s.status}),e.jsx(L,{className:c(s.type),children:s.type}),s.version>1&&e.jsxs(L,{variant:"outline",children:["v",s.version]})]})]}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(Kr,{className:"w-4 h-4"})})]})}),e.jsxs(w,{className:"space-y-4",children:[t&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),t.name]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(fs,{className:"w-4 h-4 mr-1"}),s.gasType]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(We,{className:"w-4 h-4 mr-1"}),"₹",s.pricePerUnit,"/unit"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(hs,{className:"w-4 h-4 mr-1"}),s.deliveryTerms.frequency]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),d>0?`${d} days left`:"Expired"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Contract Progress"}),e.jsxs("span",{children:[p.toFixed(0),"%"]})]}),e.jsx(ue,{value:p,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Start: ",new Date(s.startDate).toLocaleDateString()]}),e.jsxs("span",{children:["End: ",new Date(s.endDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t text-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-semibold",children:["₹",(s.totalValue/1e6).toFixed(1),"M"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Value"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:s.quantity.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-500",children:"Quantity/Month"})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsxs(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>r(s),children:[e.jsx(ds,{className:"w-4 h-4 mr-1"}),"View"]}),s.status==="draft"&&e.jsxs(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>n(s),children:[e.jsx(Ft,{className:"w-4 h-4 mr-1"}),"Sign"]}),e.jsxs(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>a(s),children:[e.jsx(ps,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})]})},hx=({contract:s,customers:t,onSave:a,onCancel:r})=>{const[n,i]=h.useState(s||{customerId:"",contractNumber:`SB-${new Date().getFullYear()}-${Date.now().toString().slice(-6)}`,type:"supply",status:"draft",startDate:new Date,endDate:new Date(Date.now()+31536e6),gasType:"biogas",quantity:0,pricePerUnit:0,paymentTerms:{advancePercentage:20,creditDays:30,penaltyRate:2},deliveryTerms:{location:"",frequency:"monthly",transportMode:"pipeline"},version:1,documents:[]}),c=()=>(n.quantity||0)*(n.pricePerUnit||0)*12,o=d=>{d.preventDefault();const p={...n,totalValue:c()};a(p)};return e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"contractNumber",children:"Contract Number"}),e.jsx(ee,{id:"contractNumber",value:n.contractNumber,onChange:d=>i({...n,contractNumber:d.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"customerId",children:"Customer"}),e.jsxs(ve,{value:n.customerId,onValueChange:d=>i({...n,customerId:d}),children:[e.jsx(je,{children:e.jsx(ye,{placeholder:"Select customer"})}),e.jsx(fe,{children:t.map(d=>e.jsx(B,{value:d.id,children:d.name},d.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"type",children:"Contract Type"}),e.jsxs(ve,{value:n.type,onValueChange:d=>i({...n,type:d}),children:[e.jsx(je,{children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"supply",children:"Supply Agreement"}),e.jsx(B,{value:"bulk",children:"Bulk Purchase"}),e.jsx(B,{value:"subscription",children:"Subscription"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"gasType",children:"Gas Type"}),e.jsxs(ve,{value:n.gasType,onValueChange:d=>i({...n,gasType:d}),children:[e.jsx(je,{children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"biogas",children:"Biogas"}),e.jsx(B,{value:"compressed",children:"Compressed Gas"}),e.jsx(B,{value:"liquefied",children:"Liquefied Gas"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"startDate",children:"Start Date"}),e.jsx(ee,{id:"startDate",type:"date",value:n.startDate?.toISOString().split("T")[0],onChange:d=>i({...n,startDate:new Date(d.target.value)}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"endDate",children:"End Date"}),e.jsx(ee,{id:"endDate",type:"date",value:n.endDate?.toISOString().split("T")[0],onChange:d=>i({...n,endDate:new Date(d.target.value)}),required:!0})]})]})]}),e.jsx(Js,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Commercial Terms"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"quantity",children:"Monthly Quantity"}),e.jsx(ee,{id:"quantity",type:"number",value:n.quantity,onChange:d=>i({...n,quantity:Number(d.target.value)}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"pricePerUnit",children:"Price per Unit (₹)"}),e.jsx(ee,{id:"pricePerUnit",type:"number",step:"0.01",value:n.pricePerUnit,onChange:d=>i({...n,pricePerUnit:Number(d.target.value)}),required:!0})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Annual Value"}),e.jsxs("div",{className:"text-2xl font-bold",children:["₹",c().toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"advancePercentage",children:"Advance Percentage (%)"}),e.jsx(ee,{id:"advancePercentage",type:"number",value:n.paymentTerms?.advancePercentage,onChange:d=>i({...n,paymentTerms:{...n.paymentTerms,advancePercentage:Number(d.target.value)}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"creditDays",children:"Credit Days"}),e.jsx(ee,{id:"creditDays",type:"number",value:n.paymentTerms?.creditDays,onChange:d=>i({...n,paymentTerms:{...n.paymentTerms,creditDays:Number(d.target.value)}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"penaltyRate",children:"Penalty Rate (%)"}),e.jsx(ee,{id:"penaltyRate",type:"number",step:"0.1",value:n.paymentTerms?.penaltyRate,onChange:d=>i({...n,paymentTerms:{...n.paymentTerms,penaltyRate:Number(d.target.value)}}),required:!0})]})]})]}),e.jsx(Js,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Terms"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"deliveryLocation",children:"Delivery Location"}),e.jsx(dt,{id:"deliveryLocation",value:n.deliveryTerms?.location,onChange:d=>i({...n,deliveryTerms:{...n.deliveryTerms,location:d.target.value}}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"frequency",children:"Delivery Frequency"}),e.jsxs(ve,{value:n.deliveryTerms?.frequency,onValueChange:d=>i({...n,deliveryTerms:{...n.deliveryTerms,frequency:d}}),children:[e.jsx(je,{children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"daily",children:"Daily"}),e.jsx(B,{value:"weekly",children:"Weekly"}),e.jsx(B,{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"transportMode",children:"Transport Mode"}),e.jsxs(ve,{value:n.deliveryTerms?.transportMode,onValueChange:d=>i({...n,deliveryTerms:{...n.deliveryTerms,transportMode:d}}),children:[e.jsx(je,{children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"pipeline",children:"Pipeline"}),e.jsx(B,{value:"cylinder",children:"Cylinder"}),e.jsx(B,{value:"tanker",children:"Tanker"})]})]})]})]})]}),e.jsxs(zs,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),e.jsx(O,{type:"submit",children:s?"Update Contract":"Create Contract"})]})]})},gx=()=>{const[s,t]=h.useState([]),[a,r]=h.useState([]),[n,i]=h.useState(!0),[c,o]=h.useState(null),[d,p]=h.useState(!1),[N,f]=h.useState(!1),[u,v]=h.useState(!1),j=async()=>{i(!0);try{const[m,R]=await Promise.all([Ge.getContracts(),Ge.getCustomers()]);m.success&&t(m.data),R.success&&r(R.data)}catch{}finally{i(!1)}};h.useEffect(()=>{j()},[]);const P=()=>{o(null),p(!0)},A=m=>{o(m),p(!0)},C=m=>{o(m),f(!0)},y=m=>{o(m),v(!0)},S=async m=>{try{if(c){const R={...c,...m,version:c.version+1,parentContractId:c.id,id:`cont_${Date.now()}`};await Ge.createContract(R)}else await Ge.createContract(m);p(!1),j()}catch{}},T=m=>a.find(R=>R.id===m),l=(()=>{const m=s.length,R=s.filter($=>$.status==="active").length,x=s.filter($=>$.status==="draft").length,E=s.filter($=>{const G=Math.ceil((new Date($.endDate).getTime()-new Date().getTime())/864e5);return G<=30&&G>0}).length,M=s.filter($=>$.status==="active").reduce(($,G)=>$+G.totalValue,0);return{total:m,active:R,draft:x,expiringSoon:E,totalValue:M}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Contract Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage supply contracts, agreements, and e-signatures"})]}),e.jsxs(O,{onClick:P,children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"New Contract"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Contracts"}),e.jsx("p",{className:"text-2xl font-bold",children:l.total})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold",children:l.active})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ps,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Draft"}),e.jsx("p",{className:"text-2xl font-bold",children:l.draft})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiring Soon"}),e.jsx("p",{className:"text-2xl font-bold",children:l.expiringSoon})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",(l.totalValue/1e6).toFixed(1),"M"]})]})]})})})]}),n?e.jsx("div",{className:"text-center py-8",children:"Loading contracts..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(m=>e.jsx(ux,{contract:m,customer:T(m.customerId),onEdit:A,onView:C,onSign:y},m.id))}),e.jsx(gs,{open:d,onOpenChange:p,children:e.jsxs(ns,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(is,{children:[e.jsx(ls,{children:c?"Edit Contract (New Version)":"Create New Contract"}),e.jsx(cs,{children:c?"Creating a new version will preserve the original contract history.":"Create a new supply contract with detailed terms and conditions."})]}),e.jsx(hx,{contract:c||void 0,customers:a,onSave:S,onCancel:()=>p(!1)})]})}),e.jsx(gs,{open:N,onOpenChange:f,children:e.jsxs(ns,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(is,{children:[e.jsx(ls,{children:c?.contractNumber}),e.jsx(cs,{children:"Complete contract details and documentation"})]}),c&&e.jsxs($e,{defaultValue:"details",className:"w-full",children:[e.jsxs(Ve,{children:[e.jsx(X,{value:"details",children:"Details"}),e.jsx(X,{value:"terms",children:"Terms"}),e.jsx(X,{value:"documents",children:"Documents"}),e.jsx(X,{value:"history",children:"History"})]}),e.jsx(Y,{value:"details",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{className:"text-sm",children:"Contract Information"})}),e.jsxs(w,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",c.type]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",c.status]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Version:"})," ",c.version]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Gas Type:"})," ",c.gasType]})]})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{className:"text-sm",children:"Commercial Terms"})}),e.jsxs(w,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Monthly Quantity:"})," ",c.quantity.toLocaleString()]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Price per Unit:"})," ₹",c.pricePerUnit]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Total Value:"})," ₹",c.totalValue.toLocaleString()]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Payment Terms:"})," ",c.paymentTerms.creditDays," days"]})]})]})]})}),e.jsx(Y,{value:"terms",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Terms and Conditions"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Payment Terms"}),e.jsxs("p",{children:["Advance: ",c.paymentTerms.advancePercentage,"%"]}),e.jsxs("p",{children:["Credit Period: ",c.paymentTerms.creditDays," days"]}),e.jsxs("p",{children:["Penalty Rate: ",c.paymentTerms.penaltyRate,"% per month"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Delivery Terms"}),e.jsxs("p",{children:["Location: ",c.deliveryTerms.location]}),e.jsxs("p",{children:["Frequency: ",c.deliveryTerms.frequency]}),e.jsxs("p",{children:["Transport Mode: ",c.deliveryTerms.transportMode]})]})]})})]})}),e.jsx(Y,{value:"documents",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Contract Documents"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[c.documents.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:m.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Uploaded: ",m.uploadDate.toLocaleDateString()]})]}),e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(Re,{className:"w-4 h-4 mr-1"}),"Download"]})]},m.id)),e.jsxs(O,{variant:"outline",className:"w-full",children:[e.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Upload Document"]})]})})]})}),e.jsx(Y,{value:"history",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Contract History"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-l-4 border-green-500 bg-green-50",children:[e.jsx(de,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Contract Created"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Version ",c.version," • ",c.startDate.toLocaleDateString()]})]})]}),c.signedDate&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-l-4 border-blue-500 bg-blue-50",children:[e.jsx(Ft,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Contract Signed"}),e.jsx("div",{className:"text-sm text-gray-500",children:c.signedDate.toLocaleDateString()})]})]})]})})]})})]})]})}),e.jsx(gs,{open:u,onOpenChange:v,children:e.jsxs(ns,{className:"max-w-2xl",children:[e.jsxs(is,{children:[e.jsx(ls,{children:"E-Signature Interface"}),e.jsx(cs,{children:"Sign the contract electronically to activate the agreement"})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Ft,{className:"w-16 h-16 mx-auto text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Digital Signature Required"}),e.jsx("p",{className:"text-gray-600",children:"This contract requires digital signatures from both parties to become active."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(O,{className:"w-full",children:[e.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Sign with Digital Certificate"]}),e.jsxs(O,{variant:"outline",className:"w-full",children:[e.jsx(Li,{className:"w-4 h-4 mr-2"}),"Send for Customer Signature"]})]})]})})})})]})})]})},px=({item:s})=>{const t=i=>{switch(i){case"available":return"bg-green-100 text-green-800";case"reserved":return"bg-yellow-100 text-yellow-800";case"sold":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=s.availableQuantity/s.quantity*100,r=a<20,n=new Date(s.pesoCompliance.expiryDate)<new Date(Date.now()+30*24*60*60*1e3);return e.jsxs(b,{className:"hover:shadow-md transition-shadow",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(k,{className:"text-lg",children:s.batchNumber}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:t(s.status),children:s.status}),e.jsx(L,{variant:"outline",children:s.gasType}),n&&e.jsx(L,{className:"bg-orange-100 text-orange-800",children:"PESO Expiring"})]})]})})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Available"}),e.jsxs("div",{className:"font-semibold",children:[s.availableQuantity.toLocaleString()," ",s.unit]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Total"}),e.jsxs("div",{className:"font-semibold",children:[s.quantity.toLocaleString()," ",s.unit]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Availability"}),e.jsxs("span",{className:r?"text-red-600":"text-green-600",children:[a.toFixed(1),"%"]})]}),e.jsx(ue,{value:a,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"PESO: ",s.pesoCompliance.status," (Exp: ",new Date(s.pesoCompliance.expiryDate).toLocaleDateString(),")"]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),s.location.plantId," - ",s.location.tankId]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Produced: ",new Date(s.productionDate).toLocaleDateString()]})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Value"}),e.jsxs("span",{className:"font-semibold",children:["₹",(s.availableQuantity*s.pricePerUnit).toLocaleString()]})]})})]})]})},jx=()=>{const[s,t]=h.useState([]),[a,r]=h.useState([]),[n,i]=h.useState(!0),[c,o]=h.useState(""),[d,p]=h.useState({});h.useEffect(()=>{(async()=>{try{const v=await Ge.getInventory(d);v.success&&(t(v.data),r(v.data))}catch{}finally{i(!1)}})()},[d]),h.useEffect(()=>{const u=s.filter(v=>v.batchNumber.toLowerCase().includes(c.toLowerCase())||v.gasType.toLowerCase().includes(c.toLowerCase())||v.location.plantId.toLowerCase().includes(c.toLowerCase()));r(u)},[s,c]);const f=(()=>{const u=s.length,v=s.reduce((A,C)=>A+C.availableQuantity*C.pricePerUnit,0),j=s.filter(A=>A.availableQuantity/A.quantity<.2).length,P=s.filter(A=>new Date(A.pesoCompliance.expiryDate)<new Date(Date.now()+30*24*60*60*1e3)).length;return{totalItems:u,totalValue:v,lowStockItems:j,pesoExpiringItems:P}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Inventory Management"}),e.jsx("p",{className:"text-gray-600",children:"Monitor gas inventory, batches, and PESO compliance"})]}),e.jsxs(O,{children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Add Batch"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fs,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold",children:f.totalItems})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inventory Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",(f.totalValue/1e6).toFixed(1),"M"]})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-bold",children:f.lowStockItems})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"PESO Expiring"}),e.jsx("p",{className:"text-2xl font-bold",children:f.pesoExpiringItems})]})]})})})]}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ms,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search by batch number, gas type, or location...",value:c,onChange:u=>o(u.target.value),className:"pl-10"})]}),e.jsxs(O,{variant:"outline",children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Filters"]})]})})}),e.jsxs($e,{defaultValue:"grid",className:"w-full",children:[e.jsxs(Ve,{children:[e.jsx(X,{value:"grid",children:"Grid View"}),e.jsx(X,{value:"table",children:"Table View"}),e.jsx(X,{value:"alerts",children:"Alerts"})]}),e.jsx(Y,{value:"grid",className:"space-y-6",children:n?e.jsx("div",{className:"text-center py-8",children:"Loading inventory..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(u=>e.jsx(px,{item:u},u.id))})}),e.jsx(Y,{value:"table",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:"Inventory Table"}),e.jsx(se,{children:"Detailed inventory listing"})]}),e.jsx(w,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Table view will be implemented here"})})]})}),e.jsx(Y,{value:"alerts",children:e.jsx("div",{className:"space-y-4",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(le,{className:"w-5 h-5 mr-2 text-red-600"}),"Critical Alerts"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:s.filter(u=>u.availableQuantity/u.quantity<.1).map(u=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded bg-red-50",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:u.batchNumber}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Critical low stock: ",u.availableQuantity," ",u.unit," remaining"]})]}),e.jsx(L,{className:"bg-red-100 text-red-800",children:"Critical"})]},u.id))})})]})})})]})]})},fx=({order:s})=>{const t=a=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-purple-100 text-purple-800",ready:"bg-green-100 text-green-800",dispatched:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs(b,{className:"hover:shadow-md transition-shadow",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold",children:s.orderNumber}),e.jsx(L,{className:t(s.status),children:s.status})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Order Date: ",s.orderDate.toLocaleDateString()]})]})})}),e.jsxs(w,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Quantity"}),e.jsxs("div",{className:"font-semibold",children:[s.totalQuantity.toLocaleString()," units"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Amount"}),e.jsxs("div",{className:"font-semibold",children:["₹",s.finalAmount.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),"Delivery: ",s.requestedDeliveryDate.toLocaleDateString()]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsxs(O,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(ds,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs(O,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(ps,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})]})},vx=()=>{const[s,t]=h.useState([]),[a,r]=h.useState([]),[n,i]=h.useState(!0),[c,o]=h.useState("");h.useEffect(()=>{(async()=>{try{const N=await Ge.getOrders();N.success&&(t(N.data),r(N.data))}catch{}finally{i(!1)}})()},[]);const d={total:s.length,pending:s.filter(p=>p.status==="pending").length,confirmed:s.filter(p=>p.status==="confirmed").length,totalValue:s.reduce((p,N)=>p+N.finalAmount,0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Order & Invoice Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage orders and generate invoices"})]}),e.jsxs(O,{children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"New Order"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold",children:d.total})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fs,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold",children:d.pending})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmed"}),e.jsx("p",{className:"text-2xl font-bold",children:d.confirmed})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",(d.totalValue/1e6).toFixed(1),"M"]})]})]})})})]}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ms,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search orders...",value:c,onChange:p=>o(p.target.value),className:"pl-10"})]}),e.jsxs(ve,{children:[e.jsx(je,{className:"w-40",children:e.jsx(ye,{placeholder:"Status"})}),e.jsxs(fe,{children:[e.jsx(B,{value:"all",children:"All Status"}),e.jsx(B,{value:"pending",children:"Pending"}),e.jsx(B,{value:"confirmed",children:"Confirmed"}),e.jsx(B,{value:"delivered",children:"Delivered"})]})]})]})})}),n?e.jsx("div",{className:"text-center py-8",children:"Loading orders..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(p=>e.jsx(fx,{order:p},p.id))})]})},yx=()=>{const[s,t]=h.useState(!1),[a,r]=h.useState("hindi"),[n,i]=h.useState(null),[c,o]=h.useState(""),[d,p]=h.useState(0),N=async()=>{try{const v=await Ge.startVoiceSession(a);v.success&&(i(v.data),t(!0),setTimeout(()=>{f()},5e3))}catch{}},f=async()=>{if(t(!1),n){const v=await Ge.processVoiceData(n.sessionId,"mock-audio-data");v.success&&(i(v.data),o(v.data.transcription),p(v.data.confidence*100))}},u=async()=>{n?.extractedData.customerId};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Voice Invoicing"}),e.jsx("p",{className:"text-gray-600",children:"Create invoices using voice commands in Hindi or English"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center",children:[e.jsx(Ks,{className:"w-5 h-5 mr-2"}),"Voice Input"]}),e.jsx(se,{children:"Record voice commands to create invoices"})]}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Language"}),e.jsxs(ve,{value:a,onValueChange:v=>r(v),children:[e.jsx(je,{children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"hindi",children:"हिंदी (Hindi)"}),e.jsx(B,{value:"english",children:"English"})]})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:`w-32 h-32 mx-auto rounded-full flex items-center justify-center ${s?"bg-red-100 animate-pulse":"bg-gray-100"}`,children:s?e.jsx(Xr,{className:"w-16 h-16 text-red-600"}):e.jsx(Ks,{className:"w-16 h-16 text-gray-600"})}),e.jsx("div",{className:"space-y-2",children:s?e.jsxs(O,{onClick:f,variant:"destructive",className:"w-full",children:[e.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Stop Recording"]}):e.jsxs(O,{onClick:N,className:"w-full",children:[e.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Start Recording"]})}),s&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Recording in progress..."}),e.jsx(ue,{value:75,className:"w-full"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Sample Voice Commands:"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"p-2 bg-blue-50 rounded",children:[e.jsx("strong",{children:"Hindi:"}),' "ग्रीन एनर्जी इंडस्ट्रीज के लिए एक हजार क्यूबिक मीटर बायो गैस, पैंतालीस रुपए प्रति यूनिट"']}),e.jsxs("div",{className:"p-2 bg-green-50 rounded",children:[e.jsx("strong",{children:"English:"}),' "Create invoice for Green Energy Industries, one thousand cubic meters biogas at forty-five rupees per unit"']})]})]})]})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center",children:[e.jsx(Jr,{className:"w-5 h-5 mr-2"}),"Transcription & Processing"]}),e.jsx(se,{children:"Voice-to-text conversion and data extraction"})]}),e.jsxs(w,{className:"space-y-6",children:[c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Transcription"}),e.jsx(dt,{value:c,readOnly:!0,className:"mt-1",rows:3}),e.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Confidence:"}),e.jsx(ue,{value:d,className:"flex-1 max-w-32"}),e.jsxs("span",{className:"text-sm font-medium",children:[d.toFixed(1),"%"]})]})]}),n?.extractedData&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Extracted Information:"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[n.extractedData.customerName&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Customer:"}),e.jsx("span",{className:"font-medium",children:n.extractedData.customerName})]}),n.extractedData.items.map((v,j)=>e.jsxs("div",{className:"p-2 border rounded",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Item:"}),e.jsx("span",{className:"font-medium",children:v.description})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quantity:"}),e.jsxs("span",{className:"font-medium",children:[v.quantity," ",v.unit]})]}),v.pricePerUnit&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Price:"}),e.jsxs("span",{className:"font-medium",children:["₹",v.pricePerUnit,"/",v.unit]})]})]},j)),n.extractedData.totalAmount&&e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{children:["₹",n.extractedData.totalAmount.toLocaleString()]})]})]}),n.validationErrors.length===0?e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Data validation successful"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Validation errors found"})]}),e.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:n.validationErrors.map((v,j)=>e.jsxs("li",{children:["• ",v]},j))})]}),e.jsxs(O,{onClick:u,className:"w-full",disabled:n.validationErrors.length>0,children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Generate Invoice"]})]})]}),!c&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Start recording to see transcription and extracted data"})]})]})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(k,{children:"Recent Voice Sessions"}),e.jsx(se,{children:"History of voice invoicing sessions"})]}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Session #001"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Green Energy Industries • ₹45,000 • Hindi"}),e.jsx("div",{className:"text-xs text-gray-500",children:"2 minutes ago"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"bg-green-100 text-green-800",children:"Completed"}),e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(La,{className:"w-4 h-4 mr-1"}),"Replay"]})]})]})})})]})]})},Nx=()=>{const[s,t]=h.useState([]),[a,r]=h.useState(!0);h.useEffect(()=>{(async()=>{try{const o=await Ge.getPayments();o.success&&t(o.data)}catch{}finally{r(!1)}})()},[]);const n=[{id:"1",amount:50445,status:"confirmed",method:"bank_transfer",date:new Date,customer:"Green Energy Industries"},{id:"2",amount:25e3,status:"pending",method:"cheque",date:new Date,customer:"Sunrise Hotels"},{id:"3",amount:75e3,status:"failed",method:"upi",date:new Date,customer:"Emerald Heights"}],i=c=>({confirmed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",refunded:"bg-blue-100 text-blue-800"})[c]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Payment Tracking"}),e.jsx("p",{className:"text-gray-600",children:"Monitor payments and reconciliation"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Received"}),e.jsx("p",{className:"text-2xl font-bold",children:"₹2.4M"})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold",children:"₹150K"})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),e.jsx("p",{className:"text-2xl font-bold",children:"₹75K"})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Collection Rate"}),e.jsx("p",{className:"text-2xl font-bold",children:"94%"})]})]})})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Recent Payments"})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:n.map(c=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:c.customer}),e.jsxs("div",{className:"text-sm text-gray-600",children:[c.method," • ",c.date.toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsxs("div",{className:"font-semibold",children:["₹",c.amount.toLocaleString()]}),e.jsx(L,{className:i(c.status),children:c.status})]})]},c.id))})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Bank Reconciliation"})}),e.jsx(w,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Bank reconciliation interface will be displayed here"})})]})]})},bx=()=>{const s=[{id:"1",order:"ORD-2024-001",customer:"Green Energy Industries",date:"2024-09-25",status:"scheduled",driver:"Rajesh Kumar"},{id:"2",order:"ORD-2024-002",customer:"Sunrise Hotels",date:"2024-09-26",status:"in_transit",driver:"Suresh Yadav"},{id:"3",order:"ORD-2024-003",customer:"Emerald Heights",date:"2024-09-27",status:"delivered",driver:"Amit Sharma"}],t=a=>({scheduled:"bg-blue-100 text-blue-800",in_transit:"bg-yellow-100 text-yellow-800",delivered:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Delivery Scheduling"}),e.jsx("p",{className:"text-gray-600",children:"Schedule and track deliveries with route optimization"})]}),e.jsxs(O,{children:[e.jsx(hs,{className:"w-4 h-4 mr-2"}),"Schedule Delivery"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fs,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),e.jsx("p",{className:"text-2xl font-bold",children:"12"})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(hs,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Transit"}),e.jsx("p",{className:"text-2xl font-bold",children:"5"})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dt,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Delivered"}),e.jsx("p",{className:"text-2xl font-bold",children:"28"})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"On Time %"}),e.jsx("p",{className:"text-2xl font-bold",children:"96%"})]})]})})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Delivery Calendar"]})}),e.jsx(w,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Interactive delivery calendar will be displayed here"})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Active Deliveries"})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:s.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:a.order}),e.jsx("div",{className:"text-sm text-gray-600",children:a.customer}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(hs,{className:"w-4 h-4 mr-1"}),a.driver]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("div",{className:"text-sm",children:a.date}),e.jsx(L,{className:t(a.status),children:a.status})]})]},a.id))})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(Dt,{className:"w-5 h-5 mr-2"}),"Route Optimization"]})}),e.jsx(w,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Route optimization and mapping interface will be displayed here"})})]})]})},wx=()=>{const s=[{gasType:"Biogas",ourPrice:45,marketAvg:48,change:-6.25,competitive:"advantage"},{gasType:"Compressed",ourPrice:65,marketAvg:62,change:4.84,competitive:"premium"},{gasType:"Liquefied",ourPrice:85,marketAvg:83,change:2.41,competitive:"premium"}],t=a=>({advantage:"bg-green-100 text-green-800",premium:"bg-blue-100 text-blue-800",disadvantage:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Price Benchmarking"}),e.jsx("p",{className:"text-gray-600",children:"Market price analysis and dynamic pricing engine"})]}),e.jsxs(O,{children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Update Prices"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map(a=>e.jsxs(b,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(k,{className:"text-lg",children:a.gasType})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Our Price"}),e.jsxs("div",{className:"text-xl font-bold",children:["₹",a.ourPrice]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Market Avg"}),e.jsxs("div",{className:"text-xl font-bold",children:["₹",a.marketAvg]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[a.change>0?e.jsx(he,{className:"w-4 h-4 text-red-600"}):e.jsx(Vs,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:`text-sm ${a.change>0?"text-red-600":"text-green-600"}`,children:[Math.abs(a.change),"%"]})]}),e.jsx(L,{className:t(a.competitive),children:a.competitive})]})]})]},a.gasType))}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(Te,{className:"w-5 h-5 mr-2"}),"Market Analysis"]})}),e.jsx(w,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Market price trends and competitor analysis will be displayed here"})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(as,{className:"w-5 h-5 mr-2"}),"Dynamic Pricing Engine"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Pricing Factors"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Raw Material Cost"}),e.jsx("span",{className:"font-medium",children:"₹15/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Production Cost"}),e.jsx("span",{className:"font-medium",children:"₹8/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Transport Cost"}),e.jsx("span",{className:"font-medium",children:"₹5/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Margin (30%)"}),e.jsx("span",{className:"font-medium",children:"₹12/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Taxes"}),e.jsx("span",{className:"font-medium",children:"₹5/unit"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Recommended Prices"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-3 border rounded",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Biogas"}),e.jsx("span",{className:"text-lg font-bold text-green-600",children:"₹45/unit"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Competitive advantage maintained"})]}),e.jsxs("div",{className:"p-3 border rounded",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Compressed"}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:"₹63/unit"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Slight price reduction recommended"})]})]})]})]})})]})]})},Sx=()=>{const s=[{type:"PESO",certificate:"PESO-2024-001",status:"valid",expiry:"2025-01-15",authority:"PESO Delhi"},{type:"GST",certificate:"GST-REG-001",status:"valid",expiry:"2025-03-31",authority:"GST Department"},{type:"Environmental",certificate:"ENV-2024-001",status:"pending_renewal",expiry:"2024-12-01",authority:"Pollution Control Board"},{type:"Safety",certificate:"SAFETY-001",status:"valid",expiry:"2025-06-15",authority:"Factory Inspector"}],t=a=>({valid:"bg-green-100 text-green-800",pending_renewal:"bg-yellow-100 text-yellow-800",expired:"bg-red-100 text-red-800",suspended:"bg-gray-100 text-gray-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Compliance & Reports"}),e.jsx("p",{className:"text-gray-600",children:"PESO compliance, GST reports, and regulatory management"})]}),e.jsxs(O,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Generate Report"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"PESO Valid"}),e.jsx("p",{className:"text-2xl font-bold",children:"3"})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiring Soon"}),e.jsx("p",{className:"text-2xl font-bold",children:"1"})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"GST Returns"}),e.jsx("p",{className:"text-2xl font-bold",children:"12"})]})]})})}),e.jsx(b,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Compliance %"}),e.jsx("p",{className:"text-2xl font-bold",children:"98%"})]})]})})})]}),e.jsxs($e,{defaultValue:"peso",className:"w-full",children:[e.jsxs(Ve,{children:[e.jsx(X,{value:"peso",children:"PESO Compliance"}),e.jsx(X,{value:"gst",children:"GST Reports"}),e.jsx(X,{value:"environmental",children:"Environmental"}),e.jsx(X,{value:"safety",children:"Safety"})]}),e.jsxs(Y,{value:"peso",className:"space-y-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(we,{className:"w-5 h-5 mr-2"}),"PESO Certificates"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:s.filter(a=>a.type==="PESO").map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:a.certificate}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Issued by: ",a.authority]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Expires: ",a.expiry]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{className:t(a.status),children:a.status}),e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(Re,{className:"w-4 h-4 mr-1"}),"Download"]})]})]},a.certificate))})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"PESO Inspection Schedule"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Plant A - Tank Inspection"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Next inspection due: 15 Nov 2024"})]}),e.jsx(L,{className:"bg-blue-100 text-blue-800",children:"Scheduled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Plant B - Safety Audit"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Next inspection due: 30 Dec 2024"})]}),e.jsx(L,{className:"bg-green-100 text-green-800",children:"Compliant"})]})]})})]})]}),e.jsx(Y,{value:"gst",className:"space-y-6",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"GST Returns & Reports"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"p-4 border rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"₹2.4M"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total GST Collected"})]})}),e.jsx("div",{className:"p-4 border rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"₹450K"}),e.jsx("div",{className:"text-sm text-gray-600",children:"GST Paid"})]})}),e.jsx("div",{className:"p-4 border rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"12"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Returns Filed"})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"GSTR-1 - September 2024"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Filed on: 10 Oct 2024"})]}),e.jsx(L,{className:"bg-green-100 text-green-800",children:"Filed"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"GSTR-3B - September 2024"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Due: 20 Oct 2024"})]}),e.jsx(L,{className:"bg-yellow-100 text-yellow-800",children:"Pending"})]})]})]})})]})}),e.jsx(Y,{value:"environmental",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Environmental Compliance"})}),e.jsx(w,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Environmental compliance reports and certificates will be displayed here"})})]})}),e.jsx(Y,{value:"safety",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Safety Compliance"})}),e.jsx(w,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Safety compliance reports and training records will be displayed here"})})]})})]})]})},Cx=()=>{const s=xs(),t=Hs(),a=[{id:"dashboard",label:"Sales Dashboard",icon:e.jsx(Aa,{className:"w-5 h-5"}),onClick:()=>s("/sales"),isActive:t.pathname==="/sales"},{id:"customers",label:"Customer Management",icon:e.jsx(Ie,{className:"w-5 h-5"}),onClick:()=>s("/sales/customers"),isActive:t.pathname==="/sales/customers"},{id:"contracts",label:"Contract Management",icon:e.jsx(Oe,{className:"w-5 h-5"}),onClick:()=>s("/sales/contracts"),isActive:t.pathname==="/sales/contracts"},{id:"inventory",label:"Inventory Management",icon:e.jsx(fs,{className:"w-5 h-5"}),onClick:()=>s("/sales/inventory"),isActive:t.pathname==="/sales/inventory"},{id:"orders",label:"Order & Invoice",icon:e.jsx(_i,{className:"w-5 h-5"}),onClick:()=>s("/sales/orders"),isActive:t.pathname==="/sales/orders"},{id:"voice-invoice",label:"Voice Invoicing",icon:e.jsx(Ks,{className:"w-5 h-5"}),onClick:()=>s("/sales/voice-invoice"),isActive:t.pathname==="/sales/voice-invoice"},{id:"payments",label:"Payment Tracking",icon:e.jsx(Kt,{className:"w-5 h-5"}),onClick:()=>s("/sales/payments"),isActive:t.pathname==="/sales/payments"},{id:"delivery",label:"Delivery Scheduling",icon:e.jsx(hs,{className:"w-5 h-5"}),onClick:()=>s("/sales/delivery"),isActive:t.pathname==="/sales/delivery"},{id:"pricing",label:"Price Benchmarking",icon:e.jsx(he,{className:"w-5 h-5"}),onClick:()=>s("/sales/pricing"),isActive:t.pathname==="/sales/pricing"},{id:"compliance",label:"Compliance & Reports",icon:e.jsx(we,{className:"w-5 h-5"}),onClick:()=>s("/sales/compliance"),isActive:t.pathname==="/sales/compliance"}];return e.jsx(ct,{moduleName:"UrjaVyapar Sales",moduleSubtitle:"Comprehensive Sales Management System",navigationItems:a,userInfo:{name:"Sales Manager",role:"Sales Operations"},children:e.jsxs(it,{children:[e.jsx(J,{path:"/",element:e.jsx(ox,{})}),e.jsx(J,{path:"/customers",element:e.jsx(xx,{})}),e.jsx(J,{path:"/contracts",element:e.jsx(gx,{})}),e.jsx(J,{path:"/inventory",element:e.jsx(jx,{})}),e.jsx(J,{path:"/orders",element:e.jsx(vx,{})}),e.jsx(J,{path:"/voice-invoice",element:e.jsx(yx,{})}),e.jsx(J,{path:"/payments",element:e.jsx(Nx,{})}),e.jsx(J,{path:"/delivery",element:e.jsx(bx,{})}),e.jsx(J,{path:"/pricing",element:e.jsx(wx,{})}),e.jsx(J,{path:"/compliance",element:e.jsx(Sx,{})})]})})},Sr=U.lazy(()=>Ae(()=>import("./Dashboard-BD2XLcwg.js"),__vite__mapDeps([5,1,2,3,4]))),Dx=U.lazy(()=>Ae(()=>import("./CycleManagement-B0-FTITD.js"),__vite__mapDeps([6,1,2,7,3,4])).then(s=>({default:s.CycleManagement}))),kx=U.lazy(()=>Ae(()=>import("./QualityControl-B1ck_J1x.js"),__vite__mapDeps([8,1,2,7,3,4])).then(s=>({default:s.QualityControl}))),Tx=U.lazy(()=>Ae(()=>import("./MaintenanceManagement-DUZrRW6V.js"),__vite__mapDeps([9,1,2,3,4])).then(s=>({default:s.MaintenanceManagement}))),Ix=U.lazy(()=>Ae(()=>import("./InventoryTransfer-B5dlFrV0.js"),__vite__mapDeps([10,1,2,3,4])).then(s=>({default:s.InventoryTransferPage}))),Ax=U.lazy(()=>Ae(()=>import("./SlurryManagement-B9RwXTMv.js"),__vite__mapDeps([11,1,2,7,3,4])).then(s=>({default:s.SlurryManagement}))),Px=U.lazy(()=>Ae(()=>import("./RealTimeMonitoring-Ch8Jm8a_.js"),__vite__mapDeps([12,1,2,7,3,4])).then(s=>({default:s.RealTimeMonitoring}))),Rx=()=>e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(b,{className:"w-full max-w-md",children:e.jsxs(w,{className:"flex flex-col items-center justify-center p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e.jsx(k,{className:"text-lg font-medium text-gray-600 mb-2",children:"Loading ShuddhiDoot Module..."}),e.jsx(se,{className:"text-center text-gray-500",children:"Initializing purification systems and real-time data feeds"})]})})}),Mx=()=>{const s=xs(),t=Hs(),a="/purification",r=[{id:"dashboard",label:"Dashboard",icon:e.jsx(Te,{className:"w-5 h-5"}),onClick:()=>s(`${a}`),isActive:t.pathname===a||t.pathname===`${a}/`,badge:void 0},{id:"cycles",label:"Cycle Management",icon:e.jsx(_a,{className:"w-5 h-5"}),onClick:()=>s(`${a}/cycles`),isActive:t.pathname===`${a}/cycles`,badge:"3"},{id:"quality",label:"Quality Control",icon:e.jsx(de,{className:"w-5 h-5"}),onClick:()=>s(`${a}/quality`),isActive:t.pathname===`${a}/quality`,badge:void 0},{id:"maintenance",label:"Maintenance",icon:e.jsx(Qr,{className:"w-5 h-5"}),onClick:()=>s(`${a}/maintenance`),isActive:t.pathname===`${a}/maintenance`,badge:"2"},{id:"inventory",label:"Inventory Transfer",icon:e.jsx(fs,{className:"w-5 h-5"}),onClick:()=>s(`${a}/inventory`),isActive:t.pathname===`${a}/inventory`,badge:"5"},{id:"slurry",label:"Slurry Management",icon:e.jsx(Xt,{className:"w-5 h-5"}),onClick:()=>s(`${a}/slurry`),isActive:t.pathname===`${a}/slurry`,badge:void 0},{id:"monitoring",label:"Real-time Monitoring",icon:e.jsx(ke,{className:"w-5 h-5"}),onClick:()=>s(`${a}/monitoring`),isActive:t.pathname===`${a}/monitoring`,badge:void 0}];return e.jsx(ct,{moduleName:"ShuddhiDoot",moduleSubtitle:"Biogas Purification & Quality Management",navigationItems:r,userInfo:{name:"Purification Manager",role:"Plant Operations Head"},children:e.jsx("div",{className:"space-y-6",children:e.jsx(h.Suspense,{fallback:e.jsx(Rx,{}),children:e.jsxs(it,{children:[e.jsx(J,{path:"/",element:e.jsx(Sr,{})}),e.jsx(J,{path:"/cycles",element:e.jsx(Dx,{})}),e.jsx(J,{path:"/quality",element:e.jsx(kx,{})}),e.jsx(J,{path:"/maintenance",element:e.jsx(Tx,{})}),e.jsx(J,{path:"/inventory",element:e.jsx(Ix,{})}),e.jsx(J,{path:"/slurry",element:e.jsx(Ax,{})}),e.jsx(J,{path:"/monitoring",element:e.jsx(Px,{})}),e.jsx(J,{path:"*",element:e.jsx(Sr,{})})]})})})})},Ex=()=>{const{kpis:s,insights:t,overallPerformanceScore:a,criticalAlerts:r,topOpportunities:n,refreshing:i,refreshData:c}=ot(),o=j=>{switch(j){case"financial":return e.jsx(We,{className:"h-5 w-5"});case"operational":return e.jsx(ke,{className:"h-5 w-5"});case"environmental":return e.jsx(as,{className:"h-5 w-5"});case"strategic":return e.jsx(he,{className:"h-5 w-5"});default:return e.jsx(ke,{className:"h-5 w-5"})}},d=(j,P)=>j==="up"||P>0?e.jsx(Xs,{className:"h-4 w-4 text-green-600"}):j==="down"||P<0?e.jsx(Jt,{className:"h-4 w-4 text-red-600"}):e.jsx(Vt,{className:"h-4 w-4 text-gray-600"}),p=j=>j>=90?"text-green-600":j>=75?"text-yellow-600":"text-red-600",N=j=>j>=.8?"bg-green-100 text-green-800":j>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",f=j=>j>=1e7?`₹${(j/1e7).toFixed(1)}Cr`:j>=1e5?`₹${(j/1e5).toFixed(1)}L`:`₹${j.toLocaleString()}`,u=(j,P)=>P==="₹"?f(j):`${j.toLocaleString()} ${P}`,v=()=>{const j=`Executive Summary: Overall performance score is ${a}%. Revenue is ${f(s.find(P=>P.id==="revenue")?.value||0)} with ${s.find(P=>P.id==="revenue")?.change||0}% growth. ${r.length} critical alerts require immediate attention.`;if("speechSynthesis"in window){const P=new SpeechSynthesisUtterance(j);speechSynthesis.speak(P)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Executive Summary"}),e.jsx("p",{className:"text-gray-600",children:"Real-time business intelligence and key performance indicators"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-3xl font-bold ${p(a)}`,children:[a,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Overall Performance"})]}),e.jsxs(O,{onClick:v,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(O,{onClick:c,variant:"outline",size:"sm",disabled:i,className:"flex items-center gap-2",children:[e.jsx(os,{className:`h-4 w-4 ${i?"animate-spin":""}`}),"Refresh"]})]})]}),r.length>0&&e.jsxs(Ms,{className:"border-red-200 bg-red-50",children:[e.jsx(le,{className:"h-4 w-4 text-red-600"}),e.jsxs(Es,{className:"text-red-800",children:[e.jsxs("strong",{children:[r.length," Critical Alert",r.length>1?"s":""]}),e.jsx("div",{className:"mt-2 space-y-1",children:r.slice(0,2).map(j=>e.jsxs("div",{className:"text-sm",children:["• ",j.title,": ",j.description]},j.id))})]})]}),n.length>0&&e.jsxs(Ms,{className:"border-green-200 bg-green-50",children:[e.jsx(de,{className:"h-4 w-4 text-green-600"}),e.jsxs(Es,{className:"text-green-800",children:[e.jsx("strong",{children:"Top Growth Opportunity"}),e.jsxs("div",{className:"mt-2 text-sm",children:[n[0].title,": ",n[0].description,n[0].estimatedValue&&e.jsxs("span",{className:"font-semibold ml-2",children:["Potential Value: ",f(n[0].estimatedValue)]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:s.map(j=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow duration-200",children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm font-medium text-gray-600",children:j.name}),e.jsx("div",{className:`p-2 rounded-lg ${j.category==="financial"?"bg-blue-100 text-blue-600":j.category==="operational"?"bg-green-100 text-green-600":j.category==="environmental"?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:o(j.category)})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u(j.value,j.unit)}),e.jsxs("div",{className:"flex items-center gap-1",children:[d(j.trend,j.change),e.jsxs("span",{className:`text-sm font-medium ${j.change>0?"text-green-600":j.change<0?"text-red-600":"text-gray-600"}`,children:[j.change>0?"+":"",j.change.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Progress to Target"}),e.jsxs("span",{children:[Math.round(j.value/j.target*100),"%"]})]}),e.jsx(ue,{value:j.value/j.target*100,className:"h-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Target: ",u(j.target,j.unit)]}),e.jsxs(L,{variant:"outline",className:N(j.confidence),children:[Math.round(j.confidence*100),"% Confidence"]})]})]}),j.priority==="high"&&e.jsx("div",{className:"mt-2",children:e.jsx(L,{variant:"destructive",className:"text-xs",children:"High Priority"})})]})]},j.id))}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Quick Insights"]})}),e.jsx(w,{children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.slice(0,3).map(j=>e.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${j.impact==="positive"?"border-green-500 bg-green-50":j.impact==="negative"?"border-red-500 bg-red-50":"border-gray-500 bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:j.title}),e.jsxs(L,{variant:"outline",className:N(j.confidence),children:[Math.round(j.confidence*100),"%"]})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:j.description}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:j.timeline}),j.estimatedValue&&e.jsxs("span",{className:`text-sm font-medium ${j.impact==="positive"?"text-green-600":"text-red-600"}`,children:[j.impact==="positive"?"+":"",f(j.estimatedValue)]})]}),j.actionRequired&&e.jsx(L,{variant:"outline",className:"mt-2 text-xs bg-yellow-100 text-yellow-800",children:"Action Required"})]},j.id))})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Recommended Actions"})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:t.filter(j=>j.actionRequired).slice(0,3).map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:j.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.timeline})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[j.estimatedValue&&e.jsxs("span",{className:`text-sm font-medium ${j.impact==="positive"?"text-green-600":"text-red-600"}`,children:[j.impact==="positive"?"+":"",f(j.estimatedValue)]}),e.jsx(O,{size:"sm",variant:"outline",children:"Review"})]})]},j.id))})})]})]})},Ox=()=>{const{addVoiceQuery:s,kpis:t,carbonMetrics:a,competitiveData:r}=ot(),{user:n,hasPermission:i,isExecutive:c,getAccessLevel:o}=Os(),[d,p]=h.useState(!1),[N,f]=h.useState(!1),[u,v]=h.useState(""),[j,P]=h.useState("en"),[A,C]=h.useState(0),[y,S]=h.useState(null),[T,g]=h.useState([]),[l,m]=h.useState(!1),[R,x]=h.useState(!1),[E,M]=h.useState({consentRequired:!0,sessionTimeout:c()?30:60,dataRetention:c()?"encrypted":"session",encryptionEnabled:!0,anonymizeTranscripts:!c(),blockSensitiveData:!0}),[$,G]=h.useState(0),[I,V]=h.useState(""),[_,H]=h.useState(!1),z=h.useRef(null),te=h.useRef(null),ce=h.useRef(null),re=Z=>btoa(Z.split("").map(oe=>String.fromCharCode(oe.charCodeAt(0)+1)).join("")),Us=Z=>E.blockSensitiveData?Z.replace(/\b\d{12,16}\b/g,"[CARD-REDACTED]").replace(/\b\d{10,15}\b/g,"[PHONE-REDACTED]").replace(/\b[A-Z]{2}\d{2}[A-Z0-9]{4}\d{7}([A-Z0-9]?){0,16}\b/g,"[IBAN-REDACTED]").replace(/\b\d{4}-\d{4}-\d{4}-\d{4}\b/g,"[ACCOUNT-REDACTED]").replace(/password|pin|secret|confidential/gi,"[SENSITIVE-REDACTED]"):Z,F=Z=>E.anonymizeTranscripts?Z.replace(/\b[A-Z][a-z]+\s+[A-Z][a-z]+\b/g,"[NAME-REDACTED]").replace(/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/g,"[EMAIL-REDACTED]"):Z,ne=[{command:"Revenue Summary",description:"Get current revenue metrics and growth trends",examples:["What is our monthly revenue?","मासिक आय कितनी है?","Show me revenue growth","Revenue trends this quarter"],category:"financial"},{command:"Production Analytics",description:"Biogas production and efficiency metrics",examples:["How much biogas did we produce today?","आज कितना बायोगैस उत्पादन हुआ?","Show production efficiency","Which plants are performing best?"],category:"kpi"},{command:"Carbon Credits",description:"Environmental impact and carbon credit revenue",examples:["How many carbon credits did we generate?","कार्बन क्रेडिट कितने जेनरेट हुए?","Carbon revenue projections","Environmental impact summary"],category:"environmental"},{command:"Strategic Planning",description:"Market position and strategic initiatives",examples:["What is our market share?","बाजार में हमारी स्थिति क्या है?","Strategic initiative progress","Competitive analysis summary"],category:"strategic"}],Pe={revenue:[/(?:what|how much|tell me).*(?:revenue|sales|income|earnings)/i,/(?:मासिक|कुल).*(?:आय|राजस्व|कमाई)/i,/(?:show|display).*(?:financial|revenue).*(?:performance|metrics)/i],production:[/(?:what|how much).*(?:production|biogas|output)/i,/(?:आज|कुल).*(?:उत्पादन|बायोगैस)/i,/(?:efficiency|performance).*(?:plant|production)/i],carbon:[/(?:what|how many).*(?:carbon|credits|environmental)/i,/(?:कार्बन|पर्यावरण).*(?:क्रेडिट|प्रभाव)/i,/(?:sustainability|green|environmental).*(?:impact|metrics)/i],strategic:[/(?:what|how).*(?:market|position|share|competitive)/i,/(?:बाजार|प्रतिस्पर्धा).*(?:स्थिति|विश्लेषण)/i,/(?:strategic|planning|initiatives)/i],forecast:[/(?:what|show).*(?:forecast|prediction|projection)/i,/(?:भविष्यवाणी|पूर्वानुमान|अनुमान)/i,/(?:future|next).*(?:quarter|year|month)/i]},He=()=>n?E.consentRequired&&!l?(x(!0),!1):!0:!1,ta=()=>{m(!0),x(!1);const Z={userId:n?.id,granted:!0,timestamp:new Date().toISOString(),privacyLevel:o()};localStorage.setItem("voiceConsent",JSON.stringify(Z))},Mt=()=>{if(!n||!He())return;const oe={id:`voice-session-${Date.now()}`,startTime:new Date,queries:0,language:j,accuracy:0,userId:n.id,consentGiven:!0,dataRetention:E.dataRetention,privacyLevel:o()==="high"?"high":"standard",encryptionEnabled:E.encryptionEnabled};S(oe),G(E.sessionTimeout*60),ce.current&&clearTimeout(ce.current),ce.current=setTimeout(()=>{Ds()},E.sessionTimeout*60*1e3)},Ds=()=>{if(y){const Z={...y,endTime:new Date};if(E.dataRetention==="session")localStorage.removeItem("voiceSessionData");else if(E.dataRetention==="encrypted"){const oe=re(JSON.stringify(Z));localStorage.setItem("voiceSessionData",oe)}S(null),G(0),p(!1),ce.current&&clearTimeout(ce.current)}},aa=Z=>{if(!y||!n)return;let oe=Z;if(oe=Us(oe),oe=F(oe),E.encryptionEnabled){const ie=re(oe);V(ie)}const Me={...y,queries:y.queries+1};S(Me)};h.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const Z=window.SpeechRecognition||window.webkitSpeechRecognition;z.current=new Z,z.current.continuous=!0,z.current.interimResults=!0,z.current.lang=j==="hi"?"hi-IN":"en-US",z.current.onresult=oe=>{let Me="",ie="";for(let Xe=oe.resultIndex;Xe<oe.results.length;Xe++){const Ue=oe.results[Xe];Ue.isFinal?(Me+=Ue[0].transcript,C(Ue[0].confidence)):ie+=Ue[0].transcript}v(Me||ie),Me&&(aa(Me),ra(Me,result[0].confidence))},z.current.onerror=oe=>{p(!1)},z.current.onend=()=>{p(!1)}}te.current=speechSynthesis},[j]),h.useEffect(()=>{let Z;return y&&$>0&&(Z=setInterval(()=>{G(oe=>oe<=1?(Ds(),0):(oe===300&&c()&&xt(j==="hi"?"सेशन 5 मिनट में समाप्त हो जाएगा":"Session will expire in 5 minutes"),oe-1))},1e3)),()=>{Z&&clearInterval(Z)}},[y,$]),h.useEffect(()=>{if(n){const Z=localStorage.getItem("voiceConsent");if(Z)try{const oe=JSON.parse(Z);if(oe.userId===n.id&&oe.granted){const Me=Date.now()-new Date(oe.timestamp).getTime(),ie=c()?24*60*60*1e3:7*24*60*60*1e3;Me<ie?m(!0):localStorage.removeItem("voiceConsent")}}catch{localStorage.removeItem("voiceConsent")}}},[n]),h.useEffect(()=>()=>{ce.current&&clearTimeout(ce.current),y&&Ds()},[]);const ra=async(Z,oe)=>{const Me=na(Z),ie=await ia(Me),Xe={id:Date.now().toString(),query:Z,timestamp:new Date,response:ie.text,confidence:oe,category:Me,language:j};s(Xe),g(Ue=>[Xe,...Ue.slice(0,9)]),ie.spoken&&xt(ie.spoken),y&&S(Ue=>Ue?{...Ue,queries:Ue.queries+1,accuracy:(Ue.accuracy+oe)/2}:null)},na=Z=>{const oe=Z.toLowerCase();for(const[Me,ie]of Object.entries(Pe))if(ie.some(Xe=>Xe.test(oe)))return Me;return"general"},ia=async(Z,oe)=>({revenue:{text:`Current monthly revenue is ₹${(t.find(ie=>ie.id==="revenue")?.value||0).toFixed(1)} crores, showing ${t.find(ie=>ie.id==="revenue")?.change||0}% growth this month.`,spoken:j==="hi"?`वर्तमान मासिक आय ${(t.find(ie=>ie.id==="revenue")?.value||0).toFixed(1)} करोड़ रुपए है, जो इस महीने ${t.find(ie=>ie.id==="revenue")?.change||0}% की वृद्धि दिखा रहा है।`:`Current monthly revenue is ${(t.find(ie=>ie.id==="revenue")?.value||0).toFixed(1)} crores, showing ${t.find(ie=>ie.id==="revenue")?.change||0}% growth this month.`},production:{text:`Biogas production is ${t.find(ie=>ie.id==="production")?.value||0} cubic meters per day with ${t.find(ie=>ie.id==="efficiency")?.value||0}% efficiency.`,spoken:j==="hi"?`बायोगैस उत्पादन प्रतिदिन ${t.find(ie=>ie.id==="production")?.value||0} क्यूबिक मीटर है, जिसकी दक्षता ${t.find(ie=>ie.id==="efficiency")?.value||0}% है।`:`Biogas production is ${t.find(ie=>ie.id==="production")?.value||0} cubic meters per day with ${t.find(ie=>ie.id==="efficiency")?.value||0}% efficiency.`},carbon:{text:`We generated ${a.creditsGenerated} tons of carbon credits worth ₹${(a.marketValue/1e5).toFixed(1)} lakhs.`,spoken:j==="hi"?`हमने ${a.creditsGenerated} टन कार्बन क्रेडिट जेनरेट किए हैं जिनकी कीमत ${(a.marketValue/1e5).toFixed(1)} लाख रुपए है।`:`We generated ${a.creditsGenerated} tons of carbon credits worth ${(a.marketValue/1e5).toFixed(1)} lakhs rupees.`},strategic:{text:`Our market share is ${r.marketShare}% and we rank #${r.ranking} in the industry.`,spoken:j==="hi"?`हमारी बाजार हिस्सेदारी ${r.marketShare}% है और हम उद्योग में ${r.ranking} नंबर पर हैं।`:`Our market share is ${r.marketShare}% and we rank number ${r.ranking} in the industry.`}})[Z]||{text:"I can help you with revenue, production, carbon credits, or strategic planning metrics.",spoken:j==="hi"?"मैं आपकी आय, उत्पादन, कार्बन क्रेडिट, या रणनीतिक योजना मेट्रिक्स में मदद कर सकता हूं।":"I can help you with revenue, production, carbon credits, or strategic planning metrics."},xt=Z=>{if(te.current){f(!0);const oe=new SpeechSynthesisUtterance(Z);oe.lang=j==="hi"?"hi-IN":"en-US",oe.onend=()=>f(!1),te.current.speak(oe)}},la=()=>{if(!n||!i("voice","query")){alert("You do not have permission to use voice analytics");return}He()&&z.current&&(p(!0),z.current.start(),y||Mt())},ca=()=>{z.current&&(z.current.stop(),p(!1))},oa=()=>{te.current&&(te.current.cancel(),f(!1))},da=()=>{P(Z=>Z==="en"?"hi":"en"),z.current&&(z.current.lang=j==="en"?"hi-IN":"en-US")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Voice Analytics Assistant"}),e.jsx("p",{className:"text-gray-600",children:"Advanced voice-enabled business intelligence"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(O,{onClick:da,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(Jr,{className:"h-4 w-4"}),j==="en"?"हिंदी":"English"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(b,{children:[e.jsx(D,{className:"pb-3",children:e.jsxs(k,{className:"flex items-center gap-2 text-sm",children:[e.jsx(we,{className:"h-4 w-4"}),"Privacy Controls"]})}),e.jsxs(w,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Data Encryption"}),e.jsx(L,{variant:E.encryptionEnabled?"default":"secondary",children:E.encryptionEnabled?"ON":"OFF"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Privacy Level"}),e.jsx(L,{variant:"outline",children:o().toUpperCase()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Data Retention"}),e.jsx(L,{variant:"secondary",children:E.dataRetention.toUpperCase()})]}),e.jsxs(O,{onClick:()=>H(!_),variant:"outline",size:"sm",className:"w-full mt-2",children:[_?e.jsx(kr,{className:"h-3 w-3 mr-1"}):e.jsx(ds,{className:"h-3 w-3 mr-1"}),_?"Show Data":"Hide Data"]})]})]}),e.jsxs(b,{children:[e.jsx(D,{className:"pb-3",children:e.jsxs(k,{className:"flex items-center gap-2 text-sm",children:[e.jsx(Se,{className:"h-4 w-4"}),"Session Timer"]})}),e.jsx(w,{children:y?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-2xl font-bold text-center",children:[Math.floor($/60),":",($%60).toString().padStart(2,"0")]}),e.jsx("div",{className:"text-xs text-center text-gray-500",children:"Time Remaining"}),$<=300&&e.jsxs(Ms,{className:"p-2",children:[e.jsx(le,{className:"h-3 w-3"}),e.jsx(Es,{className:"text-xs",children:"Session expiring soon!"})]}),e.jsx(O,{onClick:Ds,variant:"outline",size:"sm",className:"w-full",children:"End Session"})]}):e.jsx("div",{className:"text-center text-gray-500 text-sm",children:"No active session"})})]}),e.jsxs(b,{children:[e.jsx(D,{className:"pb-3",children:e.jsxs(k,{className:"flex items-center gap-2 text-sm",children:[e.jsx(Dr,{className:"h-4 w-4"}),"Consent Status"]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Voice Recording"}),e.jsx(L,{variant:l?"default":"destructive",children:l?"ALLOWED":"DENIED"})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["User: ",n?.name]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Role: ",n?.role?.toUpperCase()]}),!l&&e.jsx(O,{onClick:()=>x(!0),variant:"outline",size:"sm",className:"w-full",children:"Grant Consent"})]})})]})]}),R&&e.jsxs(b,{className:"border-orange-200 bg-orange-50",children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2 text-orange-800",children:[e.jsx(we,{className:"h-5 w-5"}),"Voice Analytics Consent Required"]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm text-orange-700",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"SAUBHAGYA Voice Analytics"})," requests permission to:"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[e.jsx("li",{children:"Record and process your voice queries"}),e.jsx("li",{children:"Analyze speech patterns for business intelligence"}),e.jsx("li",{children:"Store session data according to privacy settings"}),e.jsx("li",{children:"Apply role-based access controls for data security"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-white rounded border",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Privacy Settings for ",n?.name,":"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:["Session Timeout: ",e.jsxs("span",{className:"font-medium",children:[E.sessionTimeout," minutes"]})]}),e.jsxs("div",{children:["Data Retention: ",e.jsx("span",{className:"font-medium",children:E.dataRetention})]}),e.jsxs("div",{children:["Encryption: ",e.jsx("span",{className:"font-medium",children:E.encryptionEnabled?"Enabled":"Disabled"})]}),e.jsxs("div",{children:["Anonymization: ",e.jsx("span",{className:"font-medium",children:E.anonymizeTranscripts?"Enabled":"Disabled"})]})]})]}),e.jsxs("p",{className:"mt-3 text-xs text-gray-600",children:['By clicking "Grant Consent", you agree to voice data processing under SAUBHAGYA privacy policy.',c()&&" Executive sessions have enhanced security and shorter timeouts."]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{onClick:ta,className:"flex-1",children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),"Grant Consent"]}),e.jsx(O,{onClick:()=>x(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]}),y&&e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Ar,{className:"h-5 w-5"}),"Current Voice Session"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.queries}),e.jsx("div",{className:"text-sm text-gray-500",children:"Queries"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(y.accuracy*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Accuracy"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round((Date.now()-y.startTime.getTime())/6e4),"m"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Duration"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(L,{variant:"outline",className:"text-sm",children:y.language==="hi"?"हिंदी":"English"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Language"})]})]})})]}),e.jsx(b,{children:e.jsx(w,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(O,{onClick:d?ca:la,size:"lg",className:`h-20 w-20 rounded-full ${d?"bg-red-600 hover:bg-red-700 animate-pulse":"bg-blue-600 hover:bg-blue-700"}`,children:d?e.jsx(Xr,{className:"h-8 w-8"}):e.jsx(Ks,{className:"h-8 w-8"})}),e.jsxs("div",{className:"text-center",children:[e.jsx(L,{variant:d?"default":"secondary",className:"mb-2",children:d?"Listening...":"Click to speak"}),A>0&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Confidence: ",Math.round(A*100),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[N&&e.jsxs(O,{onClick:oa,variant:"outline",size:"sm",children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),"Stop Speaking"]}),e.jsxs(O,{onClick:()=>v(""),variant:"outline",size:"sm",children:[e.jsx(_a,{className:"h-4 w-4 mr-2"}),"Clear"]})]}),u&&e.jsxs(Ms,{className:"w-full max-w-2xl",children:[e.jsx(Ct,{className:"h-4 w-4"}),e.jsxs(Es,{children:[e.jsx("strong",{children:"You said:"}),' "',u,'"']})]})]})})}),e.jsxs($e,{defaultValue:"commands",className:"w-full",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-2",children:[e.jsx(X,{value:"commands",children:"Voice Commands"}),e.jsx(X,{value:"history",children:"Query History"})]}),e.jsx(Y,{value:"commands",className:"space-y-4",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Available Voice Commands"})}),e.jsx(w,{children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:ne.map((Z,oe)=>e.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${Z.category==="financial"?"border-blue-500 bg-blue-50":Z.category==="kpi"?"border-green-500 bg-green-50":Z.category==="environmental"?"border-purple-500 bg-purple-50":"border-orange-500 bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Z.category==="financial"&&e.jsx(We,{className:"h-5 w-5 text-blue-600"}),Z.category==="kpi"&&e.jsx(he,{className:"h-5 w-5 text-green-600"}),Z.category==="environmental"&&e.jsx(Is,{className:"h-5 w-5 text-purple-600"}),Z.category==="strategic"&&e.jsx(Ie,{className:"h-5 w-5 text-orange-600"}),e.jsx("h4",{className:"font-medium text-gray-900",children:Z.command})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:Z.description}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Examples:"}),Z.examples.slice(0,2).map((Me,ie)=>e.jsxs("div",{className:"text-xs text-gray-600",children:['• "',Me,'"']},ie))]})]},oe))})})]})}),e.jsx(Y,{value:"history",className:"space-y-4",children:e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Ma,{className:"h-5 w-5"}),"Recent Voice Queries"]})}),e.jsx(w,{children:T.length>0?e.jsx("div",{className:"space-y-3",children:T.map(Z=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:['"',Z.query,'"']}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",className:"text-xs",children:[Math.round(Z.confidence*100),"%"]}),e.jsx(L,{variant:"outline",className:"text-xs",children:Z.language==="hi"?"हिंदी":"English"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Response:"})," ",Z.response]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Z.timestamp.toLocaleTimeString()," • Category: ",Z.category]})]},Z.id))}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No voice queries yet. Start speaking to see your history here."})})]})})]})]})},Lx=()=>{const{initiatives:s,refreshData:t,refreshing:a,updateInitiative:r}=ot(),[n,i]=h.useState("baseline"),[c,o]=h.useState("12m"),[d,p]=h.useState("initiatives"),[N,f]=h.useState(!1),[u]=h.useState([{id:"baseline",name:"Baseline Growth",description:"Conservative growth with current market conditions",assumptions:{marketGrowth:12,investmentLevel:80,riskFactor:20,timeframe:12},projectedOutcomes:{revenue:15e8,profit:375e6,marketShare:22,roi:25,confidence:.85},risks:[{category:"Market",probability:.3,impact:.4,mitigation:"Diversify customer base"},{category:"Regulatory",probability:.2,impact:.6,mitigation:"Government relations program"}]},{id:"aggressive",name:"Aggressive Expansion",description:"High-growth strategy with significant market expansion",assumptions:{marketGrowth:25,investmentLevel:150,riskFactor:45,timeframe:18},projectedOutcomes:{revenue:225e7,profit:45e7,marketShare:35,roi:42,confidence:.68},risks:[{category:"Market",probability:.5,impact:.7,mitigation:"Phased expansion approach"},{category:"Financial",probability:.4,impact:.8,mitigation:"Strategic partnerships"}]},{id:"conservative",name:"Conservative Consolidation",description:"Focus on operational efficiency and market consolidation",assumptions:{marketGrowth:8,investmentLevel:50,riskFactor:10,timeframe:24},projectedOutcomes:{revenue:12e8,profit:36e7,marketShare:18,roi:18,confidence:.92},risks:[{category:"Competition",probability:.4,impact:.3,mitigation:"Innovation investment"},{category:"Technology",probability:.2,impact:.4,mitigation:"R&D partnerships"}]}]),[v]=h.useState([{id:"ai_optimization",title:"AI-Driven Production Optimization",sector:"Technology",investmentRequired:25e7,projectedRoi:320,riskLevel:"medium",timeToBreakeven:18,strategicAlignment:95,competitiveAdvantage:"First-mover advantage in biogas AI optimization",marketSize:15e8,confidence:.82,npv:485e6,irr:42.5,paybackPeriod:2.8,discountRate:12},{id:"carbon_trading",title:"Carbon Credit Trading Platform",sector:"Environmental",investmentRequired:15e7,projectedRoi:450,riskLevel:"low",timeToBreakeven:12,strategicAlignment:88,competitiveAdvantage:"Integrated production and trading ecosystem",marketSize:28e8,confidence:.91,npv:625e6,irr:58.3,paybackPeriod:2.1,discountRate:10},{id:"rural_expansion",title:"Rural Distribution Network Expansion",sector:"Infrastructure",investmentRequired:8e8,projectedRoi:180,riskLevel:"high",timeToBreakeven:36,strategicAlignment:92,competitiveAdvantage:"Last-mile connectivity advantage",marketSize:5e9,confidence:.76,npv:32e7,irr:28.7,paybackPeriod:4.2,discountRate:15},{id:"smart_grid_integration",title:"Smart Grid Integration Platform",sector:"Technology",investmentRequired:4e8,projectedRoi:280,riskLevel:"medium",timeToBreakeven:24,strategicAlignment:89,competitiveAdvantage:"Integrated energy distribution network",marketSize:32e8,confidence:.78,npv:42e7,irr:35.2,paybackPeriod:3.5,discountRate:13}]),[j]=h.useState([{id:"maharashtra_west",region:"Western Maharashtra",state:"Maharashtra",marketSize:85e7,penetrationRate:12,competitionLevel:"medium",regulatorySupport:85,infrastructureScore:78,investmentRequired:18e7,projectedRevenue:32e7,riskScore:25,opportunityScore:88},{id:"punjab_rural",region:"Rural Punjab",state:"Punjab",marketSize:62e7,penetrationRate:8,competitionLevel:"low",regulatorySupport:92,infrastructureScore:82,investmentRequired:14e7,projectedRevenue:28e7,riskScore:18,opportunityScore:94},{id:"gujarat_industrial",region:"Industrial Gujarat",state:"Gujarat",marketSize:95e7,penetrationRate:15,competitionLevel:"high",regulatorySupport:78,infrastructureScore:88,investmentRequired:22e7,projectedRevenue:38e7,riskScore:35,opportunityScore:82},{id:"up_eastern",region:"Eastern Uttar Pradesh",state:"Uttar Pradesh",marketSize:72e7,penetrationRate:6,competitionLevel:"low",regulatorySupport:75,infrastructureScore:65,investmentRequired:16e7,projectedRevenue:25e7,riskScore:28,opportunityScore:85},{id:"karnataka_tech",region:"Tech Corridor Karnataka",state:"Karnataka",marketSize:58e7,penetrationRate:10,competitionLevel:"medium",regulatorySupport:88,infrastructureScore:92,investmentRequired:125e6,projectedRevenue:21e7,riskScore:22,opportunityScore:90}]),[P]=h.useState([{scenario:"baseline",iterations:1e4,outcomes:{revenue:{mean:15e8,stdDev:18e7,percentile95:182e7,percentile5:121e7},profit:{mean:375e6,stdDev:65e6,percentile95:485e6,percentile5:285e6},roi:{mean:25,stdDev:4.2,percentile95:32.5,percentile5:18.8}},confidenceLevel:.85,riskOfLoss:.12},{scenario:"aggressive",iterations:1e4,outcomes:{revenue:{mean:225e7,stdDev:385e6,percentile95:2885e6,percentile5:168e7},profit:{mean:45e7,stdDev:125e6,percentile95:665e6,percentile5:285e6},roi:{mean:42,stdDev:8.5,percentile95:56.2,percentile5:28.5}},confidenceLevel:.68,riskOfLoss:.28},{scenario:"conservative",iterations:1e4,outcomes:{revenue:{mean:12e8,stdDev:85e6,percentile95:1345e6,percentile5:1085e6},profit:{mean:36e7,stdDev:42e6,percentile95:43e7,percentile5:305e6},roi:{mean:18,stdDev:2.8,percentile95:22.8,percentile5:14.2}},confidenceLevel:.92,riskOfLoss:.05}]),[A]=h.useState([{variable:"Market Growth Rate",baseValue:12,unit:"%",impact:{low:{change:-20,revenueImpact:-18e7,roiImpact:-4.2},high:{change:30,revenueImpact:285e6,roiImpact:6.8}},elasticity:1.45},{variable:"Raw Material Cost",baseValue:35,unit:"₹/unit",impact:{low:{change:-15,revenueImpact:125e6,roiImpact:3.2},high:{change:25,revenueImpact:-185e6,roiImpact:-5.8}},elasticity:-.85},{variable:"Carbon Credit Price",baseValue:15e4,unit:"₹/ton",impact:{low:{change:-30,revenueImpact:-95e6,roiImpact:-2.8},high:{change:40,revenueImpact:165e6,roiImpact:4.5}},elasticity:1.12},{variable:"Regulatory Support",baseValue:80,unit:"score",impact:{low:{change:-25,revenueImpact:-22e7,roiImpact:-6.5},high:{change:20,revenueImpact:145e6,roiImpact:3.8}},elasticity:.95},{variable:"Technology Adoption Rate",baseValue:65,unit:"%",impact:{low:{change:-30,revenueImpact:-155e6,roiImpact:-4.2},high:{change:35,revenueImpact:198e6,roiImpact:5.5}},elasticity:1.28}]),[C]=h.useState([{id:"regulatory_changes",category:"regulatory",title:"Government Policy Changes",description:"Potential changes in renewable energy subsidies and regulations",probability:.6,impact:.7,severity:"high",mitigationStrategy:"Active government relations and policy advocacy",owner:"Government Affairs Team",status:"monitoring",estimatedCost:125e6},{id:"market_saturation",category:"market",title:"Market Saturation Risk",description:"Risk of market saturation in primary regions",probability:.4,impact:.8,severity:"high",mitigationStrategy:"Geographic diversification and new product development",owner:"Strategic Planning Team",status:"mitigating",estimatedCost:2e8},{id:"technology_disruption",category:"technology",title:"Disruptive Technology Threat",description:"Emergence of competing renewable energy technologies",probability:.3,impact:.9,severity:"critical",mitigationStrategy:"R&D investment and technology partnerships",owner:"Technology Innovation Team",status:"mitigating",estimatedCost:3e8}]),y=x=>x>=1e7?`₹${(x/1e7).toFixed(1)}Cr`:x>=1e5?`₹${(x/1e5).toFixed(1)}L`:`₹${x.toLocaleString()}`,S=x=>{switch(x){case"planning":return e.jsx(Se,{className:"h-4 w-4 text-blue-600"});case"in-progress":return e.jsx(Ui,{className:"h-4 w-4 text-green-600"});case"completed":return e.jsx(de,{className:"h-4 w-4 text-green-600"});case"on-hold":return e.jsx(Bi,{className:"h-4 w-4 text-yellow-600"});default:return e.jsx(Se,{className:"h-4 w-4 text-gray-600"})}},T=x=>{switch(x){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";case"critical":return"bg-red-200 text-red-900";default:return"bg-gray-100 text-gray-800"}},g=(x,E)=>Math.round(x*E*100),l=()=>{const x=s.filter(H=>H.status==="in-progress").length,E=s.reduce((H,z)=>H+z.budget,0),M=s.reduce((H,z)=>H+z.roi,0)/s.length,$=v.reduce((H,z)=>H+z.investmentRequired,0),G=v.reduce((H,z)=>H+z.npv,0)/v.length,I=j.sort((H,z)=>z.opportunityScore-H.opportunityScore)[0],V=C.filter(H=>H.severity==="high"||H.severity==="critical").length,_=`Strategic Planning Executive Summary: ${x} strategic initiatives in progress with ${y(E)} total budget and ${M.toFixed(1)}% average ROI. Investment portfolio includes ${v.length} opportunities worth ${y($)} with average NPV of ${y(G)}. Top geographic opportunity is ${I.region} with ${I.opportunityScore} opportunity score. ${V} high-priority risks require immediate attention. Monte Carlo analysis shows ${Math.round(P.find(H=>H.scenario===n)?.confidenceLevel*100||0)}% confidence level for current scenario.`;if("speechSynthesis"in window){const H=new SpeechSynthesisUtterance(_);speechSynthesis.speak(H)}},m=()=>{const x={timestamp:new Date().toISOString(),scenario:n,timeframe:c,summary:{activeInitiatives:s.filter(G=>G.status==="in-progress").length,totalBudget:s.reduce((G,I)=>G+I.budget,0),avgRoi:s.reduce((G,I)=>G+I.roi,0)/s.length,highPriorityRisks:C.filter(G=>G.severity==="high"||G.severity==="critical").length,totalInvestmentOpportunities:v.length,topGeographicOpportunity:j.sort((G,I)=>I.opportunityScore-G.opportunityScore)[0]?.region||"N/A"},initiatives:s,scenarios:u,investments:{opportunities:v,portfolioMetrics:{totalInvestment:v.reduce((G,I)=>G+I.investmentRequired,0),averageNPV:v.reduce((G,I)=>G+I.npv,0)/v.length,averageIRR:v.reduce((G,I)=>G+I.irr,0)/v.length,averagePayback:v.reduce((G,I)=>G+I.paybackPeriod,0)/v.length}},geographic:{opportunities:j,totalMarketSize:j.reduce((G,I)=>G+I.marketSize,0),totalInvestmentRequired:j.reduce((G,I)=>G+I.investmentRequired,0),averageOpportunityScore:j.reduce((G,I)=>G+I.opportunityScore,0)/j.length},simulation:{monteCarloResults:P,sensitivityAnalysis:A,selectedScenarioConfidence:P.find(G=>G.scenario===n)?.confidenceLevel||0},risks:{assessments:C,totalExposure:C.reduce((G,I)=>G+I.estimatedCost,0),activeMitigations:C.filter(G=>G.status==="mitigating").length,resolvedRisks:C.filter(G=>G.status==="resolved").length}},E=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),M=URL.createObjectURL(E),$=document.createElement("a");$.href=M,$.download=`strategic-planning-comprehensive-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(M)},R=u.find(x=>x.id===n);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Strategic Planning & Analysis"}),e.jsx("p",{className:"text-gray-600",children:"Long-term business planning, scenario modeling, and strategic initiatives"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(O,{onClick:l,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(O,{onClick:m,variant:"outline",size:"sm",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(O,{onClick:t,variant:"outline",size:"sm",disabled:a,children:[e.jsx(os,{className:`h-4 w-4 ${a?"animate-spin":""} mr-2`}),"Refresh"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scenario:"}),e.jsxs(ve,{value:n,onValueChange:i,children:[e.jsx(je,{className:"w-48",children:e.jsx(ye,{})}),e.jsx(fe,{children:u.map(x=>e.jsx(B,{value:x.id,children:x.name},x.id))})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Timeframe:"}),e.jsxs(ve,{value:c,onValueChange:o,children:[e.jsx(je,{className:"w-32",children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"6m",children:"6 Months"}),e.jsx(B,{value:"12m",children:"12 Months"}),e.jsx(B,{value:"24m",children:"24 Months"}),e.jsx(B,{value:"36m",children:"36 Months"})]})]})]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>f(!N),children:[e.jsx(ts,{className:"h-4 w-4 mr-2"}),"Advanced"]})]}),e.jsxs($e,{value:d,onValueChange:p,className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-7",children:[e.jsx(X,{value:"initiatives",children:"Initiatives"}),e.jsx(X,{value:"scenarios",children:"Scenarios"}),e.jsx(X,{value:"investments",children:"Investments"}),e.jsx(X,{value:"geographic",children:"Geographic"}),e.jsx(X,{value:"simulation",children:"Simulation"}),e.jsx(X,{value:"risks",children:"Risks"}),e.jsx(X,{value:"planning",children:"Planning"})]}),e.jsxs(Y,{value:"initiatives",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"Initiative Portfolio Overview"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.filter(x=>x.status==="in-progress").length}),e.jsx("div",{className:"text-sm text-blue-700",children:"Active Initiatives"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:y(s.reduce((x,E)=>x+E.budget,0))}),e.jsx("div",{className:"text-sm text-green-700",children:"Total Investment"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(s.reduce((x,E)=>x+E.roi,0)/s.length).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-purple-700",children:"Average ROI"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(s.reduce((x,E)=>x+E.progress,0)/s.length),"%"]}),e.jsx("div",{className:"text-sm text-orange-700",children:"Avg Progress"})]})]})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"ROI Performance Analysis"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:s.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[S(x.status),e.jsx("span",{className:"font-medium",children:x.name})]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Budget: ",y(x.budget)," | Spent: ",y(x.spent)," | Progress: ",x.progress,"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-lg font-bold ${x.roi>=300?"text-green-600":x.roi>=200?"text-blue-600":"text-gray-600"}`,children:[x.roi,"% ROI"]}),e.jsxs(L,{variant:"outline",className:T(x.riskLevel),children:[x.riskLevel," risk"]})]})]},x.id))})})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:s.map(x=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(k,{className:"text-lg",children:x.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description})]}),e.jsx(L,{variant:"outline",className:x.status==="completed"?"bg-green-100 text-green-800":x.status==="in-progress"?"bg-blue-100 text-blue-800":x.status==="planning"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:x.status.replace("-"," ")})]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Budget Utilization"}),e.jsxs("div",{className:"font-medium",children:[y(x.spent)," / ",y(x.budget)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Expected ROI"}),e.jsxs("div",{className:"font-medium text-green-600",children:[x.roi,"%"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[x.progress,"%"]})]}),e.jsx(ue,{value:x.progress,className:"h-2"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-600",children:"Timeline"}),e.jsxs("div",{className:"font-medium",children:[new Date(x.timeline.start).toLocaleDateString()," - ",new Date(x.timeline.end).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-600",children:"Owner"}),e.jsx("div",{className:"font-medium",children:x.owner})]}),N&&e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Risk Level:"}),e.jsx(L,{variant:"outline",className:T(x.riskLevel),children:x.riskLevel})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Milestones:"}),e.jsxs("span",{children:[x.timeline.milestones.length," planned"]})]})]})})]})]},x.id))})]}),e.jsx(Y,{value:"scenarios",className:"space-y-6",children:R&&e.jsxs(e.Fragment,{children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Scenario Analysis: ",R.name]}),e.jsx("p",{className:"text-gray-600",children:R.description})]}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Key Assumptions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Market Growth Rate"}),e.jsxs("span",{className:"font-medium",children:[R.assumptions.marketGrowth,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Investment Level"}),e.jsxs("span",{className:"font-medium",children:[R.assumptions.investmentLevel,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Risk Factor"}),e.jsxs("span",{className:"font-medium",children:[R.assumptions.riskFactor,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Timeframe"}),e.jsxs("span",{className:"font-medium",children:[R.assumptions.timeframe," months"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Projected Outcomes"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:y(R.projectedOutcomes.revenue)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Revenue"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:y(R.projectedOutcomes.profit)}),e.jsx("div",{className:"text-xs text-green-700",children:"Profit"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[R.projectedOutcomes.marketShare,"%"]}),e.jsx("div",{className:"text-xs text-purple-700",children:"Market Share"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[R.projectedOutcomes.roi,"%"]}),e.jsx("div",{className:"text-xs text-orange-700",children:"ROI"})]})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs(L,{variant:"outline",className:`${R.projectedOutcomes.confidence>=.8?"bg-green-100 text-green-800":R.projectedOutcomes.confidence>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(R.projectedOutcomes.confidence*100),"% Confidence"]})})]})]})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(tt,{className:"h-5 w-5"}),"Scenario Comparison Matrix"]})}),e.jsx(w,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Scenario"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Revenue"}),e.jsx("th",{className:"text-center py-3 px-4",children:"ROI"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Market Share"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Risk Level"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Confidence"})]})}),e.jsx("tbody",{children:u.map(x=>e.jsxs("tr",{className:`border-b border-gray-100 ${x.id===n?"bg-blue-50":""}`,children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:x.name}),e.jsx("td",{className:"text-center py-3 px-4",children:y(x.projectedOutcomes.revenue)}),e.jsxs("td",{className:"text-center py-3 px-4",children:[x.projectedOutcomes.roi,"%"]}),e.jsxs("td",{className:"text-center py-3 px-4",children:[x.projectedOutcomes.marketShare,"%"]}),e.jsxs("td",{className:"text-center py-3 px-4",children:[x.assumptions.riskFactor,"%"]}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsxs(L,{variant:"outline",className:`${x.projectedOutcomes.confidence>=.8?"bg-green-100 text-green-800":x.projectedOutcomes.confidence>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(x.projectedOutcomes.confidence*100),"%"]})})]},x.id))})]})})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"Scenario Risk Analysis"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:R.risks.map((x,E)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[x.category," Risk"]}),e.jsx("div",{className:"text-sm text-gray-600",children:x.mitigation})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Probability:"})," ",Math.round(x.probability*100),"%"]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Impact:"})," ",Math.round(x.impact*100),"%"]}),e.jsxs(L,{variant:"outline",className:g(x.probability,x.impact)>=50?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:["Score: ",g(x.probability,x.impact)]})]})]},E))})})]})]})}),e.jsxs(Y,{value:"investments",className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5"}),"Investment Opportunity Portfolio"]}),e.jsx("p",{className:"text-gray-600",children:"Prioritized investment opportunities with ROI analysis and strategic alignment"})]}),e.jsx(w,{children:e.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:v.sort((x,E)=>E.projectedRoi*E.strategicAlignment-x.projectedRoi*x.strategicAlignment).map(x=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(k,{className:"text-lg",children:x.title}),e.jsx(L,{variant:"outline",className:"mt-2",children:x.sector})]}),e.jsxs(L,{variant:"outline",className:T(x.riskLevel),children:[x.riskLevel," risk"]})]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:y(x.investmentRequired)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Investment Required"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[x.projectedRoi,"%"]}),e.jsx("div",{className:"text-xs text-green-700",children:"Projected ROI"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:y(x.npv)}),e.jsx("div",{className:"text-xs text-purple-700",children:"NPV"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[x.irr,"%"]}),e.jsx("div",{className:"text-xs text-orange-700",children:"IRR"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Time to Breakeven"}),e.jsxs("span",{className:"font-medium",children:[x.timeToBreakeven," months"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Strategic Alignment"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:x.strategicAlignment,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[x.strategicAlignment,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Market Size"}),e.jsx("span",{className:"font-medium",children:y(x.marketSize)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Payback Period"}),e.jsxs("span",{className:"font-medium",children:[x.paybackPeriod," years"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Discount Rate"}),e.jsxs("span",{className:"font-medium",children:[x.discountRate,"%"]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Competitive Advantage"}),e.jsx("div",{className:"text-sm font-medium",children:x.competitiveAdvantage})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{variant:"outline",className:`${x.confidence>=.8?"bg-green-100 text-green-800":x.confidence>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(x.confidence*100),"% Confidence"]}),e.jsx(O,{size:"sm",variant:"outline",children:"Detailed Analysis"})]})]})]},x.id))})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Portfolio Optimization Analysis"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Risk-Return Profile"}),e.jsx("div",{className:"space-y-3",children:["low","medium","high"].map(x=>{const E=v.filter(G=>G.riskLevel===x),M=E.reduce((G,I)=>G+I.projectedRoi,0)/E.length||0,$=E.reduce((G,I)=>G+I.investmentRequired,0);return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium capitalize",children:[x," Risk"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[E.length," opportunities"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[M.toFixed(1),"% ROI"]}),e.jsx("div",{className:"text-sm text-gray-600",children:y($)})]})]},x)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sector Distribution"}),e.jsx("div",{className:"space-y-3",children:Array.from(new Set(v.map(x=>x.sector))).map(x=>{const E=v.filter($=>$.sector===x),M=E.reduce(($,G)=>$+G.investmentRequired,0);return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x}),e.jsxs("div",{className:"text-sm text-gray-600",children:[E.length," opportunities"]})]}),e.jsx("div",{className:"font-medium",children:y(M)})]},x)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Recommended Allocation"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800",children:"Optimal Portfolio"}),e.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Balanced risk-return allocation"}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Expected ROI:"}),e.jsx("span",{className:"font-medium",children:"285%"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Total Investment:"}),e.jsx("span",{className:"font-medium",children:y(v.reduce((x,E)=>x+E.investmentRequired,0))})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Payback Period:"}),e.jsx("span",{className:"font-medium",children:"22 months"})]})]})]})})]})]})})]})]}),e.jsxs(Y,{value:"risks",className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5"}),"Strategic Risk Assessment & Mitigation"]}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive risk analysis with impact assessment and mitigation strategies"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:["critical","high","medium","low"].map(x=>{const E=C.filter(M=>M.severity===x);return e.jsxs("div",{className:`text-center p-4 rounded-lg ${x==="critical"?"bg-red-100":x==="high"?"bg-orange-100":x==="medium"?"bg-yellow-100":"bg-green-100"}`,children:[e.jsx("div",{className:`text-2xl font-bold ${x==="critical"?"text-red-600":x==="high"?"text-orange-600":x==="medium"?"text-yellow-600":"text-green-600"}`,children:E.length}),e.jsxs("div",{className:`text-sm ${x==="critical"?"text-red-700":x==="high"?"text-orange-700":x==="medium"?"text-yellow-700":"text-green-700"}`,children:[x.charAt(0).toUpperCase()+x.slice(1)," Risk"]})]},x)})}),e.jsx("div",{className:"space-y-4",children:C.sort((x,E)=>g(E.probability,E.impact)-g(x.probability,x.impact)).map(x=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(k,{className:"text-lg",children:x.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(L,{variant:"outline",className:x.category==="market"?"bg-blue-100 text-blue-800":x.category==="operational"?"bg-green-100 text-green-800":x.category==="financial"?"bg-purple-100 text-purple-800":x.category==="regulatory"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800",children:x.category}),e.jsx(L,{variant:"outline",className:T(x.severity),children:x.severity})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:g(x.probability,x.impact)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Risk Score"})]})]})}),e.jsx(w,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Risk Metrics"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Probability:"}),e.jsxs("span",{className:"font-medium",children:[Math.round(x.probability*100),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Impact:"}),e.jsxs("span",{className:"font-medium",children:[Math.round(x.impact*100),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Est. Cost:"}),e.jsx("span",{className:"font-medium",children:y(x.estimatedCost)})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Mitigation Strategy"}),e.jsx("div",{className:"text-sm",children:x.mitigationStrategy})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Management"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Owner:"})," ",x.owner]}),e.jsx(L,{variant:"outline",className:x.status==="resolved"?"bg-green-100 text-green-800":x.status==="mitigating"?"bg-blue-100 text-blue-800":x.status==="monitoring"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:x.status})]})]})]})})]},x.id))})]})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"Risk Mitigation Investment Summary"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:y(C.reduce((x,E)=>x+E.estimatedCost,0))}),e.jsx("div",{className:"text-sm text-red-700 mt-2",children:"Total Risk Exposure"})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:C.filter(x=>x.status==="mitigating").length}),e.jsx("div",{className:"text-sm text-blue-700 mt-2",children:"Active Mitigations"})]}),e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[Math.round(C.filter(x=>x.status==="resolved").length/C.length*100),"%"]}),e.jsx("div",{className:"text-sm text-green-700 mt-2",children:"Risks Resolved"})]})]})})]})]}),e.jsx(Y,{value:"geographic",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"Geographic Market Expansion Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Regional opportunity assessment and market penetration strategy"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.sort((x,E)=>E.opportunityScore-x.opportunityScore).map(x=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(k,{className:"text-lg",children:x.region}),e.jsx(L,{variant:"outline",className:"mt-2",children:x.state})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.opportunityScore}),e.jsx("div",{className:"text-sm text-gray-600",children:"Opportunity Score"})]})]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:y(x.marketSize)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Market Size"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:y(x.projectedRevenue)}),e.jsx("div",{className:"text-xs text-green-700",children:"Projected Revenue"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Current Penetration"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:x.penetrationRate,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[x.penetrationRate,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Regulatory Support"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:x.regulatorySupport,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[x.regulatorySupport,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Infrastructure"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:x.infrastructureScore,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[x.infrastructureScore,"%"]})]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Investment Required"}),e.jsx("span",{className:"font-medium",children:y(x.investmentRequired)})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Competition Level"}),e.jsx(L,{variant:"outline",className:T(x.competitionLevel),children:x.competitionLevel})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Risk Score"}),e.jsxs("span",{className:`font-medium ${x.riskScore<=20?"text-green-600":x.riskScore<=30?"text-yellow-600":"text-red-600"}`,children:[x.riskScore,"/100"]})]})]}),e.jsx(O,{size:"sm",className:"w-full",children:"View Detailed Analysis"})]})]},x.id))}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Regional Expansion Summary"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y(j.reduce((x,E)=>x+E.marketSize,0))}),e.jsx("div",{className:"text-sm text-blue-700 mt-2",children:"Total Addressable Market"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:y(j.reduce((x,E)=>x+E.investmentRequired,0))}),e.jsx("div",{className:"text-sm text-green-700 mt-2",children:"Total Investment Required"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y(j.reduce((x,E)=>x+E.projectedRevenue,0))}),e.jsx("div",{className:"text-sm text-purple-700 mt-2",children:"Total Projected Revenue"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(j.reduce((x,E)=>x+E.opportunityScore,0)/j.length)}),e.jsx("div",{className:"text-sm text-orange-700 mt-2",children:"Avg Opportunity Score"})]})]})})]})]})})]})}),e.jsx(Y,{value:"simulation",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Monte Carlo Simulation & Sensitivity Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Statistical modeling and risk assessment for strategic scenarios"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Monte Carlo Simulation Results (10,000 iterations)"}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:P.map(x=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(k,{className:"text-lg capitalize",children:[x.scenario," Scenario"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(L,{variant:"outline",className:`${x.confidenceLevel>=.8?"bg-green-100 text-green-800":x.confidenceLevel>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(x.confidenceLevel*100),"% Confidence"]}),e.jsxs(L,{variant:"outline",className:`${x.riskOfLoss<=.1?"bg-green-100 text-green-800":x.riskOfLoss<=.25?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(x.riskOfLoss*100),"% Risk of Loss"]})]})]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-blue-600",children:"Revenue Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Mean:"}),e.jsx("span",{className:"font-medium",children:y(x.outcomes.revenue.mean)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Std Dev:"}),e.jsx("span",{className:"font-medium",children:y(x.outcomes.revenue.stdDev)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"95th %ile:"}),e.jsx("span",{className:"font-medium text-green-600",children:y(x.outcomes.revenue.percentile95)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5th %ile:"}),e.jsx("span",{className:"font-medium text-red-600",children:y(x.outcomes.revenue.percentile5)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-green-600",children:"Profit Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Mean:"}),e.jsx("span",{className:"font-medium",children:y(x.outcomes.profit.mean)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Std Dev:"}),e.jsx("span",{className:"font-medium",children:y(x.outcomes.profit.stdDev)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"95th %ile:"}),e.jsx("span",{className:"font-medium text-green-600",children:y(x.outcomes.profit.percentile95)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5th %ile:"}),e.jsx("span",{className:"font-medium text-red-600",children:y(x.outcomes.profit.percentile5)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-purple-600",children:"ROI Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Mean:"}),e.jsxs("span",{className:"font-medium",children:[x.outcomes.roi.mean.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Std Dev:"}),e.jsxs("span",{className:"font-medium",children:[x.outcomes.roi.stdDev.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"95th %ile:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[x.outcomes.roi.percentile95.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5th %ile:"}),e.jsxs("span",{className:"font-medium text-red-600",children:[x.outcomes.roi.percentile5.toFixed(1),"%"]})]})]})]})]})})]},x.scenario))})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Sensitivity Analysis - Key Variables Impact"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:A.map((x,E)=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{className:"text-lg",children:x.variable}),e.jsxs(L,{variant:"outline",className:`${Math.abs(x.elasticity)>=1.2?"bg-red-100 text-red-800":Math.abs(x.elasticity)>=.8?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:["Elasticity: ",x.elasticity.toFixed(2)]})]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[x.baseValue," ",x.unit]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Base Value"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h5",{className:"font-medium text-red-600",children:["Downside Scenario (",x.impact.low.change,"%)"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Revenue Impact:"}),e.jsx("span",{className:"font-medium text-red-600",children:y(x.impact.low.revenueImpact)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"ROI Impact:"}),e.jsxs("span",{className:"font-medium text-red-600",children:[x.impact.low.roiImpact.toFixed(1),"%"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h5",{className:"font-medium text-green-600",children:["Upside Scenario (",x.impact.high.change,"%)"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Revenue Impact:"}),e.jsx("span",{className:"font-medium text-green-600",children:y(x.impact.high.revenueImpact)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"ROI Impact:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["+",x.impact.high.roiImpact.toFixed(1),"%"]})]})]})]})]})})]},E))})})]})]})})]})}),e.jsx(Y,{value:"planning",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-5 w-5"}),"Long-term Business Planning Framework"]}),e.jsx("p",{className:"text-gray-600",children:"Strategic roadmap and long-term vision execution"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Strategic Vision Timeline (2024-2027)"}),e.jsx("div",{className:"space-y-4",children:[{year:"2024",focus:"Market Consolidation & Technology Integration",goals:["Achieve 25% market share","Complete AI optimization rollout","Launch carbon trading platform"],investment:85e7,targetRoi:280},{year:"2025",focus:"Regional Expansion & Innovation",goals:["Expand to 5 new regions","Launch next-gen biogas technology","Establish R&D centers"],investment:12e8,targetRoi:320},{year:"2026",focus:"International Markets & Sustainability Leadership",goals:["Enter international markets","Achieve carbon neutrality","IPO preparation"],investment:18e8,targetRoi:380},{year:"2027",focus:"Global Leadership & Ecosystem Development",goals:["Global market presence","Complete ecosystem integration","Industry leadership"],investment:25e8,targetRoi:450}].map(x=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(k,{className:"text-lg",children:[x.year,": ",x.focus]}),e.jsxs(L,{variant:"outline",className:"bg-blue-100 text-blue-800",children:[x.targetRoi,"% ROI Target"]})]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Strategic Goals"}),e.jsx("ul",{className:"space-y-1",children:x.goals.map((E,M)=>e.jsxs("li",{className:"text-sm flex items-center gap-2",children:[e.jsx(de,{className:"h-3 w-3 text-green-600"}),E]},M))})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Planned Investment"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y(x.investment)})]})]})})]},x.year))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"Long-term KPI Targets"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:[{metric:"Annual Revenue",current:"₹125Cr",target:"₹500Cr",progress:25},{metric:"Market Share",current:"18.5%",target:"40%",progress:46},{metric:"Geographic Presence",current:"12 states",target:"28 states",progress:43},{metric:"Carbon Credits",current:"450 tons",target:"2,000 tons",progress:23},{metric:"Customer Base",current:"15,000",target:"100,000",progress:15}].map((x,E)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:x.metric}),e.jsxs("span",{className:"text-gray-600",children:[x.current," → ",x.target]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:x.progress,className:"h-2 flex-1"}),e.jsxs("span",{className:"text-sm font-medium",children:[x.progress,"%"]})]})]},E))})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"h-5 w-5"}),"Strategic Success Factors"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:[{factor:"Technology Innovation",score:85,trend:"up"},{factor:"Market Position",score:78,trend:"up"},{factor:"Financial Health",score:92,trend:"stable"},{factor:"Operational Excellence",score:87,trend:"up"},{factor:"Sustainability Leadership",score:74,trend:"up"},{factor:"Talent & Culture",score:81,trend:"stable"}].map((x,E)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:x.factor}),x.trend==="up"?e.jsx(Xs,{className:"h-4 w-4 text-green-600"}):x.trend==="down"?e.jsx(Jt,{className:"h-4 w-4 text-red-600"}):e.jsx(Vt,{className:"h-4 w-4 text-gray-600"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:x.score,className:"h-2 w-16"}),e.jsxs("span",{className:"text-sm font-medium",children:[x.score,"%"]})]})]},E))})})]})]})]})})]})})]})]})},Fx=()=>{const{carbonMetrics:s,refreshData:t,refreshing:a}=ot(),[r,n]=h.useState("12m"),[i,c]=h.useState("revenue"),[o,d]=h.useState("credits"),[p,N]=h.useState(!1),[f]=h.useState([{id:"cc001",projectName:"Biogas Plant Maharashtra",creditType:"VCS",creditsGenerated:120,creditsIssued:115,creditsSold:98,pricePerCredit:185e3,revenue:1813e4,vintage:2024,expiryDate:"2034-12-31",co2Reduced:600,verificationStatus:"issued",buyer:"Green Energy Corp",additionalityScore:92},{id:"cc002",projectName:"Rural Biogas Gujarat",creditType:"Gold Standard",creditsGenerated:85,creditsIssued:85,creditsSold:75,pricePerCredit:21e4,revenue:1575e4,vintage:2024,expiryDate:"2034-06-30",co2Reduced:425,verificationStatus:"issued",buyer:"Climate Solutions Ltd",additionalityScore:89},{id:"cc003",projectName:"Community Biogas Punjab",creditType:"CDM",creditsGenerated:150,creditsIssued:0,creditsSold:0,pricePerCredit:165e3,revenue:0,vintage:2024,expiryDate:"2034-09-30",co2Reduced:750,verificationStatus:"pending",additionalityScore:87},{id:"cc004",projectName:"Integrated Waste Management",creditType:"VER",creditsGenerated:200,creditsIssued:180,creditsSold:160,pricePerCredit:155e3,revenue:248e5,vintage:2024,expiryDate:"2034-03-31",co2Reduced:1e3,verificationStatus:"issued",buyer:"Carbon Offset International",additionalityScore:94}]),[u]=h.useState({environmental:{carbonReduction:2775,renewableEnergyGenerated:45e3,wasteReduction:125e3,waterConservation:85e3,biodiversityImpact:78,certifications:["ISO 14001","Gold Standard","VCS","B Corp"],score:87},social:{jobsCreated:1250,communityImpact:85,ruralFamiliesBenefited:12500,healthImprovements:78,educationPrograms:45,genderEquity:72,score:82},governance:{boardDiversity:68,transparencyIndex:91,ethicsScore:89,complianceRating:94,stakeholderEngagement:86,dataQuality:92,score:88},overallRating:"A"}),[v]=h.useState([{date:"2024-01",vcsPrice:142e3,cdmPrice:128e3,goldStandardPrice:195e3,volume:25e5,volatility:.15,marketCap:45e9},{date:"2024-02",vcsPrice:148e3,cdmPrice:135e3,goldStandardPrice:201e3,volume:275e4,volatility:.12,marketCap:475e8},{date:"2024-03",vcsPrice:155e3,cdmPrice:14e4,goldStandardPrice:205e3,volume:29e5,volatility:.18,marketCap:502e8},{date:"2024-04",vcsPrice:162e3,cdmPrice:145e3,goldStandardPrice:21e4,volume:31e5,volatility:.14,marketCap:528e8},{date:"2024-05",vcsPrice:175e3,cdmPrice:158e3,goldStandardPrice:218e3,volume:335e4,volatility:.16,marketCap:556e8},{date:"2024-06",vcsPrice:185e3,cdmPrice:165e3,goldStandardPrice:225e3,volume:35e5,volatility:.11,marketCap:582e8}]),[j]=h.useState([{id:"tcfd",framework:"TCFD (Task Force on Climate-related Financial Disclosures)",status:"compliant",lastAssessment:"2024-03-15",nextDue:"2025-03-15",score:92,requirements:[{requirement:"Climate Risk Governance",status:"met",evidence:"Board climate committee established"},{requirement:"Strategy Disclosure",status:"met",evidence:"Climate strategy published"},{requirement:"Risk Management",status:"met",evidence:"Climate risk framework implemented"},{requirement:"Metrics & Targets",status:"met",evidence:"Net-zero targets set"}],riskLevel:"low"},{id:"ghg",framework:"GHG Protocol Corporate Standard",status:"compliant",lastAssessment:"2024-02-28",nextDue:"2025-02-28",score:89,requirements:[{requirement:"Scope 1 Emissions",status:"met",evidence:"Direct emissions calculated"},{requirement:"Scope 2 Emissions",status:"met",evidence:"Indirect emissions reported"},{requirement:"Scope 3 Emissions",status:"partial",evidence:"Value chain assessment ongoing"},{requirement:"Verification",status:"met",evidence:"Third-party verified"}],riskLevel:"low"},{id:"science_targets",framework:"Science Based Targets initiative (SBTi)",status:"pending",lastAssessment:"2024-01-15",nextDue:"2024-07-15",score:75,requirements:[{requirement:"Target Setting",status:"met",evidence:"Targets submitted for validation"},{requirement:"Coverage",status:"partial",evidence:"85% scope 1&2 coverage achieved"},{requirement:"Timeline",status:"met",evidence:"Net-zero by 2050 committed"},{requirement:"Validation",status:"not-met",evidence:"Awaiting SBTi approval"}],riskLevel:"medium"},{id:"cdp",framework:"CDP Climate Change",status:"compliant",lastAssessment:"2024-04-30",nextDue:"2025-04-30",score:85,requirements:[{requirement:"Climate Governance",status:"met",evidence:"A- rating achieved"},{requirement:"Risk & Opportunity",status:"met",evidence:"Comprehensive assessment"},{requirement:"Business Strategy",status:"met",evidence:"Climate integration documented"},{requirement:"Targets & Performance",status:"met",evidence:"Progress tracking implemented"}],riskLevel:"low"}]),P=g=>g>=1e7?`₹${(g/1e7).toFixed(1)}Cr`:g>=1e5?`₹${(g/1e5).toFixed(1)}L`:`₹${g.toLocaleString()}`,A=g=>{switch(g){case"verified":case"issued":case"compliant":case"met":return"bg-green-100 text-green-800";case"pending":case"partial":return"bg-yellow-100 text-yellow-800";case"non-compliant":case"not-met":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=g=>{switch(g){case"A+":case"A":return"bg-green-100 text-green-800 border-green-300";case"B+":case"B":return"bg-blue-100 text-blue-800 border-blue-300";case"C+":case"C":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"D":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=g=>{switch(g){case"VCS":return e.jsx(we,{className:"h-4 w-4"});case"Gold Standard":return e.jsx(yt,{className:"h-4 w-4"});case"CDM":return e.jsx(Ht,{className:"h-4 w-4"});case"CAR":return e.jsx(Yt,{className:"h-4 w-4"});case"VER":return e.jsx(qi,{className:"h-4 w-4"});default:return e.jsx(Is,{className:"h-4 w-4"})}},S=()=>{const g=f.reduce((x,E)=>x+E.creditsGenerated,0),l=f.reduce((x,E)=>x+E.revenue,0),m=l/f.reduce((x,E)=>x+E.creditsSold,0),R=`Carbon Analytics Summary: Generated ${g} carbon credits with total revenue of ${P(l)}. Average price per credit is ${P(m)}. ESG rating is ${u.overallRating}. Environmental score is ${u.environmental.score}%, social score is ${u.social.score}%, and governance score is ${u.governance.score}%.`;if("speechSynthesis"in window){const x=new SpeechSynthesisUtterance(R);speechSynthesis.speak(x)}},T=()=>{const g={timestamp:new Date().toISOString(),carbonCredits:f,esgMetrics:u,marketTrends:v,complianceFrameworks:j,summary:{totalCredits:f.reduce((x,E)=>x+E.creditsGenerated,0),totalRevenue:f.reduce((x,E)=>x+E.revenue,0),co2Reduced:f.reduce((x,E)=>x+E.co2Reduced,0),overallESGRating:u.overallRating}},l=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),m=URL.createObjectURL(l),R=document.createElement("a");R.href=m,R.download=`carbon-analytics-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(m)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Carbon Analytics & ESG Reporting"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive carbon credit tracking, environmental impact analysis, and ESG compliance"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(O,{onClick:S,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(O,{onClick:T,variant:"outline",size:"sm",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(O,{onClick:t,variant:"outline",size:"sm",disabled:a,children:[e.jsx(os,{className:`h-4 w-4 ${a?"animate-spin":""} mr-2`}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Credits Generated"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.reduce((g,l)=>g+l.creditsGenerated,0)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.reduce((g,l)=>g+l.co2Reduced,0)," tons CO₂"]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Is,{className:"h-6 w-6 text-green-600"})})]})})}),e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Carbon Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:P(f.reduce((g,l)=>g+l.revenue,0))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"+22% from last quarter"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(We,{className:"h-6 w-6 text-blue-600"})})]})})}),e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ESG Rating"}),e.jsx("p",{className:`text-2xl font-bold border-2 px-3 py-1 rounded-lg inline-block ${C(u.overallRating)}`,children:u.overallRating}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Top 10% in industry"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(yt,{className:"h-6 w-6 text-purple-600"})})]})})}),e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Market Price Avg"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:P(v[v.length-1]?.vcsPrice||0)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center",children:[e.jsx(Xs,{className:"h-3 w-3 text-green-600 mr-1"}),"+18% this month"]})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(he,{className:"h-6 w-6 text-orange-600"})})]})})})]}),e.jsxs($e,{value:o,onValueChange:d,className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-5",children:[e.jsx(X,{value:"credits",children:"Carbon Credits"}),e.jsx(X,{value:"esg",children:"ESG Metrics"}),e.jsx(X,{value:"compliance",children:"Compliance"}),e.jsx(X,{value:"market",children:"Market Analysis"}),e.jsx(X,{value:"projections",children:"Projections"})]}),e.jsx(Y,{value:"credits",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-5 w-5"}),"Carbon Credit Portfolio Management"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-6",children:f.map(g=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(k,{className:"text-lg",children:g.projectName}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(L,{variant:"outline",className:"flex items-center gap-1",children:[y(g.creditType),g.creditType]}),e.jsx(L,{variant:"outline",className:A(g.verificationStatus),children:g.verificationStatus}),e.jsxs(L,{variant:"outline",children:["Vintage ",g.vintage]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.creditsGenerated}),e.jsx("div",{className:"text-sm text-gray-600",children:"Credits Generated"})]})]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:g.creditsIssued}),e.jsx("div",{className:"text-xs text-blue-700",children:"Issued"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:g.creditsSold}),e.jsx("div",{className:"text-xs text-green-700",children:"Sold"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:P(g.pricePerCredit)}),e.jsx("div",{className:"text-xs text-purple-700",children:"Price/Credit"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:P(g.revenue)}),e.jsx("div",{className:"text-xs text-orange-700",children:"Revenue"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"CO₂ Reduction:"}),e.jsxs("div",{className:"font-medium",children:[g.co2Reduced," tons"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Additionality Score:"}),e.jsxs("div",{className:"font-medium",children:[g.additionalityScore,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Expires:"}),e.jsx("div",{className:"font-medium",children:new Date(g.expiryDate).toLocaleDateString()})]})]}),g.buyer&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Buyer:"}),e.jsx("span",{className:"font-medium ml-2",children:g.buyer})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Utilization:"}),e.jsxs("span",{className:"font-medium ml-2",children:[Math.round(g.creditsSold/g.creditsGenerated*100),"%"]})]}),e.jsx(O,{size:"sm",variant:"outline",children:"View Details"})]})]})]},g.id))})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(tt,{className:"h-5 w-5"}),"Credit Type Distribution"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:Array.from(new Set(f.map(g=>g.creditType))).map(g=>{const l=f.filter(E=>E.creditType===g),m=l.reduce((E,M)=>E+M.creditsGenerated,0),R=l.reduce((E,M)=>E+M.revenue,0),x=m/f.reduce((E,M)=>E+M.creditsGenerated,0)*100;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded",children:y(g)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:g}),e.jsxs("div",{className:"text-sm text-gray-600",children:[l.length," projects"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[m," credits"]}),e.jsx("div",{className:"text-sm text-gray-600",children:P(R)}),e.jsxs("div",{className:"text-xs text-blue-600",children:[x.toFixed(1),"%"]})]})]},g)})})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Performance Metrics"]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Average Additionality Score"}),e.jsxs("span",{children:[(f.reduce((g,l)=>g+l.additionalityScore,0)/f.length).toFixed(1),"%"]})]}),e.jsx(ue,{value:f.reduce((g,l)=>g+l.additionalityScore,0)/f.length,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Credit Issuance Rate"}),e.jsxs("span",{children:[Math.round(f.reduce((g,l)=>g+l.creditsIssued,0)/f.reduce((g,l)=>g+l.creditsGenerated,0)*100),"%"]})]}),e.jsx(ue,{value:f.reduce((g,l)=>g+l.creditsIssued,0)/f.reduce((g,l)=>g+l.creditsGenerated,0)*100,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Sales Conversion Rate"}),e.jsxs("span",{children:[Math.round(f.reduce((g,l)=>g+l.creditsSold,0)/f.reduce((g,l)=>g+l.creditsIssued,0)*100),"%"]})]}),e.jsx(ue,{value:f.reduce((g,l)=>g+l.creditsSold,0)/f.reduce((g,l)=>g+l.creditsIssued,0)*100,className:"h-2"})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:P(f.reduce((g,l)=>g+l.revenue,0)/f.reduce((g,l)=>g+l.creditsSold,0))}),e.jsx("div",{className:"text-xs text-green-700",children:"Avg Price/Credit"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:f.reduce((g,l)=>g+l.co2Reduced,0)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Total CO₂ Reduced"})]})]})})]})})]})]})]})}),e.jsx(Y,{value:"esg",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(yt,{className:"h-5 w-5"}),"ESG Performance Dashboard"]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx("div",{className:`text-3xl font-bold border-2 px-4 py-2 rounded-lg ${C(u.overallRating)}`,children:u.overallRating}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Overall ESG Rating"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Industry ranking: Top 10%"})]})]})]}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2 text-green-700",children:[e.jsx(Is,{className:"h-5 w-5"}),"Environmental"]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:u.environmental.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Carbon Reduction"}),e.jsxs("span",{className:"font-medium",children:[u.environmental.carbonReduction," tons"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Renewable Energy"}),e.jsxs("span",{className:"font-medium",children:[u.environmental.renewableEnergyGenerated.toLocaleString()," kWh"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Waste Reduction"}),e.jsxs("span",{className:"font-medium",children:[u.environmental.wasteReduction.toLocaleString()," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Water Conservation"}),e.jsxs("span",{className:"font-medium",children:[u.environmental.waterConservation.toLocaleString()," L"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Certifications"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:u.environmental.certifications.map((g,l)=>e.jsx(L,{variant:"outline",className:"text-xs",children:g},l))})]})]})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(Ie,{className:"h-5 w-5"}),"Social"]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:u.social.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Jobs Created"}),e.jsx("span",{className:"font-medium",children:u.social.jobsCreated.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Families Benefited"}),e.jsx("span",{className:"font-medium",children:u.social.ruralFamiliesBenefited.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Health Improvements"}),e.jsxs("span",{className:"font-medium",children:[u.social.healthImprovements,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Education Programs"}),e.jsx("span",{className:"font-medium",children:u.social.educationPrograms})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Gender Equity"}),e.jsxs("span",{className:"font-medium",children:[u.social.genderEquity,"%"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Community Impact"}),e.jsxs("span",{children:[u.social.communityImpact,"%"]})]}),e.jsx(ue,{value:u.social.communityImpact,className:"h-2"})]})]})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2 text-purple-700",children:[e.jsx(Zr,{className:"h-5 w-5"}),"Governance"]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:u.governance.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Board Diversity"}),e.jsxs("span",{children:[u.governance.boardDiversity,"%"]})]}),e.jsx(ue,{value:u.governance.boardDiversity,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Transparency Index"}),e.jsxs("span",{children:[u.governance.transparencyIndex,"%"]})]}),e.jsx(ue,{value:u.governance.transparencyIndex,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ethics Score"}),e.jsxs("span",{children:[u.governance.ethicsScore,"%"]})]}),e.jsx(ue,{value:u.governance.ethicsScore,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Compliance Rating"}),e.jsxs("span",{children:[u.governance.complianceRating,"%"]})]}),e.jsx(ue,{value:u.governance.complianceRating,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Data Quality"}),e.jsxs("span",{children:[u.governance.dataQuality,"%"]})]}),e.jsx(ue,{value:u.governance.dataQuality,className:"h-1"})]})]})]})]})]})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"ESG Initiatives & Targets"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-6",children:[{category:"Environmental",initiatives:[{name:"Carbon Neutrality by 2030",progress:68,target:"100% by 2030",status:"on-track"},{name:"Renewable Energy Adoption",progress:85,target:"100% by 2026",status:"ahead"},{name:"Waste Reduction Program",progress:72,target:"50% reduction by 2025",status:"on-track"},{name:"Water Conservation Initiative",progress:58,target:"30% reduction by 2025",status:"behind"}]},{category:"Social",initiatives:[{name:"Rural Employment Generation",progress:78,target:"2,000 jobs by 2025",status:"on-track"},{name:"Women Empowerment Program",progress:65,target:"40% female workforce",status:"on-track"},{name:"Community Health Initiatives",progress:82,target:"50 health centers",status:"ahead"},{name:"Educational Scholarships",progress:45,target:"1,000 scholarships",status:"behind"}]},{category:"Governance",initiatives:[{name:"Board Independence",progress:75,target:"80% independence",status:"on-track"},{name:"Transparency Reporting",progress:90,target:"Quarterly reports",status:"ahead"},{name:"Ethics Training Program",progress:88,target:"100% completion",status:"on-track"},{name:"Stakeholder Engagement",progress:70,target:"Monthly sessions",status:"on-track"}]}].map(g=>e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:[g.category," Initiatives"]}),e.jsx("div",{className:"space-y-3",children:g.initiatives.map((l,m)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:l.name}),e.jsx(L,{variant:"outline",className:l.status==="ahead"?"bg-green-100 text-green-800":l.status==="on-track"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800",children:l.status})]}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:l.target})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-24",children:e.jsx(ue,{value:l.progress,className:"h-2"})}),e.jsxs("span",{className:"text-sm font-medium w-12 text-right",children:[l.progress,"%"]})]})]},m))})]},g.category))})})]})]})}),e.jsx(Y,{value:"compliance",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"Regulatory Compliance & Risk Assessment"]}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive compliance tracking across all relevant frameworks"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:["compliant","partial","pending","non-compliant"].map(g=>{const l=j.filter(m=>m.status===g);return e.jsxs("div",{className:`text-center p-4 rounded-lg ${g==="compliant"?"bg-green-100":g==="partial"?"bg-yellow-100":g==="pending"?"bg-blue-100":"bg-red-100"}`,children:[e.jsx("div",{className:`text-2xl font-bold ${g==="compliant"?"text-green-600":g==="partial"?"text-yellow-600":g==="pending"?"text-blue-600":"text-red-600"}`,children:l.length}),e.jsx("div",{className:`text-sm ${g==="compliant"?"text-green-700":g==="partial"?"text-yellow-700":g==="pending"?"text-blue-700":"text-red-700"}`,children:g.charAt(0).toUpperCase()+g.slice(1)})]},g)})}),e.jsx("div",{className:"space-y-4",children:j.map(g=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(k,{className:"text-lg",children:g.framework}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(L,{variant:"outline",className:A(g.status),children:g.status}),e.jsxs(L,{variant:"outline",className:A(g.riskLevel),children:[g.riskLevel," risk"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Compliance Score"})]})]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Last Assessment:"}),e.jsx("div",{className:"font-medium",children:new Date(g.lastAssessment).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Next Due:"}),e.jsx("div",{className:"font-medium",children:new Date(g.nextDue).toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Requirements Status"}),e.jsx("div",{className:"space-y-2",children:g.requirements.map((l,m)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",children:l.requirement}),e.jsx("div",{className:"text-xs text-gray-600",children:l.evidence})]}),e.jsx(L,{variant:"outline",className:A(l.status),children:l.status})]},m))})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Overall Progress:"}),e.jsxs("span",{className:"font-medium ml-2",children:[Math.round(g.requirements.filter(l=>l.status==="met").length/g.requirements.length*100),"%"]})]}),e.jsx(O,{size:"sm",variant:"outline",children:"View Report"})]})]})]},g.id))})]})})]})}),e.jsx(Y,{value:"market",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Carbon Market Trends & Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Real-time market data and trend analysis for carbon credit pricing"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P(v[v.length-1]?.vcsPrice||0)}),e.jsx("div",{className:"text-sm text-blue-700",children:"VCS Price"}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["+",((v[v.length-1]?.vcsPrice-v[0]?.vcsPrice)/v[0]?.vcsPrice*100).toFixed(1),"% YTD"]})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:P(v[v.length-1]?.goldStandardPrice||0)}),e.jsx("div",{className:"text-sm text-green-700",children:"Gold Standard"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Premium Standard"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[((v[v.length-1]?.volume||0)/1e6).toFixed(1),"M"]}),e.jsx("div",{className:"text-sm text-purple-700",children:"Monthly Volume"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Credits Traded"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[((v[v.length-1]?.volatility||0)*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-orange-700",children:"Volatility"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"30-day average"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Price Trends by Credit Type"})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:["VCS","Gold Standard","CDM"].map(g=>{const l=g==="VCS"?v[v.length-1]?.vcsPrice:g==="Gold Standard"?v[v.length-1]?.goldStandardPrice:v[v.length-1]?.cdmPrice,m=g==="VCS"?v[0]?.vcsPrice:g==="Gold Standard"?v[0]?.goldStandardPrice:v[0]?.cdmPrice,R=(l-m)/m*100;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded",children:y(g)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:g}),e.jsx("div",{className:"text-sm text-gray-600",children:P(l)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`flex items-center gap-1 ${R>=0?"text-green-600":"text-red-600"}`,children:[R>=0?e.jsx(Xs,{className:"h-4 w-4"}):e.jsx(Jt,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[R>=0?"+":"",R.toFixed(1),"%"]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"6-month change"})]})]},g)})})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Market Opportunities"})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:[{opportunity:"International Markets",description:"EU ETS pricing 35% higher than domestic",potential:"₹8.5Cr additional revenue",confidence:78,timeframe:"6-9 months"},{opportunity:"Article 6 Compliance",description:"Paris Agreement implementation creating premium",potential:"₹12.2Cr market expansion",confidence:65,timeframe:"12-18 months"},{opportunity:"Corporate ESG Demand",description:"Increased corporate carbon neutrality commitments",potential:"₹15.8Cr demand growth",confidence:85,timeframe:"3-6 months"}].map((g,l)=>e.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-green-800",children:g.opportunity}),e.jsx("div",{className:"text-sm text-green-700 mt-1",children:g.description}),e.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Timeframe:"})," ",g.timeframe]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("div",{className:"font-medium text-green-600",children:g.potential}),e.jsxs(L,{variant:"outline",className:"mt-1 bg-green-100 text-green-800",children:[g.confidence,"% confidence"]})]})]})},l))})})]})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-5 w-5"}),"Price Forecasting & Revenue Projections"]})}),e.jsx(w,{children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:["Conservative","Baseline","Optimistic"].map((g,l)=>{const m=l===0?1.1:l===1?1.25:1.45,R=v[v.length-1]?.vcsPrice*m,x=f.reduce((E,M)=>E+M.creditsGenerated*R,0);return e.jsx("div",{className:`p-4 rounded-lg ${g==="Conservative"?"bg-yellow-50 border border-yellow-200":g==="Baseline"?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[g," Scenario"]}),e.jsx("div",{className:`text-2xl font-bold mt-2 ${g==="Conservative"?"text-yellow-600":g==="Baseline"?"text-blue-600":"text-green-600"}`,children:P(R)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Projected Price/Credit"}),e.jsx("div",{className:"text-lg font-medium text-gray-900 mt-3",children:P(x)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue Potential"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[((x-f.reduce((E,M)=>E+M.revenue,0))/f.reduce((E,M)=>E+M.revenue,0)*100).toFixed(1),"% increase"]})]})},g)})})})]})]})})]})}),e.jsx(Y,{value:"projections",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Carbon Revenue & Impact Projections"]}),e.jsx("p",{className:"text-gray-600",children:"Long-term forecasting and strategic carbon planning"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Timeframe:"}),e.jsxs(ve,{value:r,onValueChange:n,children:[e.jsx(je,{className:"w-32",children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"12m",children:"12 Months"}),e.jsx(B,{value:"24m",children:"24 Months"}),e.jsx(B,{value:"36m",children:"36 Months"}),e.jsx(B,{value:"60m",children:"60 Months"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Growth Scenario:"}),e.jsxs(ve,{defaultValue:"baseline",children:[e.jsx(je,{className:"w-40",children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"conservative",children:"Conservative"}),e.jsx(B,{value:"baseline",children:"Baseline"}),e.jsx(B,{value:"aggressive",children:"Aggressive"})]})]})]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>N(!p),children:[e.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Advanced Modeling"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Revenue Growth Projections"})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:[{period:"2024 Q4",revenue:785e5,growth:15.2,confidence:92},{period:"2025 Q1",revenue:952e5,growth:21.3,confidence:87},{period:"2025 Q2",revenue:1187e5,growth:24.7,confidence:82},{period:"2025 Q3",revenue:1458e5,growth:22.8,confidence:78},{period:"2025 Q4",revenue:1752e5,growth:25.1,confidence:74}].map((g,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:g.period}),e.jsxs("div",{className:"text-sm text-gray-600",children:["+",g.growth,"% growth"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-green-600",children:P(g.revenue)}),e.jsxs(L,{variant:"outline",className:"mt-1 text-xs",children:[g.confidence,"% confidence"]})]})]},l))})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(k,{children:"Impact Projections"})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:[{metric:"CO₂ Reduction",current:2775,projected:8500,unit:"tons",growth:206},{metric:"Credits Generated",current:555,projected:1850,unit:"credits",growth:233},{metric:"Projects Active",current:4,projected:15,unit:"projects",growth:275},{metric:"Communities Impacted",current:125,projected:450,unit:"communities",growth:260},{metric:"Jobs Created",current:1250,projected:4200,unit:"jobs",growth:236}].map((g,l)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:g.metric}),e.jsxs("span",{className:"text-sm text-gray-600",children:[g.current.toLocaleString()," → ",g.projected.toLocaleString()," ",g.unit]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:75,className:"h-2 flex-1"}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",g.growth,"%"]})]})]},l))})})]})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"2025-2027 Strategic Carbon Targets"]})}),e.jsx(w,{children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[{year:"2025",targets:["Generate 1,500 carbon credits","Achieve ₹85Cr carbon revenue","Expand to 8 new regions","Launch carbon trading platform"],investment:18e7,expectedRoi:285},{year:"2026",targets:["Generate 2,500 carbon credits","Achieve ₹145Cr carbon revenue","International market entry","Carbon neutrality certification"],investment:32e7,expectedRoi:340},{year:"2027",targets:["Generate 4,000 carbon credits","Achieve ₹250Cr carbon revenue","Industry leadership position","Complete ESG integration"],investment:5e8,expectedRoi:420}].map(g=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(D,{children:[e.jsxs(k,{className:"text-lg",children:[g.year," Targets"]}),e.jsxs(L,{variant:"outline",className:"w-fit bg-blue-100 text-blue-800",children:[g.expectedRoi,"% ROI"]})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Strategic Goals"}),e.jsx("ul",{className:"space-y-1",children:g.targets.map((l,m)=>e.jsxs("li",{className:"text-sm flex items-start gap-2",children:[e.jsx(de,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),l]},m))})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Required Investment"}),e.jsx("div",{className:"text-lg font-bold text-blue-600",children:P(g.investment)})]})]})]},g.year))})})]})]})})]})})]})]})},_x=()=>{const{competitiveData:s,refreshData:t,refreshing:a}=ot(),[r,n]=h.useState("12m"),[i,c]=h.useState("all"),[o,d]=h.useState("overview"),[p,N]=h.useState(!1),[f]=h.useState([{id:"comp001",name:"EcoGas Solutions",tier:"direct",marketShare:25.3,revenue:18e10,growth:18.5,employees:3200,regions:["Maharashtra","Gujarat","Rajasthan","Punjab"],strengths:["Government Relations","Scale Operations","Financial Resources"],weaknesses:["Innovation Speed","Rural Penetration","Technology Adoption"],recentMoves:["Acquired tech startup for ₹45Cr","Launched mobile app platform","Expanded to 3 new states"],threatLevel:"high",innovationScore:72,customerSatisfaction:78,financialHealth:91,operationalEfficiency:85},{id:"comp002",name:"GreenTech Biogas",tier:"direct",marketShare:22.1,revenue:158e9,growth:22.3,employees:2800,regions:["Tamil Nadu","Karnataka","Andhra Pradesh","Kerala"],strengths:["Technology Innovation","Customer Service","Digital Platform"],weaknesses:["Market Coverage","Capital Efficiency","Brand Recognition"],recentMoves:["IPO announced for Q2 2025","Partnership with IIT Chennai","AI optimization rollout"],threatLevel:"critical",innovationScore:89,customerSatisfaction:85,financialHealth:82,operationalEfficiency:78},{id:"comp003",name:"Rural Energy Corp",tier:"direct",marketShare:15.7,revenue:112e9,growth:12.8,employees:1950,regions:["Uttar Pradesh","Bihar","Madhya Pradesh","Odisha"],strengths:["Rural Network","Cost Efficiency","Local Partnerships"],weaknesses:["Technology Infrastructure","Financial Resources","Scalability"],recentMoves:["Secured ₹200Cr funding","Rural expansion program","Community partnership model"],threatLevel:"medium",innovationScore:65,customerSatisfaction:82,financialHealth:75,operationalEfficiency:88},{id:"comp004",name:"CleanEnergy Dynamics",tier:"indirect",marketShare:8.2,revenue:89e9,growth:35.1,employees:1200,regions:["West Bengal","Assam","Jharkhand"],strengths:["Innovation","Agility","Technology Stack"],weaknesses:["Market Presence","Scale","Financial Stability"],recentMoves:["Series B funding ₹125Cr","AI research lab setup","International expansion plan"],threatLevel:"medium",innovationScore:95,customerSatisfaction:87,financialHealth:68,operationalEfficiency:72}]),[u]=h.useState([{id:"rural_communities",name:"Rural Communities",size:45e9,growth:15.2,ourShare:22.1,leader:"EcoGas Solutions",leaderShare:28.5,opportunity:"high",barriers:["Infrastructure Development","Financing Solutions","Technology Adoption"],trends:["Government push for clean energy","Rural digitization","Cooperative model adoption"]},{id:"industrial_waste",name:"Industrial Waste Management",size:28e9,growth:18.7,ourShare:18.3,leader:"GreenTech Biogas",leaderShare:32.1,opportunity:"medium",barriers:["Regulatory Compliance","Technical Expertise","Capital Investment"],trends:["Circular economy adoption","ESG compliance requirements","Zero waste initiatives"]},{id:"urban_waste",name:"Urban Waste Processing",size:35e9,growth:12.4,ourShare:15.8,leader:"EcoGas Solutions",leaderShare:24.3,opportunity:"medium",barriers:["Urban Infrastructure","Municipal Partnerships","Scale Requirements"],trends:["Smart city initiatives","Waste segregation mandates","Public-private partnerships"]},{id:"agricultural",name:"Agricultural Biogas",size:22e9,growth:20.8,ourShare:25.6,leader:"SAUBHAGYA",leaderShare:25.6,opportunity:"high",barriers:["Farmer Education","Seasonal Variations","Supply Chain"],trends:["Sustainable farming practices","Carbon credit awareness","Cooperative farming growth"]}]),[v]=h.useState({strengths:[{factor:"Technology Innovation",impact:"high",description:"Advanced IoT integration and AI-driven optimization giving 15-20% efficiency advantage",score:92},{factor:"Rural Market Penetration",impact:"high",description:"Deep rural network with established community relationships across 12 states",score:88},{factor:"Operational Efficiency",impact:"high",description:"Lean operations model with 23% lower cost structure than industry average",score:87},{factor:"Financial Health",impact:"medium",description:"Strong balance sheet with low debt-to-equity ratio and positive cash flow",score:85},{factor:"Brand Trust",impact:"medium",description:"High customer satisfaction (4.6/5) and strong word-of-mouth referrals",score:82}],weaknesses:[{factor:"Scale Limitations",impact:"high",description:"Smaller scale compared to top 2 competitors limiting economies of scale",score:65,actionPlan:"Aggressive expansion plan with ₹500Cr investment over 18 months"},{factor:"Brand Recognition",impact:"medium",description:"Lower brand awareness in urban markets compared to established players",score:58,actionPlan:"Comprehensive brand building campaign focusing on ESG leadership"},{factor:"Capital Resources",impact:"medium",description:"Limited access to large-scale funding compared to listed competitors",score:62,actionPlan:"IPO preparation and strategic investor partnerships"},{factor:"Geographic Coverage",impact:"medium",description:"Presence in 12 states vs. competitors covering 15-20 states",score:68,actionPlan:"Phased expansion to 8 new states by 2025"}],opportunities:[{factor:"Government Policy Support",potential:"high",description:"New renewable energy policies creating ₹200Cr+ market opportunities",timeframe:"6-12 months",investmentRequired:15e7,expectedReturn:38e7},{factor:"Carbon Credit Market",potential:"high",description:"International carbon market expansion with 40% price premium opportunities",timeframe:"12-18 months",investmentRequired:2e8,expectedReturn:65e7},{factor:"Technology Integration",potential:"medium",description:"AI and IoT adoption creating competitive differentiation",timeframe:"3-9 months",investmentRequired:12e7,expectedReturn:28e7},{factor:"Corporate ESG Demand",potential:"high",description:"Increasing corporate sustainability commitments driving B2B opportunities",timeframe:"6-15 months",investmentRequired:8e7,expectedReturn:32e7}],threats:[{factor:"New Market Entrants",severity:"high",description:"Well-funded startups with disruptive technology entering market",probability:.75,mitigation:"Accelerate innovation and build switching costs through platform integration",timeline:"6-12 months"},{factor:"Regulatory Changes",severity:"medium",description:"Potential changes in renewable energy subsidies affecting profitability",probability:.45,mitigation:"Diversify revenue streams and reduce subsidy dependence",timeline:"12-24 months"},{factor:"Economic Downturn",severity:"medium",description:"Economic slowdown affecting investment in renewable energy projects",probability:.35,mitigation:"Focus on essential services and government contracts",timeline:"6-18 months"},{factor:"Technology Disruption",severity:"high",description:"Breakthrough in alternative technologies making biogas less competitive",probability:.25,mitigation:"Invest in R&D and maintain technology leadership",timeline:"24-36 months"}]}),[j]=h.useState([{metric:"Revenue per Employee",ourValue:105e5,industryAverage:82e5,topPerformer:128e5,unit:"₹",trend:"up",ranking:3,totalCompetitors:15},{metric:"Customer Acquisition Cost",ourValue:25e3,industryAverage:32e3,topPerformer:18e3,unit:"₹",trend:"down",ranking:4,totalCompetitors:15},{metric:"Customer Retention Rate",ourValue:92,industryAverage:85,topPerformer:95,unit:"%",trend:"up",ranking:2,totalCompetitors:15},{metric:"Time to Market",ourValue:8.5,industryAverage:12.2,topPerformer:6.8,unit:"months",trend:"down",ranking:2,totalCompetitors:15},{metric:"Operational Efficiency",ourValue:87.3,industryAverage:78.5,topPerformer:91.2,unit:"%",trend:"up",ranking:3,totalCompetitors:15},{metric:"Innovation Index",ourValue:82,industryAverage:68,topPerformer:95,unit:"score",trend:"up",ranking:4,totalCompetitors:15}]),[P]=h.useState([{id:"tech_integration",advantage:"IoT-AI Platform Integration",category:"technology",sustainability:"sustainable",strength:92,description:"Proprietary IoT platform with AI optimization providing 15-20% efficiency gains",evidence:["15% higher biogas yield","20% reduction in operational costs","95% system uptime"],threats:["Competitor technology catch-up","New disruptive technologies"],reinforcementPlan:"Continuous R&D investment, patent protection, talent acquisition"},{id:"rural_network",advantage:"Deep Rural Penetration",category:"market",sustainability:"sustainable",strength:88,description:"Established community relationships and distribution network in rural areas",evidence:["12 state presence","85% rural customer base","Community partnership model"],threats:["Competitor rural expansion","Digital disruption"],reinforcementPlan:"Strengthen community partnerships, expand network, digital enhancement"},{id:"cost_efficiency",advantage:"Lean Operations Model",category:"operational",sustainability:"sustainable",strength:85,description:"Optimized operations delivering 23% cost advantage over industry average",evidence:["23% lower OPEX","87% operational efficiency","Automated processes"],threats:["Scale disadvantages","Process replication by competitors"],reinforcementPlan:"Process automation, scale expansion, continuous improvement"},{id:"esg_leadership",advantage:"ESG Leadership Position",category:"market",sustainability:"sustainable",strength:89,description:"Industry-leading ESG practices and carbon credit generation capabilities",evidence:["A rating ESG score","450 carbon credits generated","B Corp certification"],threats:["ESG commoditization","Regulatory changes"],reinforcementPlan:"ESG innovation, certification expansion, thought leadership"}]),A=m=>m>=1e7?`₹${(m/1e7).toFixed(1)}Cr`:m>=1e5?`₹${(m/1e5).toFixed(1)}L`:`₹${m.toLocaleString()}`,C=m=>{switch(m){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=m=>{switch(m){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},S=m=>{switch(m){case"up":return e.jsx(Xs,{className:"h-4 w-4 text-green-600"});case"down":return e.jsx(Jt,{className:"h-4 w-4 text-red-600"});case"stable":return e.jsx(Vt,{className:"h-4 w-4 text-gray-600"});default:return e.jsx(Vt,{className:"h-4 w-4 text-gray-600"})}},T=m=>{switch(m){case"sustainable":return"bg-green-100 text-green-800";case"temporary":return"bg-yellow-100 text-yellow-800";case"at-risk":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=()=>{const m=s.marketShare,R=s.ranking,x=s.strengthScore,E=`Competitive Intelligence Summary: We hold ${m}% market share, ranking ${R} in the industry. Overall competitive strength score is ${x}%. We have ${f.filter(M=>M.threatLevel==="high"||M.threatLevel==="critical").length} high-threat competitors. Key opportunities include government policy support and carbon credit market expansion.`;if("speechSynthesis"in window){const M=new SpeechSynthesisUtterance(E);speechSynthesis.speak(M)}},l=()=>{const m={timestamp:new Date().toISOString(),executiveSummary:{marketPosition:s,keyThreats:f.filter(M=>M.threatLevel==="high"||M.threatLevel==="critical").length,topOpportunities:v.opportunities.slice(0,3),competitiveAdvantages:P.length},competitors:f,marketSegments:u,swotAnalysis:v,benchmarkMetrics:j,competitiveAdvantages:P},R=new Blob([JSON.stringify(m,null,2)],{type:"application/json"}),x=URL.createObjectURL(R),E=document.createElement("a");E.href=x,E.download=`competitive-intelligence-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(x)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Competitive Intelligence & Market Analysis"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive competitive positioning, market analysis, and strategic insights"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(O,{onClick:g,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(O,{onClick:l,variant:"outline",size:"sm",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(O,{onClick:t,variant:"outline",size:"sm",disabled:a,children:[e.jsx(os,{className:`h-4 w-4 ${a?"animate-spin":""} mr-2`}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Market Share"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[s.marketShare,"%"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Rank #",s.ranking," of ",s.competitorCount]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(tt,{className:"h-6 w-6 text-blue-600"})})]})})}),e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Competitive Strength"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.strengthScore}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Above industry average"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(yt,{className:"h-6 w-6 text-green-600"})})]})})}),e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"High-Threat Competitors"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:f.filter(m=>m.threatLevel==="high"||m.threatLevel==="critical").length}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Requiring immediate attention"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(le,{className:"h-6 w-6 text-orange-600"})})]})})}),e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Key Opportunities"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:v.opportunities.filter(m=>m.potential==="high").length}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"High-potential opportunities"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Xa,{className:"h-6 w-6 text-purple-600"})})]})})})]}),e.jsxs($e,{value:o,onValueChange:d,className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-5",children:[e.jsx(X,{value:"overview",children:"Market Overview"}),e.jsx(X,{value:"competitors",children:"Competitor Analysis"}),e.jsx(X,{value:"swot",children:"SWOT Analysis"}),e.jsx(X,{value:"benchmarks",children:"Benchmarking"}),e.jsx(X,{value:"advantages",children:"Competitive Edge"})]}),e.jsx(Y,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Market Position Analysis"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Market Share Distribution"}),e.jsx("div",{className:"space-y-3",children:[{name:"EcoGas Solutions",share:25.3,color:"bg-red-500"},{name:"GreenTech Biogas",share:22.1,color:"bg-orange-500"},{name:"SAUBHAGYA",share:18.5,color:"bg-blue-500"},{name:"Rural Energy Corp",share:15.7,color:"bg-green-500"},{name:"CleanEnergy Dynamics",share:8.2,color:"bg-purple-500"},{name:"Others",share:10.2,color:"bg-gray-400"}].map((m,R)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded ${m.color}`}),e.jsx("span",{className:"font-medium",children:m.name}),m.name==="SAUBHAGYA"&&e.jsx(L,{variant:"outline",className:"bg-blue-100 text-blue-800",children:"Us"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"font-medium",children:[m.share,"%"]})})]},R))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Competitive Positioning"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"3rd"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Market Ranking"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"+3.2%"}),e.jsx("div",{className:"text-sm text-green-700",children:"YoY Growth"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:A(125e9)}),e.jsx("div",{className:"text-sm text-purple-700",children:"Revenue"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"12"}),e.jsx("div",{className:"text-sm text-orange-700",children:"States Present"})]})]})]})]})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"Market Segments Performance"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-4",children:u.map(m=>e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(w,{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:m.name}),e.jsxs(L,{variant:"outline",className:m.opportunity==="high"?"bg-green-100 text-green-800":m.opportunity==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:[m.opportunity," opportunity"]}),m.leader==="SAUBHAGYA"&&e.jsxs(L,{variant:"outline",className:"bg-blue-100 text-blue-800",children:[e.jsx(Ja,{className:"h-3 w-3 mr-1"}),"Leader"]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Market Size"}),e.jsx("div",{className:"font-medium",children:A(m.size)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Growth Rate"}),e.jsxs("div",{className:"font-medium text-green-600",children:["+",m.growth,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Our Share"}),e.jsxs("div",{className:"font-medium",children:[m.ourShare,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Leader"}),e.jsxs("div",{className:"font-medium",children:[m.leader," (",m.leaderShare,"%)"]})]})]})]})}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Key Trends"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:m.trends.map((R,x)=>e.jsx(L,{variant:"outline",className:"text-xs",children:R},x))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Market Barriers"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:m.barriers.map((R,x)=>e.jsx(L,{variant:"outline",className:"text-xs bg-red-50 text-red-700",children:R},x))})]})]})]})},m.id))})})]})]})}),e.jsx(Y,{value:"competitors",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5"}),"Competitive Landscape Analysis"]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsxs(ve,{value:r,onValueChange:n,children:[e.jsx(je,{className:"w-40",children:e.jsx(ye,{})}),e.jsxs(fe,{children:[e.jsx(B,{value:"6m",children:"6 Months"}),e.jsx(B,{value:"12m",children:"12 Months"}),e.jsx(B,{value:"24m",children:"24 Months"})]})]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>N(!p),children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Advanced Analysis"]})]})]}),e.jsx(w,{children:e.jsx("div",{className:"space-y-6",children:f.map(m=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{className:"text-lg",children:m.name}),e.jsxs(L,{variant:"outline",className:m.tier==="direct"?"bg-red-100 text-red-800":m.tier==="indirect"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:[m.tier," competitor"]}),e.jsxs(L,{variant:"outline",className:C(m.threatLevel),children:[m.threatLevel," threat"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Market Share: ",m.marketShare,"%"]}),e.jsxs("span",{children:["Revenue: ",A(m.revenue)]}),e.jsxs("span",{children:["Growth: ",m.growth,"%"]}),e.jsxs("span",{children:["Employees: ",m.employees.toLocaleString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Math.round((m.innovationScore+m.customerSatisfaction+m.financialHealth+m.operationalEfficiency)/4)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overall Score"})]})]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:m.innovationScore}),e.jsx("div",{className:"text-xs text-blue-700",children:"Innovation"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:m.customerSatisfaction}),e.jsx("div",{className:"text-xs text-green-700",children:"Customer Sat"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:m.financialHealth}),e.jsx("div",{className:"text-xs text-purple-700",children:"Financial"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:m.operationalEfficiency}),e.jsx("div",{className:"text-xs text-orange-700",children:"Operations"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Geographic Presence"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:m.regions.map((R,x)=>e.jsxs(L,{variant:"outline",className:"text-xs",children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),R]},x))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Key Strengths"}),e.jsx("div",{className:"space-y-1",children:m.strengths.map((R,x)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(de,{className:"h-3 w-3 text-green-600"}),R]},x))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Key Weaknesses"}),e.jsx("div",{className:"space-y-1",children:m.weaknesses.map((R,x)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{className:"h-3 w-3 text-red-600"}),R]},x))})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Recent Strategic Moves"}),e.jsx("div",{className:"space-y-2",children:m.recentMoves.map((R,x)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm p-2 bg-gray-50 rounded",children:[e.jsx(ke,{className:"h-3 w-3 text-blue-600 mt-0.5"}),R]},x))})]}),p&&e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Advanced Intelligence"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Predicted Next Moves:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:"• Market expansion to new states"}),e.jsx("li",{children:"• Technology acquisition or partnership"}),e.jsx("li",{children:"• Price competition in key segments"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Vulnerability Assessment:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:"• Capital constraints limiting expansion"}),e.jsx("li",{children:"• Technology gap in rural markets"}),e.jsx("li",{children:"• Regulatory dependency risks"})]})]})]})]})]})]},m.id))})})]})})}),e.jsx(Y,{value:"swot",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"Strategic SWOT Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive analysis of Strengths, Weaknesses, Opportunities, and Threats"})]}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2 text-green-700",children:[e.jsx(de,{className:"h-5 w-5"}),"Strengths"]})}),e.jsx(w,{className:"space-y-4",children:v.strengths.map((m,R)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm",children:m.factor}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",className:y(m.impact),children:[m.impact," impact"]}),e.jsxs("span",{className:"text-sm font-medium",children:[m.score,"/100"]})]})]}),e.jsx("div",{className:"text-xs text-gray-600",children:m.description}),e.jsx(ue,{value:m.score,className:"h-2"})]},R))})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2 text-red-700",children:[e.jsx(le,{className:"h-5 w-5"}),"Weaknesses"]})}),e.jsx(w,{className:"space-y-4",children:v.weaknesses.map((m,R)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm",children:m.factor}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",className:y(m.impact),children:[m.impact," impact"]}),e.jsxs("span",{className:"text-sm font-medium",children:[m.score,"/100"]})]})]}),e.jsx("div",{className:"text-xs text-gray-600",children:m.description}),e.jsx(ue,{value:m.score,className:"h-2"}),m.actionPlan&&e.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded",children:[e.jsx("strong",{children:"Action Plan:"})," ",m.actionPlan]})]},R))})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(Xa,{className:"h-5 w-5"}),"Opportunities"]})}),e.jsx(w,{className:"space-y-4",children:v.opportunities.map((m,R)=>e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-blue-800",children:m.factor}),e.jsxs(L,{variant:"outline",className:m.potential==="high"?"bg-green-100 text-green-800":m.potential==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:[m.potential," potential"]})]}),e.jsx("div",{className:"text-sm text-blue-700 mt-1",children:m.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Timeframe:"}),e.jsx("div",{className:"font-medium",children:m.timeframe})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Investment:"}),e.jsx("div",{className:"font-medium",children:A(m.investmentRequired)})]})]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("div",{className:"font-medium text-green-600",children:A(m.expectedReturn)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Expected Return"}),e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[Math.round(m.expectedReturn/m.investmentRequired*100),"% ROI"]})]})]})},R))})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2 text-orange-700",children:[e.jsx(le,{className:"h-5 w-5"}),"Threats"]})}),e.jsx(w,{className:"space-y-4",children:v.threats.map((m,R)=>e.jsx("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-orange-800",children:m.factor}),e.jsxs(L,{variant:"outline",className:m.severity==="high"?"bg-red-100 text-red-800":m.severity==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",children:[m.severity," severity"]})]}),e.jsx("div",{className:"text-sm text-orange-700 mt-1",children:m.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Timeline:"}),e.jsx("div",{className:"font-medium",children:m.timeline})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Probability:"}),e.jsxs("div",{className:"font-medium",children:[Math.round(m.probability*100),"%"]})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-white rounded text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Mitigation:"}),e.jsx("div",{className:"font-medium",children:m.mitigation})]})]})})},R))})]})]})})]})}),e.jsxs(Y,{value:"benchmarks",className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Competitive Benchmarking Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Performance comparison against industry standards and top performers"})]}),e.jsx(w,{children:e.jsx("div",{className:"space-y-6",children:j.map((m,R)=>e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(w,{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:m.metric}),S(m.trend),e.jsxs(L,{variant:"outline",className:"bg-blue-100 text-blue-800",children:["Rank #",m.ranking," of ",m.totalCompetitors]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Our Performance"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m.unit==="₹"?A(m.ourValue):m.unit==="months"?`${m.ourValue}${m.unit}`:`${m.ourValue}${m.unit}`}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(m.ourValue/m.topPerformer*100,100)}%`}})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Industry Average"}),e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:m.unit==="₹"?A(m.industryAverage):m.unit==="months"?`${m.industryAverage}${m.unit}`:`${m.industryAverage}${m.unit}`}),e.jsx("div",{className:"text-sm",children:e.jsxs("span",{className:`font-medium ${m.metric.includes("Cost")||m.metric.includes("Time")?m.ourValue<m.industryAverage?"text-green-600":"text-red-600":m.ourValue>m.industryAverage?"text-green-600":"text-red-600"}`,children:[m.metric.includes("Cost")||m.metric.includes("Time")?m.ourValue<m.industryAverage?"Better":"Worse":m.ourValue>m.industryAverage?"Above":"Below"," by ",Math.abs((m.ourValue-m.industryAverage)/m.industryAverage*100).toFixed(1),"%"]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Best in Class"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.unit==="₹"?A(m.topPerformer):m.unit==="months"?`${m.topPerformer}${m.unit}`:`${m.topPerformer}${m.unit}`}),e.jsx("div",{className:"text-sm",children:e.jsxs("span",{className:"text-orange-600 font-medium",children:["Gap: ",Math.abs((m.topPerformer-m.ourValue)/m.topPerformer*100).toFixed(1),"%"]})})]})]})]})})})},R))})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Pa,{className:"h-5 w-5"}),"Benchmarking Summary"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:j.filter(m=>m.metric.includes("Cost")||m.metric.includes("Time")?m.ourValue<m.industryAverage:m.ourValue>m.industryAverage).length}),e.jsx("div",{className:"text-sm text-green-700 mt-2",children:"Above Industry Average"})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:Math.round(j.reduce((m,R)=>m+R.ranking,0)/j.length)}),e.jsx("div",{className:"text-sm text-blue-700 mt-2",children:"Average Ranking"})]}),e.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:j.filter(m=>m.ranking<=3).length}),e.jsx("div",{className:"text-sm text-purple-700 mt-2",children:"Top 3 Rankings"})]})]})})]})]}),e.jsxs(Y,{value:"advantages",className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Ja,{className:"h-5 w-5"}),"Competitive Advantages & Differentiation"]}),e.jsx("p",{className:"text-gray-600",children:"Analysis of sustainable competitive advantages and strategic differentiation"})]}),e.jsx(w,{children:e.jsx("div",{className:"space-y-6",children:P.map(m=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{className:"text-lg",children:m.advantage}),e.jsx(L,{variant:"outline",className:m.category==="technology"?"bg-blue-100 text-blue-800":m.category==="operational"?"bg-green-100 text-green-800":m.category==="financial"?"bg-purple-100 text-purple-800":m.category==="market"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800",children:m.category}),e.jsx(L,{variant:"outline",className:T(m.sustainability),children:m.sustainability})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:m.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.strength}),e.jsx("div",{className:"text-sm text-gray-600",children:"Strength Score"})]})]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Supporting Evidence"}),e.jsx("div",{className:"space-y-2",children:m.evidence.map((R,x)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(de,{className:"h-3 w-3 text-green-600 mt-0.5"}),R]},x))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Potential Threats"}),e.jsx("div",{className:"space-y-2",children:m.threats.map((R,x)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(le,{className:"h-3 w-3 text-red-600 mt-0.5"}),R]},x))})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Reinforcement Strategy"}),e.jsx("div",{className:"text-sm text-gray-700 p-3 bg-blue-50 rounded-lg",children:m.reinforcementPlan})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Competitive Strength"}),e.jsxs("span",{children:[m.strength,"/100"]})]}),e.jsx(ue,{value:m.strength,className:"h-3"})]})]})]},m.id))})})]}),e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Gi,{className:"h-5 w-5"}),"Competitive Advantage Portfolio"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Advantages by Category"}),e.jsx("div",{className:"space-y-3",children:Array.from(new Set(P.map(m=>m.category))).map(m=>{const R=P.filter(E=>E.category===m),x=R.reduce((E,M)=>E+M.strength,0)/R.length;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded ${m==="technology"?"bg-blue-100":m==="operational"?"bg-green-100":m==="financial"?"bg-purple-100":m==="market"?"bg-orange-100":"bg-gray-100"}`,children:e.jsx(Ct,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium capitalize",children:m}),e.jsxs("div",{className:"text-sm text-gray-600",children:[R.length," advantages"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[Math.round(x),"/100"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Strength"})]})]},m)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sustainability Assessment"}),e.jsx("div",{className:"space-y-3",children:["sustainable","temporary","at-risk"].map(m=>{const R=P.filter(E=>E.sustainability===m),x=R.length/P.length*100;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"font-medium capitalize",children:[m," Advantages"]}),e.jsxs("span",{children:[R.length," (",x.toFixed(0),"%)"]})]}),e.jsx(ue,{value:x,className:"h-2"})]},m)})}),e.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800",children:"Strategic Recommendation"}),e.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Focus on reinforcing sustainable advantages while developing mitigation strategies for at-risk advantages. Priority should be given to technology and market advantages as they provide the strongest differentiation."})]})]})]})})]})]})]})]})},Bx=()=>{const{trackModuleUsage:s,updateBreadcrumbs:t}=lt(),[a,r]=h.useState("summary"),n=[{id:"summary",label:"Executive Summary",icon:e.jsx(he,{className:"h-4 w-4"}),description:"Real-time KPIs and business intelligence"},{id:"voice",label:"Voice Analytics",icon:e.jsx(Ks,{className:"h-4 w-4"}),description:"Voice-enabled business queries"},{id:"strategic",label:"Strategic Planning",icon:e.jsx(as,{className:"h-4 w-4"}),description:"Strategic initiatives and planning"},{id:"carbon",label:"Carbon Analytics",icon:e.jsx(Is,{className:"h-4 w-4"}),description:"Environmental impact and carbon credits"},{id:"competitive",label:"Market Intelligence",icon:e.jsx(Te,{className:"h-4 w-4"}),description:"Competitive analysis and market insights"}],c={en:{title:"UrjaNeta Executive Analytics",subtitle:"Advanced voice-enabled business intelligence platform"}}.en;return h.useEffect(()=>{s("urja-neta"),t([{label:"UrjaNeta",url:"/urjaneta",module:"urja-neta"},{label:"Executive Analytics",url:"/urjaneta",module:"urja-neta"}])},[]),e.jsx(an,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:e.jsx(Ct,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:c.title}),e.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(Ht,{className:"h-4 w-4"}),c.subtitle]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"• Live Data"})})]}),e.jsxs($e,{value:a,onValueChange:r,className:"w-full",children:[e.jsx(Ve,{className:"grid w-full grid-cols-5 lg:grid-cols-5",children:n.map(o=>e.jsxs(X,{value:o.id,className:"flex flex-col gap-1 p-3 h-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[o.icon,e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:o.label})]}),e.jsx("span",{className:"text-xs text-gray-500 hidden lg:inline",children:o.description})]},o.id))}),e.jsx(Y,{value:"summary",className:"space-y-6",children:e.jsx(Ex,{})}),e.jsx(Y,{value:"voice",className:"space-y-6",children:e.jsx(Ox,{})}),e.jsx(Y,{value:"strategic",className:"space-y-6",children:e.jsx(Lx,{})}),e.jsx(Y,{value:"carbon",className:"space-y-6",children:e.jsx(Fx,{})}),e.jsx(Y,{value:"competitive",className:"space-y-6",children:e.jsx(_x,{})})]})]})})},ba=U.lazy(()=>Ae(()=>import("./Dashboard-BCZ0HqOt.js"),__vite__mapDeps([13,1,2,14,3,4])).then(s=>({default:s.Dashboard}))),Ux=U.lazy(()=>Ae(()=>import("./ScheduleManager-C0sKYOPT.js"),__vite__mapDeps([15,1,2,14,3,4])).then(s=>({default:s.ScheduleManager}))),qx=U.lazy(()=>Ae(()=>import("./RouteOptimization-BbR_BuBA.js"),__vite__mapDeps([16,1,2,14,3,4])).then(s=>({default:s.RouteOptimization}))),Gx=U.lazy(()=>Ae(()=>import("./ActiveDeliveries-xriFpj-r.js"),__vite__mapDeps([17,1,2,14,3,4])).then(s=>({default:s.ActiveDeliveries}))),Wx=U.lazy(()=>Ae(()=>import("./DeliveryConfirmation-Bu8ZIs_Z.js"),__vite__mapDeps([18,1,2,14,3,4])).then(s=>({default:s.DeliveryConfirmation}))),$x=U.lazy(()=>Ae(()=>import("./VehicleManagement-BgYzTTUK.js"),__vite__mapDeps([19,1,2,14,3,4])).then(s=>({default:s.VehicleManagement}))),Vx=U.lazy(()=>Ae(()=>import("./DeliveryHistory-Ddt3rOCg.js"),__vite__mapDeps([20,1,2,14,3,4])).then(s=>({default:s.DeliveryHistory}))),Hx=()=>e.jsxs("div",{className:"flex items-center justify-center min-h-[400px]",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}),zx=()=>{const s=xs(),t=Hs(),a="/transport",r=[{id:"dashboard",label:"Dashboard",icon:e.jsx(Aa,{className:"w-5 h-5"}),onClick:()=>s(`${a}/dashboard`),isActive:t.pathname===`${a}/dashboard`||t.pathname===a},{id:"schedule",label:"Schedule Manager",icon:e.jsx(Le,{className:"w-5 h-5"}),onClick:()=>s(`${a}/schedule`),isActive:t.pathname===`${a}/schedule`,badge:"15"},{id:"routes",label:"Route Optimization",icon:e.jsx(Dt,{className:"w-5 h-5"}),onClick:()=>s(`${a}/routes`),isActive:t.pathname===`${a}/routes`},{id:"deliveries",label:"Active Deliveries",icon:e.jsx(hs,{className:"w-5 h-5"}),onClick:()=>s(`${a}/deliveries`),isActive:t.pathname===`${a}/deliveries`,badge:"8"},{id:"confirmation",label:"Delivery Confirmation",icon:e.jsx(de,{className:"w-5 h-5"}),onClick:()=>s(`${a}/confirmation`),isActive:t.pathname===`${a}/confirmation`,badge:"3"},{id:"vehicles",label:"Vehicle Management",icon:e.jsx(ts,{className:"w-5 h-5"}),onClick:()=>s(`${a}/vehicles`),isActive:t.pathname===`${a}/vehicles`},{id:"history",label:"Delivery History",icon:e.jsx(Ma,{className:"w-5 h-5"}),onClick:()=>s(`${a}/history`),isActive:t.pathname===`${a}/history`}];return e.jsx(ct,{moduleName:"Transporter",moduleSubtitle:"Biogas Delivery Management",navigationItems:r,userInfo:{name:"Transport Manager",role:"Operations Head"},children:e.jsx("div",{className:"p-6",children:e.jsx(h.Suspense,{fallback:e.jsx(Hx,{}),children:e.jsxs(it,{children:[e.jsx(J,{path:"/",element:e.jsx(ba,{})}),e.jsx(J,{path:"/dashboard",element:e.jsx(ba,{})}),e.jsx(J,{path:"/schedule",element:e.jsx(Ux,{})}),e.jsx(J,{path:"/routes",element:e.jsx(qx,{})}),e.jsx(J,{path:"/deliveries",element:e.jsx(Gx,{})}),e.jsx(J,{path:"/confirmation",element:e.jsx(Wx,{})}),e.jsx(J,{path:"/vehicles",element:e.jsx($x,{})}),e.jsx(J,{path:"/history",element:e.jsx(Vx,{})}),e.jsx(J,{path:"*",element:e.jsx(ba,{})})]})})})})},Yx=()=>{const{user:s,loading:t}=Os(),a=xs(),r=Hs();return h.useEffect(()=>{if(t||!s||r.pathname==="/login"||r.pathname==="/admin"||r.pathname==="/testing"||r.pathname==="/database-setup")return;const n=()=>{if((s.executiveLevel||s.role==="senior_leader")&&s.appType!=="admin")return"/executive-dashboard";switch(s.appType){case"gausakhi":return s.role==="field_worker"?"/gaushala":"/dashboard";case"biogassangh":return"/cluster";case"urjavyapar":return"/sales";case"urjasanyojak":return"/urjasanyojak";case"admin":return"/admin";case"urjaneta":return"/urja-neta";case"shuddhidoot":return"/purification";default:return"/dashboard"}};if(r.pathname==="/"||r.pathname==="/dashboard"){const i=n();a(i,{replace:!0})}},[s,t,r,a]),null};function es({children:s}){const{user:t,loading:a}=Os();return a?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):t?e.jsx(e.Fragment,{children:s}):e.jsx(Hi,{to:"/login"})}function Qx(){return e.jsxs(it,{children:[e.jsx(J,{path:"/login",element:e.jsx(hl,{})}),e.jsx(J,{path:"/",element:e.jsx(es,{children:e.jsx(Yx,{})})}),e.jsx(J,{path:"/admin/*",element:e.jsx(es,{children:e.jsx(bl,{})})}),e.jsx(J,{path:"/gaushala/*",element:e.jsx(es,{children:e.jsx(Ql,{})})}),e.jsx(J,{path:"/cluster/*",element:e.jsx(es,{children:e.jsx(Jm,{})})}),e.jsx(J,{path:"/sales/*",element:e.jsx(es,{children:e.jsx(Cx,{})})}),e.jsx(J,{path:"/purification/*",element:e.jsx(es,{children:e.jsx(Mx,{})})}),e.jsx(J,{path:"/urjaneta/*",element:e.jsx(es,{children:e.jsx(Bx,{})})}),e.jsx(J,{path:"/urjasanyojak/*",element:e.jsx(es,{children:e.jsx(Sl,{})})}),e.jsx(J,{path:"/admin-dashboard/*",element:e.jsx(es,{children:e.jsx(wl,{})})}),e.jsx(J,{path:"/dashboard/*",element:e.jsx(es,{children:e.jsx(kl,{})})}),e.jsx(J,{path:"/executive/*",element:e.jsx(es,{children:e.jsx(Al,{})})}),e.jsx(J,{path:"/transport/*",element:e.jsx(es,{children:e.jsx(zx,{})})})]})}function Kx(){return e.jsx(al,{children:e.jsx(ul,{children:e.jsx(Vi,{children:e.jsx(Qx,{})})})})}ka.createRoot(document.getElementById("root")).render(e.jsx(U.StrictMode,{children:e.jsx(Kx,{})}));export{Ms as A,O as B,b as C,ee as I,W as L,ue as P,Js as S,$e as T,Es as a,D as b,k as c,L as d,se as e,w as f,Ve as g,X as h,Y as i,dt as j,_s as m};
//# sourceMappingURL=index-DZM7mZUF.js.map
