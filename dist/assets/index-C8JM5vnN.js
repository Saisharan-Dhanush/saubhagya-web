const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/api-CsNe75uh.js","assets/ui-vendor-CcKJai5_.js","assets/react-vendor-C1G9MTLI.js","assets/utils-BEJD3qDL.js","assets/charts-C1Edd5FR.js","assets/Dashboard-CJe8Udpj.js","assets/CycleManagement-CbWbtEiJ.js","assets/Purification.config-BxofNtUh.js","assets/QualityControl-yeYq3I-G.js","assets/MaintenanceManagement-DsgcPdSh.js","assets/InventoryTransfer-BuPiRoYr.js","assets/SlurryManagement-CUSOI0-G.js","assets/RealTimeMonitoring-Bh9KGgfV.js","assets/Dashboard-BvRAWl32.js","assets/mockDataService-DPeHm-bU.js","assets/ScheduleManager-pSjCJbVo.js","assets/RouteOptimization-BMDspO-E.js","assets/ActiveDeliveries-Bpyh2O5m.js","assets/DeliveryConfirmation-DSGpCrcT.js","assets/VehicleManagement-CP6PXOWF.js","assets/DeliveryHistory-B3V60Jrm.js"])))=>i.map(i=>d[i]);
import{j as e,M as Cr,L as Dr,E as kr,a as ds,b as za,X as ps,S as ms,B as et,c as ti,R as os,d as ke,C as Tr,H as Ir,D as Ke,W as Qs,Z as Rs,A as Se,T as xe,e as le,P as st,U as Te,f as ai,g as we,h as ri,i as js,k as tt,l as bs,m as Na,n as ba,o as ze,p as wa,q as ni,s as Pe,t as de,u as qt,v as be,w as Ms,F as Me,x as We,y as Is,z as Fe,K as ii,G as Ks,I as at,J as Ia,N as Ut,O as Ya,Q as as,V as Qa,Y as Ze,_ as Gt,$ as Ue,a0 as rt,a1 as wt,a2 as Vt,a3 as hs,a4 as Ht,a5 as zt,a6 as St,a7 as ma,a8 as Ar,a9 as li,aa as vt,ab as Ws,ac as rs,ad as Aa,ae as Yt,af as Pa,ag as Pr,ah as Ra,ai as Rr,aj as Sa,ak as Ka,al as Ma,am as Wt,an as Qt,ao as Zs,ap as Kt,aq as ci,ar as Mr,as as oi,at as Oa,au as Or,av as di,aw as Er,ax as mi,ay as Lr,az as ui,aA as Fr,aB as _r,aC as xi,aD as hi,aE as gi,aF as Br,aG as pi,aH as ji,aI as fi,aJ as vi,aK as Za,aL as qr,aM as Ea,aN as Ur,aO as yi,aP as Gr,aQ as Ni,aR as Wr,aS as $r,aT as bi,aU as wi,aV as fs,aW as Si,aX as Ci,aY as Di,aZ as ki,a_ as Vr,a$ as Ti,b0 as Ii,b1 as Ct,b2 as Ai,b3 as Pi,b4 as Ri,b5 as La,b6 as Mi,b7 as Hr,b8 as zr,b9 as Fa,ba as Yr,bb as Qr,bc as Oi,bd as Kr,be as Zr,bf as Lt,bg as Ei,bh as Ys,bi as Xr,bj as Li,bk as Jr,bl as Fi,bm as Zt,bn as $t,bo as _i,bp as Bi,bq as qi,br as Xa,bs as Ja,bt as Ui}from"./ui-vendor-CcKJai5_.js";import{a as Gi,r as h,u as us,e as $s,f as nt,h as J,i as Wi,R as q,B as $i,N as Vi}from"./react-vendor-C1G9MTLI.js";import{t as Hi,c as zi,a as Yi}from"./utils-BEJD3qDL.js";import{R as yt,L as Ca,C as Ft,X as _t,Y as Nt,T as bt,a as Bt,b as Us,P as Qi,c as Ki,d as Zi,A as Xi,e as Ji}from"./charts-C1Edd5FR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var Da={},er=Gi;Da.createRoot=er.createRoot,Da.hydrateRoot=er.hydrateRoot;const el="modulepreload",sl=function(s){return"/"+s},sr={},Ie=function(t,a,r){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");n=Promise.allSettled(a.map(o=>{if(o=sl(o),o in sr)return;sr[o]=!0;const j=o.endsWith(".css"),y=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${y}`))return;const f=document.createElement("link");if(f.rel=j?"stylesheet":el,j||(f.as="script"),f.crossOrigin="",f.href=o,c&&f.setAttribute("nonce",c),document.head.appendChild(f),j)return new Promise((x,N)=>{f.addEventListener("load",x),f.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return n.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},Ts={field_worker:[{module:"rfid",actions:["scan","sync"]},{module:"collection",actions:["log","voice"]},{module:"iot",actions:["sync","update"]},{module:"gps",actions:["track","update"]}],cluster_manager:[{module:"slurry",actions:["monitor","alert"]},{module:"digester",actions:["monitor","alert"]},{module:"pickup",actions:["schedule","manage"]},{module:"disputes",actions:["resolve","track"]}],cbg_sales:[{module:"inventory",actions:["manage","track"]},{module:"invoicing",actions:["create","send"]},{module:"crm",actions:["manage","update"]},{module:"peso",actions:["comply","report"]},{module:"upi",actions:["process","reconcile"]}],business_dev:[{module:"mapping",actions:["create","update"]},{module:"subsidy",actions:["assist","track"]},{module:"feasibility",actions:["calculate","analyze"]},{module:"pipeline",actions:["track","update"]}],admin:[{module:"users",actions:["create","read","update","delete"]},{module:"devices",actions:["manage","configure"]},{module:"permissions",actions:["assign","revoke"]},{module:"audit",actions:["view","export"]},{module:"alerts",actions:["configure","manage"]}],senior_leader:[{module:"voice_kpis",actions:["view","analyze"]},{module:"revenue",actions:["predict","analyze"]},{module:"carbon",actions:["trade","track"]},{module:"strategic",actions:["plan","approve"]}],purification_operator:[{module:"ch4_monitoring",actions:["monitor","alert"]},{module:"flow_rate",actions:["monitor","adjust"]},{module:"maintenance",actions:["schedule","track"]},{module:"voice_alerts",actions:["receive","respond"]}],transporter:[{module:"vehicle_management",actions:["manage","track"]},{module:"route_optimization",actions:["optimize","plan"]},{module:"delivery_tracking",actions:["track","update"]},{module:"schedule_management",actions:["schedule","modify"]},{module:"logistics",actions:["coordinate","monitor"]}]},en=h.createContext(void 0);function ws(){const s=h.useContext(en);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}function tl({children:s}){const[t,a]=h.useState(null),[r,n]=h.useState(!0),i=(x,N)=>t&&(t.permissions||Ts[t.role]||[]).find(M=>M.module===x)?.actions.includes(N)||!1,l=()=>t?t.role==="senior_leader"||t.role==="admin"||!!t.executiveLevel:!1,c=()=>{if(!t)return"low";if(t.executiveLevel)return t.executiveLevel==="ceo"||t.executiveLevel==="cfo"?"high":"medium";switch(t.role){case"senior_leader":case"admin":return"high";case"cbg_sales":case"business_dev":return"medium";default:return"low"}},o=async(x,N)=>{try{const{apiService:p}=await Ie(async()=>{const{apiService:k}=await import("./api-CsNe75uh.js");return{apiService:k}},__vite__mapDeps([0,1,2,3,4])),O=x.includes("@")?x:`${x.replace("+91","")}@saubhagya.com`,M=await p.login(O,N);if(M.success&&M.data){const{user:k,token:b}=M.data,C=cl(x)||al(k.role),D=ol(x)||il(k.role),g={id:k.id,phone:x,email:k.email,name:dl(x)||k.name,role:C,department:nl(C),permissions:rl(k.permissions||[]),lastAccess:new Date,appType:D,executiveLevel:ll(C),isActive:!0,roles:[C]};a(g),localStorage.setItem("user",JSON.stringify(g)),localStorage.setItem("saubhagya_jwt_token",b),localStorage.setItem("sessionStart",new Date().toISOString());return}else throw new Error(M.error||"Authentication failed")}catch{return j(x,N)}},j=async(x,N)=>{const O={"+919876543210":{id:"fw-001",phone:"+919876543210",email:"fieldworker@saubhagya.com",name:"Ramesh Kumar (Field Worker)",role:"field_worker",department:"Field Operations",appType:"gausakhi",permissions:Ts.field_worker,lastAccess:new Date},"+918765432109":{id:"cm-001",phone:"+918765432109",email:"clustermanager@saubhagya.com",name:"Suresh Patel (Cluster Manager)",role:"cluster_manager",department:"Cluster Operations",appType:"biogassangh",permissions:Ts.cluster_manager,lastAccess:new Date},"+917654321098":{id:"cs-001",phone:"+917654321098",email:"cbgsales@saubhagya.com",name:"Priya Sharma (CBG Sales Executive)",role:"cbg_sales",department:"Sales & Marketing",appType:"urjavyapar",permissions:Ts.cbg_sales,lastAccess:new Date},"+915432109876":{id:"admin-001",phone:"+915432109876",email:"admin@saubhagya.com",name:"System Administrator",role:"admin",department:"IT Administration",appType:"admin",permissions:Ts.admin,lastAccess:new Date},"+913210987654":{id:"po-001",phone:"+913210987654",email:"purificationop@saubhagya.com",name:"Vinod Yadav (Purification Operator)",role:"purification_operator",department:"Purification Operations",appType:"shuddhidoot",permissions:Ts.purification_operator,lastAccess:new Date},"+912109876543":{id:"t-001",phone:"+912109876543",email:"transporter@saubhagya.com",name:"Ravi Sharma (Transporter)",role:"transporter",department:"Logistics & Transport",appType:"admin",permissions:Ts.transporter,lastAccess:new Date}}[x];if(!O)throw new Error("Invalid phone number or password");if(!["password123","fieldworker123","admin123"].includes(N))throw new Error("Invalid phone number or password");a(O),localStorage.setItem("user",JSON.stringify(O)),localStorage.setItem("sessionStart",new Date().toISOString())},y=async()=>{try{const{apiService:x}=await Ie(async()=>{const{apiService:N}=await import("./api-CsNe75uh.js");return{apiService:N}},__vite__mapDeps([0,1,2,3,4]));await x.logout()}catch{}a(null),localStorage.removeItem("user"),localStorage.removeItem("saubhagya_jwt_token"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("sessionStart"),localStorage.removeItem("voiceSessionData")};h.useEffect(()=>{const x=localStorage.getItem("user"),N=localStorage.getItem("sessionStart");if(x&&N){const p=JSON.parse(x),O=Date.now()-new Date(N).getTime(),M=p.role==="executive"?4*60*60*1e3:8*60*60*1e3;O>M?y():(p.permissions=Ts[p.role]||[],a(p))}n(!1)},[]),h.useEffect(()=>{if(t&&l()){const x=setInterval(()=>{const N=localStorage.getItem("sessionStart");N&&Date.now()-new Date(N).getTime()},6e4);return()=>clearInterval(x)}},[t]);const f={user:t,loading:r,login:o,logout:y,hasPermission:i,isExecutive:l,getAccessLevel:c,accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")};return e.jsx(en.Provider,{value:f,children:s})}function al(s){switch(s.toLowerCase()){case"admin":case"administrator":return"admin";case"field_worker":case"farmer":return"field_worker";case"cluster_manager":return"cluster_manager";case"cbg_sales":case"sales_executive":return"cbg_sales";case"business_dev":case"business_developer":return"business_dev";case"senior_leader":case"executive":case"ceo":case"cfo":return"senior_leader";case"purification_operator":case"operator":return"purification_operator";default:return"admin"}}function rl(s){const t={"cattle:read":{module:"rfid",actions:["scan","sync"]},"cattle:write":{module:"collection",actions:["log","voice"]},"transactions:read":{module:"disputes",actions:["resolve","track"]},"dashboard:read":{module:"voice_kpis",actions:["view","analyze"]},"users:manage":{module:"users",actions:["create","read","update","delete"]}},a=[];return s.forEach(r=>{t[r]&&a.push(t[r])}),a.length===0?Ts.admin:a}function nl(s){switch(s){case"FARMER":case"FIELD_WORKER":return"Field Operations";case"CLUSTER_MANAGER":return"Cluster Operations";case"CBG_SALES":case"SALES_EXECUTIVE":return"Sales & Marketing";case"BUSINESS_DEV":case"BUSINESS_DEVELOPER":return"Business Development";case"ADMIN":case"ADMINISTRATOR":return"IT Administration";case"SENIOR_LEADER":case"EXECUTIVE":case"CEO":case"CFO":return"Executive Leadership";case"PURIFICATION_OPERATOR":case"OPERATOR":return"Purification Operations";default:return"Field Operations"}}function il(s){switch(s){case"FARMER":case"FIELD_WORKER":return"gausakhi";case"CLUSTER_MANAGER":return"biogassangh";case"CBG_SALES":case"SALES_EXECUTIVE":return"urjavyapar";case"BUSINESS_DEV":case"BUSINESS_DEVELOPER":return"urjasanyojak";case"ADMIN":case"ADMINISTRATOR":return"admin";case"SENIOR_LEADER":case"EXECUTIVE":case"CEO":case"CFO":return"urjaneta";case"PURIFICATION_OPERATOR":case"OPERATOR":return"shuddhidoot";default:return"gausakhi"}}function ll(s){switch(s){case"CEO":return"ceo";case"CFO":return"cfo";case"COO":return"coo";case"VP":return"vp";case"DIRECTOR":return"director";default:return}}function cl(s){return{"+919876543210":"field_worker","+918765432109":"cluster_manager","+917654321098":"cbg_sales","+915432109876":"admin","+913210987654":"purification_operator","+912109876543":"transporter"}[s]||null}function ol(s){return{"+919876543210":"gausakhi","+918765432109":"biogassangh","+917654321098":"urjavyapar","+915432109876":"admin","+913210987654":"shuddhidoot","+912109876543":"admin"}[s]||null}function dl(s){return{"+919876543210":"Ramesh Kumar (Field Worker)","+918765432109":"Suresh Patel (Cluster Manager)","+917654321098":"Priya Sharma (CBG Sales Executive)","+915432109876":"System Administrator","+913210987654":"Vinod Yadav (Purification Operator)","+912109876543":"Ravi Sharma (Transporter)"}[s]||null}const ml=[{id:"urjasanyojak",name:"UrjaSanyojak",displayName:"Biogas Cluster Management",description:"Comprehensive biogas production cluster oversight and management",url:"/",icon:"factory",category:"operational",requiredRoles:["executive","manager","operator","admin"],status:"active",lastUpdated:new Date},{id:"shuddhi-doot",name:"ShuddhiDoot",displayName:"Purification & Quality Control",description:"Advanced biogas purification monitoring and quality assurance",url:"/purification",icon:"filter",category:"operational",requiredRoles:["executive","manager","operator","analyst","admin"],status:"active",lastUpdated:new Date},{id:"urja-vyapar",name:"UrjaVyapar",displayName:"Sales & Distribution Management",description:"Comprehensive biogas sales, distribution, and customer management",url:"/sales",icon:"trending-up",category:"operational",requiredRoles:["executive","manager","admin"],status:"active",lastUpdated:new Date},{id:"urja-neta",name:"UrjaNeta",displayName:"Executive Analytics Dashboard",description:"Advanced voice-enabled business intelligence for senior leadership",url:"/urjaneta",icon:"brain",category:"executive",requiredRoles:["executive","admin"],status:"active",lastUpdated:new Date},{id:"admin-console",name:"AdminConsole",displayName:"System Administration",description:"Platform administration and system management",url:"/admin",icon:"settings",category:"analytics",requiredRoles:["admin"],status:"active",lastUpdated:new Date},{id:"gaushala",name:"GauShala",displayName:"GauShala Management",description:"Comprehensive cattle and dung collection management",url:"/gaushala",icon:"home",category:"operational",requiredRoles:["admin","field_worker","supervisor","manager"],status:"active",lastUpdated:new Date},{id:"executive-command",name:"ExecutiveCommand",displayName:"Executive Command Center",description:"Unified cross-module analytics and strategic insights",url:"/executive",icon:"crown",category:"executive",requiredRoles:["executive","admin"],status:"active",lastUpdated:new Date}],sn=h.createContext(void 0);function it(){const s=h.useContext(sn);if(s===void 0)throw new Error("usePlatform must be used within a PlatformProvider");return s}function ul({children:s}){const{user:t,hasPermission:a,isExecutive:r}=ws(),[n,i]=h.useState({currentModule:"urjasanyojak",navigationHistory:["urjasanyojak"],breadcrumbs:[{label:"Dashboard",url:"/",module:"urjasanyojak"}]}),[l,c]=h.useState({theme:"light",language:"en",timezone:"Asia/Kolkata",autoSave:!0,sessionTimeout:r()?240:480,notifications:{enabled:!0,desktop:!0,email:r(),categories:["alerts","reports","updates"]}}),[o,j]=h.useState({totalSessions:1,activeModules:["urjasanyojak"],averageSessionDuration:0,lastActivity:new Date,moduleUsageStats:{urjasanyojak:1,"shuddhi-doot":0,"urja-vyapar":0,"urja-neta":0}}),[y]=h.useState(ml),f=(D,g=!0)=>{const u=y.find(d=>d.id===D);!u||!M(D)||(i(d=>({currentModule:D,previousModule:g?d.currentModule:void 0,navigationHistory:[...d.navigationHistory.slice(-10),D],breadcrumbs:[{label:u.displayName,url:u.url,module:D}]})),k(D),window.location.pathname!==u.url&&window.history.pushState(null,"",u.url))},x=D=>{i(g=>({...g,breadcrumbs:D}))},N=()=>{n.previousModule&&f(n.previousModule,!1)},p=D=>{c(g=>{const u={...g,...D};return localStorage.setItem("platformSettings",JSON.stringify(u)),u})},O=()=>t?y.filter(D=>D.status==="active"&&D.requiredRoles.includes(t.role)&&a(D.id,"view")):[],M=D=>{if(!t)return!1;const g=y.find(u=>u.id===D);return!g||g.status!=="active"?!1:g.requiredRoles.includes(t.role)&&a(g.id,"view")},k=D=>{j(g=>({...g,lastActivity:new Date,activeModules:Array.from(new Set([...g.activeModules,D])),moduleUsageStats:{...g.moduleUsageStats,[D]:(g.moduleUsageStats[D]||0)+1}}))},b=()=>({...o,averageSessionDuration:Date.now()-o.lastActivity.getTime()});h.useEffect(()=>{const D=localStorage.getItem("platformSettings");if(D)try{const g=JSON.parse(D);c(u=>({...u,...g}))}catch{}},[]),h.useEffect(()=>{const D=window.location.pathname,g=y.find(u=>u.url===D);g&&M(g.id)&&i(u=>({...u,currentModule:g.id}))},[y,t]),h.useEffect(()=>{t&&r()&&p({sessionTimeout:240,notifications:{...l.notifications,email:!0,categories:["alerts","reports","updates","urgent"]}})},[t,r]);const C={modules:y,navigationState:n,platformSettings:l,sessionMetrics:o,navigateToModule:f,updateBreadcrumbs:x,goBack:N,updatePlatformSettings:p,getAccessibleModules:O,isModuleAccessible:M,trackModuleUsage:k,getSessionSummary:b};return e.jsx(sn.Provider,{value:C,children:s})}function xl(){const[s,t]=h.useState(""),[a,r]=h.useState(""),[n,i]=h.useState(!1),[l,c]=h.useState(!1),[o,j]=h.useState("en"),{login:y}=ws(),f=us(),x=async O=>{O.preventDefault(),c(!0);try{await y(s,a),f("/")}catch{}finally{c(!1)}},p={en:{title:"SAUBHAGYA",subtitle:"Biogas Management & Rural Energy Distribution",phone:"Phone Number",password:"Password",login:"Login",loading:"Logging in...",phonePlaceholder:"Enter your phone number",passwordPlaceholder:"Enter your password"},hi:{title:"सौभाग्य",subtitle:"बायोगैस प्रबंधन और ग्रामीण ऊर्जा वितरण",phone:"फ़ोन नंबर",password:"पासवर्ड",login:"लॉगिन",loading:"लॉगिन हो रहा है...",phonePlaceholder:"अपना फ़ोन नंबर दर्ज करें",passwordPlaceholder:"अपना पासवर्ड दर्ज करें"}}[o];return e.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transform scale-105",style:{backgroundImage:'url("https://images.unsplash.com/photo-1574943320219-553eb213f72d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2560&q=80"), url("https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=2560&q=80"), url("https://images.unsplash.com/photo-1595058542840-20d2ce4e77f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=2560&q=80"), linear-gradient(135deg, #22c55e 0%, #059669 100%)'}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/75 via-blue-900/70 to-emerald-900/75 z-10"}),e.jsx("div",{className:"absolute inset-0 opacity-20 z-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 left-1/6 w-32 h-32 bg-blue-400/10 rounded-full blur-2xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/3 right-1/5 w-48 h-48 bg-slate-400/8 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-2/3 left-1/2 w-24 h-24 bg-teal-400/12 rounded-full blur-xl animate-pulse",style:{animationDelay:"4s"}}),e.jsx("div",{className:"absolute top-1/6 right-1/3 w-40 h-40 bg-cyan-400/8 rounded-full blur-2xl animate-pulse",style:{animationDelay:"6s"}}),e.jsx("div",{className:"absolute top-1/5 left-3/4 w-2 h-2 bg-white/30 rounded-full animate-bounce",style:{animationDelay:"1s",animationDuration:"3s"}}),e.jsx("div",{className:"absolute bottom-1/4 left-1/5 w-1 h-1 bg-blue-300/40 rounded-full animate-bounce",style:{animationDelay:"3s",animationDuration:"4s"}}),e.jsx("div",{className:"absolute top-1/2 right-1/6 w-1.5 h-1.5 bg-teal-300/35 rounded-full animate-bounce",style:{animationDelay:"5s",animationDuration:"3.5s"}})]}),e.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}})]}),e.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-20 animate-in fade-in slide-in-from-bottom-4 duration-1000",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>j(o==="en"?"hi":"en"),className:"px-4 py-2 text-sm bg-white/10 backdrop-blur-sm rounded-lg shadow-lg border border-white/20 hover:bg-white/20 text-white transition-all duration-300",children:o==="en"?"हिंदी":"English"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-28 h-28 bg-white/95 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-2xl transform hover:scale-110 transition-all duration-300 border border-white/30 p-1",children:e.jsx("img",{src:"/images/dhanush_group_logo.jpg",alt:"Dhanush Group Logo",className:"w-full h-full object-contain rounded-xl"})}),e.jsx("div",{className:"absolute inset-0 w-28 h-28 border-2 border-white/20 rounded-2xl animate-ping"}),e.jsx("div",{className:"absolute inset-2 w-24 h-24 border border-white/10 rounded-xl animate-pulse"})]})}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-4 drop-shadow-lg",children:p.title}),e.jsx("p",{className:"text-white/90 text-lg mb-8 drop-shadow",children:p.subtitle})]}),e.jsxs("form",{onSubmit:x,className:"bg-white/10 backdrop-blur-md p-8 rounded-2xl shadow-2xl border border-white/20 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-white mb-2",children:p.phone}),e.jsxs("div",{className:"relative",children:[e.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/70 h-5 w-5"}),e.jsx("input",{id:"phone",type:"tel",value:s,onChange:O=>t(O.target.value),placeholder:p.phonePlaceholder,className:"w-full pl-10 pr-3 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/70 transition-all duration-300",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:p.password}),e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/70 h-5 w-5"}),e.jsx("input",{id:"password",type:n?"text":"password",value:a,onChange:O=>r(O.target.value),placeholder:p.passwordPlaceholder,className:"w-full pl-10 pr-12 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/70 transition-all duration-300",required:!0}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-white transition-colors duration-200",children:n?e.jsx(kr,{className:"h-5 w-5"}):e.jsx(ds,{className:"h-5 w-5"})})]})]}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 px-6 rounded-lg hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:l?p.loading:p.login})]})]})]})}function W(...s){return Hi(zi(s))}const ka=Yi("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=h.forwardRef(({className:s,variant:t,size:a,...r},n)=>e.jsx("button",{className:W(ka({variant:t,size:a,className:s})),ref:n,...r}));E.displayName="Button";function L({className:s,variant:t="default",...a}){return e.jsx("div",{className:W("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{"border-transparent bg-primary text-primary-foreground hover:bg-primary/80":t==="default","border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80":t==="secondary","border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80":t==="destructive","text-foreground":t==="outline"},s),...a})}const Xs=h.forwardRef(({className:s,orientation:t="horizontal",decorative:a=!0,...r},n)=>e.jsx("div",{ref:n,role:a?"none":"separator","aria-orientation":t,className:W("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...r}));Xs.displayName="Separator";function lt({moduleName:s,navigationItems:t,children:a,moduleSubtitle:r,userInfo:n,breadcrumbs:i,contentClassName:l}){const[c,o]=h.useState(!1),{logout:j}=ws(),y=async()=>{try{await j()}catch{}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>o(!1)}),e.jsx("aside",{className:`fixed left-0 top-0 w-56 h-screen bg-white border-r border-gray-200 z-50 transform transition-transform duration-300 ease-in-out ${c?"translate-x-0":"-translate-x-full"} xl:translate-x-0`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"h-16 bg-white border-b border-gray-200 flex items-center px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{variant:"ghost",size:"sm",className:"lg:hidden mr-2 p-1",onClick:()=>o(!c),children:e.jsx(za,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:s})]})}),e.jsxs("div",{className:"lg:hidden flex justify-between items-center p-4 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Menu"}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>o(!1),className:"p-1",children:e.jsx(ps,{className:"h-5 w-5"})})]}),r&&e.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:e.jsx("p",{className:"text-xs text-gray-600",children:r})}),e.jsx("nav",{className:"flex-1 p-3",children:e.jsx("div",{className:"space-y-2",children:t.map(f=>e.jsxs(E,{onClick:()=>{f.onClick(),o(!1)},variant:f.isActive?"default":"ghost",className:`w-full justify-start h-10 font-medium text-sm transition-all duration-200 ${f.isActive?"bg-blue-600 text-white hover:bg-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx("span",{className:`mr-3 flex-shrink-0 ${f.isActive?"text-white":"text-gray-500"}`,children:f.icon}),e.jsx("span",{className:"flex-1 text-left",children:f.label}),f.badge&&e.jsx(L,{variant:f.isActive?"outline":"secondary",className:`ml-auto text-xs ${f.isActive?"border-white/30 text-white bg-white/10":"bg-gray-200 text-gray-600"}`,children:f.badge})]},f.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"System Online"]})})]})}),e.jsxs("div",{className:"xl:ml-56 min-h-screen",children:[e.jsxs("header",{className:"fixed top-0 left-0 right-0 xl:left-56 h-16 bg-white border-b border-gray-200 z-40 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{variant:"ghost",size:"sm",className:"lg:hidden mr-2 p-1",onClick:()=>o(!c),children:e.jsx(za,{className:"h-5 w-5"})}),e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"S"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SAUBHAGYA"}),e.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Unified Platform"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(E,{variant:"ghost",size:"sm",children:[e.jsx(ms,{className:"w-4 h-4"}),e.jsx("span",{className:"sr-only",children:"Search"})]}),e.jsxs(E,{variant:"ghost",size:"sm",className:"relative",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsx(L,{variant:"destructive",className:"absolute -top-1 -right-1 h-2 w-2 p-0 text-[10px] flex items-center justify-center",children:"2"}),e.jsx("span",{className:"sr-only",children:"Notifications"})]}),e.jsx(E,{variant:"ghost",size:"sm",children:e.jsx("span",{className:"text-sm font-medium",children:"हिं"})}),e.jsx(Xs,{orientation:"vertical",className:"h-6"}),n&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right text-sm hidden md:block",children:[e.jsx("div",{className:"font-medium text-gray-900",children:n.name}),e.jsx("div",{className:"text-xs text-gray-500",children:n.role})]}),e.jsx("div",{className:"h-8 w-8 bg-blue-600 rounded-full flex items-center justify-center",children:n.avatar?e.jsx("img",{src:n.avatar,alt:n.name,className:"h-8 w-8 rounded-full object-cover"}):e.jsx("span",{className:"text-white text-xs font-medium",children:n.name.charAt(0).toUpperCase()})}),e.jsxs(E,{variant:"ghost",size:"sm",onClick:y,className:"text-gray-600 hover:text-red-600 hover:bg-red-50",title:"Logout",children:[e.jsx(ti,{className:"w-4 h-4"}),e.jsx("span",{className:"sr-only",children:"Logout"})]})]})]})]}),i&&i.length>0&&e.jsx("div",{className:"fixed top-16 left-0 right-0 xl:left-56 h-12 bg-gray-50 border-b border-gray-200 z-30 flex items-center px-6",children:e.jsx("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",children:i.map((f,x)=>e.jsxs("div",{className:"flex items-center",children:[x>0&&e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),f.onClick||f.url?e.jsx("button",{onClick:f.onClick,className:"hover:text-blue-600 transition-colors font-medium hover:underline",children:f.label}):e.jsx("span",{className:x===i.length-1?"text-gray-900 font-medium":"",children:f.label})]},x))})}),e.jsx("main",{className:W("pt-20 min-h-screen w-full p-6",i&&i.length>0?"pt-20 mt-12":"pt-20",l),children:a})]})]})}const w=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));w.displayName="Card";const I=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("flex flex-col space-y-1.5 p-6",s),...t}));I.displayName="CardHeader";const A=h.forwardRef(({className:s,...t},a)=>e.jsx("h3",{ref:a,className:W("text-2xl font-semibold leading-none tracking-tight",s),...t}));A.displayName="CardTitle";const se=h.forwardRef(({className:s,...t},a)=>e.jsx("p",{ref:a,className:W("text-sm text-muted-foreground",s),...t}));se.displayName="CardDescription";const S=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("p-6 pt-0",s),...t}));S.displayName="CardContent";const hl=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("flex items-center p-6 pt-0",s),...t}));hl.displayName="CardFooter";const gl=()=>{const[s,t]=h.useState(new Date),[a,r]=h.useState(!1),[n,i]=h.useState({cpuUsage:68,memoryUsage:84,diskUsage:45,networkLatency:12,uptime:99.7,throughput:1247});h.useEffect(()=>{const j=setInterval(()=>{i(y=>({cpuUsage:Math.max(50,Math.min(90,y.cpuUsage+(Math.random()-.5)*10)),memoryUsage:Math.max(70,Math.min(95,y.memoryUsage+(Math.random()-.5)*8)),diskUsage:Math.max(35,Math.min(60,y.diskUsage+(Math.random()-.5)*5)),networkLatency:Math.max(8,Math.min(25,y.networkLatency+(Math.random()-.5)*3)),uptime:Math.max(99,Math.min(99.9,y.uptime+(Math.random()-.5)*.2)),throughput:Math.max(1e3,Math.min(1500,y.throughput+(Math.random()-.5)*100))})),t(new Date)},3e4);return()=>clearInterval(j)},[]);const l=[{label:"Active Users",value:"247",status:"healthy",icon:e.jsx(Te,{className:"h-6 w-6"})},{label:"Auth Service",value:"Online",status:"healthy",icon:e.jsx(ai,{className:"h-6 w-6"})},{label:"IoT Service",value:"Online",status:"healthy",icon:e.jsx(Se,{className:"h-6 w-6"})},{label:"System Alerts",value:"3",status:"warning",icon:e.jsx(le,{className:"h-6 w-6"})},{label:"Database",value:"98.5%",status:"healthy",icon:e.jsx(Ke,{className:"h-6 w-6"})},{label:"Last Backup",value:"2h ago",status:"healthy",icon:e.jsx(we,{className:"h-6 w-6"})}],c=async()=>{r(!0),setTimeout(()=>{r(!1),t(new Date)},2e3)},o=j=>{switch(j){case"healthy":return e.jsx(L,{className:"bg-green-500",children:"Healthy"});case"warning":return e.jsx(L,{className:"bg-yellow-500",children:"Warning"});case"critical":return e.jsx(L,{className:"bg-red-500",children:"Critical"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Platform overview and system health monitoring"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right text-sm",children:[e.jsx("div",{className:"text-gray-500",children:"Last updated"}),e.jsx("div",{className:"font-medium",children:s.toLocaleTimeString()})]}),e.jsxs("button",{onClick:c,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(os,{className:`w-4 h-4 ${a?"animate-spin":""}`}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((j,y)=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:j.label}),j.icon]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.value}),e.jsx("div",{className:"mt-2",children:o(j.status)})]})]},y))}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-5 h-5"}),e.jsx("span",{children:"Real-time Performance Metrics"})]}),e.jsx(se,{children:"Live system resource utilization and performance indicators"})]}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tr,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:"CPU Usage"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.cpuUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.cpuUsage>80?"bg-red-500":n.cpuUsage>60?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${n.cpuUsage}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.cpuUsage>80?"High usage detected":"Normal operation"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ir,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Memory Usage"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.memoryUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.memoryUsage>90?"bg-red-500":n.memoryUsage>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${n.memoryUsage}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.memoryUsage>90?"Critical memory usage":"Acceptable usage"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Disk Usage"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.diskUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.diskUsage>80?"bg-red-500":n.diskUsage>60?"bg-yellow-500":"bg-purple-500"}`,style:{width:`${n.diskUsage}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.diskUsage>80?"Monitor disk space":"Plenty of space available"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qs,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Network Latency"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.networkLatency.toFixed(0),"ms"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.networkLatency>30?"bg-red-500":n.networkLatency>15?"bg-yellow-500":"bg-orange-500"}`,style:{width:`${n.networkLatency/50*100}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.networkLatency>20?"High latency detected":"Low latency - optimal"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rs,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm font-medium",children:"System Uptime"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.uptime.toFixed(2),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.uptime>99.5?"bg-green-500":n.uptime>99?"bg-yellow-500":"bg-red-500"}`,style:{width:`${n.uptime}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Excellent availability rating"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Throughput"})]}),e.jsxs("span",{className:"text-sm font-bold",children:[n.throughput.toFixed(0)," req/min"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.throughput>1400?"bg-green-500":n.throughput>1e3?"bg-blue-500":"bg-red-500"}`,style:{width:`${n.throughput/2e3*100}%`}})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.throughput>1400?"High traffic volume":"Normal traffic levels"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center space-x-2",children:[e.jsx(Se,{className:"w-5 h-5"}),e.jsx("span",{children:"Recent Activity"})]}),e.jsx(se,{children:"Latest system events and user actions"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"New user registration"}),e.jsx("p",{className:"text-xs text-green-700",children:"Ram Kumar - Field Worker • 2 minutes ago"})]}),e.jsx(xe,{className:"w-4 h-4 text-green-600"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"System backup completed"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Database backup successful • 15 minutes ago"})]}),e.jsx(Ke,{className:"w-4 h-4 text-blue-600"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Device calibration due"}),e.jsx("p",{className:"text-xs text-yellow-700",children:"IoT Sensor #247 requires attention • 1 hour ago"})]}),e.jsx(le,{className:"w-4 h-4 text-yellow-600"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Data sync completed"}),e.jsx("p",{className:"text-xs text-purple-700",children:"Gaushala cluster data synchronized • 2 hours ago"})]}),e.jsx(os,{className:"w-4 h-4 text-purple-600"})]})]})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"w-5 h-5"}),e.jsx("span",{children:"System Alerts"}),e.jsx(L,{className:"bg-yellow-500",children:"3 Active"})]}),e.jsx(se,{children:"Issues requiring immediate attention"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"High memory usage on IoT Service"}),e.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Memory usage: ",n.memoryUsage.toFixed(1),"% • Action required"]})]}),e.jsx(L,{className:"bg-yellow-600",children:"High"})]}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-600 rounded-full transition-all duration-500",style:{width:`${n.memoryUsage}%`}})})})]}),e.jsx("div",{className:"p-4 border border-blue-200 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Scheduled maintenance reminder"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Database maintenance window in 2 days • Plan accordingly"})]}),e.jsx(L,{className:"bg-blue-600",children:"Medium"})]})}),e.jsx("div",{className:"p-4 border border-orange-200 bg-orange-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-orange-800",children:"SSL certificate expiring soon"}),e.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"Certificate expires in 30 days • Renewal needed"})]}),e.jsx(L,{className:"bg-orange-600",children:"Low"})]})})]})})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"w-5 h-5"}),e.jsx("span",{children:"Platform Statistics"})]}),e.jsx(se,{children:"Comprehensive SAUBHAGYA platform metrics and KPIs"})]}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"2,450"}),e.jsx("div",{className:"text-sm text-blue-700",children:"CBG Production (m³)"}),e.jsxs("div",{className:"flex items-center justify-center mt-2",children:[e.jsx(xe,{className:"w-4 h-4 text-green-600 mr-1"}),e.jsx("span",{className:"text-xs text-green-600",children:"+12.5%"})]})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"89.2%"}),e.jsx("div",{className:"text-sm text-green-700",children:"Operational Efficiency"}),e.jsxs("div",{className:"flex items-center justify-center mt-2",children:[e.jsx(xe,{className:"w-4 h-4 text-green-600 mr-1"}),e.jsx("span",{className:"text-xs text-green-600",children:"+2.1%"})]})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"12"}),e.jsx("div",{className:"text-sm text-purple-700",children:"Active Clusters"}),e.jsxs("div",{className:"flex items-center justify-center mt-2",children:[e.jsx("div",{className:"w-4 h-4 bg-purple-600 rounded-full mr-1"}),e.jsx("span",{className:"text-xs text-purple-600",children:"Stable"})]})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:"145.5"}),e.jsx("div",{className:"text-sm text-orange-700",children:"Carbon Credits (tCO2e)"}),e.jsxs("div",{className:"flex items-center justify-center mt-2",children:[e.jsx(xe,{className:"w-4 h-4 text-green-600 mr-1"}),e.jsx("span",{className:"text-xs text-green-600",children:"+8.3%"})]})]})]})})]})]})},ee=h.forwardRef(({className:s,type:t,...a},r)=>e.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...a}));ee.displayName="Input";const pl=()=>{const[s,t]=h.useState(""),[a,r]=h.useState("all"),n=[{id:"1",name:"Rajesh Kumar",email:"rajesh@gaushala.com",role:"Gaushala Admin",status:"active",lastLogin:"2 hours ago",createdDate:"2024-01-15"},{id:"2",name:"Priya Sharma",email:"priya@biogas.com",role:"Biogas Sangh",status:"active",lastLogin:"1 day ago",createdDate:"2024-02-10"},{id:"3",name:"Amit Patel",email:"amit@sales.com",role:"Sales Representative",status:"inactive",lastLogin:"1 week ago",createdDate:"2024-01-20"},{id:"4",name:"Sunita Devi",email:"sunita@purification.com",role:"Purification Operator",status:"active",lastLogin:"3 hours ago",createdDate:"2024-03-05"},{id:"5",name:"Dr. Suresh Verma",email:"suresh@admin.com",role:"Super Admin",status:"active",lastLogin:"30 minutes ago",createdDate:"2023-12-01"}],i=o=>{switch(o){case"active":return e.jsx(L,{className:"bg-green-500",children:"Active"});case"inactive":return e.jsx(L,{className:"bg-gray-500",children:"Inactive"});case"suspended":return e.jsx(L,{className:"bg-red-500",children:"Suspended"})}},l=o=>{const j={"Super Admin":"bg-purple-500","Gaushala Admin":"bg-blue-500","Biogas Sangh":"bg-green-500","Sales Representative":"bg-orange-500","Purification Operator":"bg-cyan-500",Viewer:"bg-gray-500"};return e.jsx(L,{className:j[o]||"bg-gray-500",children:o})},c=n.filter(o=>{const j=o.name.toLowerCase().includes(s.toLowerCase())||o.email.toLowerCase().includes(s.toLowerCase()),y=a==="all"||o.role===a;return j&&y});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage users, roles, and permissions across the platform"})]}),e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(ri,{className:"h-4 w-4"}),"Add User"]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"User Directory"]}),e.jsxs(se,{children:["Total ",n.length," users across all roles"]})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ee,{placeholder:"Search users by name or email...",value:s,onChange:o=>t(o.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"w-48",children:e.jsxs("select",{value:a,onChange:o=>r(o.target.value),className:"w-full px-3 py-2 border border-input bg-background rounded-md",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"Super Admin",children:"Super Admin"}),e.jsx("option",{value:"Gaushala Admin",children:"Gaushala Admin"}),e.jsx("option",{value:"Biogas Sangh",children:"Biogas Sangh"}),e.jsx("option",{value:"Sales Representative",children:"Sales Representative"}),e.jsx("option",{value:"Purification Operator",children:"Purification Operator"}),e.jsx("option",{value:"Viewer",children:"Viewer"})]})})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4 font-medium",children:"User"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Role"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Last Login"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:c.map(o=>e.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o.email})]})}),e.jsx("td",{className:"p-4",children:l(o.role)}),e.jsx("td",{className:"p-4",children:i(o.status)}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:o.lastLogin}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(o.createdDate).toLocaleDateString()]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:"ghost",size:"sm",children:e.jsx(js,{className:"h-4 w-4"})}),e.jsx(E,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:e.jsx(tt,{className:"h-4 w-4"})})]})})]},o.id))})]})}),c.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No users found matching your criteria"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Role Distribution"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Gaushala Admin"}),e.jsx(L,{variant:"secondary",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Biogas Sangh"}),e.jsx(L,{variant:"secondary",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Sales Rep"}),e.jsx(L,{variant:"secondary",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Purification Op"}),e.jsx(L,{variant:"secondary",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Super Admin"}),e.jsx(L,{variant:"secondary",children:"1"})]})]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"User Activity"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Active Users"}),e.jsx(L,{className:"bg-green-500",children:"4"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Inactive Users"}),e.jsx(L,{className:"bg-gray-500",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Recent Logins"}),e.jsx(L,{variant:"secondary",children:"3"})]})]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Quick Actions"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(E,{variant:"outline",className:"w-full justify-start",children:"Export User List"}),e.jsx(E,{variant:"outline",className:"w-full justify-start",children:"Bulk Import Users"}),e.jsx(E,{variant:"outline",className:"w-full justify-start",children:"Role Permissions"})]})})]})]})]})},jl=()=>{const[s,t]=h.useState(""),a=[{id:"RFID-001",name:"Cattle Tag Reader 1",type:"RFID",status:"online",location:"Mathura Gaushala - Gate 1",lastSeen:"2 minutes ago",batteryLevel:85},{id:"SCALE-001",name:"Biogas Scale Unit 1",type:"IoT Scale",status:"online",location:"Mathura Cluster - Digester 1",lastSeen:"1 minute ago",batteryLevel:92},{id:"CH4-001",name:"Methane Sensor 1",type:"CH4 Sensor",status:"maintenance",location:"Vrindavan Cluster - Production Unit",lastSeen:"2 hours ago",batteryLevel:45},{id:"GPS-001",name:"Vehicle Tracker 1",type:"GPS Unit",status:"online",location:"Transport Vehicle TV-001",lastSeen:"30 seconds ago",batteryLevel:78},{id:"RFID-002",name:"Cattle Tag Reader 2",type:"RFID",status:"offline",location:"Goverdhan Gaushala - Feeding Area",lastSeen:"6 hours ago",batteryLevel:12}],r=c=>{switch(c){case"online":return e.jsxs(L,{className:"bg-green-500 flex items-center gap-1",children:[e.jsx(Qs,{className:"h-3 w-3"}),"Online"]});case"offline":return e.jsxs(L,{className:"bg-red-500 flex items-center gap-1",children:[e.jsx(ba,{className:"h-3 w-3"}),"Offline"]});case"maintenance":return e.jsxs(L,{className:"bg-yellow-500 flex items-center gap-1",children:[e.jsx(ze,{className:"h-3 w-3"}),"Maintenance"]})}},n=c=>{switch(c){case"RFID":return e.jsx(wa,{className:"h-5 w-5"});case"IoT Scale":return e.jsx(Na,{className:"h-5 w-5"});case"CH4 Sensor":return e.jsx(ni,{className:"h-5 w-5"});case"GPS Unit":return e.jsx(wa,{className:"h-5 w-5"})}},i=c=>c?c>50?"text-green-600":c>20?"text-yellow-600":"text-red-600":"text-gray-500",l=a.filter(c=>c.name.toLowerCase().includes(s.toLowerCase())||c.type.toLowerCase().includes(s.toLowerCase())||c.location.toLowerCase().includes(s.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Device Registry"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage IoT devices, RFID readers, sensors, and tracking units"})]}),e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Device"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Devices"}),e.jsx("p",{className:"text-2xl font-bold",children:a.length})]}),e.jsx(Na,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Online"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.filter(c=>c.status==="online").length})]}),e.jsx(Qs,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Offline"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.filter(c=>c.status==="offline").length})]}),e.jsx(ba,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Maintenance"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:a.filter(c=>c.status==="maintenance").length})]}),e.jsx(ze,{className:"h-8 w-8 text-yellow-500"})]})})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:"Device Inventory"}),e.jsx(se,{children:"All registered IoT devices and sensors"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ee,{placeholder:"Search devices by name, type, or location...",value:s,onChange:c=>t(c.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4 font-medium",children:"Device"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Type"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Location"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Battery"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Last Seen"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:l.map(c=>e.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[n(c.type),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:c.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.id})]})]})}),e.jsx("td",{className:"p-4",children:e.jsx(L,{variant:"secondary",children:c.type})}),e.jsx("td",{className:"p-4",children:r(c.status)}),e.jsx("td",{className:"p-4",children:e.jsx("p",{className:"text-sm",children:c.location})}),e.jsx("td",{className:"p-4",children:c.batteryLevel&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:`h-2 rounded-full ${i(c.batteryLevel).includes("green")?"bg-green-500":i(c.batteryLevel).includes("yellow")?"bg-yellow-500":"bg-red-500"}`,style:{width:`${c.batteryLevel}%`}})}),e.jsxs("span",{className:`text-sm ${i(c.batteryLevel)}`,children:[c.batteryLevel,"%"]})]})}),e.jsx("td",{className:"p-4",children:e.jsx("p",{className:"text-sm",children:c.lastSeen})}),e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"flex gap-2",children:e.jsx(E,{variant:"ghost",size:"sm",children:e.jsx(ze,{className:"h-4 w-4"})})})})]},c.id))})]})})]})]})]})},fl=()=>{const[s,t]=h.useState(""),[a,r]=h.useState("all"),n=[{id:"AL-001",timestamp:"2024-01-15 14:30:25",user:"admin@saubhagya.com",action:"User Login",module:"Authentication",status:"success",ipAddress:"192.168.1.100",details:"Successful admin login from dashboard"},{id:"AL-002",timestamp:"2024-01-15 14:28:15",user:"rajesh@gaushala.com",action:"Update Device Configuration",module:"Device Management",status:"success",ipAddress:"192.168.1.105",details:"Modified RFID reader settings for Cattle Tag Reader 1"},{id:"AL-003",timestamp:"2024-01-15 14:25:10",user:"priya@biogas.com",action:"Failed Login Attempt",module:"Authentication",status:"failed",ipAddress:"192.168.1.110",details:"Invalid password provided - 3rd attempt"},{id:"AL-004",timestamp:"2024-01-15 14:20:05",user:"system",action:"Database Backup",module:"System",status:"success",ipAddress:"localhost",details:"Automated daily backup completed successfully"},{id:"AL-005",timestamp:"2024-01-15 14:15:30",user:"amit@sales.com",action:"Export Customer Data",module:"Sales",status:"warning",ipAddress:"192.168.1.112",details:"Large dataset export - monitoring for performance impact"},{id:"AL-006",timestamp:"2024-01-15 14:10:20",user:"admin@saubhagya.com",action:"Create User Account",module:"User Management",status:"success",ipAddress:"192.168.1.100",details:"New user account created for transport team member"}],i=j=>{switch(j){case"success":return e.jsx(de,{className:"h-4 w-4 text-green-500"});case"failed":return e.jsx(qt,{className:"h-4 w-4 text-red-500"});case"warning":return e.jsx(le,{className:"h-4 w-4 text-yellow-500"})}},l=j=>{switch(j){case"success":return e.jsx(L,{className:"bg-green-500",children:"Success"});case"failed":return e.jsx(L,{className:"bg-red-500",children:"Failed"});case"warning":return e.jsx(L,{className:"bg-yellow-500",children:"Warning"})}},c=j=>{switch(j){case"Authentication":return e.jsx(be,{className:"h-4 w-4"});case"User Management":return e.jsx(Ms,{className:"h-4 w-4"});case"System":return e.jsx(Ke,{className:"h-4 w-4"});default:return e.jsx(Ke,{className:"h-4 w-4"})}},o=n.filter(j=>{const y=j.action.toLowerCase().includes(s.toLowerCase())||j.user.toLowerCase().includes(s.toLowerCase())||j.details.toLowerCase().includes(s.toLowerCase()),f=a==="all"||j.module===a;return y&&f});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Audit Logs"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive audit trail of all system activities and user actions"})]}),e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Export Logs"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Events"}),e.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),e.jsx(Ke,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Success"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(j=>j.status==="success").length})]}),e.jsx(de,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Failed"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.filter(j=>j.status==="failed").length})]}),e.jsx(qt,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Warnings"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.filter(j=>j.status==="warning").length})]}),e.jsx(le,{className:"h-8 w-8 text-yellow-500"})]})})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"System Audit Trail"]}),e.jsx(se,{children:"Real-time monitoring of all user actions and system events"})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ee,{placeholder:"Search audit logs by action, user, or details...",value:s,onChange:j=>t(j.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"w-48",children:e.jsxs("select",{value:a,onChange:j=>r(j.target.value),className:"w-full px-3 py-2 border border-input bg-background rounded-md",children:[e.jsx("option",{value:"all",children:"All Modules"}),e.jsx("option",{value:"Authentication",children:"Authentication"}),e.jsx("option",{value:"User Management",children:"User Management"}),e.jsx("option",{value:"Device Management",children:"Device Management"}),e.jsx("option",{value:"Sales",children:"Sales"}),e.jsx("option",{value:"System",children:"System"})]})})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4 font-medium",children:"Timestamp"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"User"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Action"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Module"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"IP Address"})]})}),e.jsx("tbody",{children:o.map(j=>e.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[e.jsx("td",{className:"p-4",children:e.jsx("p",{className:"text-sm font-mono",children:j.timestamp})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-4 w-4"}),e.jsx("p",{className:"text-sm",children:j.user})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:j.action}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j.details})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[c(j.module),e.jsx(L,{variant:"secondary",children:j.module})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[i(j.status),l(j.status)]})}),e.jsx("td",{className:"p-4",children:e.jsx("p",{className:"text-sm font-mono",children:j.ipAddress})})]},j.id))})]})}),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(be,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No audit logs found matching your criteria"})]})]})]})]})},vl=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Revenue & Carbon Reports"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive financial and environmental impact reporting"})]}),e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4"}),"Create Custom Report"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Monthly Revenue"}),e.jsx(We,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"₹8.2L"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(L,{className:"bg-green-500",children:"+15.3%"}),e.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"vs last month"})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Carbon Credits"}),e.jsx(Is,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"145.5 tCO2e"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(L,{className:"bg-green-500",children:"+12.8%"}),e.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"this month"})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"CBG Production"}),e.jsx(ke,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"2,450 m³"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(L,{className:"bg-blue-500",children:"+8.4%"}),e.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"monthly avg"})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Cluster Efficiency"}),e.jsx(xe,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"89.2%"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(L,{className:"bg-purple-500",children:"+2.1%"}),e.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"improvement"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5"}),"Revenue Breakdown"]}),e.jsx(se,{children:"Monthly revenue by source and performance"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"CBG Sales"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct biogas sales to customers"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-lg",children:"₹6.8L"}),e.jsx(L,{className:"bg-green-500",children:"83% of total"})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Carbon Credits"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"CO2 offset certificates sold"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-lg",children:"₹1.2L"}),e.jsx(L,{className:"bg-blue-500",children:"15% of total"})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Organic Fertilizer"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Slurry and compost sales"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-lg",children:"₹0.2L"}),e.jsx(L,{className:"bg-purple-500",children:"2% of total"})]})]})]})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-5 w-5"}),"Carbon Impact Summary"]}),e.jsx(se,{children:"Environmental impact and carbon credit calculations"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"CO2 Offset"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:"145.5 tCO2e"}),e.jsx("p",{className:"text-xs text-green-600",children:"This month"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Credits Generated"}),e.jsx("p",{className:"text-xl font-bold text-blue-900",children:"145"}),e.jsx("p",{className:"text-xs text-blue-600",children:"Verified credits"})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("p",{className:"font-medium mb-2",children:"Carbon Credit Pricing"}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Current Market Rate:"}),e.jsx("span",{className:"font-bold",children:"₹850/tCO2e"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Our Rate:"}),e.jsx("span",{className:"font-bold text-green-600",children:"₹825/tCO2e"})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-2 pt-2 border-t",children:[e.jsx("span",{children:"Total Value:"}),e.jsx("span",{className:"font-bold text-lg",children:"₹1,19,888"})]})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Cluster Performance"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Mathura Cluster"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-green-500 rounded-full",style:{width:"95%"}})}),e.jsx("span",{className:"text-sm font-medium",children:"95%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Vrindavan Cluster"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-green-500 rounded-full",style:{width:"92%"}})}),e.jsx("span",{className:"text-sm font-medium",children:"92%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Goverdhan Cluster"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-yellow-500 rounded-full",style:{width:"87%"}})}),e.jsx("span",{className:"text-sm font-medium",children:"87%"})]})]})]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Quick Reports"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(E,{variant:"outline",className:"w-full justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"}),"Monthly Financial"]}),e.jsx(Pe,{className:"h-4 w-4"})]}),e.jsxs(E,{variant:"outline",className:"w-full justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-4 w-4"}),"Carbon Credits"]}),e.jsx(Pe,{className:"h-4 w-4"})]}),e.jsxs(E,{variant:"outline",className:"w-full justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4"}),"Production Summary"]}),e.jsx(Pe,{className:"h-4 w-4"})]}),e.jsxs(E,{variant:"outline",className:"w-full justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(st,{className:"h-4 w-4"}),"Efficiency Analysis"]}),e.jsx(Pe,{className:"h-4 w-4"})]})]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Compliance Reports"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:"Government Quarterly"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Due: 31st Jan 2024"}),e.jsx(L,{className:"bg-green-500 mt-2",children:"Ready"})]}),e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:"Environmental Impact"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Due: 15th Feb 2024"}),e.jsx(L,{className:"bg-yellow-500 mt-2",children:"In Progress"})]}),e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:"Carbon Verification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Due: 28th Feb 2024"}),e.jsx(L,{className:"bg-blue-500 mt-2",children:"Scheduled"})]})]})})]})]})]}),yl=()=>{const[s,t]=h.useState({biogasModule:!0,salesModule:!0,transportModule:!0,purificationModule:!0,analyticsModule:!0,apiBaseUrl:"https://api.saubhagya.com",webhookUrl:"https://webhook.saubhagya.com/events",apiKey:"••••••••••••••••",emailNotifications:!0,smsNotifications:!1,alertThreshold:"85",maintenanceReminders:!0,autoBackup:!0,backupFrequency:"daily",retentionDays:"30",twoFactorAuth:!0,sessionTimeout:"60",passwordExpiry:"90",defaultLanguage:"en",timezone:"Asia/Kolkata",currency:"INR"}),a=[{title:"Module Settings",description:"Enable or disable platform modules",icon:e.jsx(ze,{className:"h-5 w-5"}),settings:[{key:"biogasModule",label:"Biogas Production Module",type:"toggle",value:s.biogasModule},{key:"salesModule",label:"Sales & Distribution Module",type:"toggle",value:s.salesModule},{key:"transportModule",label:"Transport Management Module",type:"toggle",value:s.transportModule},{key:"purificationModule",label:"Purification Operations Module",type:"toggle",value:s.purificationModule},{key:"analyticsModule",label:"Analytics & Reporting Module",type:"toggle",value:s.analyticsModule}]},{title:"Integration Configuration",description:"API keys and webhook settings",icon:e.jsx(ii,{className:"h-5 w-5"}),settings:[{key:"apiBaseUrl",label:"API Base URL",type:"text",value:s.apiBaseUrl},{key:"webhookUrl",label:"Webhook URL",type:"text",value:s.webhookUrl},{key:"apiKey",label:"API Key",type:"password",value:s.apiKey}]},{title:"Notification Rules",description:"Alert thresholds and notification preferences",icon:e.jsx(et,{className:"h-5 w-5"}),settings:[{key:"emailNotifications",label:"Email Notifications",type:"toggle",value:s.emailNotifications},{key:"smsNotifications",label:"SMS Notifications",type:"toggle",value:s.smsNotifications},{key:"alertThreshold",label:"System Alert Threshold (%)",type:"text",value:s.alertThreshold},{key:"maintenanceReminders",label:"Maintenance Reminders",type:"toggle",value:s.maintenanceReminders}]},{title:"Backup Settings",description:"Data backup schedule and retention",icon:e.jsx(Ke,{className:"h-5 w-5"}),settings:[{key:"autoBackup",label:"Automatic Backups",type:"toggle",value:s.autoBackup},{key:"backupFrequency",label:"Backup Frequency",type:"select",value:s.backupFrequency,options:["hourly","daily","weekly"]},{key:"retentionDays",label:"Retention Period (days)",type:"text",value:s.retentionDays}]},{title:"Security Settings",description:"Authentication and security policies",icon:e.jsx(be,{className:"h-5 w-5"}),settings:[{key:"twoFactorAuth",label:"Two-Factor Authentication",type:"toggle",value:s.twoFactorAuth},{key:"sessionTimeout",label:"Session Timeout (minutes)",type:"text",value:s.sessionTimeout},{key:"passwordExpiry",label:"Password Expiry (days)",type:"text",value:s.passwordExpiry}]},{title:"Localization",description:"Language and regional settings",icon:e.jsx(Ks,{className:"h-5 w-5"}),settings:[{key:"defaultLanguage",label:"Default Language",type:"select",value:s.defaultLanguage,options:["en","hi"]},{key:"timezone",label:"Timezone",type:"select",value:s.timezone,options:["Asia/Kolkata","UTC"]},{key:"currency",label:"Currency",type:"select",value:s.currency,options:["INR","USD"]}]}],r=(i,l)=>{t(c=>({...c,[i]:l}))},n=i=>{switch(i.type){case"toggle":return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:i.label}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.value,onChange:l=>r(i.key,l.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]});case"select":return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:i.label}),e.jsx("select",{value:i.value,onChange:l=>r(i.key,l.target.value),className:"w-full px-3 py-2 border border-input bg-background rounded-md",children:i.options?.map(l=>e.jsx("option",{value:l,children:l},l))})]});case"password":return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:i.label}),e.jsx(ee,{type:"password",value:i.value,onChange:l=>r(i.key,l.target.value),placeholder:"Enter value..."})]});default:return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:i.label}),e.jsx(ee,{type:"text",value:i.value,onChange:l=>r(i.key,l.target.value),placeholder:"Enter value..."})]})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"System Configuration"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage platform settings, integrations, and security policies"})]}),e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(at,{className:"h-4 w-4"}),"Save All Changes"]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.map((i,l)=>e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[i.icon,i.title]}),e.jsx(se,{children:i.description})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:i.settings.map((c,o)=>e.jsx("div",{children:n(c)},o))})})]},l))}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:"System Status"}),e.jsx(se,{children:"Current system configuration and status overview"})]}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Active Modules"}),e.jsx(L,{className:"bg-green-500",children:"5/5"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All platform modules are operational"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Security Score"}),e.jsx(L,{className:"bg-green-500",children:"98/100"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Excellent security configuration"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Last Backup"}),e.jsx(L,{className:"bg-blue-500",children:"2h ago"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Next backup scheduled in 22 hours"})]})]})})]})]})},Nl=()=>{const s=us(),t=$s(),a=[{id:"dashboard",label:"Dashboard",icon:e.jsx(Ia,{className:"w-5 h-5"}),onClick:()=>s("/admin"),isActive:t.pathname==="/admin"||t.pathname==="/admin/"},{id:"users",label:"User Management",icon:e.jsx(Te,{className:"w-5 h-5"}),onClick:()=>s("/admin/users"),isActive:t.pathname==="/admin/users"},{id:"devices",label:"Device Registry",icon:e.jsx(Ir,{className:"w-5 h-5"}),onClick:()=>s("/admin/devices"),isActive:t.pathname==="/admin/devices"},{id:"audit",label:"Audit Logs",icon:e.jsx(Me,{className:"w-5 h-5"}),onClick:()=>s("/admin/audit"),isActive:t.pathname==="/admin/audit"},{id:"reports",label:"Reports",icon:e.jsx(ke,{className:"w-5 h-5"}),onClick:()=>s("/admin/reports"),isActive:t.pathname==="/admin/reports"},{id:"config",label:"Configuration",icon:e.jsx(ze,{className:"w-5 h-5"}),onClick:()=>s("/admin/config"),isActive:t.pathname==="/admin/config"}];return e.jsx(lt,{moduleName:"Admin",moduleSubtitle:"Platform Management",navigationItems:a,userInfo:{name:"Admin User",role:"System Administrator"},children:e.jsxs(nt,{children:[e.jsx(J,{path:"/",element:e.jsx(gl,{})}),e.jsx(J,{path:"/users",element:e.jsx(pl,{})}),e.jsx(J,{path:"/devices",element:e.jsx(jl,{})}),e.jsx(J,{path:"/audit",element:e.jsx(fl,{})}),e.jsx(J,{path:"/reports",element:e.jsx(vl,{})}),e.jsx(J,{path:"/config",element:e.jsx(yl,{})})]})})};function bl(){const[s,t]=h.useState([]),[a,r]=h.useState([]),[n,i]=h.useState({cpu:0,memory:0,disk:0,network:0,database:"healthy",uptime:0,activeUsers:0,lastBackup:new Date}),[l,c]=h.useState([]),[o,j]=h.useState(""),[y,f]=h.useState("all"),[x,N]=h.useState("all"),[p,O]=h.useState("en"),[M,k]=h.useState("dashboard"),C={en:{title:"System Administration Dashboard",subtitle:"User management, system monitoring, and security controls",users:"Users",auditLogs:"Audit Logs",systemHealth:"System Health",alerts:"Alerts",searchUsers:"Search users...",filterByRole:"Filter by role",filterByStatus:"Filter by status",all:"All",active:"Active",inactive:"Inactive",suspended:"Suspended",addUser:"Add User",exportData:"Export Data",name:"Name",email:"Email",role:"Role",status:"Status",lastLogin:"Last Login",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",systemMetrics:"System Metrics",cpu:"CPU",memory:"Memory",disk:"Disk",network:"Network",database:"Database",uptime:"Uptime",activeUsers:"Active Users",lastBackup:"Last Backup",healthy:"Healthy",warning:"Warning",critical:"Critical",security:"Security",performance:"Performance",system:"System",user:"User",low:"Low",medium:"Medium",high:"High",open:"Open",acknowledged:"Acknowledged",resolved:"Resolved",assign:"Assign",acknowledge:"Acknowledge",resolve:"Resolve",noActiveAlerts:"No active alerts",systemStatus:"System Status",diskUsage:"Disk Usage",userManagement:"User Management",timestamp:"Timestamp",resource:"Resource",ipAddress:"IP Address",success:"Success",failure:"Failure",quickActions:"Quick Actions",addUserDescription:"Create new user account",securitySettings:"Security Settings",securitySettingsDescription:"Configure security policies",backupManagement:"Backup Management",backupManagementDescription:"Backup schedule and recovery",systemConfiguration:"System Configuration",systemConfigurationDescription:"Configure system settings",gauSakhi:"GauSakhi",biogasSangh:"BiogasSangh",shuddhiDoot:"ShuddhiDoot",urjaVyapar:"UrjaVyapar",urjaNeta:"UrjaNeta",admin:"Admin"},hi:{title:"सिस्टम प्रशासन डैशबोर्ड",subtitle:"उपयोगकर्ता प्रबंधन, सिस्टम निगरानी और सुरक्षा नियंत्रण",users:"उपयोगकर्ता",auditLogs:"ऑडिट लॉग",systemHealth:"सिस्टम स्वास्थ्य",alerts:"अलर्ट",searchUsers:"उपयोगकर्ताओं को खोजें...",filterByRole:"भूमिका के अनुसार फ़िल्टर करें",filterByStatus:"स्थिति के अनुसार फ़िल्टर करें",all:"सभी",active:"सक्रिय",inactive:"निष्क्रिय",suspended:"निलंबित",addUser:"उपयोगकर्ता जोड़ें",exportData:"डेटा निर्यात करें",name:"नाम",email:"ईमेल",role:"भूमिका",status:"स्थिति",lastLogin:"अंतिम लॉगिन",actions:"कार्य",view:"देखें",edit:"संपादित करें",delete:"हटाएं",systemMetrics:"सिस्टम मेट्रिक्स",cpu:"सीपीयू",memory:"मेमोरी",disk:"डिस्क",network:"नेटवर्क",database:"डेटाबेस",uptime:"अपटाइम",activeUsers:"सक्रिय उपयोगकर्ता",lastBackup:"अंतिम बैकअप",healthy:"स्वस्थ",warning:"चेतावनी",critical:"गंभीर",security:"सुरक्षा",performance:"प्रदर्शन",system:"सिस्टम",user:"उपयोगकर्ता",low:"कम",medium:"मध्यम",high:"उच्च",open:"खुला",acknowledged:"स्वीकृत",resolved:"समाधान",assign:"नियुक्त करें",acknowledge:"स्वीकार करें",resolve:"समाधान करें",noActiveAlerts:"कोई खुला अलर्ट नहीं",systemStatus:"सिस्टम स्थिति",diskUsage:"डिस्क उपयोग",userManagement:"उपयोगकर्ता प्रबंधन",timestamp:"समयांक",resource:"संसाधन",ipAddress:"IP पता",success:"सफलता",failure:"विफलता",quickActions:"तेज़ कार्य",addUserDescription:"नया उपयोगकर्ता खाता बनाएं",securitySettings:"सुरक्षा सेटिंग्स",securitySettingsDescription:"सुरक्षा नीतियों को कॉन्फ़िगर करें",backupManagement:"बैकअप प्रबंधन",backupManagementDescription:"बैकअप अनुसूची और पुनर्स्थापना",systemConfiguration:"सिस्टम कॉन्फ़िगरेशन",systemConfigurationDescription:"सिस्टम सेटिंग्स को कॉन्फ़िगर करें",gauSakhi:"गौसाक्षी",biogasSangh:"बिओगास संघ",shuddhiDoot:"शुद्धिदूत",urjaVyapar:"उर्जा व्यापार",urjaNeta:"उर्जा नेटा",admin:"व्यवस्थापक"}}[p];h.useEffect(()=>{const R=[{id:"1",name:"Rajesh Kumar",email:"rajesh@saubhagya.com",role:"GauSakhi",status:"active",lastLogin:new Date(Date.now()-72e5),permissions:["cattle:read","cattle:write","location:read"],createdAt:new Date(Date.now()-2592e6)},{id:"2",name:"Priya Sharma",email:"priya@saubhagya.com",role:"BiogasSangh",status:"active",lastLogin:new Date(Date.now()-36e5),permissions:["cluster:read","cluster:write","iot:read","reports:read"],createdAt:new Date(Date.now()-216e7)},{id:"3",name:"Amit Singh",email:"amit@saubhagya.com",role:"ShuddhiDoot",status:"active",lastLogin:new Date(Date.now()-18e5),permissions:["purification:read","purification:write","maintenance:read"],createdAt:new Date(Date.now()-1728e6)},{id:"4",name:"Sita Devi",email:"sita@saubhagya.com",role:"UrjaVyapar",status:"active",lastLogin:new Date(Date.now()-27e5),permissions:["sales:read","sales:write","inventory:read","customers:read"],createdAt:new Date(Date.now()-1296e6)},{id:"5",name:"Vikram Patel",email:"vikram@saubhagya.com",role:"UrjaNeta",status:"active",lastLogin:new Date(Date.now()-108e5),permissions:["dashboard:read","reports:read","analytics:read"],createdAt:new Date(Date.now()-864e6)}];t(R)},[]),h.useEffect(()=>{const R=[{id:"1",user:"Rajesh Kumar",action:"LOGIN",resource:"Authentication",timestamp:new Date(Date.now()-72e5),ipAddress:"192.168.1.100",status:"success",details:"User logged in successfully"},{id:"2",user:"Priya Sharma",action:"UPDATE",resource:"Cluster Data",timestamp:new Date(Date.now()-36e5),ipAddress:"192.168.1.101",status:"success",details:"Updated cluster performance metrics"},{id:"3",user:"Amit Singh",action:"CREATE",resource:"Maintenance Schedule",timestamp:new Date(Date.now()-18e5),ipAddress:"192.168.1.102",status:"success",details:"Created new maintenance schedule for Compressor Unit A"},{id:"4",user:"Unknown",action:"LOGIN",resource:"Authentication",timestamp:new Date(Date.now()-9e5),ipAddress:"203.45.67.89",status:"failure",details:"Failed login attempt with invalid credentials"}];r(R)},[]),h.useEffect(()=>{const R=()=>{i({cpu:Math.random()*30+20,memory:Math.random()*40+30,disk:Math.random()*20+15,network:Math.random()*25+10,database:Math.random()>.8?"warning":"healthy",uptime:1296e6+Math.random()*60*60*1e3,activeUsers:Math.floor(Math.random()*20)+15,lastBackup:new Date(Date.now()-216e5)})};R();const G=setInterval(R,1e4);return()=>clearInterval(G)},[]),h.useEffect(()=>{const R=[{id:"1",type:"security",severity:"medium",message:"Multiple failed login attempts detected from IP 203.45.67.89",timestamp:new Date(Date.now()-9e5),status:"open"},{id:"2",type:"performance",severity:"low",message:"Database query response time increased by 15%",timestamp:new Date(Date.now()-27e5),status:"acknowledged",assignedTo:"System Admin"},{id:"3",type:"system",severity:"low",message:"Backup completed successfully",timestamp:new Date(Date.now()-216e5),status:"resolved"}];c(R)},[]);const D=R=>{switch(R){case"GauSakhi":return"bg-blue-100 text-blue-800";case"BiogasSangh":return"bg-green-100 text-green-800";case"ShuddhiDoot":return"bg-purple-100 text-purple-800";case"UrjaVyapar":return"bg-orange-100 text-orange-800";case"UrjaNeta":return"bg-indigo-100 text-indigo-800";case"Admin":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=R=>{switch(R){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=R=>{switch(R){case"low":return"bg-blue-100 text-blue-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=R=>{switch(R){case"security":return e.jsx(be,{className:"h-4 w-4"});case"performance":return e.jsx(Se,{className:"h-4 w-4"});case"system":return e.jsx(Ke,{className:"h-4 w-4"});case"user":return e.jsx(Te,{className:"h-4 w-4"});default:return e.jsx(le,{className:"h-4 w-4"})}},v=R=>{alert(`${R.toUpperCase()} export initiated for admin data`)},m=s.filter(R=>(y==="all"||R.role===y)&&(x==="all"||R.status===x)&&(R.name.toLowerCase().includes(o.toLowerCase())||R.email.toLowerCase().includes(o.toLowerCase()))),P=R=>{const G=Math.floor(R/864e5),U=Math.floor(R%(24*60*60*1e3)/(60*60*1e3));return`${G}d ${U}h`};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:C.title}),e.jsx("p",{className:"text-gray-600",children:C.subtitle})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>O(p==="en"?"hi":"en"),className:"px-3 py-1 text-sm bg-white rounded-md shadow-sm border border-gray-200 hover:bg-gray-50",children:p==="en"?"हिंदी":"English"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(bs,{className:"h-4 w-4 inline mr-2"}),C.addUser]}),e.jsxs("button",{onClick:()=>v("pdf"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(Pe,{className:"h-4 w-4 inline mr-2"}),C.exportData]}),e.jsxs("button",{onClick:()=>v("excel"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[e.jsx(Pe,{className:"h-4 w-4 inline mr-2"}),"Excel"]})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>k("dashboard"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${M==="dashboard"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Se,{className:"h-4 w-4 inline mr-2"}),"Dashboard"]}),e.jsxs("button",{onClick:()=>k("users"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${M==="users"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Te,{className:"h-4 w-4 inline mr-2"}),"Users"]}),e.jsxs("button",{onClick:()=>k("security"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${M==="security"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(be,{className:"h-4 w-4 inline mr-2"}),"Security"]}),e.jsxs("button",{onClick:()=>k("system"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${M==="system"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(ze,{className:"h-4 w-4 inline mr-2"}),"System"]}),e.jsxs("button",{onClick:()=>k("logs"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${M==="logs"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Ke,{className:"h-4 w-4 inline mr-2"}),"Audit Logs"]})]})}),M==="dashboard"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Se,{className:"h-6 w-6 text-blue-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:C.cpu}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.cpu.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ke,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:C.memory}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.memory.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(be,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:C.activeUsers}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:n.activeUsers})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(we,{className:"h-6 w-6 text-orange-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:C.uptime}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:P(n.uptime)})]})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:C.alerts}),e.jsxs("div",{className:"space-y-3",children:[l.filter(R=>R.status!=="resolved").map(R=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:d(R.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.message}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u(R.severity)}`,children:R.severity})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[R.timestamp.toLocaleString("hi-IN")," • ",R.type]}),R.assignedTo&&e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[C.assign," to: ",R.assignedTo]})]})]},R.id)),l.filter(R=>R.status!=="resolved").length===0&&e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(de,{className:"h-8 w-8 mx-auto text-green-400 mb-2"}),e.jsx("p",{children:C.noActiveAlerts})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:C.systemStatus}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:C.database}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n.database==="healthy"?"bg-green-100 text-green-800":n.database==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.database==="healthy"?C.healthy:n.database==="warning"?C.warning:C.critical})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:C.diskUsage}),e.jsxs("span",{className:"text-sm font-medium",children:[n.disk.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:C.network}),e.jsxs("span",{className:"text-sm font-medium",children:[n.network.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:C.lastBackup}),e.jsx("span",{className:"text-sm font-medium",children:n.lastBackup.toLocaleString("hi-IN")})]})]})]})})]})]}),M==="users"&&e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:C.userManagement}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:C.searchUsers,value:o,onChange:R=>j(R.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:y,onChange:R=>f(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:C.all}),e.jsx("option",{value:"GauSakhi",children:C.gauSakhi}),e.jsx("option",{value:"BiogasSangh",children:C.biogasSangh}),e.jsx("option",{value:"ShuddhiDoot",children:C.shuddhiDoot}),e.jsx("option",{value:"UrjaVyapar",children:C.urjaVyapar}),e.jsx("option",{value:"UrjaNeta",children:C.urjaNeta}),e.jsx("option",{value:"Admin",children:C.admin})]}),e.jsxs("select",{value:x,onChange:R=>N(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:C.all}),e.jsx("option",{value:"active",children:C.active}),e.jsx("option",{value:"inactive",children:C.inactive}),e.jsx("option",{value:"suspended",children:C.suspended})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.user}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.role}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.lastLogin}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.actions})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(R=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),e.jsx("div",{className:"text-sm text-gray-500",children:R.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D(R.role)}`,children:R.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(R.status)}`,children:R.status==="active"?C.active:R.status==="inactive"?C.inactive:C.suspended})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.lastLogin.toLocaleString("hi-IN")}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:e.jsx(ds,{className:"h-4 w-4 inline"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900 mr-3",children:e.jsx(js,{className:"h-4 w-4 inline"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(tt,{className:"h-4 w-4 inline"})})]})]},R.id))})]})})]})}),M==="security"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:C.alerts}),e.jsxs("div",{className:"space-y-3",children:[l.filter(R=>R.status!=="resolved").map(R=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:d(R.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.message}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u(R.severity)}`,children:R.severity})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[R.timestamp.toLocaleString("hi-IN")," • ",R.type]}),R.assignedTo&&e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[C.assign," to: ",R.assignedTo]})]})]},R.id)),l.filter(R=>R.status!=="resolved").length===0&&e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(de,{className:"h-8 w-8 mx-auto text-green-400 mb-2"}),e.jsx("p",{children:C.noActiveAlerts})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:C.securitySettings}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:e.jsx(be,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Two-Factor Authentication"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Secure user accounts with 2FA"})]})]}),e.jsxs("div",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:e.jsx(Te,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Access Controls"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Manage role-based permissions"})]})]}),e.jsxs("div",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-red-50 text-red-700 ring-4 ring-white",children:e.jsx(le,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Threat Detection"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Monitor suspicious activities"})]})]})]})]})})]}),M==="system"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Se,{className:"h-6 w-6 text-blue-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:C.cpu}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.cpu.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ke,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:C.memory}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.memory.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(be,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:C.activeUsers}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:n.activeUsers})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(we,{className:"h-6 w-6 text-orange-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:C.uptime}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:P(n.uptime)})]})})]})})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:C.systemStatus}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:C.database}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n.database==="healthy"?"bg-green-100 text-green-800":n.database==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.database==="healthy"?C.healthy:n.database==="warning"?C.warning:C.critical})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:C.diskUsage}),e.jsxs("span",{className:"text-sm font-medium",children:[n.disk.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:C.network}),e.jsxs("span",{className:"text-sm font-medium",children:[n.network.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:C.lastBackup}),e.jsx("span",{className:"text-sm font-medium",children:n.lastBackup.toLocaleString("hi-IN")})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:C.quickActions}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:e.jsx(Te,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),C.addUser]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:C.addUserDescription})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:e.jsx(be,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),C.securitySettings]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:C.securitySettingsDescription})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-purple-50 text-purple-700 ring-4 ring-white",children:e.jsx(Ke,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),C.backupManagement]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:C.backupManagementDescription})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-orange-50 text-orange-700 ring-4 ring-white",children:e.jsx(ze,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),C.systemConfiguration]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:C.systemConfigurationDescription})]})]})]})]})})]}),M==="logs"&&e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:C.auditLogs}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.timestamp}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.user}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.action}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.resource}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.ipAddress}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.status})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(R=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.timestamp.toLocaleString("hi-IN")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:R.user}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.action}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.resource}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.ipAddress}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R.status==="success"?"bg-green-100 text-green-800":R.status==="failure"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:R.status==="success"?C.success:R.status==="failure"?C.failure:C.warning})})]},R.id))})]})})]})})]})}const tr="http://localhost:8080",Mt="http://localhost:8081/auth/api";function wl(){const{trackModuleUsage:s,updateBreadcrumbs:t}=it(),{user:a}=ws(),[r,n]=h.useState([]),[i,l]=h.useState([]),[c,o]=h.useState([]),[j,y]=h.useState("feasibility"),[f,x]=h.useState(!0);h.useEffect(()=>{s("urjasanyojak","view"),t([{label:"UrjaSanyojak Dashboard",url:"/urjasanyojak",module:"business-dev"}]),N()},[]);const N=async()=>{x(!0);try{await Promise.all([p(),O(),M()])}catch{}x(!1)},p=async()=>{try{const u=await fetch(`${tr}/api/iot/analytics/feasibility/projects`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(u.ok){const d=await u.json();n(d)}else n([])}catch{n([])}},O=async()=>{try{const u=await fetch(`${Mt}/subsidies/applications`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(u.ok){const d=await u.json();l(d)}else l([])}catch{l([])}},M=async()=>{try{const u=await fetch(`${Mt}/business/leads`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(u.ok){const d=await u.json();o(d)}else o([])}catch{o([])}},k=async(u,d)=>{try{const v=await fetch(`${tr}/api/iot/analytics/feasibility/calculate`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({farmerId:u,cattleCount:d,location:"default",userId:a?.id})});if(v.ok){const m=await v.json();return await p(),m}}catch{}},b=async u=>{try{const d=await fetch(`${Mt}/subsidies/apply`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({...u,submittedBy:a?.id,submissionDate:new Date})});if(d.ok){const v=await d.json();return await O(),alert(`Subsidy application ${v.applicationNumber} submitted successfully!`),v}}catch{alert("Error submitting application. Please try again.")}},C=async(u,d)=>{try{(await fetch(`${Mt}/business/leads/${u}/update`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({stage:d,updatedBy:a?.id,lastContact:new Date})})).ok&&await M()}catch{}},D=u=>{switch(u){case"approved":case"completed":case"disbursed":case"conversion":return"bg-green-100 text-green-800 border-green-200";case"in_progress":case"under_review":case"assessment":case"negotiation":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},g=u=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(u);return f?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading business development dashboard..."})]})}):e.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(xe,{className:"text-green-600"}),"UrjaSanyojak Dashboard"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Business Development & Project Pipeline Management"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Business Development Officer"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a?.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Active Projects"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.length})]}),e.jsx(Ut,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Subsidy Applications"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.length})]}),e.jsx(Ya,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Business Leads"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.length})]}),e.jsx(Te,{className:"h-8 w-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Conversion Rate"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"65%"})]}),e.jsx(as,{className:"h-8 w-8 text-orange-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"feasibility",label:"Feasibility Projects",icon:Ut},{id:"subsidies",label:"Subsidy Applications",icon:Ya},{id:"pipeline",label:"Business Pipeline",icon:xe}].map(({id:u,label:d,icon:v})=>e.jsxs("button",{onClick:()=>y(u),className:`py-4 px-2 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors ${j===u?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(v,{className:"h-4 w-4"}),d]},u))})}),e.jsxs("div",{className:"p-6",children:[j==="feasibility"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Feasibility Assessment Projects"}),e.jsxs("button",{onClick:()=>k("new-farmer",25),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Qa,{className:"h-4 w-4"}),"New Assessment"]})]}),e.jsx("div",{className:"space-y-4",children:r.map(u=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:u.farmerName}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${D(u.status)}`,children:u.status.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-4 w-4"}),u.location]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Cattle:"})," ",u.cattleCount]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Production:"})," ",u.estimatedProduction," m³/day"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ROI:"})," ",u.roiMonths," months"]})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Investment Required:"})," ",g(u.investmentRequired)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Subsidy Amount:"})," ",g(u.subsidyAmount)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>k(u.farmerId,u.cattleCount),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Recalculate"}),e.jsx("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"View Details"})]})]})},u.id))})]}),j==="subsidies"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Subsidy Applications"}),e.jsxs("button",{onClick:()=>b({farmerId:"FARM-NEW",farmerName:"New Farmer",subsidyType:"central",amount:5e5}),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4"}),"New Application"]})]}),e.jsx("div",{className:"space-y-4",children:i.map(u=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:u.farmerName}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${D(u.status)}`,children:u.status.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Application #:"})," ",u.applicationNumber]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",u.subsidyType.toUpperCase()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Amount:"})," ",g(u.amount)]})]}),u.remarks&&e.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Remarks:"})," ",u.remarks]})]}),e.jsxs("div",{className:"text-right text-sm text-gray-500",children:["Applied: ",u.applicationDate.toLocaleDateString()]})]})},u.id))})]}),j==="pipeline"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Business Pipeline"}),e.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Qa,{className:"h-4 w-4"}),"Add Lead"]})]}),e.jsx("div",{className:"space-y-4",children:c.map(u=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:u.farmerName}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${D(u.stage)}`,children:u.stage.replace("_"," ").toUpperCase()}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u.interest==="high"?"bg-red-100 text-red-800":u.interest==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[u.interest.toUpperCase()," INTEREST"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-4 w-4"}),u.phone]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-4 w-4"}),u.location]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Cattle:"})," ",u.cattleCount]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Assigned:"})," ",u.assignedTo]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"h-4 w-4"}),"Last Contact: ",u.lastContact.toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ue,{className:"h-4 w-4"}),"Next Follow-up: ",u.nextFollowUp.toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:u.stage,onChange:d=>C(u.id,d.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[e.jsx("option",{value:"contact",children:"Contact"}),e.jsx("option",{value:"assessment",children:"Assessment"}),e.jsx("option",{value:"proposal",children:"Proposal"}),e.jsx("option",{value:"negotiation",children:"Negotiation"}),e.jsx("option",{value:"conversion",children:"Conversion"})]}),e.jsx("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"Contact"})]})]})},u.id))})]})]})]})]})}const Sl="http://localhost:8080",ar="http://localhost:8080",Cl="http://localhost:8083";function Dl(){const{user:s}=ws(),{trackModuleUsage:t,updateBreadcrumbs:a}=it(),[r,n]=h.useState([]),[i,l]=h.useState([]),[c,o]=h.useState({totalBiogas:0,dailyProduction:0,efficiency:0,activePlants:0,alerts:0}),[j,y]=h.useState(!1),[f,x]=h.useState(!1),[N,p]=h.useState(""),[O,M]=h.useState([]),[k,b]=h.useState(null),[C,D]=h.useState("en"),u={en:{title:"Biogas Cluster Management Dashboard",subtitle:"Real-time monitoring and management of biogas operations",clusterOverview:"Cluster Overview",totalGaushalas:"Total Gaushalas",activeDigesters:"Active Digesters",totalBiogas:"Total Biogas (m³)",todayCollection:"Today's Collection",pickupSchedule:"Pickup Schedule",alerts:"Alerts",alertManagement:"Alert Management",voiceSummary:"Voice Summary",speaking:"Speaking...",speakCommand:"Speak a command",startListening:"Start Listening",stopListening:"Stop Listening",exportData:"Export Data",exportPDF:"Export PDF",exportExcel:"Export Excel",recentActivity:"Recent Activity",systemHealth:"System Health",performance:"Performance",revenue:"Revenue",carbonCredits:"Carbon Credits",totalBiogasLabel:"Total Biogas",dailyProduction:"Daily Production",efficiency:"Efficiency",activePlants:"Active Plants",alertsLabel:"Alerts",ch4Level:"CH4 Level (Methane)",pressure:"Pressure",temperature:"Temperature",pickupScheduleLabel:"Pickup Schedule",cluster:"Cluster",time:"Time",truck:"Truck",quantity:"Quantity",status:"Status",action:"Action",scheduled:"Scheduled",edit:"Edit",newSchedule:"New Schedule",quickActions:"Quick Actions",pickupScheduleAction:"Pickup Schedule",clusterAnalysis:"Cluster Analysis",alertManagementLabel:"Alert Management",maintenance:"Maintenance"},hi:{title:"बायोगैस क्लस्टर प्रबंधन डैशबोर्ड",subtitle:"बायोगैस संचालन का रीयल-टाइम निगरानी और प्रबंधन",clusterOverview:"क्लस्टर अवलोकन",totalGaushalas:"कुल गौशालाएं",activeDigesters:"सक्रिय डाइजेस्टर",totalBiogas:"कुल बायोगैस (m³)",todayCollection:"आज का संग्रह",pickupSchedule:"पिकअप अनुसूची",alerts:"अलर्ट",alertManagement:"अलर्ट प्रबंधन",voiceSummary:"आवाज सारांश",speaking:"बोल रहा है...",speakCommand:"एक कमांड बोलें",startListening:"सुनना शुरू करें",stopListening:"सुनना बंद करें",exportData:"डेटा निर्यात करें",exportPDF:"PDF निर्यात करें",exportExcel:"Excel निर्यात करें",recentActivity:"हाल की गतिविधि",systemHealth:"सिस्टम स्वास्थ्य",performance:"प्रदर्शन",revenue:"राजस्व",carbonCredits:"कार्बन क्रेडिट",totalBiogasLabel:"कुल बायोगैस",dailyProduction:"दैनिक उत्पादन",efficiency:"दक्षता",activePlants:"सक्रिय प्लांट",alertsLabel:"अलर्ट",ch4Level:"CH4 स्तर (मीथेन)",pressure:"दबाव",temperature:"तापमान",pickupScheduleLabel:"पिकअप शेड्यूल",cluster:"क्लस्टर",time:"समय",truck:"ट्रक",quantity:"मात्रा",status:"स्थिति",action:"कार्य",scheduled:"निर्धारित",edit:"संपादित करें",newSchedule:"नया शेड्यूल",quickActions:"त्वरित कार्य",pickupScheduleAction:"पिकअप शेड्यूल",clusterAnalysis:"क्लस्टर विश्लेषण",alertManagementLabel:"अलर्ट प्रबंधन",maintenance:"रखरखाव"}}[C];h.useEffect(()=>{t("urjasanyojak"),a([{label:"UrjaSanyojak",url:"/",module:"urjasanyojak"},{label:"Dashboard",url:"/",module:"urjasanyojak"}])},[]);const d=async()=>{try{const T=localStorage.getItem("token");if(!T)return;const $=await fetch(`${Sl}/api/iot/devices?type=biogas_digester&gaushalaId=${s?.id}&status=ONLINE`,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if($.ok){const _=await $.json();if(_.length>0){const H=_[0],z={ch4:H.ch4Concentration||0,pressure:H.pressure||0,temperature:H.temperature||0,timestamp:new Date(H.lastUpdate||Date.now())};n(te=>[z,...te.slice(0,19)])}}}catch{}};h.useEffect(()=>{d();const T=setInterval(d,1e4);return()=>clearInterval(T)},[s]);const v=async()=>{try{const T=localStorage.getItem("token");if(!T)return;const $=await fetch(`${Cl}/sales/schedules?gaushalaId=${s?.id}&type=pickup`,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if($.ok){const H=(await $.json()).map(z=>({id:z.id,clusterId:z.clusterId||s?.clusterId,scheduledTime:new Date(z.scheduledTime),truckId:z.vehicleId||z.truckId,status:z.status?.toLowerCase()||"scheduled",estimatedVolume:z.estimatedVolume||z.quantity}));l(H)}}catch{l([])}};h.useEffect(()=>{v()},[s]);const m=async()=>{try{const T=localStorage.getItem("token");if(!T)return;const $=await fetch(`${ar}/production/metrics?gaushalaId=${s?.id}&timeframe=daily`,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if($.ok){const _=await $.json();o({totalBiogas:_.totalBiogas||0,dailyProduction:_.dailyProduction||0,efficiency:_.efficiency||r[0]?.ch4||0,activePlants:_.activePlants||0,alerts:_.alerts||0})}}catch{if(r.length>0){const $=r[0];o(_=>({..._,efficiency:$.ch4,alerts:$.pressure>2.5||$.temperature>40?2:0}))}}};h.useEffect(()=>{m();const T=setInterval(m,6e4);return()=>clearInterval(T)},[s,r]);const P=()=>{if("speechSynthesis"in window){y(!0);const T=new SpeechSynthesisUtterance(`क्लस्टर सारांश: कुल बायोगैस ${Math.round(c.totalBiogas)} घन मीटर, दैनिक उत्पादन ${Math.round(c.dailyProduction)} घन मीटर, दक्षता ${Math.round(c.efficiency)} प्रतिशत, सक्रिय प्लांट ${c.activePlants}, अलर्ट ${c.alerts}`);T.lang="hi-IN",T.onend=()=>y(!1),speechSynthesis.speak(T)}},R=T=>{try{const $=localStorage.getItem("token");if(!$)return;const _=fetch(`${ar}/production/export?gaushalaId=${s?.id}&format=${T}`,{headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}});alert(`${T.toUpperCase()} export initiated for cluster data`)}catch{alert("Export failed. Please try again.")}},G=T=>{switch(T){case"scheduled":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},U=T=>{switch(T){case"scheduled":return"निर्धारित";case"in-progress":return"प्रगति में";case"completed":return"पूर्ण";case"cancelled":return"रद्द";default:return"अज्ञात"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u.title}),e.jsx("p",{className:"text-gray-600",children:"BiogasSangh Cluster Manager Dashboard"})]}),e.jsx("button",{onClick:()=>D(C==="en"?"hi":"en"),className:"px-3 py-1 text-sm bg-white rounded-md shadow-sm border border-gray-200 hover:bg-gray-50",children:C==="en"?"हिंदी":"English"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:P,disabled:j,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[e.jsx(rt,{className:"h-4 w-4"}),j?u.speaking:u.voiceSummary]}),e.jsxs("button",{onClick:()=>R("pdf"),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(Pe,{className:"h-4 w-4"}),"PDF"]}),e.jsxs("button",{onClick:()=>R("excel"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Excel"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Rs,{className:"h-6 w-6 text-blue-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:u.totalBiogasLabel}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[Math.round(c.totalBiogas)," m³"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(xe,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:u.dailyProduction}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[Math.round(c.dailyProduction)," m³"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ke,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:u.efficiency}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[Math.round(c.efficiency),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ke,{className:"h-6 w-6 text-orange-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:u.activePlants}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:c.activePlants})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(le,{className:"h-6 w-6 text-red-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:u.alertsLabel}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:c.alerts})]})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:u.ch4Level}),e.jsx("div",{className:"space-y-3",children:r.slice(0,10).map((T,$)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:T.timestamp.toLocaleTimeString("hi-IN")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:[T.ch4.toFixed(1),"%"]}),e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${T.ch4}%`}})})]})]},$))})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:[u.pressure," और ",u.temperature]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(wt,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:u.pressure})]}),e.jsxs("span",{className:"text-lg font-medium",children:[r[0]?.pressure.toFixed(2)," bar"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Vt,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:u.temperature})]}),e.jsxs("span",{className:"text-lg font-medium",children:[r[0]?.temperature.toFixed(1),"°C"]})]})]})]})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:u.pickupScheduleLabel}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:u.newSchedule})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.cluster}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.time}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.truck}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.quantity}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.action})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(T=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.clusterId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.scheduledTime.toLocaleString("hi-IN")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.truckId}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[T.estimatedVolume," m³"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G(T.status)}`,children:U(T.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:u.edit})})]},T.id))})]})})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:u.quickActions}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:e.jsx(hs,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),u.pickupScheduleAction]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"नया पिकअप शेड्यूल बनाएं"})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:e.jsx(ke,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),u.clusterAnalysis]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"विस्तृत प्रदर्शन विश्लेषण"})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-purple-50 text-purple-700 ring-4 ring-white",children:e.jsx(le,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),u.alertManagementLabel]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"अलर्ट और सूचनाएं देखें"})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-orange-50 text-orange-700 ring-4 ring-white",children:e.jsx(Fe,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),u.maintenance]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"रखरखाव शेड्यूल देखें"})]})]})]})]})})]})}const tn=h.createContext(void 0),ct=()=>{const s=h.useContext(tn);if(!s)throw new Error("useExecutiveAnalytics must be used within ExecutiveAnalyticsProvider");return s},an=({children:s})=>{const[t,a]=h.useState([{id:"revenue",name:"Monthly Revenue",value:125e6,unit:"₹",change:15.8,trend:"up",target:15e7,confidence:.92,category:"financial",priority:"high"},{id:"production",name:"Biogas Production",value:12500,unit:"m³/day",change:12.5,trend:"up",target:15e3,confidence:.89,category:"operational",priority:"high"},{id:"carbon_credits",name:"Carbon Credits",value:450,unit:"tons CO2",change:22.1,trend:"up",target:500,confidence:.85,category:"environmental",priority:"high"},{id:"market_share",name:"Market Share",value:18.5,unit:"%",change:3.2,trend:"up",target:25,confidence:.78,category:"strategic",priority:"medium"},{id:"efficiency",name:"Operational Efficiency",value:87.3,unit:"%",change:5.1,trend:"up",target:90,confidence:.91,category:"operational",priority:"medium"},{id:"customer_satisfaction",name:"Customer Satisfaction",value:4.6,unit:"/5",change:-2.1,trend:"down",target:4.8,confidence:.83,category:"strategic",priority:"high"}]),[r,n]=h.useState([{id:"revenue_forecast",title:"Revenue Growth Acceleration",description:"Current trajectory suggests 18% quarterly growth, exceeding targets by ₹25Cr",impact:"positive",confidence:.87,category:"financial",actionRequired:!1,timeline:"Next Quarter",estimatedValue:25e6},{id:"carbon_opportunity",title:"Carbon Credit Market Expansion",description:"International markets showing 35% price premium - opportunity for ₹8Cr additional revenue",impact:"positive",confidence:.74,category:"environmental",actionRequired:!0,timeline:"3-6 months",estimatedValue:8e7},{id:"efficiency_risk",title:"Production Efficiency Plateau",description:"Three plants showing declining efficiency - risk of ₹12Cr revenue impact",impact:"negative",confidence:.82,category:"operational",actionRequired:!0,timeline:"Immediate",estimatedValue:-12e7}]),[i,l]=h.useState([{id:"market_expansion",name:"Regional Market Expansion",description:"Expand operations to 5 new high-potential regions with focus on rural communities",status:"in-progress",progress:65,budget:5e8,spent:32e7,roi:240,timeline:{start:"2024-01-01",end:"2024-12-31",milestones:[{name:"Site Selection",date:"2024-03-15",completed:!0},{name:"Regulatory Approval",date:"2024-06-30",completed:!0},{name:"Construction Phase",date:"2024-10-15",completed:!1},{name:"Operations Launch",date:"2024-12-31",completed:!1}]},riskLevel:"medium",owner:"Regional Development Team",category:"market-expansion",businessValue:"Increase market presence and revenue base",kpis:[{name:"New Regions",target:5,current:3,unit:"regions"},{name:"Revenue Increase",target:25,current:18,unit:"%"}]},{id:"ai_optimization",name:"AI-Driven Production Optimization",description:"Implement ML algorithms for biogas production efficiency and predictive maintenance",status:"planning",progress:25,budget:2e8,spent:5e7,roi:380,timeline:{start:"2024-06-01",end:"2024-11-30",milestones:[{name:"Algorithm Development",date:"2024-07-15",completed:!1},{name:"Pilot Testing",date:"2024-09-30",completed:!1},{name:"Full Deployment",date:"2024-11-30",completed:!1}]},riskLevel:"low",owner:"Technology Innovation Team",category:"technology",businessValue:"Improve operational efficiency and reduce costs",kpis:[{name:"Efficiency Gain",target:20,current:5,unit:"%"},{name:"Cost Reduction",target:15,current:0,unit:"%"}]},{id:"carbon_trading",name:"Carbon Credit Trading Platform",description:"Develop integrated platform for carbon credit generation and trading",status:"in-progress",progress:45,budget:15e7,spent:68e6,roi:450,timeline:{start:"2024-03-01",end:"2025-01-31",milestones:[{name:"Platform Design",date:"2024-05-15",completed:!0},{name:"Compliance Setup",date:"2024-08-30",completed:!0},{name:"Market Integration",date:"2024-12-15",completed:!1},{name:"Full Launch",date:"2025-01-31",completed:!1}]},riskLevel:"medium",owner:"Environmental Strategy Team",category:"strategic",businessValue:"Create new revenue stream from carbon credits",kpis:[{name:"Credits Generated",target:2e3,current:850,unit:"tons"},{name:"Revenue from Credits",target:80,current:35,unit:"₹Cr"}]},{id:"rural_digitization",name:"Rural Digitization Initiative",description:"Digital transformation of rural operations and farmer engagement",status:"planning",progress:15,budget:12e7,spent:18e6,roi:280,timeline:{start:"2024-08-01",end:"2025-06-30",milestones:[{name:"Technology Assessment",date:"2024-09-15",completed:!1},{name:"Pilot Implementation",date:"2024-12-31",completed:!1},{name:"Scale-up Phase",date:"2025-04-30",completed:!1},{name:"Full Deployment",date:"2025-06-30",completed:!1}]},riskLevel:"high",owner:"Digital Innovation Team",category:"operational",businessValue:"Improve farmer engagement and operational transparency",kpis:[{name:"Farmers Onboarded",target:1e4,current:1500,unit:"farmers"},{name:"Process Efficiency",target:30,current:8,unit:"%"}]}]),[c,o]=h.useState({creditsGenerated:450,creditsTarget:500,marketValue:675e5,projectedRevenue:85e6,co2Reduced:2250,certifications:["Gold Standard","VCS","CDM"],marketTrends:{currentPrice:15e4,projectedPrice:185e3,volatility:.12},esgRating:"A",environmentalScore:87,socialScore:82,governanceScore:88,totalCreditsIssued:420,averagePricePerCredit:165e3,complianceFrameworks:4,creditsRetired:380,creditsPending:70}),[j,y]=h.useState({marketShare:18.5,ranking:3,competitorCount:15,strengthScore:85,weaknessAreas:["Brand Recognition","Scale Limitations"],opportunities:["Government Policy Support","Carbon Market Growth","Technology Integration"],threats:["New Market Entrants","Regulatory Changes","Technology Disruption"],benchmarks:{efficiency:87,revenue:92,growth:85},highThreatCompetitors:2,keyOpportunities:3,overallCompetitiveStrength:85,marketGrowthRate:15.2,competitiveTrends:{innovation:82,customerSatisfaction:88,marketPresence:78}}),[f,x]=h.useState([]),[N,p]=h.useState(!1),[O,M]=h.useState(!1);h.useEffect(()=>{const m=setInterval(()=>{a(P=>P.map(R=>({...R,value:R.value+(Math.random()-.5)*(R.value*.01),change:R.change+(Math.random()-.5)*2})))},3e4);return()=>clearInterval(m)},[]);const k=async()=>{M(!0);try{await new Promise(P=>setTimeout(P,1500));const m=[{id:"market_trend_"+Date.now(),title:"Emerging Market Opportunity",description:`New government incentives in ${["Maharashtra","Gujarat","Punjab"][Math.floor(Math.random()*3)]} creating 25% growth potential`,impact:"positive",confidence:.76,category:"strategic",actionRequired:!0,timeline:"2-4 months",estimatedValue:35e6}];n(P=>[...m,...P.slice(0,2)])}finally{M(!1)}},b=m=>{x(P=>[m,...P.slice(0,19)])},C=(m,P)=>{a(R=>R.map(G=>G.id===m?{...G,...P}:G))},D=(m,P)=>{l(R=>R.map(G=>G.id===m?{...G,...P}:G))},g=Math.round(t.reduce((m,P)=>m+P.value/P.target*100,0)/t.length),u=r.filter(m=>m.impact==="negative"&&m.actionRequired&&m.confidence>.7),d=r.filter(m=>m.impact==="positive"&&m.confidence>.7).sort((m,P)=>(P.estimatedValue||0)-(m.estimatedValue||0)),v={kpis:t,insights:r,initiatives:i,carbonMetrics:c,competitiveData:j,voiceHistory:f,loading:N,refreshing:O,refreshData:k,addVoiceQuery:b,updateKPI:C,updateInitiative:D,overallPerformanceScore:g,criticalAlerts:u,topOpportunities:d};return e.jsx(tn.Provider,{value:v,children:s})},Os=h.forwardRef(({className:s,variant:t="default",...a},r)=>e.jsx("div",{ref:r,role:"alert",className:W("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{"bg-background text-foreground":t==="default","border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive":t==="destructive"},s),...a}));Os.displayName="Alert";const kl=h.forwardRef(({className:s,...t},a)=>e.jsx("h5",{ref:a,className:W("mb-1 font-medium leading-none tracking-tight",s),...t}));kl.displayName="AlertTitle";const Es=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("text-sm [&_p]:leading-relaxed",s),...t}));Es.displayName="AlertDescription";const _a=h.createContext({value:"",onValueChange:()=>{}}),$e=h.forwardRef(({className:s,value:t,onValueChange:a,defaultValue:r,children:n,...i},l)=>{const[c,o]=h.useState(r||""),j=t!==void 0?t:c,y=a||o;return e.jsx(_a.Provider,{value:{value:j,onValueChange:y},children:e.jsx("div",{ref:l,className:W("w-full",s),...i,children:n})})});$e.displayName="Tabs";const Ve=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));Ve.displayName="TabsList";const X=h.forwardRef(({className:s,value:t,children:a,...r},n)=>{const{value:i,onValueChange:l}=h.useContext(_a);return e.jsx("button",{ref:n,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",i===t&&"bg-background text-foreground shadow-sm",s),onClick:()=>l(t),...r,children:a})});X.displayName="TabsTrigger";const Y=h.forwardRef(({className:s,value:t,children:a,...r},n)=>{const{value:i}=h.useContext(_a);return i!==t?null:e.jsx("div",{ref:n,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r,children:a})});Y.displayName="TabsContent";const Tl=()=>{const{user:s,isExecutive:t}=ws(),{navigationState:a,sessionMetrics:r,navigateToModule:n}=it(),{kpis:i}=ct(),[l,c]=h.useState([{id:"unified-revenue",name:"Total Platform Revenue",value:1875e4,unit:"₹",change:22.5,trend:"up",modules:["urjasanyojak","shuddhi-doot","urja-vyapar"],priority:"high",lastUpdated:new Date},{id:"operational-efficiency",name:"Cross-Platform Efficiency",value:91.2,unit:"%",change:8.3,trend:"up",modules:["urjasanyojak","shuddhi-doot"],priority:"high",lastUpdated:new Date},{id:"executive-decisions",name:"Strategic Decisions This Week",value:12,unit:"decisions",change:-15.2,trend:"down",modules:["urja-neta"],priority:"medium",lastUpdated:new Date}]),[o,j]=h.useState([{id:"cross-platform-synergy",title:"Cross-Platform Operational Synergy",description:"UrjaSanyojak and ShuddhiDoot integration showing 15% efficiency gain in biogas quality control",impact:"positive",confidence:94,actionRequired:!1,modules:["urjasanyojak","shuddhi-doot"],value:"+₹2.3Cr",timeframe:"Q1 2025"},{id:"sales-production-gap",title:"Sales-Production Alignment Gap",description:"UrjaVyapar sales commitments exceeding UrjaSanyojak production capacity by 12%",impact:"negative",confidence:87,actionRequired:!0,modules:["urjasanyojak","urja-vyapar"],value:"Risk: ₹1.8Cr",timeframe:"Immediate"},{id:"quality-premium-opportunity",title:"Premium Quality Market Opportunity",description:"ShuddhiDoot purity levels enabling 25% premium pricing in international markets",impact:"positive",confidence:82,actionRequired:!0,modules:["shuddhi-doot","urja-vyapar"],value:"+₹4.2Cr",timeframe:"6 months"}]),[y,f]=h.useState([{id:"weekly-exec-review",title:"Weekly Executive Review",participants:["Dr. Rajesh Kumar","Priya Sharma","Amit Patel"],status:"scheduled",startTime:new Date(Date.now()+2*60*60*1e3),duration:60,modules:["urjasanyojak","shuddhi-doot","urja-vyapar","urja-neta"]},{id:"production-sales-sync",title:"Production-Sales Alignment",participants:["Operations Team","Sales Team"],status:"active",startTime:new Date(Date.now()-30*60*1e3),duration:90,modules:["urjasanyojak","urja-vyapar"]}]),[x,N]=h.useState(!1),p=k=>k>=1e7?`₹${(k/1e7).toFixed(1)}Cr`:k>=1e5?`₹${(k/1e5).toFixed(1)}L`:`₹${k.toLocaleString()}`,O=async()=>{N(!0),await new Promise(k=>setTimeout(k,2e3)),c(k=>k.map(b=>({...b,lastUpdated:new Date}))),N(!1)},M=k=>{n(k)};return t()?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Executive Command Center"}),e.jsx("p",{className:"text-gray-600",children:"Unified platform oversight and strategic decision support"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{variant:"default",className:"bg-gold-100 text-gold-800 border-gold-300",children:"Executive Access"}),e.jsxs(E,{onClick:O,disabled:x,variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(os,{className:`h-4 w-4 ${x?"animate-spin":""}`}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsxs($e,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-5",children:[e.jsx(X,{value:"overview",children:"Platform Overview"}),e.jsx(X,{value:"insights",children:"Strategic Insights"}),e.jsx(X,{value:"collaboration",children:"Collaboration"}),e.jsx(X,{value:"performance",children:"Performance"}),e.jsx(X,{value:"reports",children:"Executive Reports"})]}),e.jsxs(Y,{value:"overview",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.map(k=>e.jsxs(w,{className:"relative",children:[e.jsx(I,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(A,{className:"text-sm font-medium",children:k.name}),e.jsx(L,{variant:k.priority==="high"?"default":"secondary",className:"text-xs",children:k.priority})]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:k.unit==="₹"?p(k.value):`${k.value}${k.unit}`}),e.jsxs("div",{className:`flex items-center text-sm ${k.trend==="up"?"text-green-600":"text-red-600"}`,children:[e.jsx(xe,{className:`h-4 w-4 mr-1 ${k.trend==="down"?"rotate-180":""}`}),Math.abs(k.change),"%"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Source Modules:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:k.modules.map(b=>e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>M(b),className:"h-6 px-2 text-xs bg-blue-50 hover:bg-blue-100 text-blue-700",children:b.replace("-","")},b))})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Updated: ",k.lastUpdated.toLocaleTimeString()]})]})})]},k.id))}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center space-x-2",children:[e.jsx(Ks,{className:"h-5 w-5"}),e.jsx("span",{children:"Platform Module Status"})]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ht,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-900",children:"UrjaSanyojak"}),e.jsx("div",{className:"text-sm text-green-700",children:"Active"})]})]}),e.jsx(L,{variant:"default",className:"bg-green-100 text-green-800 border-green-300",children:"99.2%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(zt,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-900",children:"ShuddhiDoot"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Active"})]})]}),e.jsx(L,{variant:"default",className:"bg-blue-100 text-blue-800 border-blue-300",children:"98.7%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(xe,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-purple-900",children:"UrjaVyapar"}),e.jsx("div",{className:"text-sm text-purple-700",children:"Active"})]})]}),e.jsx(L,{variant:"default",className:"bg-purple-100 text-purple-800 border-purple-300",children:"97.9%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gold-50 rounded-lg border border-gold-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(St,{className:"h-8 w-8 text-gold-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gold-900",children:"UrjaNeta"}),e.jsx("div",{className:"text-sm text-gold-700",children:"Executive"})]})]}),e.jsx(L,{variant:"default",className:"bg-gold-100 text-gold-800 border-gold-300",children:"100%"})]})]})})]})]}),e.jsx(Y,{value:"insights",className:"space-y-6",children:e.jsx("div",{className:"space-y-4",children:o.map(k=>e.jsxs(w,{className:`border-l-4 ${k.impact==="positive"?"border-l-green-500 bg-green-50":k.impact==="negative"?"border-l-red-500 bg-red-50":"border-l-blue-500 bg-blue-50"}`,children:[e.jsx(I,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{className:"text-lg",children:k.title}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(L,{variant:"outline",className:"text-xs",children:["Confidence: ",k.confidence,"%"]}),e.jsx(L,{variant:"secondary",className:"text-xs",children:k.timeframe}),k.value&&e.jsx(L,{variant:k.impact==="positive"?"default":"destructive",className:"text-xs",children:k.value})]})]}),k.actionRequired&&e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(as,{className:"h-4 w-4 mr-1"}),"Action Required"]})]})}),e.jsxs(S,{children:[e.jsx("p",{className:"text-gray-700 mb-4",children:k.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:k.modules.map(b=>e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>M(b),className:"h-6 px-2 text-xs",children:b},b))}),e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Me,{className:"h-4 w-4 mr-1"}),"Generate Report"]})]})]})]},k.id))})}),e.jsx(Y,{value:"collaboration",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center space-x-2",children:[e.jsx(ma,{className:"h-5 w-5"}),e.jsx("span",{children:"Active Sessions"})]})}),e.jsxs(S,{className:"space-y-4",children:[y.filter(k=>k.status==="active").map(k=>e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-green-900",children:k.title}),e.jsx(L,{variant:"default",className:"bg-green-100 text-green-800",children:"Live"})]}),e.jsxs("p",{className:"text-sm text-green-700 mb-2",children:["Participants: ",k.participants.join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-green-600",children:["Started: ",Math.floor((Date.now()-k.startTime.getTime())/6e4),"m ago"]}),e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(ma,{className:"h-4 w-4 mr-1"}),"Join"]})]})]},k.id)),y.filter(k=>k.status==="scheduled").map(k=>e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-blue-900",children:k.title}),e.jsx(L,{variant:"secondary",children:"Scheduled"})]}),e.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:["Participants: ",k.participants.join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-blue-600",children:["Starts: ",k.startTime.toLocaleTimeString()]}),e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Fe,{className:"h-4 w-4 mr-1"}),"Add to Calendar"]})]})]},k.id))]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center space-x-2",children:[e.jsx(Ar,{className:"h-5 w-5"}),e.jsx("span",{children:"Executive Actions"})]})}),e.jsxs(S,{className:"space-y-3",children:[e.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[e.jsx(ma,{className:"h-4 w-4 mr-2"}),"Start Executive Meeting"]}),e.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[e.jsx(li,{className:"h-4 w-4 mr-2"}),"Share Cross-Module Insights"]}),e.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),"Create Strategic Document"]}),e.jsxs(E,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Export Unified Report"]})]})]})]})}),e.jsx(Y,{value:"performance",className:"space-y-6",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"h-5 w-5"}),e.jsx("span",{children:"Platform Performance Metrics"})]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1.2s"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Avg Load Time"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.8%"}),e.jsx("div",{className:"text-sm text-green-700",children:"Platform Uptime"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"2.1s"}),e.jsx("div",{className:"text-sm text-purple-700",children:"SSO Response"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"94.2%"}),e.jsx("div",{className:"text-sm text-orange-700",children:"User Satisfaction"})]})]})})]})}),e.jsx(Y,{value:"reports",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(E,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(Me,{className:"h-6 w-6"}),e.jsx("span",{children:"Weekly Executive Summary"})]}),e.jsxs(E,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(ke,{className:"h-6 w-6"}),e.jsx("span",{children:"Cross-Module Analytics"})]}),e.jsxs(E,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(as,{className:"h-6 w-6"}),e.jsx("span",{children:"Strategic Planning Report"})]}),e.jsxs(E,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(vt,{className:"h-6 w-6"}),e.jsx("span",{children:"Performance Review"})]}),e.jsxs(E,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(We,{className:"h-6 w-6"}),e.jsx("span",{children:"Financial Overview"})]}),e.jsxs(E,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(Te,{className:"h-6 w-6"}),e.jsx("span",{children:"Team Productivity"})]})]})})]})]}):e.jsxs(Os,{className:"m-6",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx(Es,{children:"Executive Command Center requires executive-level access."})]})},Il=()=>{const{trackModuleUsage:s,updateBreadcrumbs:t}=it();return h.useEffect(()=>{s("urja-neta"),t([{label:"Executive",url:"/executive",module:"urja-neta"},{label:"Command Center",url:"/executive",module:"urja-neta"}])},[]),e.jsx(an,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Executive Command Center"}),e.jsx("p",{className:"text-gray-600",children:"Unified platform analytics and cross-module insights for senior leadership"})]})}),e.jsx(Tl,{})]})})},Al={},rn=Al?.VITE_API_URL||"http://localhost:8080";async function ts(s,t={}){try{const a=localStorage.getItem("saubhagya_jwt_token"),r={"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...t.headers},n=await fetch(`${rn}${s}`,{...t,headers:r}),i=await n.json();return n.ok?{success:!0,data:i}:{success:!1,error:i.message||`HTTP error! status: ${n.status}`}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}}const Pl={async getStats(){return ts("/api/dashboard/stats")},async getRecentCollections(s=10){return ts(`/api/dashboard/recent-collections?limit=${s}`)},async getTopPerformers(s=5){return ts(`/api/dashboard/top-performers?limit=${s}`)}},Rl={async getAllCattle(){try{const{IoTServiceClient:s}=await Ie(async()=>{const{IoTServiceClient:a}=await Promise.resolve().then(()=>jt);return{IoTServiceClient:a}},void 0),t=await s.getCattleList();return{success:t.success,data:t.data||[]}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async getCattleById(s){const t=await this.getAllCattle();if(!t.success||!t.data)return{success:!1,error:t.error||"Failed to fetch cattle data"};const a=t.data.find(r=>r.id===s);return a?{success:!0,data:a}:{success:!1,error:"Cattle not found"}},async getCattleByRfid(s){return ts(`/api/v1/cattle/rfid/${encodeURIComponent(s)}`)},async createCattle(s){try{const{IoTServiceClient:t}=await Ie(async()=>{const{IoTServiceClient:r}=await Promise.resolve().then(()=>jt);return{IoTServiceClient:r}},void 0),a=await t.addCattle({tagId:s.rfidTag,name:s.name,breed:s.breed,age:s.age,weight:s.weight});return{success:a.success,data:a.data}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},async updateCattle(s,t){try{const{IoTServiceClient:a}=await Ie(async()=>{const{IoTServiceClient:i}=await Promise.resolve().then(()=>jt);return{IoTServiceClient:i}},void 0),r={id:s,name:t.name,breed:t.breed,age:t.age,weight:t.weight};t.rfidTag&&(r.rfidTag=t.rfidTag),t.health&&(r.health=t.health),t.owner&&(r.ownerName=t.owner),t.ownerId&&(r.ownerId=t.ownerId),t.location&&(r.location=t.location);const n=await a.updateCattle(s,r);return{success:n.success,data:n.data}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}},async deleteCattle(s){try{const{IoTServiceClient:t}=await Ie(async()=>{const{IoTServiceClient:r}=await Promise.resolve().then(()=>jt);return{IoTServiceClient:r}},void 0);return{success:(await t.deleteCattle(s)).success}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},async scanRfid(){return new Promise(s=>{setTimeout(()=>{s({success:!0,data:{rfidTag:`RFID-${Date.now()}`}})},2e3)})},async updateHealth(s,t,a){const r={health:t};return this.updateCattle(s,r)},async addMedicalRecord(s,t){return ts(`/api/v1/cattle/${s}/medical-records`,{method:"POST",body:JSON.stringify(t)})},async uploadPhoto(s,t){const a=new FormData;a.append("photo",t);try{const r=localStorage.getItem("saubhagya_jwt_token"),n=await fetch(`${rn}/api/v1/cattle/${s}/photo`,{method:"POST",headers:{...r&&{Authorization:`Bearer ${r}`}},body:a}),i=await n.json();return n.ok?{success:!0,data:i}:{success:!1,error:i.message||`HTTP error! status: ${n.status}`}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}},Ml={async getAllTransactions(){return ts("/api/v1/transactions")},async getTransactionById(s){return ts(`/api/v1/transactions/${s}`)},async createTransaction(s){try{const{BiogasServiceClient:t}=await Ie(async()=>{const{BiogasServiceClient:r}=await Promise.resolve().then(()=>jt);return{BiogasServiceClient:r}},void 0),a=await t.recordContribution({cattleId:s.cattleId,dungWeight:s.dungWeight,dungQuality:s.dungQuality,workerId:s.worker,notes:s.notes,digestorId:s.digestorId});return{success:a.success||!0,data:a.data||a}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},async updateTransaction(s,t){return ts(`/api/v1/transactions/${s}`,{method:"PUT",body:JSON.stringify(t)})},async processPayment(s,t){return ts(`/api/v1/transactions/${s}/payment`,{method:"POST",body:JSON.stringify({paymentMethod:t})})},async getTransactionsByDigestor(s){return ts(`/api/v1/transactions/digestor/${s}`)},async getTransactionsByWorker(s){return ts(`/api/v1/transactions/worker/${s}`)},async getTransactionsByCattle(s){return ts(`/api/v1/transactions/cattle/${s}`)}},Be={cattle:Rl,dashboard:Pl,transactions:Ml},Ol={en:{dashboard:"Dashboard",totalCows:"Total Cattle",cowsIn:"Cattle In",cowsOut:"Cattle Out",dungToday:"Dung Today",dungMonth:"Dung This Month",revenue:"Revenue",avgQuality:"Avg Quality",healthyHead:"Healthy",sickHead:"Sick",recentCollections:"Recent Collections",topPerformers:"Top Performers",quickActions:"Quick Actions",addCattle:"Add Cattle",viewReports:"View Reports",createTransaction:"Record Dung Collection",systemHealth:"System Health",kg:"kg",collections:"collections",worker:"Worker",quality:"Quality",status:"Status",completed:"Completed",processing:"Processing",failed:"Failed",digestor:"Digestor",timeAgo:"ago",minutes:"min",hours:"h",days:"d",createTransactionTitle:"Record Dung Collection",selectCattle:"Select Cattle",enterWeight:"Enter Weight (kg)",addNotes:"Add Notes (Optional)",cancel:"Cancel",submit:"Submit",required:"This field is required"},hi:{dashboard:"डैशबोर्ड",totalCows:"कुल पशु",cowsIn:"आने वाले पशु",cowsOut:"जाने वाले पशु",dungToday:"आज का गोबर",dungMonth:"इस महीने का गोबर",revenue:"आय",avgQuality:"औसत गुणवत्ता",healthyHead:"स्वस्थ",sickHead:"बीमार",recentCollections:"हाल के संग्रह",topPerformers:"शीर्ष कार्यकर्ता",quickActions:"त्वरित कार्य",addCattle:"पशु जोड़ें",viewReports:"रिपोर्ट देखें",createTransaction:"गोबर संग्रह रिकॉर्ड करें",systemHealth:"सिस्टम स्वास्थ्य",kg:"किलो",collections:"संग्रह",worker:"कार्यकर्ता",quality:"गुणवत्ता",status:"स्थिति",completed:"पूर्ण",processing:"प्रक्रिया में",failed:"असफल",digestor:"डाइजेस्टर",timeAgo:"पहले",minutes:"मिनट",hours:"घंटे",days:"दिन",createTransactionTitle:"गोबर संग्रह रिकॉर्ड करें",selectCattle:"पशु चुनें",enterWeight:"वजन दर्ज करें (किलो)",addNotes:"टिप्पणी जोड़ें (वैकल्पिक)",cancel:"रद्द करें",submit:"जमा करें",required:"यह फील्ड आवश्यक है"}};function El({languageContext:s}){const{language:t,t:a}=s,r=us(),[n,i]=h.useState({totalCows:0,cowsIn:0,cowsOut:0,dungCollectionToday:0,dungCollectionMonth:0,totalRevenue:0,averageQuality:0,activeWorkers:0,healthyCows:0,sickCows:0,recentCollections:[],topPerformers:[]}),[l,c]=h.useState(!0),[o,j]=h.useState(!1),[y,f]=h.useState({cattleId:"",weight:"",notes:""}),[x,N]=h.useState(!1),p=C=>Ol[t][C]||C;h.useEffect(()=>{O()},[]);const O=async()=>{try{c(!0);const C=await Be.dashboard.getStats();C.success&&C.data?i(C.data):i({totalCows:147,cowsIn:12,cowsOut:5,dungCollectionToday:285,dungCollectionMonth:8420,totalRevenue:45680,averageQuality:8.7,activeWorkers:8,healthyCows:139,sickCows:8,recentCollections:[{id:"coll-001",cattleName:"Ganga",weight:24.5,quality:9.2,worker:"Ramesh Kumar",timestamp:Date.now()-15*60*1e3,digestorId:"DIG-001",status:"completed"},{id:"coll-002",cattleName:"Yamuna",weight:18.7,quality:8.8,worker:"Suresh Patel",timestamp:Date.now()-35*60*1e3,digestorId:"DIG-002",status:"completed"},{id:"coll-003",cattleName:"Saraswati",weight:22.1,quality:9,worker:"Vikash Singh",timestamp:Date.now()-52*60*1e3,digestorId:"DIG-001",status:"processing"},{id:"coll-004",cattleName:"Narmada",weight:26.3,quality:8.5,worker:"Rajesh Gupta",timestamp:Date.now()-78*60*1e3,digestorId:"DIG-003",status:"completed"},{id:"coll-005",cattleName:"Kaveri",weight:19.8,quality:7.9,worker:"Mukesh Yadav",timestamp:Date.now()-95*60*1e3,digestorId:"DIG-002",status:"failed"}],topPerformers:[{name:"Ramesh Kumar",collections:45,totalWeight:987.5,avgQuality:9.1},{name:"Suresh Patel",collections:38,totalWeight:832.4,avgQuality:8.8},{name:"Vikash Singh",collections:34,totalWeight:756.2,avgQuality:8.9},{name:"Rajesh Gupta",collections:29,totalWeight:678.9,avgQuality:8.4},{name:"Mukesh Yadav",collections:25,totalWeight:587.3,avgQuality:8.2}]})}catch{i({totalCows:147,cowsIn:12,cowsOut:5,dungCollectionToday:285,dungCollectionMonth:8420,totalRevenue:45680,averageQuality:8.7,activeWorkers:8,healthyCows:139,sickCows:8,recentCollections:[{id:"coll-001",cattleName:"Ganga",weight:24.5,quality:9.2,worker:"Ramesh Kumar",timestamp:Date.now()-15*60*1e3,digestorId:"DIG-001",status:"completed"},{id:"coll-002",cattleName:"Yamuna",weight:18.7,quality:8.8,worker:"Suresh Patel",timestamp:Date.now()-35*60*1e3,digestorId:"DIG-002",status:"completed"},{id:"coll-003",cattleName:"Saraswati",weight:22.1,quality:9,worker:"Vikash Singh",timestamp:Date.now()-52*60*1e3,digestorId:"DIG-001",status:"processing"}],topPerformers:[{name:"Ramesh Kumar",collections:45,totalWeight:987.5,avgQuality:9.1},{name:"Suresh Patel",collections:38,totalWeight:832.4,avgQuality:8.8},{name:"Vikash Singh",collections:34,totalWeight:756.2,avgQuality:8.9}]})}finally{c(!1)}},M=C=>{const g=Date.now()-C,u=Math.floor(g/(1e3*60)),d=Math.floor(g/(1e3*60*60)),v=Math.floor(g/(1e3*60*60*24));return v>0?`${v} ${p("days")} ${p("timeAgo")}`:d>0?`${d} ${p("hours")} ${p("timeAgo")}`:`${u} ${p("minutes")} ${p("timeAgo")}`},k=C=>{switch(C){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=async C=>{if(C.preventDefault(),!y.cattleId||!y.weight){alert(p("required"));return}N(!0);try{const D={cattleId:y.cattleId,weight:parseFloat(y.weight),notes:y.notes,type:"dung_collection",timestamp:new Date().toISOString()},g=await Be.transactions.createTransaction(D);if(g.success)f({cattleId:"",weight:"",notes:""}),j(!1),O(),alert("Transaction recorded successfully!");else throw new Error(g.error||"Failed to create transaction")}catch{alert("Failed to record transaction. Please try again.")}finally{N(!1)}};return l?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"px-4 py-3 space-y-3 bg-gray-50 min-h-full",children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monitor your cattle management and collection metrics"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300 hover:scale-[1.02] overflow-hidden",children:[e.jsx("div",{className:"h-1 bg-gradient-to-r from-blue-500 to-blue-600"}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-blue-700",children:p("totalCows")}),e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"🐄"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-3",children:n.totalCows}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-emerald-600",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),e.jsxs("span",{className:"font-medium",children:[n.cowsIn," In Today"]})]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(xe,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"+8%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),e.jsxs("span",{className:"font-medium",children:[n.cowsOut," Out Today"]})]}),e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx(Ws,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"-3%"})]})]})]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300 hover:scale-[1.02] overflow-hidden",children:[e.jsx("div",{className:"h-1 bg-gradient-to-r from-green-500 to-green-600"}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-green-700",children:p("dungToday")}),e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(rs,{className:"h-5 w-5 text-green-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:n.dungCollectionToday}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"kg collected today"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["This month: ",n.dungCollectionMonth," kg"]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(xe,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"+15%"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(n.dungCollectionToday/100*100,100)}%`}})})]})]})})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:p("revenue")}),e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(We,{className:"h-5 w-5 text-blue-600"})})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:["₹",n.totalRevenue.toLocaleString("hi-IN")]}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"total revenue"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"vs last month"}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(xe,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"+12.5%"})]})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),e.jsx("span",{children:"Above target by ₹2,340"})]})]})]})})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:p("avgQuality")}),e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(Se,{className:"h-5 w-5 text-purple-600"})})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:[n.averageQuality,e.jsx("span",{className:"text-lg text-gray-500",children:"/10"})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"average quality score"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-emerald-600",children:[e.jsx(de,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{className:"font-medium",children:[n.healthyCows," Healthy"]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"95%"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx(Ue,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{className:"font-medium",children:[n.sickCows," Need Care"]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"5%"})]})]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p("quickActions")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Fast access to common tasks"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>r("/gaushala/cattle/add"),className:"flex items-center p-5 bg-gradient-to-r from-blue-50 to-blue-100/50 rounded-xl hover:from-blue-100 hover:to-blue-150 transition-all duration-200 group border border-blue-200/50",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-xl group-hover:bg-blue-700 transition-colors shadow-sm",children:e.jsx(bs,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-blue-900",children:p("addCattle")}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Register new cattle with RFID"})]})]}),e.jsxs("button",{onClick:()=>r("/gaushala/cattle"),className:"flex items-center p-5 bg-gradient-to-r from-emerald-50 to-emerald-100/50 rounded-xl hover:from-emerald-100 hover:to-emerald-150 transition-all duration-200 group border border-emerald-200/50",children:[e.jsx("div",{className:"p-3 bg-emerald-600 rounded-xl group-hover:bg-emerald-700 transition-colors shadow-sm",children:e.jsx(ds,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-emerald-900",children:p("viewReports")}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Analytics and performance reports"})]})]}),e.jsxs("button",{onClick:()=>r("/gaushala/transactions/create"),className:"flex items-center p-5 bg-gradient-to-r from-orange-50 to-orange-100/50 rounded-xl hover:from-orange-100 hover:to-orange-150 transition-all duration-200 group border border-orange-200/50",children:[e.jsx("div",{className:"p-3 bg-orange-600 rounded-xl group-hover:bg-orange-700 transition-colors shadow-sm",children:e.jsx(rs,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-orange-900",children:p("createTransaction")}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Record new dung collection transaction"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p("recentCollections")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Latest dung collection activities"})]}),e.jsx("button",{className:"px-3 py-1.5 text-blue-600 hover:bg-blue-50 rounded-lg text-sm font-medium transition-colors",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:n.recentCollections.length===0?e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(Se,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"No recent collections"})]}):n.recentCollections.map(C=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:C.cattleName}),e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${k(C.status)}`,children:p(C.status)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(rs,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),e.jsxs("span",{className:"font-medium",children:[C.weight," kg"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Se,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),e.jsxs("span",{children:["Quality: ",C.quality,"/10"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Worker: ",C.worker]}),e.jsx("span",{children:M(C.timestamp)})]})]})})},C.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p("topPerformers")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Best performing workers this month"})]}),e.jsx("button",{className:"px-3 py-1.5 text-blue-600 hover:bg-blue-50 rounded-lg text-sm font-medium transition-colors",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:n.topPerformers.length===0?e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(Te,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"No performance data yet"})]}):n.topPerformers.map((C,D)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsxs("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-bold text-sm ${D===0?"bg-gradient-to-r from-green-400 to-green-500":D===1?"bg-gradient-to-r from-gray-400 to-gray-600":D===2?"bg-gradient-to-r from-purple-600 to-purple-700":"bg-gradient-to-r from-blue-500 to-blue-600"}`,children:["#",D+1]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:C.name}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Collections"}),e.jsx("span",{className:"font-semibold",children:C.collections})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Total Weight"}),e.jsxs("span",{className:"font-semibold",children:[C.totalWeight," kg"]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Avg Quality"}),e.jsxs("span",{className:"font-semibold",children:[C.avgQuality,"/10"]})]})]})]})]})},C.name))})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p("createTransactionTitle")}),e.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ps,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[p("selectCattle")," *"]}),e.jsxs("select",{value:y.cattleId,onChange:C=>f(D=>({...D,cattleId:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:p("selectCattle")}),e.jsx("option",{value:"cattle-001",children:"Ganga (RFID: RF001)"}),e.jsx("option",{value:"cattle-002",children:"Yamuna (RFID: RF002)"}),e.jsx("option",{value:"cattle-003",children:"Saraswati (RFID: RF003)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[p("enterWeight")," *"]}),e.jsx("input",{type:"number",step:"0.1",min:"0",value:y.weight,onChange:C=>f(D=>({...D,weight:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:p("addNotes")}),e.jsx("textarea",{value:y.notes,onChange:C=>f(D=>({...D,notes:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Optional notes about the collection..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",disabled:x,children:p("cancel")}),e.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center",disabled:x,children:[x?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(at,{className:"h-4 w-4 mr-2"}),p("submit")]})]})]})]})})]})}const nn={"auth-service":{name:"Authentication Service",baseUrl:"http://localhost:8081",port:8081,endpoints:["/auth/api/v1/login","/auth/api/v1/register","/auth/api/v1/cattle/list","/auth/api/v1/cattle/store","/auth/oauth2/token"],status:"active"},"iot-service":{name:"IoT Device Management Service",baseUrl:"http://localhost:8080",port:8080,endpoints:["/iot/api/v1/devices","/iot/api/v1/rfid-tags","/iot/api/v1/sensors"],status:"active"},"biogas-service":{name:"Biogas Contribution Service",baseUrl:"http://localhost:8082",port:8082,endpoints:["/api/v1/contributions","/api/v1/contributions/farmer","/api/v1/contributions/analytics"],status:"active"},"transaction-service":{name:"Biogas Transaction Service",baseUrl:"http://localhost:8082",port:8082,endpoints:["/api/v1/transactions","/api/v1/biogas-production","/api/v1/contributions"],status:"active"},"sales-service":{name:"Commerce & Sales Service",baseUrl:"http://localhost:8083",port:8083,endpoints:["/api/commerce/sales","/api/commerce/orders","/api/commerce/contributions"],status:"active"},"reporting-service":{name:"Analytics & Reporting Service",baseUrl:"http://localhost:8084",port:8084,endpoints:["/api/v1/analytics","/api/v1/reports","/api/v1/dashboard"],status:"active"},"government-service":{name:"Government Dashboard Service",baseUrl:"http://localhost:8085",port:8085,endpoints:["/government/api/v1/dashboard","/government/api/v1/schemes","/government/api/v1/compliance"],status:"active"}};class ln{serviceRegistry=nn;getService(t){return this.serviceRegistry[t]||null}async callService(t,a,r={}){const n=this.getService(t);if(!n)throw new Error(`Service '${t}' not found in registry`);if(n.status!=="active")throw new Error(`Service '${t}' is currently ${n.status}`);const i=`${n.baseUrl}${a}`,l=localStorage.getItem("saubhagya_jwt_token"),c={"Content-Type":"application/json",...l&&{Authorization:`Bearer ${l}`},...r.headers};return fetch(i,{...r,headers:c})}getActiveServices(){return Object.values(this.serviceRegistry).filter(t=>t.status==="active")}async healthCheck(){const t={};for(const[a,r]of Object.entries(this.serviceRegistry))try{const n=await fetch(`${r.baseUrl}/actuator/health`,{method:"GET",timeout:5e3});t[a]=n.ok}catch{t[a]=!1}return t}}const _s=new ln,Ll={async getCattleList(){try{const s=await fetch("http://localhost:8081/auth/api/v1/cattle/list",{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch{return{success:!0,data:[{id:"cattle-001",rfidTag:"RFID001A2B3C",name:"गौमाता श्री",breed:"गिर",age:5,weight:450,health:"healthy",owner:"रामेश शर्मा",ownerId:"farmer_001",currentStatus:"IN",location:{latitude:28.6139,longitude:77.209,timestamp:Date.now(),address:"गौशाला नंबर 1, नई दिल्ली"},totalDungCollected:2850.5,lastDungCollection:Date.now()-864e5,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/4CAF50/white?text=Gaumata+Sri",medicalHistory:[{id:"med_001",date:Date.now()-2592e6,type:"vaccination",description:"FMD Vaccination",veterinarian:"Dr. सुरेश वर्मा",medication:"FMD Vaccine",nextCheckup:Date.now()+2592e6}],createdAt:Date.now()-31536e6,updatedAt:Date.now()},{id:"cattle-002",rfidTag:"RFID002D4E5F",name:"कामधेनु",breed:"सिंधी",age:3,weight:380,health:"healthy",owner:"सुनीता देवी",ownerId:"farmer_002",currentStatus:"IN",location:{latitude:28.62,longitude:77.21,timestamp:Date.now(),address:"गौशाला नंबर 2, नई दिल्ली"},totalDungCollected:1950.75,lastDungCollection:Date.now()-432e5,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/2196F3/white?text=Kamdhenu",medicalHistory:[{id:"med_002",date:Date.now()-1296e6,type:"checkup",description:"Regular Health Checkup",veterinarian:"Dr. अनिल कुमार",nextCheckup:Date.now()+1296e6}],createdAt:Date.now()-15768e6,updatedAt:Date.now()},{id:"cattle-003",rfidTag:"RFID003G6H7I",name:"नंदिनी",breed:"होल्स्टीन",age:4,weight:520,health:"vaccination_due",owner:"राजेश गुप्ता",ownerId:"farmer_003",currentStatus:"OUT",location:{latitude:28.605,longitude:77.195,timestamp:Date.now(),address:"चारागाह क्षेत्र, नई दिल्ली"},totalDungCollected:3200.25,lastDungCollection:Date.now()-1728e5,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/FF9800/white?text=Nandini",medicalHistory:[{id:"med_003",date:Date.now()-5184e6,type:"vaccination",description:"Brucellosis Vaccination",veterinarian:"Dr. प्रीति शर्मा",medication:"Brucella Vaccine",nextCheckup:Date.now()+6048e5}],createdAt:Date.now()-20736e6,updatedAt:Date.now()},{id:"cattle-004",rfidTag:"RFID004J8K9L",name:"सुरभि",breed:"जर्सी",age:2,weight:320,health:"recovering",owner:"मनोज कुमार",ownerId:"farmer_004",currentStatus:"IN",location:{latitude:28.63,longitude:77.22,timestamp:Date.now(),address:"चिकित्सा केंद्र, नई दिल्ली"},totalDungCollected:850.5,lastDungCollection:Date.now()-2592e5,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/E91E63/white?text=Surabhi",medicalHistory:[{id:"med_004",date:Date.now()-6048e5,type:"treatment",description:"Digestive Issues Treatment",veterinarian:"Dr. राहुल त्रिपाठी",medication:"Digestive Enzymes",nextCheckup:Date.now()+12096e5}],createdAt:Date.now()-10368e6,updatedAt:Date.now()},{id:"cattle-005",rfidTag:"RFID005M0N1O",name:"अदिति",breed:"गिर",age:6,weight:480,health:"healthy",owner:"गीता शर्मा",ownerId:"farmer_005",currentStatus:"IN",location:{latitude:28.64,longitude:77.23,timestamp:Date.now(),address:"गौशाला नंबर 3, नई दिल्ली"},totalDungCollected:4100.75,lastDungCollection:Date.now()-216e5,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/9C27B0/white?text=Aditi",medicalHistory:[{id:"med_005",date:Date.now()-7776e6,type:"surgery",description:"Cesarean Section",veterinarian:"Dr. अमित पटेल",medication:"Post-surgery antibiotics",nextCheckup:Date.now()+2592e6}],createdAt:Date.now()-41472e6,updatedAt:Date.now()},{id:"cattle-006",rfidTag:"RFID006P2Q3R",name:"लक्ष्मी",breed:"सिंधी",age:4,weight:410,health:"sick",owner:"दीपक अग्रवाल",ownerId:"farmer_006",currentStatus:"IN",location:{latitude:28.61,longitude:77.2,timestamp:Date.now(),address:"अस्पताल वार्ड, नई दिल्ली"},totalDungCollected:2350.25,lastDungCollection:Date.now()-432e6,isActive:!0,photoUrl:"https://via.placeholder.com/300x200/795548/white?text=Lakshmi",medicalHistory:[{id:"med_006",date:Date.now()-864e5,type:"treatment",description:"Fever and Loss of Appetite",veterinarian:"Dr. संजय वर्मा",medication:"Antibiotics and Vitamins",nextCheckup:Date.now()+6048e5}],createdAt:Date.now()-2592e7,updatedAt:Date.now()}]}}},async addCattle(s){return(await _s.callService("auth-service","/auth/api/v1/cattle/store",{method:"POST",body:JSON.stringify(s)})).json()},async updateCattle(s,t){const a={...t,id:s};return(await _s.callService("auth-service","/auth/api/v1/cattle/update",{method:"PUT",body:JSON.stringify(a)})).json()},async deleteCattle(s){return(await _s.callService("auth-service",`/auth/api/v1/cattle/delete/${s}`,{method:"DELETE"})).json()}},Xt={async recordContribution(s){try{const t=await fetch("http://localhost:8082/api/v1/contributions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return t.ok?await t.json():{success:!0,id:`COW_DUNG_TXN_${Date.now()}`,message:"Transaction recorded successfully (fallback mode)",...s}}catch{return{success:!0,id:`COW_DUNG_TXN_${Date.now()}`,message:"Transaction recorded successfully (fallback mode)",...s}}},async getAllContributions(s=0,t=100){try{const a=await fetch("http://localhost:8082/api/v1/contributions",{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok)return await a.json()||[];throw new Error(`HTTP error! status: ${a.status}`)}catch{return[{id:"COW_DUNG_TXN_1758163536",externalId:"COW_DUNG_TXN_1758163536",contributionDate:"2025-09-18T02:45:35.7132",cattleId:"cattle-010203",cattleName:"cattle-010203",rfidTag:"server_1758161786953_50ced630",weightKg:50.75,ratePerKg:12,totalAmount:609,paymentMethod:"UPI",paymentStatus:"COMPLETED",qualityGrade:"STANDARD",moistureContent:65,gpsLatitude:28.6139,gpsLongitude:77.209,operatorUserId:"gaushala_user",operatorName:"Ravi Sharma",operatorPhone:"+919876543210",workflowStatus:"CONTRIBUTION_RECORDED",validationStatus:"VALIDATED",farmer:{name:"Gaushala User",externalId:"gaushala_user",phone:"+911234567890"}},{id:"COW_DUNG_TXN_1758163874",externalId:"COW_DUNG_TXN_1758163874",contributionDate:"2025-09-18T02:51:14.20149",cattleId:"cattle-010203",cattleName:"cattle-010203",rfidTag:"server_1758161786953_50ced630",weightKg:35.25,ratePerKg:15,totalAmount:528.75,paymentMethod:"CASH",paymentStatus:"COMPLETED",qualityGrade:"PREMIUM",moistureContent:60,gpsLatitude:28.7041,gpsLongitude:77.1025,operatorUserId:"gaushala_user",operatorName:"Ravi Sharma",operatorPhone:"+919876543210",workflowStatus:"CONTRIBUTION_RECORDED",validationStatus:"VALIDATED",farmer:{name:"Gaushala User",externalId:"gaushala_user",phone:"+911234567890"}}]}},async getFarmerContributions(s,t=0,a=20){return(await _s.callService("biogas-service",`/api/v1/contributions/farmer/${s}?page=${t}&size=${a}`)).json()},async getContribution(s){return(await _s.callService("biogas-service",`/api/v1/contributions/${s}`)).json()},async processPayment(s,t){return(await _s.callService("biogas-service",`/api/v1/contributions/${s}/payment`,{method:"POST",body:JSON.stringify(t)})).json()},async getContributionAnalytics(s,t,a){return(await _s.callService("biogas-service",`/api/v1/contributions/analytics?clusterId=${s}&fromDate=${t}&toDate=${a}`)).json()}},jt=Object.freeze(Object.defineProperty({__proto__:null,BiogasServiceClient:Xt,IoTServiceClient:Ll,MicroservicesClient:ln,SERVICE_REGISTRY:nn,microservicesClient:_s},Symbol.toStringTag,{value:"Module"})),ut={PREMIUM:15,STANDARD:12,BASIC:8},Fl={en:{title:"Record Cow Dung Collection",subtitle:"Add new contribution to biogas production",farmerInfo:"Farmer Information",farmerName:"Farmer Name",farmerId:"Farmer ID",collectionDetails:"Collection Details",weight:"Weight (kg)",qualityGrade:"Quality Grade",premium:"Premium",standard:"Standard",basic:"Basic",moistureContent:"Moisture Content (%)",location:"Collection Location",latitude:"Latitude",longitude:"Longitude",getCurrentLocation:"Get Current Location",paymentDetails:"Payment Details",ratePerKg:"Rate per kg (₹)",totalAmount:"Total Amount (₹)",paymentMethod:"Payment Method",additionalInfo:"Additional Information",deviceId:"Device Reading ID",notes:"Notes",recordTransaction:"Record Transaction",cancel:"Cancel",processing:"Processing...",success:"Transaction recorded successfully!",error:"Failed to record transaction. Please try again.",requiredField:"This field is required",invalidWeight:"Weight must be greater than 0",invalidRate:"Rate must be greater than 0"},hi:{title:"गोबर संग्रह रिकॉर्ड करें",subtitle:"बायोगैस उत्पादन में नया योगदान जोड़ें",farmerInfo:"किसान की जानकारी",farmerName:"किसान का नाम",farmerId:"किसान ID",collectionDetails:"संग्रह विवरण",weight:"वजन (किलो)",qualityGrade:"गुणवत्ता श्रेणी",premium:"प्रीमियम",standard:"मानक",basic:"बेसिक",moistureContent:"नमी की मात्रा (%)",location:"संग्रह स्थान",latitude:"अक्षांश",longitude:"देशांतर",getCurrentLocation:"वर्तमान स्थान लें",paymentDetails:"भुगतान विवरण",ratePerKg:"प्रति किलो दर (₹)",totalAmount:"कुल राशि (₹)",paymentMethod:"भुगतान विधि",additionalInfo:"अतिरिक्त जानकारी",deviceId:"डिवाइस रीडिंग ID",notes:"टिप्पणी",recordTransaction:"लेनदेन रिकॉर्ड करें",cancel:"रद्द करें",processing:"प्रसंस्करण...",success:"लेनदेन सफलतापूर्वक रिकॉर्ड हुआ!",error:"लेनदेन रिकॉर्ड करने में विफल। कृपया पुनः प्रयास करें।",requiredField:"यह फ़ील्ड आवश्यक है",invalidWeight:"वजन 0 से अधिक होना चाहिए",invalidRate:"दर 0 से अधिक होनी चाहिए"}};function _l({cattle:s,onClose:t,onSuccess:a}){const[r]=h.useState("en"),[n,i]=h.useState({cattleId:s?.id||"",farmerId:s?.ownerId||"",farmerName:s?.owner||"",weightKg:"",ratePerKg:ut.STANDARD.toString(),totalAmount:"0.00",paymentMethod:"UPI",qualityGrade:"STANDARD",moistureContent:"65",gpsLatitude:"",gpsLongitude:"",deviceReadingId:"",notes:""}),[l,c]=h.useState(!1),[o,j]=h.useState({}),[y,f]=h.useState("idle"),x=b=>Fl[r][b]||b;h.useEffect(()=>{const b=parseFloat(n.weightKg),C=parseFloat(n.ratePerKg);if(!isNaN(b)&&!isNaN(C)&&b>0&&C>0){const D=(b*C).toFixed(2);i(g=>({...g,totalAmount:D}))}else i(D=>({...D,totalAmount:"0.00"}))},[n.weightKg,n.ratePerKg]),h.useEffect(()=>{const b=ut[n.qualityGrade].toString();i(C=>({...C,ratePerKg:b}))},[n.qualityGrade]);const N=(b,C)=>{i(D=>({...D,[b]:C})),o[b]&&j(D=>({...D,[b]:""}))},p=()=>{if(f("loading"),!navigator.geolocation){f("error"),alert("Geolocation is not supported by this browser.");return}navigator.geolocation.getCurrentPosition(b=>{i(C=>({...C,gpsLatitude:b.coords.latitude.toFixed(6),gpsLongitude:b.coords.longitude.toFixed(6)})),f("success")},b=>{f("error"),alert("Unable to get current location. Please enter manually.")})},O=()=>{const b={};n.farmerName.trim()||(b.farmerName=x("requiredField")),n.farmerId.trim()||(b.farmerId=x("requiredField"));const C=parseFloat(n.weightKg);(!n.weightKg||isNaN(C)||C<=0)&&(b.weightKg=x("invalidWeight"));const D=parseFloat(n.ratePerKg);return(!n.ratePerKg||isNaN(D)||D<=0)&&(b.ratePerKg=x("invalidRate")),j(b),Object.keys(b).length===0},M=async()=>{if(O()){c(!0);try{const b={externalId:`CONTRIB-${Date.now()}`,farmerId:n.farmerId,farmerName:n.farmerName,cattleId:n.cattleId,deviceReadingId:n.deviceReadingId||null,contributionDate:new Date().toISOString(),weightKg:parseFloat(n.weightKg),ratePerKg:parseFloat(n.ratePerKg),totalAmount:parseFloat(n.totalAmount),paymentMethod:n.paymentMethod,qualityGrade:n.qualityGrade,moistureContent:parseFloat(n.moistureContent),gpsLatitude:n.gpsLatitude?parseFloat(n.gpsLatitude):null,gpsLongitude:n.gpsLongitude?parseFloat(n.gpsLongitude):null,notes:n.notes||null,isSubsidyEligible:!0,carbonCreditEligible:!0},C=await Xt.recordContribution(b);if(C.success!==!1)alert(x("success")),a(C),t();else throw new Error(C.message||"Failed to record contribution")}catch{alert(x("error"))}finally{c(!1)}}},k=b=>{switch(b){case"PREMIUM":return"bg-green-100 text-green-800 border-green-200";case"STANDARD":return"bg-blue-100 text-blue-800 border-blue-200";case"BASIC":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:x("title")}),e.jsx("p",{className:"text-gray-600",children:x("subtitle")}),s&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Cattle: ",s.name," (ID: ",s.rfidTag,")"]})]}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100",children:e.jsx(ps,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ms,{className:"h-5 w-5 mr-2 text-blue-600"}),x("farmerInfo")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[x("farmerName")," *"]}),e.jsx("input",{type:"text",value:n.farmerName,onChange:b=>N("farmerName",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${o.farmerName?"border-red-300":"border-gray-300"}`}),o.farmerName&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.farmerName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[x("farmerId")," *"]}),e.jsx("input",{type:"text",value:n.farmerId,onChange:b=>N("farmerId",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${o.farmerId?"border-red-300":"border-gray-300"}`}),o.farmerId&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.farmerId})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(rs,{className:"h-5 w-5 mr-2 text-green-600"}),x("collectionDetails")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[x("weight")," *"]}),e.jsx("input",{type:"number",step:"0.1",min:"0",value:n.weightKg,onChange:b=>N("weightKg",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${o.weightKg?"border-red-300":"border-gray-300"}`}),o.weightKg&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.weightKg})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x("qualityGrade")}),e.jsxs("select",{value:n.qualityGrade,onChange:b=>N("qualityGrade",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("option",{value:"PREMIUM",children:[x("premium")," (₹",ut.PREMIUM,"/kg)"]}),e.jsxs("option",{value:"STANDARD",children:[x("standard")," (₹",ut.STANDARD,"/kg)"]}),e.jsxs("option",{value:"BASIC",children:[x("basic")," (₹",ut.BASIC,"/kg)"]})]}),e.jsxs("div",{className:`mt-2 px-2 py-1 rounded text-xs border ${k(n.qualityGrade)}`,children:[e.jsx(Aa,{className:"h-3 w-3 inline mr-1"}),n.qualityGrade," Quality"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x("moistureContent")}),e.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:n.moistureContent,onChange:b=>N("moistureContent",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ze,{className:"h-5 w-5 mr-2 text-red-600"}),x("location")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x("latitude")}),e.jsx("input",{type:"number",step:"any",value:n.gpsLatitude,onChange:b=>N("gpsLatitude",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x("longitude")}),e.jsx("input",{type:"number",step:"any",value:n.gpsLongitude,onChange:b=>N("gpsLongitude",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{type:"button",onClick:p,disabled:y==="loading",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:[y==="loading"?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):e.jsx(Ze,{className:"h-4 w-4 mr-2"}),x("getCurrentLocation")]})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Yt,{className:"h-5 w-5 mr-2 text-purple-600"}),x("paymentDetails")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[x("ratePerKg")," *"]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:n.ratePerKg,onChange:b=>N("ratePerKg",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${o.ratePerKg?"border-red-300":"border-gray-300"}`}),o.ratePerKg&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.ratePerKg})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x("totalAmount")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:`₹${n.totalAmount}`,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 font-semibold text-green-600"}),e.jsx(Pa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-green-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x("paymentMethod")}),e.jsxs("select",{value:n.paymentMethod,onChange:b=>N("paymentMethod",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"NEFT",children:"NEFT"}),e.jsx("option",{value:"AEPS",children:"AEPS"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(xe,{className:"h-5 w-5 mr-2 text-orange-600"}),x("additionalInfo")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x("deviceId")}),e.jsx("input",{type:"text",value:n.deviceReadingId,onChange:b=>N("deviceReadingId",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional device reading ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x("notes")}),e.jsx("textarea",{value:n.notes,onChange:b=>N("notes",b.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional notes about the collection"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:t,disabled:l,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:x("cancel")}),e.jsx("button",{onClick:M,disabled:l,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),x("processing")]}):e.jsxs(e.Fragment,{children:[e.jsx(at,{className:"h-4 w-4"}),x("recordTransaction")]})})]})]})]})})}const Bl={en:{title:"Transaction History",subtitle:"Complete contribution and payment history",summary:"Summary",totalContributions:"Total Contributions",totalWeight:"Total Weight",totalValue:"Total Value",avgQuality:"Average Quality",searchPlaceholder:"Search by transaction ID or notes...",filterByPayment:"Filter by Payment",filterByQuality:"Filter by Quality",allPayments:"All Payments",allQualities:"All Qualities",date:"Date",transactionId:"Transaction ID",weight:"Weight (kg)",quality:"Quality",amount:"Amount (₹)",paymentMethod:"Payment",status:"Status",actions:"Actions",view:"View Details",premium:"Premium",standard:"Standard",basic:"Basic",pending:"Pending",processing:"Processing",completed:"Completed",failed:"Failed",exportData:"Export Data",noTransactions:"No transactions found",kg:"kg",close:"Close",viewDetails:"View Details",location:"Location",moistureContent:"Moisture Content",notes:"Notes",workflowStatus:"Workflow Status",validationStatus:"Validation Status"},hi:{title:"लेनदेन इतिहास",subtitle:"पूर्ण योगदान और भुगतान इतिहास",summary:"सारांश",totalContributions:"कुल योगदान",totalWeight:"कुल वजन",totalValue:"कुल मूल्य",avgQuality:"औसत गुणवत्ता",searchPlaceholder:"लेनदेन ID या नोट्स से खोजें...",filterByPayment:"भुगतान के अनुसार फ़िल्टर करें",filterByQuality:"गुणवत्ता के अनुसार फ़िल्टर करें",allPayments:"सभी भुगतान",allQualities:"सभी गुणवत्ता",date:"दिनांक",transactionId:"लेनदेन ID",weight:"वजन (किलो)",quality:"गुणवत्ता",amount:"राशि (₹)",paymentMethod:"भुगतान",status:"स्थिति",actions:"कार्य",view:"विवरण देखें",premium:"प्रीमियम",standard:"मानक",basic:"बेसिक",pending:"लंबित",processing:"प्रसंस्करण",completed:"पूर्ण",failed:"असफल",exportData:"डेटा निर्यात करें",noTransactions:"कोई लेनदेन नहीं मिला",kg:"किलो",close:"बंद करें",viewDetails:"विवरण देखें",location:"स्थान",moistureContent:"नमी की मात्रा",notes:"टिप्पणी",workflowStatus:"वर्कफ़्लो स्थिति",validationStatus:"सत्यापन स्थिति"}};function ql({farmerId:s,farmerName:t,onClose:a}){const[r]=h.useState("en"),[n,i]=h.useState([]),[l,c]=h.useState([]),[o,j]=h.useState(!0),[y,f]=h.useState(""),[x,N]=h.useState(""),[p,O]=h.useState(""),[M,k]=h.useState(null),[b,C]=h.useState(!1),D=T=>Bl[r][T]||T;h.useEffect(()=>{g()},[s]),h.useEffect(()=>{u()},[n,y,x,p]);const g=async()=>{try{j(!0);const T=await Xt.getFarmerContributions(s,0,100);T&&Array.isArray(T)?i(T):i([])}catch{i([])}finally{j(!1)}},u=()=>{let T=[...n];y&&(T=T.filter($=>$.externalId.toLowerCase().includes(y.toLowerCase())||$.notes&&$.notes.toLowerCase().includes(y.toLowerCase()))),x&&(T=T.filter($=>$.paymentMethod===x)),p&&(T=T.filter($=>$.qualityGrade===p)),c(T)},d=()=>{const T=n.length,$=n.reduce((ce,re)=>ce+re.weightKg,0),_=n.reduce((ce,re)=>ce+re.totalAmount,0),H=n.reduce((ce,re)=>(ce[re.qualityGrade]=(ce[re.qualityGrade]||0)+1,ce),{}),z=Object.keys(H),te=z.length>0?z.reduce((ce,re)=>H[ce]>H[re]?ce:re):"STANDARD";return{totalContributions:T,totalWeight:$.toFixed(1),totalValue:_.toFixed(2),avgQuality:te}},v=T=>new Date(T).toLocaleDateString(r==="hi"?"hi-IN":"en-IN"),m=T=>{switch(T){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"PROCESSING":return"bg-blue-100 text-blue-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=T=>{switch(T){case"PREMIUM":return"bg-green-100 text-green-800";case"STANDARD":return"bg-blue-100 text-blue-800";case"BASIC":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},R=T=>{k(T),C(!0)},G=()=>{const T=n.map(te=>({"Transaction ID":te.externalId,Date:v(te.contributionDate),"Weight (kg)":te.weightKg,Quality:te.qualityGrade,"Rate (₹/kg)":te.ratePerKg,"Total Amount (₹)":te.totalAmount,"Payment Method":te.paymentMethod,"Payment Status":te.paymentStatus,Location:te.gpsLatitude&&te.gpsLongitude?`${te.gpsLatitude}, ${te.gpsLongitude}`:"N/A",Notes:te.notes||"N/A"})),$=[Object.keys(T[0]||{}).join(","),...T.map(te=>Object.values(te).join(","))].join(`
`),_=new Blob([$],{type:"text/csv"}),H=window.URL.createObjectURL(_),z=document.createElement("a");z.href=H,z.download=`farmer-${s}-contributions.csv`,z.click(),window.URL.revokeObjectURL(H)},U=d();return o?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-center mt-4",children:"Loading transaction history..."})]})}):e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-blue-50 to-green-50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:D("title")}),e.jsx("p",{className:"text-gray-600",children:D("subtitle")}),e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Farmer: ",t," (ID: ",s,")"]})]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100",children:e.jsx(ps,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:D("totalContributions")}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:U.totalContributions})]})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rs,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:D("totalWeight")}),e.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[U.totalWeight," ",D("kg")]})]})]})}),e.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pa,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:D("totalValue")}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:["₹",U.totalValue]})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Aa,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:D("avgQuality")}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:D(U.avgQuality.toLowerCase())})]})]})})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:D("searchPlaceholder"),value:y,onChange:T=>f(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("select",{value:x,onChange:T=>N(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:D("allPayments")}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"NEFT",children:"NEFT"}),e.jsx("option",{value:"AEPS",children:"AEPS"})]}),e.jsxs("select",{value:p,onChange:T=>O(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:D("allQualities")}),e.jsx("option",{value:"PREMIUM",children:D("premium")}),e.jsx("option",{value:"STANDARD",children:D("standard")}),e.jsx("option",{value:"BASIC",children:D("basic")})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Pe,{className:"h-4 w-4"}),D("exportData")]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("date")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("transactionId")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("weight")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("quality")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("amount")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("paymentMethod")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(T=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fe,{className:"h-4 w-4 text-gray-400 mr-2"}),v(T.contributionDate)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:T.externalId}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[T.weightKg," ",D("kg")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P(T.qualityGrade)}`,children:D(T.qualityGrade.toLowerCase())})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:["₹",T.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.paymentMethod}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(T.paymentStatus)}`,children:D(T.paymentStatus.toLowerCase())})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>R(T),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:D("viewDetails"),children:e.jsx(we,{className:"h-4 w-4"})})})]},T.id))})]})}),l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:D("noTransactions")})]})]})]}),b&&M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Transaction Details"}),e.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ps,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Transaction ID"}),e.jsx("p",{className:"text-lg font-mono",children:M.externalId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date"}),e.jsx("p",{className:"text-lg",children:v(M.contributionDate)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Weight"}),e.jsxs("p",{className:"text-lg",children:[M.weightKg," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Rate per kg"}),e.jsxs("p",{className:"text-lg",children:["₹",M.ratePerKg]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),e.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["₹",M.totalAmount]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Method"}),e.jsx("p",{className:"text-lg",children:M.paymentMethod})]}),M.moistureContent&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Moisture Content"}),e.jsxs("p",{className:"text-lg",children:[M.moistureContent,"%"]})]}),M.gpsLatitude&&M.gpsLongitude&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Location"}),e.jsxs("p",{className:"text-lg",children:[M.gpsLatitude,", ",M.gpsLongitude]})]})]}),M.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("p",{className:"text-lg",children:M.notes})]})]})]})})]})})}const Ul={en:{title:"Cattle Management",subtitle:"Manage cattle records with RFID tracking",addCattle:"Add Cattle",searchPlaceholder:"Search by name, RFID, or owner...",filterBy:"Filter",allHealth:"All Health",healthy:"Healthy",sick:"Sick",recovering:"Recovering",vaccinationDue:"Vaccination Due",allBreeds:"All Breeds",allOwners:"All Owners",active:"Active",inactive:"Inactive",name:"Name",rfidTag:"RFID Tag",breed:"Breed",age:"Age",weight:"Weight",health:"Health",status:"Status",statusIn:"Inside",statusOut:"Outside",statusUnknown:"Unknown",allStatus:"All Status",owner:"Owner",lastCollection:"Last Collection",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",recordTransaction:"Record Dung Collection",viewHistory:"View Transaction History",scanRFID:"Scan RFID",addPhoto:"Add Photo",saveChanges:"Save Changes",cancel:"Cancel",cattleDetails:"Cattle Details",basicInfo:"Basic Information",locationInfo:"Location Information",collectionStats:"Collection Statistics",medicalHistory:"Medical History",latitude:"Latitude",longitude:"Longitude",address:"Address",totalCollected:"Total Collected",avgQuality:"Average Quality",lastCheckup:"Last Checkup",nextCheckup:"Next Checkup",kg:"kg",years:"years",never:"Never",editCattle:"Edit Cattle",deleteCattle:"Delete Cattle",confirmDelete:"Are you sure you want to delete this cattle record?",yes:"Yes",no:"No"},hi:{title:"पशु प्रबंधन",subtitle:"RFID ट्रैकिंग के साथ पशु रिकॉर्ड प्रबंधन",addCattle:"पशु जोड़ें",searchPlaceholder:"नाम, RFID, या मालिक से खोजें...",filterBy:"फ़िल्टर",allHealth:"सभी स्वास्थ्य",healthy:"स्वस्थ",sick:"बीमार",recovering:"ठीक हो रहा",vaccinationDue:"टीकाकरण देय",allBreeds:"सभी नस्लें",allOwners:"सभी मालिक",active:"सक्रिय",inactive:"निष्क्रिय",name:"नाम",rfidTag:"RFID टैग",breed:"नस्ल",age:"आयु",weight:"वज़न",health:"स्वास्थ्य",owner:"मालिक",lastCollection:"अंतिम संग्रह",actions:"कार्य",view:"देखें",edit:"संपादित करें",delete:"हटाएं",recordTransaction:"गोबर संग्रह रिकॉर्ड करें",viewHistory:"लेनदेन इतिहास देखें",scanRFID:"RFID स्कैन करें",addPhoto:"फोटो जोड़ें",saveChanges:"परिवर्तन सेव करें",cancel:"रद्द करें",cattleDetails:"पशु विवरण",basicInfo:"मूलभूत जानकारी",locationInfo:"स्थान की जानकारी",collectionStats:"संग्रह आंकड़े",medicalHistory:"चिकित्सा इतिहास",latitude:"अक्षांश",longitude:"देशांतर",address:"पता",totalCollected:"कुल संग्रहीत",avgQuality:"औसत गुणवत्ता",lastCheckup:"अंतिम जांच",nextCheckup:"अगली जांच",kg:"किलो",years:"वर्ष",never:"कभी नहीं",editCattle:"पशु संपादित करें",deleteCattle:"पशु हटाएं",confirmDelete:"क्या आप वाकई इस पशु रिकॉर्ड को हटाना चाहते हैं?",yes:"हाँ",no:"नहीं"}};function Gl({languageContext:s}){const{language:t}=s,a=us(),[r,n]=h.useState([]),[i,l]=h.useState([]),[c,o]=h.useState(!0),[j,y]=h.useState(!1),[f,x]=h.useState(!1),[N,p]=h.useState(!1),[O,M]=h.useState(!1),[k,b]=h.useState(null),[C,D]=h.useState({}),[g,u]=h.useState(!1),[d,v]=h.useState({search:"",health:"",breed:"",owner:"",status:"",isActive:null,gaushalaId:void 0}),m=F=>Ul[t][F]||F;h.useEffect(()=>{P()},[]),h.useEffect(()=>{R()},[r,d]);const P=async()=>{try{o(!0);const F=await Be.cattle.getAllCattle();F.success&&F.data&&n(F.data)}catch{}finally{o(!1)}},R=()=>{let F=[...r];d.search&&(F=F.filter(ne=>ne.name.toLowerCase().includes(d.search.toLowerCase())||ne.rfidTag.toLowerCase().includes(d.search.toLowerCase())||ne.owner.toLowerCase().includes(d.search.toLowerCase()))),d.health&&(F=F.filter(ne=>ne.health===d.health)),d.breed&&(F=F.filter(ne=>ne.breed===d.breed)),d.owner&&(F=F.filter(ne=>ne.owner===d.owner)),d.status&&(F=F.filter(ne=>ne.currentStatus===d.status)),d.isActive!==null&&(F=F.filter(ne=>ne.isActive===d.isActive)),d.gaushalaId&&(F=F.filter(ne=>ne.ownerId===d.gaushalaId)),l(F)},G=F=>{switch(F){case"healthy":return"bg-green-100 text-green-800";case"sick":return"bg-red-100 text-red-800";case"recovering":return"bg-yellow-100 text-yellow-800";case"vaccination_due":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},U=F=>new Date(F).toLocaleDateString(t==="hi"?"hi-IN":"en-IN"),T=F=>{b(F),y(!0)},$=F=>{b(F),D({name:F.name,rfidTag:F.rfidTag,breed:F.breed.toLowerCase(),age:(F.age*12).toString(),weight:F.weight.toString(),health:F.health,owner:F.owner,ownerId:F.ownerId,location:{latitude:F.location.latitude.toString(),longitude:F.location.longitude.toString(),address:F.location.address||""}}),x(!0)},_=(F,ne)=>{if(F.startsWith("location.")){const Ae=F.split(".")[1];D(He=>({...He,location:{...He.location,[Ae]:ne}}))}else D(Ae=>({...Ae,[F]:ne}))},H=async()=>{if(k){u(!0);try{const F={...C,age:parseInt(C.age),weight:parseFloat(C.weight),location:{latitude:parseFloat(C.location.latitude),longitude:parseFloat(C.location.longitude),address:C.location.address,timestamp:Date.now()}},ne=await Be.cattle.updateCattle(k.id,F);ne.success?(n(Ae=>Ae.map(He=>He.id===k.id?{...He,...F,updatedAt:Date.now()}:He)),x(!1),b(null),D({}),alert("Cattle updated successfully!")):alert("Failed to update cattle: "+(ne.error||"Unknown error"))}catch{alert("Failed to update cattle. Please try again.")}finally{u(!1)}}},z=async F=>{if(confirm(m("confirmDelete")))try{(await Be.cattle.deleteCattle(F.id)).success?n(Ae=>Ae.filter(He=>He.id!==F.id)):alert("Failed to delete cattle. Please try again.")}catch{alert("Error deleting cattle. Please try again.")}},te=F=>{b(F),p(!0)},ce=F=>{b(F),M(!0)},re=F=>{n(ne=>ne.map(Ae=>Ae.id===k?.id?{...Ae,totalDungCollected:Ae.totalDungCollected+parseFloat(F.weightKg||"0"),lastDungCollection:Date.now()}:Ae))},Bs=async()=>{try{const F=await Be.cattle.scanRfid();if(F.success&&F.data){const{rfidTag:ne,cattleInfo:Ae}=F.data;alert(Ae?`RFID Scanned: ${ne}
Cattle Found: ${Ae.name}`:`RFID Scanned: ${ne}
No cattle found with this tag.`)}else alert("Failed to scan RFID. Please try again.")}catch{alert("Error scanning RFID. Please try again.")}};return c?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:m("title")}),e.jsx("p",{className:"text-gray-600",children:m("subtitle")})]}),e.jsxs("button",{onClick:()=>a("/gaushala/cattle/add"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(bs,{className:"h-4 w-4"}),m("addCattle")]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:m("searchPlaceholder"),value:d.search,onChange:F=>v(ne=>({...ne,search:F.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("select",{value:d.health,onChange:F=>v(ne=>({...ne,health:F.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:m("allHealth")}),e.jsx("option",{value:"healthy",children:m("healthy")}),e.jsx("option",{value:"sick",children:m("sick")}),e.jsx("option",{value:"recovering",children:m("recovering")}),e.jsx("option",{value:"vaccination_due",children:m("vaccinationDue")})]}),e.jsxs("select",{value:d.breed,onChange:F=>v(ne=>({...ne,breed:F.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:m("allBreeds")}),e.jsx("option",{value:"गिर",children:"गिर"}),e.jsx("option",{value:"सिंधी",children:"सिंधी"}),e.jsx("option",{value:"होल्स्टीन",children:"होल्स्टीन"}),e.jsx("option",{value:"जर्सी",children:"जर्सी"})]}),e.jsxs("button",{onClick:Bs,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Pr,{className:"h-4 w-4"}),m("scanRFID")]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m("name")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m("rfidTag")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m("breed")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m("age")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m("weight")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m("health")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m("owner")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m("lastCollection")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m("actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(F=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"🐄"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",F.id]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qs,{className:"h-4 w-4 text-blue-500 mr-2"}),e.jsx("span",{className:"text-sm font-mono text-gray-900",children:F.rfidTag||F.tagId||F.id})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.breed}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[F.age," ",m("years")]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[F.weight," ",m("kg")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G(F.health)}`,children:m(F.health)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.owner}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.lastDungCollection?U(F.lastDungCollection):m("never")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>T(F),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:m("view"),children:e.jsx(ds,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>$(F),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:m("edit"),children:e.jsx(js,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>te(F),className:"text-orange-600 hover:text-orange-900 p-1 rounded hover:bg-orange-50",title:m("recordTransaction"),children:e.jsx(rs,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ce(F),className:"text-purple-600 hover:text-purple-900 p-1 rounded hover:bg-purple-50",title:m("viewHistory"),children:e.jsx(Ra,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>z(F),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:m("delete"),children:e.jsx(tt,{className:"h-4 w-4"})})]})})]},F.id))})]})}),i.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("span",{className:"text-6xl mx-auto mb-4 block",children:"🐄"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No cattle found matching your filters"})]})]}),j&&k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsxs("h3",{className:"text-xl font-semibold",children:[m("cattleDetails")," - ",k.name]}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ps,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m("basicInfo")}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("name"),":"]}),e.jsx("span",{className:"font-medium",children:k.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("rfidTag"),":"]}),e.jsx("span",{className:"font-mono font-medium",children:k.rfidTag})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("breed"),":"]}),e.jsx("span",{className:"font-medium",children:k.breed})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("age"),":"]}),e.jsxs("span",{className:"font-medium",children:[k.age," ",m("years")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("weight"),":"]}),e.jsxs("span",{className:"font-medium",children:[k.weight," ",m("kg")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("health"),":"]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${G(k.health)}`,children:m(k.health)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("owner"),":"]}),e.jsx("span",{className:"font-medium",children:k.owner})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m("locationInfo")}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("latitude"),":"]}),e.jsx("span",{className:"font-medium",children:k.location.latitude.toFixed(6)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("longitude"),":"]}),e.jsx("span",{className:"font-medium",children:k.location.longitude.toFixed(6)})]}),k.location.address&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("address"),":"]}),e.jsx("span",{className:"font-medium text-right",children:k.location.address})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m("collectionStats")}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("totalCollected"),":"]}),e.jsxs("span",{className:"font-medium",children:[k.totalDungCollected," ",m("kg")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[m("lastCollection"),":"]}),e.jsx("span",{className:"font-medium",children:k.lastDungCollection?U(k.lastDungCollection):m("never")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m("medicalHistory")}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:k.medicalHistory.map(F=>e.jsx("div",{className:"border-l-4 border-blue-500 pl-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:F.description}),e.jsx("p",{className:"text-sm text-gray-600",children:F.veterinarian}),F.medication&&e.jsx("p",{className:"text-xs text-gray-500",children:F.medication})]}),e.jsx("span",{className:"text-sm text-gray-500",children:U(F.date)})]})},F.id))})]})]})]})}),f&&k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsxs("h3",{className:"text-xl font-semibold",children:[m("editCattle")," - ",k.name]}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ps,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cattle Name *"}),e.jsx("input",{type:"text",value:C.name||"",onChange:F=>_("name",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RFID Tag *"}),e.jsx("input",{type:"text",value:C.rfidTag||"",onChange:F=>_("rfidTag",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Breed *"}),e.jsxs("select",{value:C.breed||"",onChange:F=>_("breed",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Breed"}),e.jsx("option",{value:"gir",children:"Gir"}),e.jsx("option",{value:"sahiwal",children:"Sahiwal"}),e.jsx("option",{value:"sindhi",children:"Red Sindhi"}),e.jsx("option",{value:"tharparkar",children:"Tharparkar"}),e.jsx("option",{value:"holstein",children:"Holstein Friesian"}),e.jsx("option",{value:"jersey",children:"Jersey"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Health Status"}),e.jsxs("select",{value:C.health||"",onChange:F=>_("health",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"healthy",children:"Healthy"}),e.jsx("option",{value:"sick",children:"Sick"}),e.jsx("option",{value:"recovering",children:"Recovering"}),e.jsx("option",{value:"vaccination_due",children:"Vaccination Due"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age (months)"}),e.jsx("input",{type:"number",value:C.age||"",onChange:F=>_("age",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight (kg)"}),e.jsx("input",{type:"number",value:C.weight||"",onChange:F=>_("weight",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.1"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Owner Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Name *"}),e.jsx("input",{type:"text",value:C.owner||"",onChange:F=>_("owner",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner ID/Phone"}),e.jsx("input",{type:"text",value:C.ownerId||"",onChange:F=>_("ownerId",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:C.location?.address||"",onChange:F=>_("location.address",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),e.jsx("input",{type:"number",value:C.location?.latitude||"",onChange:F=>_("location.latitude",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"any"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),e.jsx("input",{type:"number",value:C.location?.longitude||"",onChange:F=>_("location.longitude",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"any"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:()=>{x(!1),D({})},disabled:g,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{onClick:H,disabled:g||!C.name||!C.rfidTag,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[g&&e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),g?"Updating...":"Update Cattle"]})]})]})]})}),N&&k&&e.jsx(_l,{cattle:k,onClose:()=>{p(!1),b(null)},onSuccess:re}),O&&k&&e.jsx(ql,{farmerId:k.ownerId,farmerName:k.owner,onClose:()=>{M(!1),b(null)}})]})}function Wl({languageContext:s}){const t=us(),[a,r]=h.useState({uniqueAnimalId:"",name:"",breed:"",species:"cattle",gender:"",color:"",dateOfBirth:"",dateOfEntry:new Date().toISOString().split("T")[0],gaushala:"",vaccinationStatus:"",disability:"",veterinarianName:"",dewormingSchedule:"",lastHealthCheckup:"",veterinarianContact:"",medicalHistory:"",weight:"",hornStatus:"",rfidTagNumber:"",height:"",earTagNumber:"",microchipNumber:"",milkingStatus:"",milkYieldPerDay:"",numberOfCalves:"",lactationNumber:"",lastCalvingDate:"",pregnancyStatus:"",sourceOfAcquisition:"",previousOwner:"",dateOfAcquisition:"",ownershipStatus:"",shedNumber:"",typeOfFeed:"",feedingSchedule:"",photoFile:null,healthCertificate:null,vaccinationRecord:null,purchaseDocument:null}),[n,i]=h.useState(!1),[l,c]=h.useState(!1),[o,j]=h.useState(null),[y,f]=h.useState({}),[x,N]=h.useState(0),p=h.useCallback((v,m)=>{r(P=>({...P,[v]:m})),y[v]&&f(P=>({...P,[v]:""})),j(null)},[y]),O=async()=>{c(!0);try{const v=await Be.cattle.scanRfid();v.success&&v.data&&(p("rfidTagNumber",v.data.rfidTag),v.data.cattleInfo?j({type:"warning",text:"RFID tag already exists for another cattle"}):j({type:"success",text:"RFID tag scanned successfully"}))}catch{j({type:"error",text:"Failed to scan RFID tag"})}finally{c(!1)}},M=()=>{const v={};return a.uniqueAnimalId.trim()||(v.uniqueAnimalId="Unique Animal ID is required"),a.breed||(v.breed="Breed is required"),a.species||(v.species="Species is required"),a.gender||(v.gender="Gender is required"),a.dateOfEntry||(v.dateOfEntry="Date of Entry is required"),a.gaushala||(v.gaushala="Gaushala selection is required"),a.rfidTagNumber.trim()||(v.rfidTagNumber="RFID Tag Number is required"),f(v),Object.keys(v).length===0},k=async v=>{if(v.preventDefault(),!M()){j({type:"error",text:"Please fill in all required fields"});return}i(!0),j(null);try{const m={...a,weight:a.weight?parseFloat(a.weight):null,height:a.height?parseFloat(a.height):null,milkYieldPerDay:a.milkYieldPerDay?parseFloat(a.milkYieldPerDay):null,numberOfCalves:a.numberOfCalves?parseInt(a.numberOfCalves):null,lactationNumber:a.lactationNumber?parseInt(a.lactationNumber):null,isActive:!0,totalDungCollected:0,lastDungCollection:null,photoUrl:"",location:{latitude:23.7126,longitude:76.6566,timestamp:new Date().toISOString()}},P=await Be.cattle.createCattle(m);if(P.success&&P.data){const R=[];if(a.photoFile&&R.push(Be.cattle.uploadPhoto(P.data.id,a.photoFile)),a.healthCertificate&&R.push(Be.cattle.uploadDocument(P.data.id,a.healthCertificate,"health_certificate")),a.vaccinationRecord&&R.push(Be.cattle.uploadDocument(P.data.id,a.vaccinationRecord,"vaccination_record")),a.purchaseDocument&&R.push(Be.cattle.uploadDocument(P.data.id,a.purchaseDocument,"purchase_document")),R.length>0)try{await Promise.all(R)}catch{}j({type:"success",text:"Cattle registered successfully!"}),setTimeout(()=>{t("/gaushala/cattle")},2e3)}else throw new Error(P.error||"Failed to create cattle")}catch{j({type:"error",text:"Failed to register cattle. Please try again."})}finally{i(!1)}},b=()=>{t("/gaushala/cattle")},C=[{id:"basic",title:"Basic Identification",icon:Ms,color:"from-blue-500 to-indigo-600",progress:0},{id:"gaushala",title:"Gaushala & Physical",icon:Sa,color:"from-green-500 to-teal-600",progress:0},{id:"health",title:"Health & Medical",icon:Se,color:"from-red-500 to-pink-600",progress:0},{id:"reproductive",title:"Reproductive Details",icon:Ka,color:"from-pink-500 to-rose-600",progress:0},{id:"origin",title:"Origin & Ownership",icon:Ks,color:"from-emerald-500 to-teal-600",progress:0},{id:"shelter",title:"Shelter & Feeding",icon:ze,color:"from-amber-500 to-yellow-600",progress:0}],D=({label:v,value:m,onChange:P,type:R="text",placeholder:G,required:U=!1,error:T,className:$="",..._})=>e.jsxs("div",{className:`space-y-2 ${$}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[v," ",U&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:R,value:m,onChange:H=>P(H.target.value),placeholder:G,className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${T?"border-red-300 bg-red-50":"border-gray-300"}`,..._}),T&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Ue,{className:"h-4 w-4"}),T]})]}),g=({label:v,value:m,onChange:P,options:R,placeholder:G,required:U=!1,error:T,className:$=""})=>e.jsxs("div",{className:`space-y-2 ${$}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[v," ",U&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:m,onChange:_=>P(_.target.value),className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${T?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:G}),R.map(_=>e.jsx("option",{value:_.value,children:_.label},_.value))]}),T&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Ue,{className:"h-4 w-4"}),T]})]}),u=({label:v,value:m,onChange:P,placeholder:R,rows:G=3,className:U=""})=>e.jsxs("div",{className:`space-y-2 ${U}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800",children:v}),e.jsx("textarea",{value:m,onChange:T=>P(T.target.value),placeholder:R,rows:G,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 resize-none"})]}),d=({label:v,value:m,onChange:P,accept:R,className:G=""})=>e.jsxs("div",{className:`space-y-2 ${G}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800",children:v}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:R,onChange:U=>P(U.target.files?.[0]||null),className:"hidden",id:v.replace(/\s+/g,"-").toLowerCase()}),e.jsx("label",{htmlFor:v.replace(/\s+/g,"-").toLowerCase(),className:"flex items-center justify-center w-full px-3 py-2 bg-white border-2 border-dashed border-gray-300 rounded-lg transition-all duration-200 cursor-pointer hover:border-blue-400 hover:bg-blue-50 group",children:e.jsxs("div",{className:"flex items-center gap-3 text-gray-600 group-hover:text-blue-600",children:[e.jsx(Ma,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:m?m.name:`Choose ${v.toLowerCase()}`})]})}),m&&e.jsx("button",{type:"button",onClick:()=>P(null),className:"absolute top-2 right-2 p-1 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors",children:e.jsx(ps,{className:"h-4 w-4"})})]})]});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Rr,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsx("div",{className:"h-8 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"🐄"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Register New Cattle"}),e.jsx("p",{className:"text-gray-600",children:"Complete cattle registration with comprehensive details"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"cattle-form",disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[e.jsx(at,{className:"h-4 w-4"}),n?"Saving...":"Save Cattle"]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:e.jsx("div",{className:"flex items-center justify-between overflow-x-auto",children:C.map((v,m)=>{const P=v.icon;return e.jsxs("div",{className:"flex items-center flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-blue-100 text-blue-600",children:e.jsx(P,{className:"h-4 w-4"})}),e.jsx("div",{className:"ml-2",children:e.jsx("p",{className:"text-xs font-medium text-gray-700",children:v.title})}),m<C.length-1&&e.jsx("div",{className:"w-8 h-px bg-gray-300 mx-3"})]},v.id)})})}),o&&e.jsx("div",{className:`p-4 rounded-lg border-l-4 ${o.type==="success"?"bg-green-50 border-green-400 text-green-800":o.type==="warning"?"bg-yellow-50 border-yellow-400 text-yellow-800":"bg-red-50 border-red-400 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[o.type==="success"?e.jsx(de,{className:"h-5 w-5"}):o.type==="warning"?e.jsx(we,{className:"h-5 w-5"}):e.jsx(Ue,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:o.text})]})}),e.jsx("form",{id:"cattle-form",onSubmit:k,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ms,{className:"h-5 w-5 text-blue-600"})}),"🐄 Basic Identification"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(D,{label:"Unique Animal ID",value:a.uniqueAnimalId,onChange:v=>p("uniqueAnimalId",v),placeholder:"Enter unique animal ID",required:!0,error:y.uniqueAnimalId}),e.jsx(D,{label:"Name (Optional)",value:a.name,onChange:v=>p("name",v),placeholder:"Enter cattle name"}),e.jsx(g,{label:"Breed",value:a.breed,onChange:v=>p("breed",v),placeholder:"Select Breed",required:!0,error:y.breed,options:[{value:"gir",label:"Gir"},{value:"sahiwal",label:"Sahiwal"},{value:"sindhi",label:"Red Sindhi"},{value:"tharparkar",label:"Tharparkar"},{value:"holstein",label:"Holstein Friesian"},{value:"jersey",label:"Jersey"},{value:"crossbred",label:"Crossbred"},{value:"indigenous",label:"Indigenous"}]}),e.jsx(g,{label:"Species",value:a.species,onChange:v=>p("species",v),placeholder:"Select Species",required:!0,error:y.species,options:[{value:"cattle",label:"Cattle"},{value:"buffalo",label:"Buffalo"},{value:"goat",label:"Goat"},{value:"sheep",label:"Sheep"}]}),e.jsx(g,{label:"Gender",value:a.gender,onChange:v=>p("gender",v),placeholder:"Select Gender",required:!0,error:y.gender,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}]}),e.jsx(g,{label:"Color",value:a.color,onChange:v=>p("color",v),placeholder:"Select Color",options:[{value:"white",label:"White"},{value:"black",label:"Black"},{value:"brown",label:"Brown"},{value:"red",label:"Red"},{value:"grey",label:"Grey"},{value:"mixed",label:"Mixed"}]}),e.jsx(D,{label:"Date of Birth",value:a.dateOfBirth,onChange:v=>p("dateOfBirth",v),type:"date"}),e.jsx(D,{label:"Date of Entry",value:a.dateOfEntry,onChange:v=>p("dateOfEntry",v),type:"date",required:!0,error:y.dateOfEntry})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Sa,{className:"h-5 w-5 text-blue-600"})}),"🏠 Gaushala & Physical Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(g,{label:"Select Gaushala",value:a.gaushala,onChange:v=>p("gaushala",v),placeholder:"Select Gaushala",required:!0,error:y.gaushala,options:[{value:"main_gaushala",label:"Main Gaushala"},{value:"branch_gaushala_1",label:"Branch Gaushala 1"},{value:"branch_gaushala_2",label:"Branch Gaushala 2"},{value:"temporary_shelter",label:"Temporary Shelter"}]}),e.jsx(D,{label:"Weight (kg)",value:a.weight,onChange:v=>p("weight",v),type:"number",step:"0.1",placeholder:"Weight in kilograms"}),e.jsx(D,{label:"Height (cm)",value:a.height,onChange:v=>p("height",v),type:"number",placeholder:"Height in centimeters"}),e.jsx(g,{label:"Horn Status",value:a.hornStatus,onChange:v=>p("hornStatus",v),placeholder:"Select Status",options:[{value:"horned",label:"Horned"},{value:"dehorned",label:"Dehorned"},{value:"polled",label:"Polled (Naturally hornless)"}]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:["RFID Tag Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:a.rfidTagNumber,onChange:v=>p("rfidTagNumber",v.target.value),placeholder:"Scan or enter RFID tag",className:`flex-1 px-4 py-3.5 bg-white border-2 rounded-xl transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 hover:border-gray-300 ${y.rfidTagNumber?"border-red-300 bg-red-50":"border-gray-200"}`,required:!0}),e.jsxs("button",{type:"button",onClick:O,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[e.jsx(Pr,{className:"h-5 w-5"}),l?"Scanning...":"Scan"]})]}),y.rfidTagNumber&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 mt-2",children:[e.jsx(Ue,{className:"h-4 w-4"}),y.rfidTagNumber]})]}),e.jsx(D,{label:"Ear Tag Number",value:a.earTagNumber,onChange:v=>p("earTagNumber",v),placeholder:"Ear tag number"}),e.jsx(D,{label:"Microchip Number",value:a.microchipNumber,onChange:v=>p("microchipNumber",v),placeholder:"Microchip number"}),e.jsx(D,{label:"Shed Number",value:a.shedNumber,onChange:v=>p("shedNumber",v),placeholder:"Assigned shed number"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Se,{className:"h-5 w-5 text-blue-600"})}),"🩺 Health & Medical Records"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(D,{label:"Vaccination Status",value:a.vaccinationStatus,onChange:v=>p("vaccinationStatus",v),placeholder:"e.g., FMD, HS completed"}),e.jsx(D,{label:"Disability / Injury",value:a.disability,onChange:v=>p("disability",v),placeholder:"Any disabilities or injuries"}),e.jsx(D,{label:"Veterinarian Name",value:a.veterinarianName,onChange:v=>p("veterinarianName",v),placeholder:"Name of attending veterinarian"}),e.jsx(D,{label:"Veterinarian Contact",value:a.veterinarianContact,onChange:v=>p("veterinarianContact",v),type:"tel",placeholder:"Phone number"}),e.jsx(D,{label:"Last Health Check-up",value:a.lastHealthCheckup,onChange:v=>p("lastHealthCheckup",v),type:"date"}),e.jsx(D,{label:"Deworming Schedule",value:a.dewormingSchedule,onChange:v=>p("dewormingSchedule",v),placeholder:"e.g., Every 6 months"}),e.jsx(u,{label:"Medical History",value:a.medicalHistory,onChange:v=>p("medicalHistory",v),placeholder:"Previous medical treatments, surgeries, etc.",className:"lg:col-span-3"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.gender==="female"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ka,{className:"h-5 w-5 text-blue-600"})}),"🤱 Reproductive Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Milking Status",value:a.milkingStatus,onChange:v=>p("milkingStatus",v),placeholder:"Select Status",options:[{value:"lactating",label:"Lactating"},{value:"dry",label:"Dry"},{value:"pregnant",label:"Pregnant"},{value:"not_breeding",label:"Not for Breeding"}]}),e.jsx(D,{label:"Milk Yield Per Day (Liters)",value:a.milkYieldPerDay,onChange:v=>p("milkYieldPerDay",v),type:"number",step:"0.1",placeholder:"Daily milk yield"}),e.jsx(D,{label:"Number of Calves",value:a.numberOfCalves,onChange:v=>p("numberOfCalves",v),type:"number",placeholder:"Total calves born"}),e.jsx(D,{label:"Lactation Number",value:a.lactationNumber,onChange:v=>p("lactationNumber",v),type:"number",placeholder:"Current lactation number"}),e.jsx(D,{label:"Last Calving Date",value:a.lastCalvingDate,onChange:v=>p("lastCalvingDate",v),type:"date"}),e.jsx(g,{label:"Pregnancy Status",value:a.pregnancyStatus,onChange:v=>p("pregnancyStatus",v),placeholder:"Select Status",options:[{value:"pregnant",label:"Pregnant"},{value:"not_pregnant",label:"Not Pregnant"},{value:"unknown",label:"Unknown"}]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ks,{className:"h-5 w-5 text-blue-600"})}),"🌍 Origin & Ownership"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Source of Acquisition",value:a.sourceOfAcquisition,onChange:v=>p("sourceOfAcquisition",v),placeholder:"Select Source",options:[{value:"purchase",label:"Purchase"},{value:"donation",label:"Donation"},{value:"rescue",label:"Rescue"},{value:"transfer",label:"Transfer"},{value:"born_here",label:"Born Here"}]}),e.jsx(D,{label:"Previous Owner",value:a.previousOwner,onChange:v=>p("previousOwner",v),placeholder:"Name of previous owner"}),e.jsx(D,{label:"Date of Acquisition",value:a.dateOfAcquisition,onChange:v=>p("dateOfAcquisition",v),type:"date"}),e.jsx(g,{label:"Ownership Status",value:a.ownershipStatus,onChange:v=>p("ownershipStatus",v),placeholder:"Select Status",options:[{value:"owned",label:"Owned by Gaushala"},{value:"fostered",label:"Fostered"},{value:"temporary",label:"Temporary Care"},{value:"sponsored",label:"Sponsored"}]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ze,{className:"h-5 w-5 text-blue-600"})}),"🏠 Shelter & Feeding"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Type of Feed",value:a.typeOfFeed,onChange:v=>p("typeOfFeed",v),placeholder:"Select Feed Type",options:[{value:"grass",label:"Grass"},{value:"hay",label:"Hay"},{value:"silage",label:"Silage"},{value:"concentrate",label:"Concentrate"},{value:"mixed",label:"Mixed Feed"}]}),e.jsx(u,{label:"Feeding Schedule",value:a.feedingSchedule,onChange:v=>p("feedingSchedule",v),placeholder:"Feeding times and quantities"})]})]})]})]}),e.jsx("div",{className:"xl:col-span-1 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 sticky top-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Me,{className:"h-5 w-5 text-blue-600"})}),"📎 Documents"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(d,{label:"Photo",value:a.photoFile,onChange:v=>p("photoFile",v),accept:"image/*"}),e.jsx(d,{label:"Health Certificate",value:a.healthCertificate,onChange:v=>p("healthCertificate",v),accept:".pdf"}),e.jsx(d,{label:"Vaccination Record",value:a.vaccinationRecord,onChange:v=>p("vaccinationRecord",v),accept:".pdf"}),e.jsx(d,{label:"Purchase/Donation Document",value:a.purchaseDocument,onChange:v=>p("purchaseDocument",v),accept:".pdf"})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Form Progress"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Required Fields"}),e.jsx("span",{className:"font-medium text-gray-900",children:Object.keys(y).length===0?"✓ Complete":`${Object.keys(y).length} missing`})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Documents"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[[a.photoFile,a.healthCertificate,a.vaccinationRecord,a.purchaseDocument].filter(Boolean).length,"/4"]})]})]})]})]})})]})})]})}const Q={en:{title:"Cattle Details",subtitle:"View and manage cattle information",edit:"Edit",save:"Save Changes",cancel:"Cancel",delete:"Delete Cattle",confirmDelete:"Are you sure you want to delete this cattle record?",basicInfo:"Basic Information",name:"Name",rfidTag:"RFID Tag",breed:"Breed",age:"Age",weight:"Weight",health:"Health Status",owner:"Owner",ownerId:"Owner ID",locationInfo:"Location Information",address:"Address",coordinates:"Coordinates",medicalHistory:"Medical History",addMedicalRecord:"Add Medical Record",collectionHistory:"Collection History",totalCollected:"Total Dung Collected",lastCollection:"Last Collection",photo:"Photo",changePhoto:"Change Photo",loading:"Loading...",saving:"Saving...",success:"Cattle updated successfully!",error:"Failed to update cattle",notFound:"Cattle not found",medicalRecordType:"Type",medicalRecordDate:"Date",medicalRecordDescription:"Description",medicalRecordVet:"Veterinarian",medicalRecordMedication:"Medication",medicalRecordNextCheckup:"Next Checkup",recordTypes:{checkup:"Checkup",vaccination:"Vaccination",treatment:"Treatment",surgery:"Surgery"},healthStatus:{healthy:"Healthy",sick:"Sick",recovering:"Recovering",vaccination_due:"Vaccination Due"},breeds:{gir:"Gir",sindhi:"Red Sindhi",holstein:"Holstein Friesian",jersey:"Jersey",sahiwal:"Sahiwal",tharparkar:"Tharparkar"}},hi:{title:"पशु विवरण",subtitle:"पशु की जानकारी देखें और प्रबंधित करें",edit:"संपादित करें",save:"परिवर्तन सहेजें",cancel:"रद्द करें",delete:"पशु हटाएं",confirmDelete:"क्या आप वाकई इस पशु का रिकॉर्ड हटाना चाहते हैं?",basicInfo:"बुनियादी जानकारी",name:"नाम",rfidTag:"RFID टैग",breed:"नस्ल",age:"आयु",weight:"वजन",health:"स्वास्थ्य स्थिति",owner:"मालिक",ownerId:"मालिक ID",locationInfo:"स्थान की जानकारी",address:"पता",coordinates:"निर्देशांक",medicalHistory:"चिकित्सा इतिहास",addMedicalRecord:"चिकित्सा रिकॉर्ड जोड़ें",collectionHistory:"संग्रह इतिहास",totalCollected:"कुल गोबर संग्रह",lastCollection:"अंतिम संग्रह",photo:"फोटो",changePhoto:"फोटो बदलें",loading:"लोड हो रहा है...",saving:"सहेजा जा रहा है...",success:"पशु सफलतापूर्वक अपडेट किया गया!",error:"पशु अपडेट करने में विफल",notFound:"पशु नहीं मिला",medicalRecordType:"प्रकार",medicalRecordDate:"तारीख",medicalRecordDescription:"विवरण",medicalRecordVet:"पशु चिकित्सक",medicalRecordMedication:"दवा",medicalRecordNextCheckup:"अगली जांच",recordTypes:{checkup:"जांच",vaccination:"टीकाकरण",treatment:"उपचार",surgery:"सर्जरी"},healthStatus:{healthy:"स्वस्थ",sick:"बीमार",recovering:"ठीक हो रहा",vaccination_due:"टीकाकरण देय"},breeds:{gir:"गिर",sindhi:"लाल सिंधी",holstein:"होल्स्टीन फ्रीजियन",jersey:"जर्सी",sahiwal:"साहीवाल",tharparkar:"थारपारकर"}}};function $l({languageContext:s}){const{id:t}=Wi(),a=us(),{t:r}=s,[n,i]=h.useState(null),[l,c]=h.useState(!0),[o,j]=h.useState(!1),[y,f]=h.useState(!1),[x,N]=h.useState({}),[p,O]=h.useState(!1),[M,k]=h.useState(null),[b,C]=h.useState({type:"checkup",date:"",description:"",veterinarian:"",medication:"",nextCheckup:""}),[D,g]=h.useState(!1);h.useEffect(()=>{t&&u()},[t]);const u=async()=>{try{const T=await Be.cattle.getCattleById(t);T.success&&T.data?(i(T.data),N(T.data)):k({type:"error",text:Q[s.language].notFound})}catch{k({type:"error",text:Q[s.language].error})}finally{c(!1)}},d=()=>{j(!0),k(null)},v=()=>{j(!1),N(n||{}),k(null)},m=async()=>{if(!(!n||!t)){f(!0);try{const T=await Be.cattle.updateCattle(t,x);if(T.success&&T.data)i(T.data),j(!1),k({type:"success",text:Q[s.language].success});else throw new Error(T.error)}catch{k({type:"error",text:Q[s.language].error})}finally{f(!1)}}},P=async()=>{if(t){try{const T=await Be.cattle.deleteCattle(t);if(T.success)a("/gaushala/cattle");else throw new Error(T.error)}catch{k({type:"error",text:Q[s.language].error})}O(!1)}},R=async()=>{if(!(!n||!t))try{const T={...b,date:new Date(b.date).getTime(),nextCheckup:b.nextCheckup?new Date(b.nextCheckup).getTime():void 0};(await Be.cattle.addMedicalRecord(t,T)).success&&(await u(),g(!1),C({type:"checkup",date:"",description:"",veterinarian:"",medication:"",nextCheckup:""}))}catch{k({type:"error",text:"Failed to add medical record"})}},G=T=>new Date(T).toLocaleDateString(),U=T=>{switch(T){case"healthy":return"text-green-600 bg-green-100";case"sick":return"text-red-600 bg-red-100";case"recovering":return"text-yellow-600 bg-yellow-100";case"vaccination_due":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}};return l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:Q[s.language].loading})]})}):n?e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsxs("button",{onClick:()=>a("/gaushala/cattle"),className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Rr,{className:"h-4 w-4"}),"Back to Cattle List"]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-xl",children:e.jsx("span",{className:"text-3xl",children:"🐄"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),e.jsxs("p",{className:"text-gray-600",children:["RFID: ",n.rfidTag]})]})]}),e.jsx("div",{className:"flex gap-3",children:o?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:v,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:Q[s.language].cancel}),e.jsxs("button",{onClick:m,disabled:y,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[e.jsx(at,{className:"h-4 w-4"}),y?Q[s.language].saving:Q[s.language].save]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(js,{className:"h-4 w-4"}),Q[s.language].edit]}),e.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(tt,{className:"h-4 w-4"}),Q[s.language].delete]})]})})]})]}),M&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${M.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:M.text}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"🐄"}),Q[s.language].basicInfo]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].name}),o?e.jsx("input",{type:"text",value:x.name||"",onChange:T=>N($=>({...$,name:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:n.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].rfidTag}),e.jsx("p",{className:"text-gray-900 font-mono",children:n.rfidTag})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].breed}),o?e.jsxs("select",{value:x.breed||"",onChange:T=>N($=>({...$,breed:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"gir",children:Q[s.language].breeds.gir}),e.jsx("option",{value:"sindhi",children:Q[s.language].breeds.sindhi}),e.jsx("option",{value:"holstein",children:Q[s.language].breeds.holstein}),e.jsx("option",{value:"jersey",children:Q[s.language].breeds.jersey})]}):e.jsx("p",{className:"text-gray-900",children:Q[s.language].breeds[n.breed]||n.breed})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].health}),o?e.jsxs("select",{value:x.health||"",onChange:T=>N($=>({...$,health:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"healthy",children:Q[s.language].healthStatus.healthy}),e.jsx("option",{value:"sick",children:Q[s.language].healthStatus.sick}),e.jsx("option",{value:"recovering",children:Q[s.language].healthStatus.recovering}),e.jsx("option",{value:"vaccination_due",children:Q[s.language].healthStatus.vaccination_due})]}):e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${U(n.health)}`,children:Q[s.language].healthStatus[n.health]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].age}),o?e.jsx("input",{type:"number",value:x.age||"",onChange:T=>N($=>({...$,age:parseInt(T.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("p",{className:"text-gray-900",children:[n.age," months"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].weight}),o?e.jsx("input",{type:"number",step:"0.1",value:x.weight||"",onChange:T=>N($=>({...$,weight:parseFloat(T.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("p",{className:"text-gray-900",children:[n.weight," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].owner}),o?e.jsx("input",{type:"text",value:x.owner||"",onChange:T=>N($=>({...$,owner:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:n.owner})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].ownerId}),e.jsx("p",{className:"text-gray-900",children:n.ownerId})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5 text-blue-600"}),Q[s.language].locationInfo]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].address}),e.jsx("p",{className:"text-gray-900",children:n.location.address||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].coordinates}),e.jsxs("p",{className:"text-gray-900",children:[n.location.latitude,", ",n.location.longitude]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"🐄"}),Q[s.language].medicalHistory]}),e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[e.jsx(Me,{className:"h-4 w-4"}),Q[s.language].addMedicalRecord]})]}),n.medicalHistory.length>0?e.jsx("div",{className:"space-y-4",children:n.medicalHistory.map((T,$)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:Q[s.language].recordTypes[T.type]}),e.jsx("span",{className:"text-sm text-gray-500",children:G(T.date)})]}),e.jsx("p",{className:"text-gray-700 mb-2",children:T.description}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Veterinarian: ",T.veterinarian]}),T.medication&&e.jsxs("p",{children:["Medication: ",T.medication]}),T.nextCheckup&&e.jsxs("p",{children:["Next Checkup: ",G(T.nextCheckup)]})]})]},$))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No medical records found"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Wt,{className:"h-5 w-5 text-blue-600"}),Q[s.language].photo]}),e.jsxs("div",{className:"text-center",children:[n.photoUrl?e.jsx("img",{src:n.photoUrl,alt:n.name,className:"w-full h-48 object-cover rounded-lg mb-4"}):e.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-6xl",children:"🐄"})}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:Q[s.language].changePhoto})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-blue-600"}),Q[s.language].collectionHistory]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].totalCollected}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n.totalDungCollected," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:Q[s.language].lastCollection}),e.jsx("p",{className:"text-gray-900",children:n.lastDungCollection?G(n.lastDungCollection):"No collections yet"})]})]})]})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(le,{className:"h-6 w-6 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Q[s.language].delete})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:Q[s.language].confirmDelete}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:Q[s.language].cancel}),e.jsx("button",{onClick:P,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:Q[s.language].delete})]})]})}),D&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:Q[s.language].addMedicalRecord}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Q[s.language].medicalRecordType}),e.jsxs("select",{value:b.type,onChange:T=>C($=>({...$,type:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"checkup",children:Q[s.language].recordTypes.checkup}),e.jsx("option",{value:"vaccination",children:Q[s.language].recordTypes.vaccination}),e.jsx("option",{value:"treatment",children:Q[s.language].recordTypes.treatment}),e.jsx("option",{value:"surgery",children:Q[s.language].recordTypes.surgery})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Q[s.language].medicalRecordDate}),e.jsx("input",{type:"date",value:b.date,onChange:T=>C($=>({...$,date:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Q[s.language].medicalRecordDescription}),e.jsx("textarea",{value:b.description,onChange:T=>C($=>({...$,description:T.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Q[s.language].medicalRecordVet}),e.jsx("input",{type:"text",value:b.veterinarian,onChange:T=>C($=>({...$,veterinarian:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:Q[s.language].cancel}),e.jsx("button",{onClick:R,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Record"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(le,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:Q[s.language].notFound})]})})}const Vl={en:{title:"All Field Worker Transactions",subtitle:"Comprehensive transaction history across all field workers",summary:"Summary",totalTransactions:"Total Transactions",totalWeight:"Total Weight",totalValue:"Total Value",activeWorkers:"Active Workers",searchPlaceholder:"Search by transaction ID, farmer, or field worker...",filterByPayment:"Filter by Payment",filterByQuality:"Filter by Quality",filterByWorker:"Filter by Field Worker",allPayments:"All Payments",allQualities:"All Qualities",allWorkers:"All Field Workers",date:"Date",transactionId:"Transaction ID",farmer:"Farmer",fieldWorker:"Field Worker",weight:"Weight (kg)",quality:"Quality",amount:"Amount (₹)",paymentMethod:"Payment",status:"Status",actions:"Actions",view:"View Details",premium:"Premium",standard:"Standard",basic:"Basic",pending:"Pending",processing:"Processing",completed:"Completed",failed:"Failed",exportData:"Export Data",noTransactions:"No transactions found",kg:"kg",close:"Close",viewDetails:"View Details",location:"Location",moistureContent:"Moisture Content",notes:"Notes",workflowStatus:"Workflow Status",validationStatus:"Validation Status"}};function Hl({onClose:s}){const[t]=h.useState("en"),[a,r]=h.useState([]),[n,i]=h.useState([]),[l,c]=h.useState(!0),[o,j]=h.useState(""),[y,f]=h.useState(""),[x,N]=h.useState(""),[p,O]=h.useState(""),[M,k]=h.useState(null),[b,C]=h.useState(!1),D=_=>Vl[t][_]||_;h.useEffect(()=>{g()},[]),h.useEffect(()=>{u()},[a,o,y,x,p]);const g=async()=>{try{c(!0);const _=await Xt.getAllContributions();_&&Array.isArray(_)?r(_):r([])}catch{r([])}finally{c(!1)}},u=()=>{let _=[...a];o&&(_=_.filter(H=>H.externalId.toLowerCase().includes(o.toLowerCase())||H.farmer?.name&&H.farmer.name.toLowerCase().includes(o.toLowerCase())||H.operatorName&&H.operatorName.toLowerCase().includes(o.toLowerCase())||H.notes&&H.notes.toLowerCase().includes(o.toLowerCase()))),y&&(_=_.filter(H=>H.paymentMethod===y)),x&&(_=_.filter(H=>H.qualityGrade===x)),p&&(_=_.filter(H=>H.operatorUserId===p)),i(_)},d=()=>{const _=a.length,H=a.reduce((ce,re)=>ce+re.weightKg,0),z=a.reduce((ce,re)=>ce+re.totalAmount,0),te=new Set(a.map(ce=>ce.operatorUserId).filter(Boolean));return{totalTransactions:_,totalWeight:H.toFixed(1),totalValue:z.toFixed(2),activeWorkers:te.size}},v=()=>{const _=new Map;return a.forEach(H=>{H.operatorUserId&&H.operatorName&&_.set(H.operatorUserId,H.operatorName)}),Array.from(_.entries()).map(([H,z])=>({id:H,name:z}))},m=_=>new Date(_).toLocaleDateString("en-IN"),P=_=>{switch(_){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"PROCESSING":return"bg-blue-100 text-blue-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=_=>{switch(_){case"PREMIUM":return"bg-green-100 text-green-800";case"STANDARD":return"bg-blue-100 text-blue-800";case"BASIC":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},G=_=>{k(_),C(!0)},U=()=>{const _=a.map(re=>({"Transaction ID":re.externalId,Date:m(re.contributionDate),Farmer:re.farmer?.name||"Unknown","Field Worker":re.operatorName||"Unknown",Phone:re.operatorPhone||"N/A","Weight (kg)":re.weightKg,Quality:re.qualityGrade,"Rate (₹/kg)":re.ratePerKg,"Total Amount (₹)":re.totalAmount,"Payment Method":re.paymentMethod,"Payment Status":re.paymentStatus,Location:re.gpsLatitude&&re.gpsLongitude?`${re.gpsLatitude}, ${re.gpsLongitude}`:"N/A",Notes:re.notes||"N/A"})),H=[Object.keys(_[0]||{}).join(","),..._.map(re=>Object.values(re).join(","))].join(`
`),z=new Blob([H],{type:"text/csv"}),te=window.URL.createObjectURL(z),ce=document.createElement("a");ce.href=te,ce.download=`field-worker-transactions-${new Date().toISOString().split("T")[0]}.csv`,ce.click(),window.URL.revokeObjectURL(te)},T=d(),$=v();return l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-center mt-4",children:"Loading transactions..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:D("title")}),e.jsx("p",{className:"text-gray-600 mt-1",children:D("subtitle")})]}),s&&e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100",children:e.jsx(ps,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"h-10 w-10 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:D("totalTransactions")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.totalTransactions})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rs,{className:"h-10 w-10 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:D("totalWeight")}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[T.totalWeight," ",D("kg")]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pa,{className:"h-10 w-10 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:D("totalValue")}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₹",T.totalValue]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"h-10 w-10 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:D("activeWorkers")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.activeWorkers})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:D("searchPlaceholder"),value:o,onChange:_=>j(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("select",{value:p,onChange:_=>O(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:D("allWorkers")}),$.map(_=>e.jsx("option",{value:_.id,children:_.name},_.id))]}),e.jsxs("select",{value:y,onChange:_=>f(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:D("allPayments")}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"NEFT",children:"NEFT"}),e.jsx("option",{value:"AEPS",children:"AEPS"})]}),e.jsxs("select",{value:x,onChange:_=>N(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:D("allQualities")}),e.jsx("option",{value:"PREMIUM",children:D("premium")}),e.jsx("option",{value:"STANDARD",children:D("standard")}),e.jsx("option",{value:"BASIC",children:D("basic")})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Pe,{className:"h-4 w-4"}),D("exportData")]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("date")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("transactionId")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("farmer")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("fieldWorker")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("weight")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("quality")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("amount")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("paymentMethod")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D("actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fe,{className:"h-4 w-4 text-gray-400 mr-2"}),m(_.contributionDate)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:_.externalId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.farmer?.name||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:_.farmer?.externalId})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ms,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.operatorName||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:_.operatorPhone})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[_.weightKg," ",D("kg")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(_.qualityGrade)}`,children:D(_.qualityGrade.toLowerCase())})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:["₹",_.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.paymentMethod}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P(_.paymentStatus)}`,children:D(_.paymentStatus.toLowerCase())})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>G(_),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:D("viewDetails"),children:e.jsx(we,{className:"h-4 w-4"})})})]},_.id))})]})}),n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:D("noTransactions")})]})]}),b&&M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Transaction Details"}),e.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ps,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Transaction ID"}),e.jsx("p",{className:"text-lg font-mono",children:M.externalId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date"}),e.jsx("p",{className:"text-lg",children:m(M.contributionDate)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Farmer"}),e.jsx("p",{className:"text-lg",children:M.farmer?.name||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-500",children:M.farmer?.externalId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Field Worker"}),e.jsx("p",{className:"text-lg",children:M.operatorName||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-500",children:M.operatorPhone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Weight"}),e.jsxs("p",{className:"text-lg",children:[M.weightKg," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Rate per kg"}),e.jsxs("p",{className:"text-lg",children:["₹",M.ratePerKg]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),e.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["₹",M.totalAmount]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Method"}),e.jsx("p",{className:"text-lg",children:M.paymentMethod})]}),M.moistureContent&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Moisture Content"}),e.jsxs("p",{className:"text-lg",children:[M.moistureContent,"%"]})]}),M.gpsLatitude&&M.gpsLongitude&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Location"}),e.jsxs("p",{className:"text-lg",children:[M.gpsLatitude,", ",M.gpsLongitude]})]})]}),M.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("p",{className:"text-lg",children:M.notes})]})]})]})})]})})}const zl={en:{title:"GauShala Management",subtitle:"Comprehensive cattle and dung collection management",home:"Dashboard",cattle:"Cattle Management",addCattle:"Add Cattle",cattleDetails:"Cattle Details",transactions:"Transaction History",allTransactions:"All Field Worker Transactions",settings:"Settings",hindi:"हिंदी",english:"English"},hi:{title:"गौशाला प्रबंधन",subtitle:"व्यापक पशु और गोबर संग्रह प्रबंधन",home:"डैशबोर्ड",cattle:"पशु प्रबंधन",addCattle:"पशु जोड़ें",cattleDetails:"पशु विवरण",transactions:"लेन-देन का इतिहास",allTransactions:"सभी फील्ड वर्कर लेन-देन",settings:"सेटिंग्स",hindi:"हिंदी",english:"English"}};function Yl(){const s=us(),t=$s(),{platformSettings:a,updateBreadcrumbs:r}=it(),n=f=>{const x=f.split(".");let N=zl[a.language];for(const p of x)N=N?.[p];return N||f},i={language:a.language,setLanguage:()=>{},t:n},l=()=>{const f=t.pathname;return f.includes("/cattle/add")?"addCattle":f.includes("/cattle/")&&f.split("/").length>3?"cattleDetails":f.includes("/cattle")?"cattle":f.includes("/all-transactions")?"allTransactions":"home"},c=f=>{switch(f){case"home":s("/gaushala"),r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("home"),url:"/gaushala",module:"gaushala"}]);break;case"cattle":s("/gaushala/cattle"),r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"}]);break;case"allTransactions":s("/gaushala/all-transactions"),r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("allTransactions"),url:"/gaushala/all-transactions",module:"gaushala"}]);break}},o=l(),j=()=>{switch(l()){case"home":return[{label:"Gausakhi",onClick:()=>s("/gaushala")},{label:"Dashboard"}];case"cattle":return[{label:"Gausakhi",onClick:()=>s("/gaushala")},{label:"Cattle Management"}];case"addCattle":return[{label:"Gausakhi",onClick:()=>s("/gaushala")},{label:"Cattle Management",onClick:()=>s("/gaushala/cattle")},{label:"Add Cattle"}];case"cattleDetails":return[{label:"Gausakhi",onClick:()=>s("/gaushala")},{label:"Cattle Management",onClick:()=>s("/gaushala/cattle")},{label:"Cattle Details"}];case"allTransactions":return[{label:"Gausakhi",onClick:()=>s("/gaushala")},{label:"Transaction History"}];default:return[{label:"Gausakhi"}]}},y=[{id:"home",label:"Dashboard",icon:e.jsx(Sa,{className:"w-4 h-4"}),onClick:()=>c("home"),isActive:o==="home"},{id:"cattle",label:"Cattle Management",icon:e.jsx(Te,{className:"w-4 h-4"}),onClick:()=>c("cattle"),isActive:o==="cattle"||o==="addCattle"||o==="cattleDetails"},{id:"allTransactions",label:"Transaction History",icon:e.jsx(Qt,{className:"w-4 h-4"}),onClick:()=>c("allTransactions"),isActive:o==="allTransactions"}];return h.useEffect(()=>{switch(l()){case"home":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("home"),url:"/gaushala",module:"gaushala"}]);break;case"cattle":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"}]);break;case"addCattle":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"},{label:n("addCattle"),url:"/gaushala/cattle/add",module:"gaushala"}]);break;case"cattleDetails":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"},{label:n("cattleDetails"),url:t.pathname,module:"gaushala"}]);break;case"allTransactions":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("allTransactions"),url:"/gaushala/all-transactions",module:"gaushala"}]);break}},[t.pathname,a.language]),e.jsx(lt,{moduleName:"Gausakhi",moduleSubtitle:"Comprehensive cattle and dung collection management",navigationItems:y,breadcrumbs:j(),userInfo:{name:"Ramesh Kumar",role:"Field Worker"},children:e.jsxs(nt,{children:[e.jsx(J,{path:"/",element:e.jsx(El,{languageContext:i})}),e.jsx(J,{path:"/cattle",element:e.jsx(Gl,{languageContext:i})}),e.jsx(J,{path:"/cattle/add",element:e.jsx(Wl,{languageContext:i})}),e.jsx(J,{path:"/cattle/:id",element:e.jsx($l,{languageContext:i})}),e.jsx(J,{path:"/all-transactions",element:e.jsx(Hl,{})})]})})}const ue=h.forwardRef(({className:s,value:t=0,max:a=100,...r},n)=>e.jsx("div",{ref:n,className:W("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...r,children:e.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-t/a*100}%)`}})}));ue.displayName="Progress";const Ds={totalDigesters:3,activeDigesters:2,totalProduction:445.5,averageEfficiency:83.7,criticalAlerts:0,warningAlerts:1,totalBatches:156,pendingPayments:12,scheduledPickups:8},Ql=[{id:"D001",name:"Digester Alpha-1",status:"active",temperature:35.5,pressure:1.2,methaneLevel:65,dailyProduction:150.5,efficiency:85,lastUpdated:new Date().toISOString(),trends:{methane:2,production:5}},{id:"D002",name:"Digester Alpha-2",status:"active",temperature:37.2,pressure:1.5,methaneLevel:68,dailyProduction:175,efficiency:88,lastUpdated:new Date().toISOString(),trends:{methane:1,production:3}},{id:"D003",name:"Digester Alpha-3",status:"maintenance",temperature:32.1,pressure:.8,methaneLevel:58,dailyProduction:120,efficiency:78,lastUpdated:new Date().toISOString(),trends:{methane:-1,production:-2}}],Kl=[{month:"Jan",production:380,efficiency:85},{month:"Feb",production:420,efficiency:87},{month:"Mar",production:445,efficiency:84},{month:"Apr",production:465,efficiency:88},{month:"May",production:445,efficiency:86}],ua=[{name:"Active",value:2,color:"#22c55e"},{name:"Maintenance",value:1,color:"#f59e0b"},{name:"Offline",value:0,color:"#ef4444"}],Ot=({title:s,value:t,change:a,trend:r,icon:n,className:i=""})=>{const l=()=>{switch(r){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}},c=()=>{switch(r){case"up":return e.jsx(xe,{className:"w-3 h-3"});case"down":return e.jsx(Ws,{className:"w-3 h-3"});default:return e.jsx(Se,{className:"w-3 h-3"})}};return e.jsxs(w,{className:`relative overflow-hidden ${i}`,children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium text-muted-foreground",children:s}),e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center",children:n})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold tracking-tight",children:t}),e.jsxs("div",{className:`flex items-center gap-1 text-xs ${l()}`,children:[c(),a]})]})]})},Zl=({digester:s})=>{const t=s.status==="active"?"bg-green-100 text-green-800 border-green-200":s.status==="maintenance"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",r=s.status==="active"?de:le;return e.jsxs(w,{className:"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-white to-slate-50",children:[e.jsxs(I,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(A,{className:"text-lg font-bold text-slate-800",children:s.name}),e.jsxs(L,{className:`${t} border font-semibold capitalize flex items-center gap-1`,children:[e.jsx(r,{className:"w-3 h-3"}),s.status]})]}),e.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:["Last Updated: ",new Date(s.lastUpdated).toLocaleTimeString()]})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"text-sm font-semibold text-orange-700",children:"Temperature"})]}),e.jsxs("div",{className:"text-lg font-bold text-orange-900",children:[s.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wt,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"Pressure"})]}),e.jsxs("div",{className:"text-lg font-bold text-blue-900",children:[s.pressure," kPa"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-semibold text-yellow-700",children:"Methane"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-lg font-bold text-yellow-900",children:[s.methaneLevel,"%"]}),s.trends?.methane&&s.trends.methane>0?e.jsx(xe,{className:"w-4 h-4 text-green-600"}):e.jsx(Ws,{className:"w-4 h-4 text-red-600"})]})]}),e.jsx(ue,{value:s.methaneLevel,className:"h-3 bg-yellow-200"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-semibold text-green-700",children:"Daily Production"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-lg font-bold text-green-900",children:[s.dailyProduction," m³"]}),s.trends?.production&&s.trends.production>0?e.jsx(xe,{className:"w-4 h-4 text-green-600"}):e.jsx(Ws,{className:"w-4 h-4 text-red-600"})]})]}),e.jsx(ue,{value:s.efficiency,className:"h-3 bg-green-200"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-200",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Efficiency"}),e.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:[s.efficiency,"%"]})]})]})]})},Xl=({status:s,count:t})=>{const a=()=>{switch(s.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"offline":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(L,{className:`${a()} px-2 py-1`,children:[t," ",s]})},Jl=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"BiogasSangh Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Overview of cluster operations and performance metrics"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Filter"]}),e.jsxs(E,{size:"sm",children:[e.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Ot,{title:"Total Production",value:`${Ds.totalProduction} m³`,change:"+12% from last month",trend:"up",icon:e.jsx(Kt,{className:"h-4 w-4 text-blue-600"})}),e.jsx(Ot,{title:"Average Efficiency",value:`${Ds.averageEfficiency}%`,change:"+2.1% from last week",trend:"up",icon:e.jsx(Rs,{className:"h-4 w-4 text-yellow-600"})}),e.jsx(Ot,{title:"Active Digesters",value:`${Ds.activeDigesters}/${Ds.totalDigesters}`,change:"1 in maintenance",trend:"neutral",icon:e.jsx(Ht,{className:"h-4 w-4 text-green-600"})}),e.jsx(Ot,{title:"Critical Alerts",value:Ds.criticalAlerts.toString(),change:`${Ds.warningAlerts} warnings`,trend:"neutral",icon:e.jsx(le,{className:"h-4 w-4 text-orange-600"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight mb-4",children:"Live Digester Status"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Ql.map(s=>e.jsx(Zl,{digester:s},s.id))})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-7",children:[e.jsxs(w,{className:"lg:col-span-4",children:[e.jsxs(I,{children:[e.jsx(A,{children:"Production Trends"}),e.jsx(se,{children:"Monthly biogas production and efficiency over time"})]}),e.jsx(S,{children:e.jsx(yt,{width:"100%",height:300,children:e.jsxs(Ca,{data:Kl,children:[e.jsx(Ft,{strokeDasharray:"3 3"}),e.jsx(_t,{dataKey:"month"}),e.jsx(Nt,{yAxisId:"left"}),e.jsx(Nt,{yAxisId:"right",orientation:"right"}),e.jsx(bt,{}),e.jsx(Bt,{}),e.jsx(Us,{yAxisId:"left",type:"monotone",dataKey:"production",stroke:"#3b82f6",strokeWidth:3,name:"Production (m³)"}),e.jsx(Us,{yAxisId:"right",type:"monotone",dataKey:"efficiency",stroke:"#22c55e",strokeWidth:3,name:"Efficiency (%)"})]})})})]}),e.jsxs(w,{className:"lg:col-span-3",children:[e.jsxs(I,{children:[e.jsx(A,{children:"Digester Status"}),e.jsx(se,{children:"Current operational status distribution"})]}),e.jsxs(S,{children:[e.jsx(yt,{width:"100%",height:200,children:e.jsxs(Qi,{children:[e.jsx(Ki,{data:ua,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,dataKey:"value",stroke:"#fff",strokeWidth:2,children:ua.map((s,t)=>e.jsx(Zi,{fill:s.color},`cell-${t}`))}),e.jsx(bt,{})]})}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:ua.map(s=>e.jsx(Xl,{status:s.name,count:s.value},s.name))})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Total Batches"}),e.jsx(ke,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Ds.totalBatches}),e.jsx(ue,{value:75,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"+23 from last month"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Pending Payments"}),e.jsx(we,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Ds.pendingPayments}),e.jsx(ue,{value:30,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"2 overdue items"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Scheduled Pickups"}),e.jsx(Te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Ds.scheduledPickups}),e.jsx(ue,{value:60,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Next pickup: Today 2:00 PM"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"System Status"}),e.jsx(ci,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Healthy"}),e.jsx(ue,{value:95,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"All systems operational"})]})]})]}),e.jsx(Xs,{}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:"Recent Activity"}),e.jsx(se,{children:"Latest updates and notifications from the cluster"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Digester Alpha-2 efficiency increased to 88%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Batch #156 scheduled for pickup"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"4 hours ago"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Payment reconciliation completed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"6 hours ago"})]})]})]})})]})]}),fe=pi,ve=ji,pe=h.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(Mr,{ref:r,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsx(oi,{asChild:!0,children:e.jsx(Oa,{className:"h-4 w-4 opacity-50"})})]}));pe.displayName=Mr.displayName;const cn=h.forwardRef(({className:s,...t},a)=>e.jsx(Or,{ref:a,className:W("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(di,{className:"h-4 w-4"})}));cn.displayName=Or.displayName;const on=h.forwardRef(({className:s,...t},a)=>e.jsx(Er,{ref:a,className:W("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Oa,{className:"h-4 w-4"})}));on.displayName=Er.displayName;const je=h.forwardRef(({className:s,children:t,position:a="popper",...r},n)=>e.jsx(mi,{children:e.jsxs(Lr,{ref:n,className:W("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...r,children:[e.jsx(cn,{}),e.jsx(ui,{className:W("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(on,{})]})}));je.displayName=Lr.displayName;const ec=h.forwardRef(({className:s,...t},a)=>e.jsx(Fr,{ref:a,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));ec.displayName=Fr.displayName;const B=h.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(_r,{ref:r,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(xi,{children:e.jsx(hi,{className:"h-4 w-4"})})}),e.jsx(gi,{children:t})]}));B.displayName=_r.displayName;const sc=h.forwardRef(({className:s,...t},a)=>e.jsx(Br,{ref:a,className:W("-mx-1 my-1 h-px bg-muted",s),...t}));sc.displayName=Br.displayName;const tc=[{id:"D001",name:"Digester Alpha-1",status:"active",temperature:35.5,pressure:1.2,methaneLevel:65,dailyProduction:150.5,efficiency:85,lastUpdated:new Date().toISOString(),detailedSensors:{ph:7.2,humidity:82,co2Level:28,h2sLevel:.15,gasFlow:45.2,liquidLevel:78,stirringSpeed:120,powerConsumption:2.4},trends:{methane:2,production:5,temperature:1,pressure:.5}},{id:"D002",name:"Digester Alpha-2",status:"active",temperature:37.2,pressure:1.5,methaneLevel:68,dailyProduction:175,efficiency:88,lastUpdated:new Date().toISOString(),detailedSensors:{ph:7.5,humidity:85,co2Level:25,h2sLevel:.12,gasFlow:52.8,liquidLevel:82,stirringSpeed:115,powerConsumption:2.6},trends:{methane:1,production:3,temperature:.5,pressure:.2}},{id:"D003",name:"Digester Alpha-3",status:"maintenance",temperature:32.1,pressure:.8,methaneLevel:58,dailyProduction:120,efficiency:78,lastUpdated:new Date().toISOString(),detailedSensors:{ph:6.8,humidity:75,co2Level:35,h2sLevel:.22,gasFlow:32.1,liquidLevel:65,stirringSpeed:0,powerConsumption:.8},trends:{methane:-1,production:-2,temperature:-.5,pressure:-.1}}],ac=()=>{const[s,t]=h.useState(tc),[a,r]=h.useState(!0),[n,i]=h.useState(!0),[l,c]=h.useState(new Date),o=h.useCallback((x,N,p,O)=>{const M=(Math.random()-.5)*N,k=x+M;return p!==void 0&&O!==void 0?Math.max(p,Math.min(O,k)):k},[]),j=h.useCallback(()=>{n&&(t(x=>x.map(N=>N.status==="maintenance"?{...N,lastUpdated:new Date().toISOString()}:{...N,temperature:Math.round(o(N.temperature,.5,30,42)*10)/10,pressure:Math.round(o(N.pressure,.1,.5,2)*10)/10,methaneLevel:Math.round(o(N.methaneLevel,2,50,80)),efficiency:Math.round(o(N.efficiency,1,70,95)),detailedSensors:{ph:Math.round(o(N.detailedSensors.ph,.1,6,8.5)*10)/10,humidity:Math.round(o(N.detailedSensors.humidity,2,70,95)),co2Level:Math.round(o(N.detailedSensors.co2Level,1,20,40)),h2sLevel:Math.round(o(N.detailedSensors.h2sLevel,.02,.05,.3)*100)/100,gasFlow:Math.round(o(N.detailedSensors.gasFlow,2,30,70)*10)/10,liquidLevel:Math.round(o(N.detailedSensors.liquidLevel,1,60,90)),stirringSpeed:N.status==="active"?Math.round(o(N.detailedSensors.stirringSpeed,5,100,140)):0,powerConsumption:Math.round(o(N.detailedSensors.powerConsumption,.1,1.5,3.5)*10)/10},lastUpdated:new Date().toISOString()})),c(new Date))},[o,n]);h.useEffect(()=>{const x=setInterval(()=>{if(Math.random()<.05){r(!1),setTimeout(()=>r(!0),2e3);return}j()},3e3);return()=>clearInterval(x)},[j]);const y=()=>i(!n),f=h.useCallback(()=>j(),[j]);return{digesters:s,refreshData:f,isLoading:!1,isConnected:a,isRealTimeActive:n,toggleRealTime:y,lastUpdateTime:l}},es=({title:s,value:t,unit:a="",icon:r,trend:n,color:i,status:l="normal",isUpdating:c=!1})=>{const o=()=>{switch(l){case"warning":return"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-amber-50 to-orange-50";case"critical":return"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-red-50 to-pink-50";default:return"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-white to-slate-50"}};return e.jsxs(w,{className:`
      ${o()}
      ${c?"ring-2 ring-blue-400/50":""}
    `,children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium text-muted-foreground",children:s}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`
            h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center
            ${c?"animate-pulse":""}
          `,children:r}),c&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t,a]}),n!==void 0&&e.jsx("div",{className:`
              flex items-center justify-center w-6 h-6 rounded-full
              ${n>0?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}
            `,children:n>0?e.jsx(xe,{className:"w-3 h-3"}):e.jsx(Ws,{className:"w-3 h-3"})})]}),c&&e.jsx("div",{className:"w-full bg-muted rounded-full h-1 mt-2",children:e.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-1000",style:{width:"100%"}})})]})]})},rc=({isConnected:s,lastUpdate:t,isRealTimeActive:a,onToggleRealTime:r})=>e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[s?e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Qs,{className:"w-4 h-4"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),e.jsx("span",{className:"text-sm font-medium",children:"CONNECTED"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[e.jsx(ba,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"RECONNECTING"})]}),e.jsx(Xs,{orientation:"vertical",className:"h-4"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Last Update: ",t.toLocaleTimeString()]})]}),e.jsx(E,{onClick:r,variant:a?"default":"outline",size:"sm",className:"gap-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(qr,{className:"w-4 h-4"}),"Pause Updates"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ea,{className:"w-4 h-4"}),"Resume Updates"]})})]})})}),xa=({title:s,subtitle:t,children:a,isLive:r=!1})=>e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(A,{className:"flex items-center gap-3",children:[s,r&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-green-600 uppercase tracking-wide",children:"LIVE"})]})]}),e.jsx(se,{children:t})]}),e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(Na,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(S,{children:a})]}),nc=s=>Array.from({length:24},(a,r)=>{const i=`${r.toString().padStart(2,"0")}:00`,l=Math.sin(r*.5)*5;return{time:i,temperature:Math.round((s.temperature+l+Math.random()*2)*10)/10,pressure:Math.round((s.pressure+l*.1+Math.random()*.2)*10)/10,methane:Math.round(s.methaneLevel+l+Math.random()*3),ph:Math.round((s.detailedSensors.ph+l*.1+Math.random()*.2)*10)/10,gasFlow:Math.round(s.detailedSensors.gasFlow+l+Math.random()*5),efficiency:Math.round(s.efficiency+l*.5+Math.random()*2)}}),ic=()=>{const[s,t]=h.useState("D001"),{digesters:a,refreshData:r,isLoading:n,isConnected:i,isRealTimeActive:l,toggleRealTime:c,lastUpdateTime:o}=ac(),j=a.find(O=>O.id===s)||a[0],[y,f]=h.useState(!1),x=nc(j);h.useEffect(()=>{if(i&&l){f(!0);const O=setTimeout(()=>f(!1),1e3);return()=>clearTimeout(O)}},[j.lastUpdated,i,l]);const p=j.status==="active"?de:le;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Real-Time Digester Monitoring"}),e.jsx("p",{className:"text-muted-foreground",children:"Live sensor data, advanced analytics, continuous monitoring"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm font-medium",children:"Select Digester:"}),e.jsxs(fe,{value:s,onValueChange:t,children:[e.jsx(pe,{className:"w-48",children:e.jsx(ve,{placeholder:"Choose a digester"})}),e.jsx(je,{children:a.map(O=>e.jsx(B,{value:O.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${O.status==="active"?"bg-green-500":"bg-yellow-500"}`}),O.name]})},O.id))})]})]}),e.jsxs(E,{onClick:r,disabled:n,variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(os,{className:"w-4 h-4 "}),"Refresh"]})]})]}),e.jsx(w,{children:e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(A,{className:"text-xl font-bold",children:j.name}),e.jsxs(se,{children:["Last Updated: ",new Date(j.lastUpdated).toLocaleString()]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(L,{className:`${j.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"} border font-semibold capitalize flex items-center gap-1`,children:[e.jsx(p,{className:"w-3 h-3"}),j.status.toUpperCase()]})})]})})}),e.jsx(rc,{isConnected:i,lastUpdate:o,isRealTimeActive:l,onToggleRealTime:c}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight mb-4 flex items-center gap-3",children:[e.jsx(Tr,{className:"h-4 w-4 text-blue-600"}),"Primary Sensors"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(es,{title:"Temperature",value:j.temperature,unit:"°C",icon:e.jsx(Vt,{className:"h-4 w-4 text-orange-600"}),trend:j.trends?.temperature,color:"orange",status:j.temperature>40?"warning":"normal",isUpdating:y&&i&&l}),e.jsx(es,{title:"Pressure",value:j.pressure,unit:" kPa",icon:e.jsx(wt,{className:"h-4 w-4 text-blue-600"}),trend:j.trends?.pressure,color:"blue",isUpdating:y&&i&&l}),e.jsx(es,{title:"Methane Level",value:j.methaneLevel,unit:"%",icon:e.jsx(Rs,{className:"h-4 w-4 text-yellow-600"}),trend:j.trends?.methane,color:"yellow",status:j.methaneLevel<60?"warning":"normal",isUpdating:y&&i&&l}),e.jsx(es,{title:"Efficiency",value:j.efficiency,unit:"%",icon:e.jsx(Se,{className:"h-4 w-4 text-green-600"}),trend:j.trends?.production,color:"green",isUpdating:y&&i&&l})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight mb-4 flex items-center gap-3",children:[e.jsx(fi,{className:"h-4 w-4 text-purple-600"}),"Secondary Sensors"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(es,{title:"pH Level",value:j.detailedSensors?.ph,icon:e.jsx(vi,{className:"h-4 w-4 text-purple-600"}),color:"purple",status:j.detailedSensors?.ph<6.5||j.detailedSensors?.ph>8?"warning":"normal",isUpdating:y&&i&&l}),e.jsx(es,{title:"Humidity",value:j.detailedSensors?.humidity,unit:"%",icon:e.jsx(Kt,{className:"h-4 w-4 text-cyan-600"}),color:"cyan",isUpdating:y&&i&&l}),e.jsx(es,{title:"CO₂ Level",value:j.detailedSensors?.co2Level,unit:"%",icon:e.jsx(Za,{className:"h-4 w-4 text-gray-600"}),color:"gray",isUpdating:y&&i&&l}),e.jsx(es,{title:"H₂S Level",value:j.detailedSensors?.h2sLevel,unit:" ppm",icon:e.jsx(le,{className:"h-4 w-4 text-red-600"}),color:"red",status:j.detailedSensors?.h2sLevel>.2?"warning":"normal",isUpdating:y&&i&&l})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight mb-4 flex items-center gap-3",children:[e.jsx(ze,{className:"h-4 w-4 text-indigo-600"}),"Operational Metrics"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(es,{title:"Gas Flow Rate",value:j.detailedSensors?.gasFlow,unit:" L/min",icon:e.jsx(Za,{className:"h-4 w-4 text-blue-600"}),color:"blue",isUpdating:y&&i&&l}),e.jsx(es,{title:"Liquid Level",value:j.detailedSensors?.liquidLevel,unit:"%",icon:e.jsx(wt,{className:"h-4 w-4 text-teal-600"}),color:"teal",status:j.detailedSensors?.liquidLevel<70?"warning":"normal",isUpdating:y&&i&&l}),e.jsx(es,{title:"Stirring Speed",value:j.detailedSensors?.stirringSpeed,unit:" RPM",icon:e.jsx(ze,{className:"h-4 w-4 text-indigo-600"}),color:"indigo",status:j.status==="maintenance"&&j.detailedSensors?.stirringSpeed===0?"warning":"normal",isUpdating:y&&i&&l}),e.jsx(es,{title:"Power Consumption",value:j.detailedSensors?.powerConsumption,unit:" kW",icon:e.jsx(Rs,{className:"h-4 w-4 text-yellow-600"}),color:"yellow",isUpdating:y&&i&&l})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx(xa,{title:"Live Efficiency Analytics",subtitle:"Real-time efficiency and gas flow correlation",isLive:i&&l,children:e.jsx(yt,{width:"100%",height:300,children:e.jsxs(Ca,{data:x,children:[e.jsx(Ft,{strokeDasharray:"3 3"}),e.jsx(_t,{dataKey:"time"}),e.jsx(Nt,{}),e.jsx(bt,{}),e.jsx(Bt,{}),e.jsx(Us,{type:"monotone",dataKey:"efficiency",stroke:"#10b981",strokeWidth:2,name:"Efficiency (%)"}),e.jsx(Us,{type:"monotone",dataKey:"gasFlow",stroke:"#3b82f6",strokeWidth:2,name:"Gas Flow (L/min)"})]})})}),e.jsx(xa,{title:"Environmental Conditions",subtitle:"Temperature, pressure, and pH monitoring",isLive:i&&l,children:e.jsx(yt,{width:"100%",height:300,children:e.jsxs(Ca,{data:x,children:[e.jsx(Ft,{strokeDasharray:"3 3"}),e.jsx(_t,{dataKey:"time"}),e.jsx(Nt,{}),e.jsx(bt,{}),e.jsx(Bt,{}),e.jsx(Us,{type:"monotone",dataKey:"temperature",stroke:"#f59e0b",strokeWidth:2,name:"Temperature (°C)"}),e.jsx(Us,{type:"monotone",dataKey:"pressure",stroke:"#8b5cf6",strokeWidth:2,name:"Pressure (kPa)"}),e.jsx(Us,{type:"monotone",dataKey:"ph",stroke:"#ec4899",strokeWidth:2,name:"pH Level"})]})})})]}),e.jsx(xa,{title:"Live Methane Production Stream",subtitle:"Real-time methane concentration monitoring",isLive:i&&l,children:e.jsx(yt,{width:"100%",height:300,children:e.jsxs(Xi,{data:x,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"methaneGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#fbbf24",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#fbbf24",stopOpacity:.1})]})}),e.jsx(Ft,{strokeDasharray:"3 3"}),e.jsx(_t,{dataKey:"time"}),e.jsx(Nt,{}),e.jsx(bt,{}),e.jsx(Bt,{}),e.jsx(Ji,{type:"monotone",dataKey:"methane",stroke:"#fbbf24",strokeWidth:2,fillOpacity:1,fill:"url(#methaneGradient)",name:"Methane Level (%)"})]})})})]})},V=h.forwardRef(({className:s,...t},a)=>e.jsx("label",{ref:a,className:W("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...t}));V.displayName="Label";const ot=h.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t}));ot.displayName="Textarea";const gs=bi,dn=wi,lc=yi,mn=h.forwardRef(({className:s,...t},a)=>e.jsx(Ur,{ref:a,className:W("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));mn.displayName=Ur.displayName;const ns=h.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(lc,{children:[e.jsx(mn,{}),e.jsxs(Gr,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(Ni,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ps,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ns.displayName=Gr.displayName;const is=({className:s,...t})=>e.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});is.displayName="DialogHeader";const Vs=({className:s,...t})=>e.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});Vs.displayName="DialogFooter";const ls=h.forwardRef(({className:s,...t},a)=>e.jsx(Wr,{ref:a,className:W("text-lg font-semibold leading-none tracking-tight",s),...t}));ls.displayName=Wr.displayName;const cs=h.forwardRef(({className:s,...t},a)=>e.jsx($r,{ref:a,className:W("text-sm text-muted-foreground",s),...t}));cs.displayName=$r.displayName;const Ba=h.forwardRef(({className:s,...t},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:W("w-full caption-bottom text-sm",s),...t})}));Ba.displayName="Table";const qa=h.forwardRef(({className:s,...t},a)=>e.jsx("thead",{ref:a,className:W("[&_tr]:border-b",s),...t}));qa.displayName="TableHeader";const Ua=h.forwardRef(({className:s,...t},a)=>e.jsx("tbody",{ref:a,className:W("[&_tr:last-child]:border-0",s),...t}));Ua.displayName="TableBody";const cc=h.forwardRef(({className:s,...t},a)=>e.jsx("tfoot",{ref:a,className:W("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t}));cc.displayName="TableFooter";const Dt=h.forwardRef(({className:s,...t},a)=>e.jsx("tr",{ref:a,className:W("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t}));Dt.displayName="TableRow";const Ee=h.forwardRef(({className:s,...t},a)=>e.jsx("th",{ref:a,className:W("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t}));Ee.displayName="TableHead";const Le=h.forwardRef(({className:s,...t},a)=>e.jsx("td",{ref:a,className:W("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t}));Le.displayName="TableCell";const oc=h.forwardRef(({className:s,...t},a)=>e.jsx("caption",{ref:a,className:W("mt-4 text-sm text-muted-foreground",s),...t}));oc.displayName="TableCaption";const vs=[{id:"BATCH-001",digesterId:"DIG-001",volume:45.2,methaneContent:65.8,status:"ready",createdDate:new Date().toISOString(),transferDate:new Date(Date.now()+72e5).toISOString(),qualityScore:92,farmerName:"राजेश कुमार",source:"Gokul Gaushala, Mathura",notes:"Premium quality cow dung batch from Rajesh Kumar. Optimal fermentation achieved with excellent gas composition. Ready for immediate transfer to distribution network. Source: 15 indigenous cows, organic feed only."},{id:"BATCH-002",digesterId:"DIG-002",volume:38.7,methaneContent:62.3,status:"processing",createdDate:new Date(Date.now()-864e5).toISOString(),qualityScore:78,farmerName:"सुनीता देवी",source:"Vrindavan Organic Farm",notes:"Mixed dung batch in active fermentation phase. Temperature maintained at 37°C. Expected completion in 48 hours with good quality prospects. Contains cow and buffalo dung mixture from certified organic farm."},{id:"BATCH-003",digesterId:"DIG-003",volume:52.8,methaneContent:68.2,status:"ready",createdDate:new Date(Date.now()-1728e5).toISOString(),transferDate:new Date().toISOString(),qualityScore:95,farmerName:"श्याम यादव",source:"Yamuna Riverside Gaushala",notes:"Exceptional buffalo dung batch from Shyam Yadav. Highest methane content achieved this quarter. Certified Grade A premium quality. Source: 25 Murrah buffaloes with optimal nutrition and care."},{id:"BATCH-004",digesterId:"DIG-001",volume:41.3,methaneContent:58.9,status:"testing",createdDate:new Date(Date.now()-2592e5).toISOString(),qualityScore:72,farmerName:"अमित शर्मा",source:"Govind Dairy Farm",notes:"Standard cow dung batch undergoing final quality assessment. Moderate methane levels detected. Awaiting lab confirmation for Grade B classification. Processing time extended due to lower initial moisture content."},{id:"BATCH-005",digesterId:"DIG-004",volume:29.6,methaneContent:55.4,status:"rejected",createdDate:new Date(Date.now()-3456e5).toISOString(),qualityScore:48,farmerName:"प्रेम सिंह",source:"Village Cooperative",notes:"Batch from contaminated feedstock. Low methane content due to improper storage conditions. Rejected for commercial use, diverted to compost production. Root cause: contamination from non-organic sources and poor collection hygiene."},{id:"BATCH-006",digesterId:"DIG-002",volume:47.9,methaneContent:63.7,status:"transferred",createdDate:new Date(Date.now()-432e6).toISOString(),transferDate:new Date(Date.now()-864e5).toISOString(),qualityScore:86,farmerName:"गीता देवी",source:"Krishna Valley Farm",notes:"High-quality mixed dung batch successfully transferred to Mathura distribution center. Excellent fermentation results with consistent gas output. Customer feedback: exceptional performance in commercial biogas units."},{id:"BATCH-007",digesterId:"DIG-003",volume:35.1,methaneContent:71.2,status:"ready",createdDate:new Date(Date.now()-5184e5).toISOString(),qualityScore:97,farmerName:"राम प्रसाद",source:"Organic Gaushala Trust",notes:"Premium buffalo dung batch with exceptional methane purity. Sourced from Organic Gaushala cooperative. Meets all export quality standards. Tested for international markets - approved for European biogas facilities."},{id:"BATCH-008",digesterId:"DIG-005",volume:33.4,methaneContent:59.8,status:"processing",createdDate:new Date(Date.now()-6048e5).toISOString(),qualityScore:74,farmerName:"लक्ष्मी यादव",source:"Braj Bhumi Gaushala",notes:"Cow dung batch from Gita Devi's farm. Processing delayed due to monsoon humidity. Temperature regulation implemented, expecting improvement. Additional heating systems deployed to counter seasonal moisture challenges."},{id:"BATCH-009",digesterId:"DIG-001",volume:44.7,methaneContent:66.4,status:"testing",createdDate:new Date(Date.now()-6912e5).toISOString(),qualityScore:88,farmerName:"विकास कुमार",source:"Vrindavan Heritage Gaushala",notes:"Large volume cow dung batch from Vrindavan Gaushala. Final quality checks in progress. Preliminary results show excellent commercial viability. Volume sufficient for pilot testing in urban biogas distribution network."},{id:"BATCH-010",digesterId:"DIG-004",volume:39.8,methaneContent:64.1,status:"transferred",createdDate:new Date(Date.now()-7776e5).toISOString(),transferDate:new Date(Date.now()-2592e5).toISOString(),qualityScore:83,farmerName:"सुरेश चंद्र",source:"Radha Krishna Dairy",notes:"Standard quality mixed dung batch successfully delivered to regional distribution network. Good consistency maintained throughout fermentation cycle. Successfully integrated into 5 commercial biogas plants in the region."}],ha=[{id:"CERT-001",batchId:"BATCH-001",issuedDate:new Date().toISOString(),qualityScore:92,certifiedBy:"Dr. Ravi Sharma, Quality Assurance",validUntil:new Date(Date.now()+15552e6).toISOString()},{id:"CERT-002",batchId:"BATCH-003",issuedDate:new Date(Date.now()-864e5).toISOString(),qualityScore:95,certifiedBy:"Dr. Priya Gupta, Chief Quality Officer",validUntil:new Date(Date.now()+154656e5).toISOString()},{id:"CERT-003",batchId:"BATCH-006",issuedDate:new Date(Date.now()-1728e5).toISOString(),qualityScore:86,certifiedBy:"Dr. Anil Kumar, Senior Analyst",validUntil:new Date(Date.now()+153792e5).toISOString()},{id:"CERT-004",batchId:"BATCH-007",issuedDate:new Date(Date.now()-2592e5).toISOString(),qualityScore:97,certifiedBy:"Dr. Sunita Singh, Export Certification",validUntil:new Date(Date.now()+152928e5).toISOString()},{id:"CERT-005",batchId:"BATCH-009",issuedDate:new Date(Date.now()-3456e5).toISOString(),qualityScore:88,certifiedBy:"Dr. Manoj Verma, Quality Assurance",validUntil:new Date(Date.now()+152064e5).toISOString()},{id:"CERT-006",batchId:"BATCH-010",issuedDate:new Date(Date.now()-432e6).toISOString(),qualityScore:83,certifiedBy:"Dr. Deepak Mishra, Regional Quality Head",validUntil:new Date(Date.now()+1512e7).toISOString()}],dc=async s=>Promise.resolve(),mc=async(s,t)=>Promise.resolve(),uc=async s=>Promise.resolve(),xc={en:{title:"Batch Management",subtitle:"Manage biogas batches from production to transfer",createBatch:"Create New Batch",editBatch:"Edit Batch",deleteBatch:"Delete Batch",batchList:"Batch List",activeQualities:"Active Quality Tests",certificates:"Quality Certificates",search:"Search batches...",filter:"Filter",batchId:"Batch ID",digesterId:"Digester ID",volume:"Volume (m³)",methaneContent:"Methane Content (%)",status:"Status",createdDate:"Created Date",transferDate:"Transfer Date",qualityScore:"Quality Score",notes:"Notes",actions:"Actions",create:"Create",update:"Update",cancel:"Cancel",delete:"Delete",confirm:"Confirm",processing:"Processing",ready:"Ready",transferred:"Transferred",rejected:"Rejected",testing:"Testing",viewDetails:"View Details",downloadCert:"Download Certificate",transferBatch:"Transfer Batch",qualityTest:"Quality Test",batchDetails:"Batch Details",transferHistory:"Transfer History",qualityReports:"Quality Reports",farmerName:"Farmer Name",source:"Source",certifiedBy:"Certified By",validUntil:"Valid Until"},hi:{title:"बैच प्रबंधन",subtitle:"उत्पादन से स्थानांतरण तक बायोगैस बैचों का प्रबंधन",createBatch:"नया बैच बनाएं",editBatch:"बैच संपादित करें",deleteBatch:"बैच हटाएं",batchList:"बैच सूची",activeQualities:"सक्रिय गुणवत्ता परीक्षण",certificates:"गुणवत्ता प्रमाणपत्र",search:"बैच खोजें...",filter:"फिल्टर",batchId:"बैच आईडी",digesterId:"डाइजेस्टर आईडी",volume:"आयतन (m³)",methaneContent:"मीथेन सामग्री (%)",status:"स्थिति",createdDate:"निर्मित दिनांक",transferDate:"स्थानांतरण दिनांक",qualityScore:"गुणवत्ता स्कोर",notes:"टिप्पणियां",actions:"कार्य",create:"बनाएं",update:"अपडेट करें",cancel:"रद्द करें",delete:"हटाएं",confirm:"पुष्टि करें",processing:"प्रसंस्करण",ready:"तैयार",transferred:"स्थानांतरित",rejected:"अस्वीकृत",testing:"परीक्षण",viewDetails:"विवरण देखें",downloadCert:"प्रमाणपत्र डाउनलोड करें",transferBatch:"बैच स्थानांतरित करें",qualityTest:"गुणवत्ता परीक्षण",batchDetails:"बैच विवरण",transferHistory:"स्थानांतरण इतिहास",qualityReports:"गुणवत्ता रिपोर्ट",farmerName:"किसान का नाम",source:"स्रोत",certifiedBy:"प्रमाणित करने वाला",validUntil:"तक वैध"}},rr=s=>{switch(s){case"processing":return"bg-blue-100 text-blue-800";case"ready":return"bg-green-100 text-green-800";case"transferred":return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800";case"testing":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},hc=s=>{switch(s){case"processing":return e.jsx(we,{className:"w-4 h-4"});case"ready":return e.jsx(de,{className:"w-4 h-4"});case"transferred":return e.jsx(hs,{className:"w-4 h-4"});case"rejected":return e.jsx(Ue,{className:"w-4 h-4"});case"testing":return e.jsx(fs,{className:"w-4 h-4"});default:return e.jsx(fs,{className:"w-4 h-4"})}},nr=({batch:s,onSubmit:t,onCancel:a,t:r})=>{const[n,i]=h.useState({digesterId:s?.digesterId||"",volume:s?.volume?.toString()||"",methaneContent:s?.methaneContent?.toString()||"",notes:s?.notes||"",farmerName:s?.farmerName||"",source:s?.source||""}),l=c=>{c.preventDefault(),t({...n,volume:parseFloat(n.volume),methaneContent:parseFloat(n.methaneContent)})};return e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"digesterId",children:r("digesterId")}),e.jsxs(fe,{value:n.digesterId,onValueChange:c=>i(o=>({...o,digesterId:c})),children:[e.jsx(pe,{children:e.jsx(ve,{placeholder:"Select digester"})}),e.jsxs(je,{children:[e.jsx(B,{value:"DIG-001",children:"Digester 001 - Main Unit"}),e.jsx(B,{value:"DIG-002",children:"Digester 002 - Secondary Unit"}),e.jsx(B,{value:"DIG-003",children:"Digester 003 - Buffalo Unit"}),e.jsx(B,{value:"DIG-004",children:"Digester 004 - Mixed Feed"}),e.jsx(B,{value:"DIG-005",children:"Digester 005 - Experimental"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"farmerName",children:r("farmerName")}),e.jsx(ee,{id:"farmerName",value:n.farmerName,onChange:c=>i(o=>({...o,farmerName:c.target.value})),placeholder:"राजेश कुमार"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"source",children:r("source")}),e.jsx(ee,{id:"source",value:n.source,onChange:c=>i(o=>({...o,source:c.target.value})),placeholder:"Gokul Gaushala, Mathura"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"volume",children:r("volume")}),e.jsx(ee,{id:"volume",type:"number",step:"0.1",value:n.volume,onChange:c=>i(o=>({...o,volume:c.target.value})),placeholder:"0.0",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"methaneContent",children:r("methaneContent")}),e.jsx(ee,{id:"methaneContent",type:"number",step:"0.1",value:n.methaneContent,onChange:c=>i(o=>({...o,methaneContent:c.target.value})),placeholder:"0.0",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"notes",children:r("notes")}),e.jsx(ot,{id:"notes",value:n.notes,onChange:c=>i(o=>({...o,notes:c.target.value})),placeholder:"Detailed batch information including source details, quality parameters, and special notes...",rows:4})]}),e.jsxs(Vs,{children:[e.jsx(E,{type:"button",variant:"outline",onClick:a,children:r("cancel")}),e.jsx(E,{type:"submit",children:r(s?"update":"create")})]})]})},gc=({languageContext:s})=>{const[t,a]=h.useState(""),[r,n]=h.useState("all"),[i,l]=h.useState(!1),[c,o]=h.useState(null),[j,y]=h.useState(null),f=s?.language||"en",x=g=>s?.t(g)||xc[f][g]||g,N=vs.filter(g=>{const u=g.id.toLowerCase().includes(t.toLowerCase())||g.digesterId.toLowerCase().includes(t.toLowerCase())||g.farmerName?.toLowerCase().includes(t.toLowerCase())||g.source?.toLowerCase().includes(t.toLowerCase()),d=r==="all"||g.status===r;return u&&d}),p=async g=>{await dc(),l(!1)},O=async g=>{c&&(await mc(c.id),o(null))},M=async()=>{j&&(await uc(j.id),y(null))},k=vs.filter(g=>g.status==="processing"||g.status==="testing"),b=vs.filter(g=>g.status==="ready");vs.filter(g=>g.status==="transferred");const C=vs.reduce((g,u)=>g+u.volume,0),D=vs.filter(g=>g.qualityScore).reduce((g,u)=>g+(u.qualityScore||0),0)/vs.filter(g=>g.qualityScore).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:x("title")}),e.jsx("p",{className:"text-muted-foreground",children:x("subtitle")})]}),e.jsxs(gs,{open:i,onOpenChange:l,children:[e.jsx(dn,{asChild:!0,children:e.jsxs(E,{className:"gap-2",children:[e.jsx(bs,{className:"w-4 h-4"}),x("createBatch")]})}),e.jsxs(ns,{className:"sm:max-w-[525px]",children:[e.jsxs(is,{children:[e.jsx(ls,{children:x("createBatch")}),e.jsx(cs,{children:"Create a new biogas batch from digester output with detailed source information"})]}),e.jsx(nr,{onSubmit:p,onCancel:()=>l(!1),t:x})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Active Batches"}),e.jsx(fs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:k.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently processing"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Ready for Transfer"}),e.jsx(de,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:b.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Quality approved"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Total Volume"}),e.jsx(hs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[C.toFixed(1)," m³"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All batches combined"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Average Quality"}),e.jsx(Me,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[D.toFixed(1),"/100"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Quality score average"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Certificates"}),e.jsx(Me,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:ha.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Available for download"})]})]})]}),e.jsxs($e,{defaultValue:"batches",className:"space-y-6",children:[e.jsxs(Ve,{children:[e.jsx(X,{value:"batches",children:x("batchList")}),e.jsx(X,{value:"quality",children:x("activeQualities")}),e.jsx(X,{value:"certificates",children:x("certificates")})]}),e.jsx(Y,{value:"batches",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(A,{children:x("batchList")}),e.jsx(se,{children:"Manage all biogas batches and their lifecycle with detailed source tracking"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(ee,{placeholder:x("search"),value:t,onChange:g=>a(g.target.value),className:"pl-10 w-64"})]}),e.jsxs(fe,{value:r,onValueChange:g=>n(g),children:[e.jsx(pe,{className:"w-32",children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"all",children:"All Status"}),e.jsx(B,{value:"processing",children:"Processing"}),e.jsx(B,{value:"testing",children:"Testing"}),e.jsx(B,{value:"ready",children:"Ready"}),e.jsx(B,{value:"transferred",children:"Transferred"}),e.jsx(B,{value:"rejected",children:"Rejected"})]})]})]})]})}),e.jsx(S,{children:e.jsxs(Ba,{children:[e.jsx(qa,{children:e.jsxs(Dt,{children:[e.jsx(Ee,{children:x("batchId")}),e.jsx(Ee,{children:x("farmerName")}),e.jsx(Ee,{children:x("source")}),e.jsx(Ee,{children:x("volume")}),e.jsx(Ee,{children:x("methaneContent")}),e.jsx(Ee,{children:x("status")}),e.jsx(Ee,{children:x("qualityScore")}),e.jsx(Ee,{children:x("createdDate")}),e.jsx(Ee,{children:x("actions")})]})}),e.jsx(Ua,{children:N.map(g=>e.jsxs(Dt,{children:[e.jsx(Le,{className:"font-medium",children:g.id}),e.jsx(Le,{children:g.farmerName||"N/A"}),e.jsx(Le,{className:"max-w-32 truncate",title:g.source,children:g.source||"N/A"}),e.jsxs(Le,{children:[g.volume.toFixed(1)," m³"]}),e.jsxs(Le,{children:[g.methaneContent.toFixed(1),"%"]}),e.jsx(Le,{children:e.jsx(L,{className:rr(g.status),children:e.jsxs("div",{className:"flex items-center gap-1",children:[hc(g.status),x(g.status)]})})}),e.jsx(Le,{children:g.qualityScore?e.jsxs("span",{className:`font-medium ${g.qualityScore>=90?"text-green-600":g.qualityScore>=70?"text-yellow-600":"text-red-600"}`,children:[g.qualityScore,"/100"]}):e.jsx("span",{className:"text-muted-foreground",children:"Pending"})}),e.jsx(Le,{children:new Date(g.createdDate).toLocaleDateString()}),e.jsx(Le,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{size:"sm",variant:"outline",onClick:()=>o(g),children:e.jsx(js,{className:"w-4 h-4"})}),e.jsx(E,{size:"sm",variant:"outline",onClick:()=>y(g),children:e.jsx(tt,{className:"w-4 h-4"})}),e.jsx(E,{size:"sm",variant:"outline",title:g.notes,children:e.jsx(ds,{className:"w-4 h-4"})})]})})]},g.id))})]})})]})}),e.jsx(Y,{value:"quality",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:x("activeQualities")}),e.jsx(se,{children:"Monitor ongoing quality testing processes with detailed progress tracking"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[vs.filter(g=>g.status==="testing").map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-semibold",children:g.id}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Farmer: ",g.farmerName," | Volume: ",g.volume.toFixed(1)," m³"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Source: ",g.source]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{className:rr(g.status),children:x("testing")}),e.jsx(E,{size:"sm",variant:"outline",children:"View Progress"})]})]},g.id)),vs.filter(g=>g.status==="testing").length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(fs,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No active quality tests"})]})]})})]})}),e.jsx(Y,{value:"certificates",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:x("certificates")}),e.jsx(se,{children:"Download and manage quality certificates with detailed certification information"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[ha.map(g=>{const u=vs.find(d=>d.id===g.batchId);return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-semibold",children:g.batchId}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Farmer: ",u?.farmerName," | Score: ",g.qualityScore,"/100"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Certified by: ",g.certifiedBy]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issued: ",new Date(g.issuedDate).toLocaleDateString()," | Valid until: ",g.validUntil?new Date(g.validUntil).toLocaleDateString():"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{className:"bg-green-100 text-green-800",children:"Certified"}),e.jsxs(E,{size:"sm",variant:"outline",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Download"]})]})]},g.id)}),ha.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Me,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No certificates available"})]})]})})]})})]}),e.jsx(gs,{open:!!c,onOpenChange:()=>o(null),children:e.jsxs(ns,{className:"sm:max-w-[525px]",children:[e.jsxs(is,{children:[e.jsx(ls,{children:x("editBatch")}),e.jsx(cs,{children:"Update batch information and status with detailed source tracking"})]}),c&&e.jsx(nr,{batch:c,onSubmit:O,onCancel:()=>o(null),t:x})]})}),e.jsx(gs,{open:!!j,onOpenChange:()=>y(null),children:e.jsxs(ns,{children:[e.jsxs(is,{children:[e.jsx(ls,{children:x("deleteBatch")}),e.jsxs(cs,{children:["Are you sure you want to delete batch ",j?.id,"? This action cannot be undone."]})]}),e.jsxs(Vs,{children:[e.jsx(E,{variant:"outline",onClick:()=>y(null),children:x("cancel")}),e.jsx(E,{variant:"destructive",onClick:M,children:x("delete")})]})]})})]})},pc=[{id:"DISP-001",type:"WEIGHT_MISMATCH",status:"OPEN",farmerClaim:{weight:45.2,quality:"A",timestamp:new Date(Date.now()-36e5).toISOString(),photoproof:"photo_001.jpg"},iotReading:{weight:42.8,quality:"A",deviceId:"SCALE-001",confidence:.95,timestamp:new Date(Date.now()-36e5).toISOString()},createdAt:new Date(Date.now()-36e5).toISOString()},{id:"DISP-002",type:"QUALITY_ISSUE",status:"INVESTIGATING",farmerClaim:{weight:38.5,quality:"A",timestamp:new Date(Date.now()-72e5).toISOString()},iotReading:{weight:38.7,quality:"B",deviceId:"SENSOR-002",confidence:.88,timestamp:new Date(Date.now()-72e5).toISOString()},createdAt:new Date(Date.now()-72e5).toISOString()},{id:"DISP-003",type:"PAYMENT_DELAY",status:"RESOLVED",farmerClaim:{weight:52,quality:"A",timestamp:new Date(Date.now()-864e5).toISOString()},iotReading:{weight:51.8,quality:"A",deviceId:"SCALE-003",confidence:.97,timestamp:new Date(Date.now()-864e5).toISOString()},createdAt:new Date(Date.now()-864e5).toISOString(),resolution:"Payment processed after verification. Minor weight difference within acceptable tolerance.",resolvedAt:new Date(Date.now()-432e5).toISOString()}],jc=async(s,t)=>new Promise(a=>setTimeout(a,1e3)),fc=async(s,t)=>new Promise(a=>setTimeout(a,1e3)),vc=()=>{const[s,t]=h.useState(null),[a,r]=h.useState("ALL"),n=pc.filter(o=>a==="ALL"||o.status===a),i=async(o,j,y)=>{try{await jc(o,{resolution:j,favorFarmer:y,resolvedBy:"CLUSTER_MANAGER",timestamp:new Date().toISOString()}),t(null)}catch{}},l=o=>({WEIGHT_MISMATCH:"Weight Mismatch",QUALITY_ISSUE:"Quality Issue",PAYMENT_DELAY:"Payment Delay",COLLECTION_MISSED:"Collection Missed"})[o]||o,c=o=>({OPEN:"destructive",INVESTIGATING:"secondary",RESOLVED:"default",ESCALATED:"outline"})[o]||"outline";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dispute Resolution"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Resolve farmer disputes with side-by-side evidence comparison"})]}),e.jsx("div",{className:"flex space-x-2",children:["ALL","OPEN","INVESTIGATING","RESOLVED"].map(o=>e.jsx(E,{variant:a===o?"default":"outline",size:"sm",onClick:()=>r(o),children:o},o))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"h-5 w-5"}),e.jsxs("span",{children:["Active Disputes (",n.length,")"]})]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[n.map(o=>e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${s?.id===o.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>t(o),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:l(o.type)}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Dispute #",o.id]})]}),e.jsx(L,{variant:c(o.status),children:o.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-700",children:"Farmer Claim:"}),e.jsxs("p",{children:["Weight: ",o.farmerClaim.weight," kg"]}),e.jsxs("p",{children:["Quality: Grade ",o.farmerClaim.quality]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-700",children:"IoT Reading:"}),e.jsxs("p",{children:["Weight: ",o.iotReading.weight," kg"]}),e.jsxs("p",{children:["Quality: Grade ",o.iotReading.quality]}),e.jsxs("p",{children:["Confidence: ",(o.iotReading.confidence*100).toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[e.jsx(we,{className:"h-3 w-3"}),e.jsxs("span",{children:["Created: ",new Date(o.createdAt).toLocaleDateString()]})]}),e.jsx(E,{variant:"ghost",size:"sm",children:e.jsx(ds,{className:"h-4 w-4"})})]})]},o.id)),n.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(le,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No disputes found for selected filter"})]})]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Dispute Resolution"})}),e.jsx(S,{children:s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[e.jsxs("h3",{className:"font-semibold text-green-800 mb-3 flex items-center space-x-2",children:[e.jsx(rs,{className:"h-4 w-4"}),e.jsx("span",{children:"Farmer Evidence"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weight:"}),e.jsxs("span",{className:"font-medium",children:[s.farmerClaim.weight," kg"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quality:"}),e.jsxs("span",{className:"font-medium",children:["Grade ",s.farmerClaim.quality]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Time:"}),e.jsx("span",{className:"font-medium",children:new Date(s.farmerClaim.timestamp).toLocaleTimeString()})]}),s.farmerClaim.photoproof&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Photo Proof:"}),e.jsx("div",{className:"w-full h-24 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(Wt,{className:"h-8 w-8 text-gray-400"})})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[e.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center space-x-2",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"IoT Evidence"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weight:"}),e.jsxs("span",{className:"font-medium",children:[s.iotReading.weight," kg"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quality:"}),e.jsxs("span",{className:"font-medium",children:["Grade ",s.iotReading.quality]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Device:"}),e.jsx("span",{className:"font-medium",children:s.iotReading.deviceId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Confidence:"}),e.jsxs("span",{className:"font-medium",children:[(s.iotReading.confidence*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Time:"}),e.jsx("span",{className:"font-medium",children:new Date(s.iotReading.timestamp).toLocaleTimeString()})]})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-3",children:"Variance Analysis"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weight Difference:"}),e.jsxs("span",{className:"font-medium",children:[Math.abs(s.farmerClaim.weight-s.iotReading.weight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quality Match:"}),e.jsx("span",{className:"font-medium",children:s.farmerClaim.quality===s.iotReading.quality?"✓ Match":"✗ Mismatch"})]})]})]}),s.status==="OPEN"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold",children:"Resolution Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(E,{className:"flex items-center space-x-2",onClick:()=>i(s.id,"Resolved in favor of farmer based on evidence review",!0),children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{children:"Favor Farmer"})]}),e.jsxs(E,{variant:"outline",className:"flex items-center space-x-2",onClick:()=>i(s.id,"Resolved in favor of IoT reading based on device confidence",!1),children:[e.jsx(qt,{className:"h-4 w-4"}),e.jsx("span",{children:"Favor IoT"})]})]}),e.jsx(E,{variant:"destructive",className:"w-full",onClick:()=>fc(s.id),children:"Escalate to Higher Authority"})]}),s.resolution&&e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Resolution"}),e.jsx("p",{className:"text-sm text-gray-700",children:s.resolution}),s.resolvedAt&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Resolved on: ",new Date(s.resolvedAt).toLocaleString()]})]})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(le,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a dispute to view details and resolution options"})]})})]})]})]})},xt=[{id:"PAY-001",farmerId:"FARM-001",amount:412.25,type:"CASH",status:"COMPLETED",createdAt:new Date().toISOString(),transactionId:"TXN-001",auditHash:"sha256:a1b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef123456",batchIds:["BATCH-001"]},{id:"PAY-002",farmerId:"FARM-002",amount:325.8,type:"UPI",status:"PENDING",createdAt:new Date(Date.now()-864e5).toISOString(),auditHash:"sha256:b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef1234567",batchIds:["BATCH-002"]}],yc=[{id:"FARM-001",name:"राम कुमार"},{id:"FARM-002",name:"श्याम यादव"}],Nc=()=>{const[s,t]=h.useState(null),a=i=>({PENDING:"secondary",PROCESSING:"outline",COMPLETED:"default",FAILED:"destructive"})[i]||"outline",r=i=>{switch(i){case"CASH":return"💵";case"UPI":return"📱";case"BANK_TRANSFER":return"🏦";case"CHEQUE":return"📝";default:return"💳"}},n=i=>yc.find(c=>c.id===i)?.name||`Farmer ${i}`;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"-mt-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Reconciliation"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track and reconcile farmer payments with immutable audit log"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qt,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Payments"}),e.jsx("p",{className:"text-xl font-bold",children:xt.length})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-xl font-bold",children:xt.filter(i=>i.status==="COMPLETED").length})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ue,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-xl font-bold",children:xt.filter(i=>i.status==="PENDING").length})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"text-xl font-bold",children:["₹",xt.reduce((i,l)=>i+l.amount,0).toLocaleString()]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Payment Records"})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:xt.map(i=>e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${s?.id===i.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>t(i),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:n(i.farmerId)}),e.jsxs("p",{className:"text-sm text-gray-600",children:["₹",i.amount.toLocaleString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(L,{variant:a(i.status),children:i.status}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r(i.type)," ",i.type]})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{children:["#",i.id]}),e.jsx("span",{children:new Date(i.createdAt).toLocaleDateString()})]}),i.transactionId&&e.jsxs("div",{className:"mt-2 text-xs font-mono bg-gray-100 p-1 rounded",children:["TXN: ",i.transactionId]})]},i.id))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Payment Details & Audit Trail"})}),e.jsx(S,{children:s?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Payment Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Payment ID:"}),e.jsx("p",{className:"font-medium",children:s.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsxs("p",{className:"font-medium",children:["₹",s.amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Farmer:"}),e.jsx("p",{className:"font-medium",children:n(s.farmerId)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Type:"}),e.jsxs("p",{className:"font-medium",children:[r(s.type)," ",s.type]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx(L,{variant:a(s.status),children:s.status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Created:"}),e.jsx("p",{className:"font-medium",children:new Date(s.createdAt).toLocaleString()})]})]}),s.transactionId&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),e.jsx("p",{className:"font-mono text-sm bg-white p-2 rounded border",children:s.transactionId})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center space-x-2",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{children:"Audit Hash (Immutable)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Si,{className:"h-4 w-4 text-gray-500"}),e.jsx("p",{className:"font-mono text-xs bg-white p-2 rounded border flex-1",children:s.auditHash})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"This cryptographic hash ensures payment record integrity and prevents tampering."})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Related Batches"}),e.jsx("div",{className:"space-y-2",children:s.batchIds.map(i=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{children:["Batch ",i]}),e.jsx(L,{variant:"outline",children:"Linked"})]},i))})]}),s.status==="PENDING"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"w-full",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Mark as Completed"]}),e.jsx(E,{variant:"outline",className:"w-full",children:"Process Payment"})]}),s.status==="FAILED"&&e.jsx(E,{variant:"outline",className:"w-full",children:"Retry Payment"})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(We,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a payment to view details and audit trail"})]})})]})]})]})};function bc(s,t,a="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:s,timeZoneName:a}).format(t).split(/\s/g).slice(2).join(" ")}const wc={},ft={};function Gs(s,t){try{const r=(wc[s]||=new Intl.DateTimeFormat("en-US",{timeZone:s,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in ft?ft[r]:ir(r,r.split(":"))}catch{if(s in ft)return ft[s];const a=s?.match(Sc);return a?ir(s,a.slice(1)):NaN}}const Sc=/([+-]\d\d):?(\d\d)?/;function ir(s,t){const a=+(t[0]||0),r=+(t[1]||0),n=+(t[2]||0)/60;return ft[s]=a*60+r>0?a*60+r+n:a*60-r-n}class Ns extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Gs(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),un(this),Ta(this)):this.setTime(Date.now())}static tz(t,...a){return a.length?new Ns(...a,t):new Ns(Date.now(),t)}withTimeZone(t){return new Ns(+this,t)}getTimezoneOffset(){const t=-Gs(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Ta(this),+this}[Symbol.for("constructDateFrom")](t){return new Ns(+new Date(t),this.timeZone)}}const lr=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(s=>{if(!lr.test(s))return;const t=s.replace(lr,"$1UTC");Ns.prototype[t]&&(s.startsWith("get")?Ns.prototype[s]=function(){return this.internal[t]()}:(Ns.prototype[s]=function(){return Date.prototype[t].apply(this.internal,arguments),Cc(this),+this},Ns.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Ta(this),+this}))});function Ta(s){s.internal.setTime(+s),s.internal.setUTCSeconds(s.internal.getUTCSeconds()-Math.round(-Gs(s.timeZone,s)*60))}function Cc(s){Date.prototype.setFullYear.call(s,s.internal.getUTCFullYear(),s.internal.getUTCMonth(),s.internal.getUTCDate()),Date.prototype.setHours.call(s,s.internal.getUTCHours(),s.internal.getUTCMinutes(),s.internal.getUTCSeconds(),s.internal.getUTCMilliseconds()),un(s)}function un(s){const t=Gs(s.timeZone,s),a=t>0?Math.floor(t):Math.ceil(t),r=new Date(+s);r.setUTCHours(r.getUTCHours()-1);const n=-new Date(+s).getTimezoneOffset(),i=-new Date(+r).getTimezoneOffset(),l=n-i,c=Date.prototype.getHours.apply(s)!==s.internal.getUTCHours();l&&c&&s.internal.setUTCMinutes(s.internal.getUTCMinutes()+l);const o=n-a;o&&Date.prototype.setUTCMinutes.call(s,Date.prototype.getUTCMinutes.call(s)+o);const j=new Date(+s);j.setUTCSeconds(0);const y=n>0?j.getSeconds():(j.getSeconds()-60)%60,f=Math.round(-(Gs(s.timeZone,s)*60))%60;(f||y)&&(s.internal.setUTCSeconds(s.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(s,Date.prototype.getUTCSeconds.call(s)+f+y));const x=Gs(s.timeZone,s),N=x>0?Math.floor(x):Math.ceil(x),O=-new Date(+s).getTimezoneOffset()-N,M=N!==a,k=O-o;if(M&&k){Date.prototype.setUTCMinutes.call(s,Date.prototype.getUTCMinutes.call(s)+k);const b=Gs(s.timeZone,s),C=b>0?Math.floor(b):Math.ceil(b),D=N-C;D&&(s.internal.setUTCMinutes(s.internal.getUTCMinutes()+D),Date.prototype.setUTCMinutes.call(s,Date.prototype.getUTCMinutes.call(s)+D))}}class _e extends Ns{static tz(t,...a){return a.length?new _e(...a,t):new _e(Date.now(),t)}toISOString(){const[t,a,r]=this.tzComponents(),n=`${t}${a}:${r}`;return this.internal.toISOString().slice(0,-1)+n}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,a,r,n]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${a} ${n}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[a,r,n]=this.tzComponents();return`${t} GMT${a}${r}${n} (${bc(this.timeZone,this)})`}toLocaleString(t,a){return Date.prototype.toLocaleString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleDateString(t,a){return Date.prototype.toLocaleDateString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleTimeString(t,a){return Date.prototype.toLocaleTimeString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),a=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),n=String(Math.abs(t)%60).padStart(2,"0");return[a,r,n]}withTimeZone(t){return new _e(+this,t)}[Symbol.for("constructDateFrom")](t){return new _e(+new Date(t),this.timeZone)}}const xn=6048e5,Dc=864e5,cr=Symbol.for("constructDateFrom");function Oe(s,t){return typeof s=="function"?s(t):s&&typeof s=="object"&&cr in s?s[cr](t):s instanceof Date?new s.constructor(t):new Date(t)}function ye(s,t){return Oe(t||s,s)}function hn(s,t,a){const r=ye(s,a?.in);return isNaN(t)?Oe(s,NaN):(t&&r.setDate(r.getDate()+t),r)}function gn(s,t,a){const r=ye(s,a?.in);if(isNaN(t))return Oe(s,NaN);if(!t)return r;const n=r.getDate(),i=Oe(s,r.getTime());i.setMonth(r.getMonth()+t+1,0);const l=i.getDate();return n>=l?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}let kc={};function It(){return kc}function Js(s,t){const a=It(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=ye(s,t?.in),i=n.getDay(),l=(i<r?7:0)+i-r;return n.setDate(n.getDate()-l),n.setHours(0,0,0,0),n}function kt(s,t){return Js(s,{...t,weekStartsOn:1})}function pn(s,t){const a=ye(s,t?.in),r=a.getFullYear(),n=Oe(a,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=kt(n),l=Oe(a,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=kt(l);return a.getTime()>=i.getTime()?r+1:a.getTime()>=c.getTime()?r:r-1}function or(s){const t=ye(s),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+s-+a}function dt(s,...t){const a=Oe.bind(null,t.find(r=>typeof r=="object"));return t.map(a)}function Tt(s,t){const a=ye(s,t?.in);return a.setHours(0,0,0,0),a}function jn(s,t,a){const[r,n]=dt(a?.in,s,t),i=Tt(r),l=Tt(n),c=+i-or(i),o=+l-or(l);return Math.round((c-o)/Dc)}function Tc(s,t){const a=pn(s,t),r=Oe(s,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),kt(r)}function Ic(s,t,a){return hn(s,t*7,a)}function Ac(s,t,a){return gn(s,t*12,a)}function Pc(s,t){let a,r=t?.in;return s.forEach(n=>{!r&&typeof n=="object"&&(r=Oe.bind(null,n));const i=ye(n,r);(!a||a<i||isNaN(+i))&&(a=i)}),Oe(r,a||NaN)}function Rc(s,t){let a,r=t?.in;return s.forEach(n=>{!r&&typeof n=="object"&&(r=Oe.bind(null,n));const i=ye(n,r);(!a||a>i||isNaN(+i))&&(a=i)}),Oe(r,a||NaN)}function Mc(s,t,a){const[r,n]=dt(a?.in,s,t);return+Tt(r)==+Tt(n)}function fn(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Oc(s){return!(!fn(s)&&typeof s!="number"||isNaN(+ye(s)))}function Ec(s,t,a){const[r,n]=dt(a?.in,s,t),i=r.getFullYear()-n.getFullYear(),l=r.getMonth()-n.getMonth();return i*12+l}function Lc(s,t){const a=ye(s,t?.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}function Fc(s,t){const[a,r]=dt(s,t.start,t.end);return{start:a,end:r}}function _c(s,t){const{start:a,end:r}=Fc(t?.in,s);let n=+a>+r;const i=n?+a:+r,l=n?r:a;l.setHours(0,0,0,0),l.setDate(1);let c=1;const o=[];for(;+l<=i;)o.push(Oe(a,l)),l.setMonth(l.getMonth()+c);return n?o.reverse():o}function Bc(s,t){const a=ye(s,t?.in);return a.setDate(1),a.setHours(0,0,0,0),a}function qc(s,t){const a=ye(s,t?.in),r=a.getFullYear();return a.setFullYear(r+1,0,0),a.setHours(23,59,59,999),a}function vn(s,t){const a=ye(s,t?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function yn(s,t){const a=It(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=ye(s,t?.in),i=n.getDay(),l=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+l),n.setHours(23,59,59,999),n}function Uc(s,t){return yn(s,{...t,weekStartsOn:1})}const Gc={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wc=(s,t,a)=>{let r;const n=Gc[s];return typeof n=="string"?r=n:t===1?r=n.one:r=n.other.replace("{{count}}",t.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function ga(s){return(t={})=>{const a=t.width?String(t.width):s.defaultWidth;return s.formats[a]||s.formats[s.defaultWidth]}}const $c={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vc={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Hc={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zc={date:ga({formats:$c,defaultWidth:"full"}),time:ga({formats:Vc,defaultWidth:"full"}),dateTime:ga({formats:Hc,defaultWidth:"full"})},Yc={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qc=(s,t,a,r)=>Yc[s];function ht(s){return(t,a)=>{const r=a?.context?String(a.context):"standalone";let n;if(r==="formatting"&&s.formattingValues){const l=s.defaultFormattingWidth||s.defaultWidth,c=a?.width?String(a.width):l;n=s.formattingValues[c]||s.formattingValues[l]}else{const l=s.defaultWidth,c=a?.width?String(a.width):s.defaultWidth;n=s.values[c]||s.values[l]}const i=s.argumentCallback?s.argumentCallback(t):t;return n[i]}}const Kc={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zc={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xc={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jc={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},so={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},to=(s,t)=>{const a=Number(s),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},ao={ordinalNumber:to,era:ht({values:Kc,defaultWidth:"wide"}),quarter:ht({values:Zc,defaultWidth:"wide",argumentCallback:s=>s-1}),month:ht({values:Xc,defaultWidth:"wide"}),day:ht({values:Jc,defaultWidth:"wide"}),dayPeriod:ht({values:eo,defaultWidth:"wide",formattingValues:so,defaultFormattingWidth:"wide"})};function gt(s){return(t,a={})=>{const r=a.width,n=r&&s.matchPatterns[r]||s.matchPatterns[s.defaultMatchWidth],i=t.match(n);if(!i)return null;const l=i[0],c=r&&s.parsePatterns[r]||s.parsePatterns[s.defaultParseWidth],o=Array.isArray(c)?no(c,f=>f.test(l)):ro(c,f=>f.test(l));let j;j=s.valueCallback?s.valueCallback(o):o,j=a.valueCallback?a.valueCallback(j):j;const y=t.slice(l.length);return{value:j,rest:y}}}function ro(s,t){for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&t(s[a]))return a}function no(s,t){for(let a=0;a<s.length;a++)if(t(s[a]))return a}function io(s){return(t,a={})=>{const r=t.match(s.matchPattern);if(!r)return null;const n=r[0],i=t.match(s.parsePattern);if(!i)return null;let l=s.valueCallback?s.valueCallback(i[0]):i[0];l=a.valueCallback?a.valueCallback(l):l;const c=t.slice(n.length);return{value:l,rest:c}}}const lo=/^(\d+)(th|st|nd|rd)?/i,co=/\d+/i,oo={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mo={any:[/^b/i,/^(a|c)/i]},uo={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xo={any:[/1/i,/2/i,/3/i,/4/i]},ho={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},go={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},po={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jo={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yo={ordinalNumber:io({matchPattern:lo,parsePattern:co,valueCallback:s=>parseInt(s,10)}),era:gt({matchPatterns:oo,defaultMatchWidth:"wide",parsePatterns:mo,defaultParseWidth:"any"}),quarter:gt({matchPatterns:uo,defaultMatchWidth:"wide",parsePatterns:xo,defaultParseWidth:"any",valueCallback:s=>s+1}),month:gt({matchPatterns:ho,defaultMatchWidth:"wide",parsePatterns:go,defaultParseWidth:"any"}),day:gt({matchPatterns:po,defaultMatchWidth:"wide",parsePatterns:jo,defaultParseWidth:"any"}),dayPeriod:gt({matchPatterns:fo,defaultMatchWidth:"any",parsePatterns:vo,defaultParseWidth:"any"})},Ga={code:"en-US",formatDistance:Wc,formatLong:zc,formatRelative:Qc,localize:ao,match:yo,options:{weekStartsOn:0,firstWeekContainsDate:1}};function No(s,t){const a=ye(s,t?.in);return jn(a,vn(a))+1}function Nn(s,t){const a=ye(s,t?.in),r=+kt(a)-+Tc(a);return Math.round(r/xn)+1}function bn(s,t){const a=ye(s,t?.in),r=a.getFullYear(),n=It(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=Oe(t?.in||s,0);l.setFullYear(r+1,0,i),l.setHours(0,0,0,0);const c=Js(l,t),o=Oe(t?.in||s,0);o.setFullYear(r,0,i),o.setHours(0,0,0,0);const j=Js(o,t);return+a>=+c?r+1:+a>=+j?r:r-1}function bo(s,t){const a=It(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,n=bn(s,t),i=Oe(t?.in||s,0);return i.setFullYear(n,0,r),i.setHours(0,0,0,0),Js(i,t)}function wn(s,t){const a=ye(s,t?.in),r=+Js(a,t)-+bo(a,t);return Math.round(r/xn)+1}function ge(s,t){const a=s<0?"-":"",r=Math.abs(s).toString().padStart(t,"0");return a+r}const Ls={y(s,t){const a=s.getFullYear(),r=a>0?a:1-a;return ge(t==="yy"?r%100:r,t.length)},M(s,t){const a=s.getMonth();return t==="M"?String(a+1):ge(a+1,2)},d(s,t){return ge(s.getDate(),t.length)},a(s,t){const a=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(s,t){return ge(s.getHours()%12||12,t.length)},H(s,t){return ge(s.getHours(),t.length)},m(s,t){return ge(s.getMinutes(),t.length)},s(s,t){return ge(s.getSeconds(),t.length)},S(s,t){const a=t.length,r=s.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return ge(n,t.length)}},Hs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dr={G:function(s,t,a){const r=s.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(s,t,a){if(t==="yo"){const r=s.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return Ls.y(s,t)},Y:function(s,t,a,r){const n=bn(s,r),i=n>0?n:1-n;if(t==="YY"){const l=i%100;return ge(l,2)}return t==="Yo"?a.ordinalNumber(i,{unit:"year"}):ge(i,t.length)},R:function(s,t){const a=pn(s);return ge(a,t.length)},u:function(s,t){const a=s.getFullYear();return ge(a,t.length)},Q:function(s,t,a){const r=Math.ceil((s.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ge(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(s,t,a){const r=Math.ceil((s.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ge(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(s,t,a){const r=s.getMonth();switch(t){case"M":case"MM":return Ls.M(s,t);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(s,t,a){const r=s.getMonth();switch(t){case"L":return String(r+1);case"LL":return ge(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(s,t,a,r){const n=wn(s,r);return t==="wo"?a.ordinalNumber(n,{unit:"week"}):ge(n,t.length)},I:function(s,t,a){const r=Nn(s);return t==="Io"?a.ordinalNumber(r,{unit:"week"}):ge(r,t.length)},d:function(s,t,a){return t==="do"?a.ordinalNumber(s.getDate(),{unit:"date"}):Ls.d(s,t)},D:function(s,t,a){const r=No(s);return t==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):ge(r,t.length)},E:function(s,t,a){const r=s.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(s,t,a,r){const n=s.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ge(i,2);case"eo":return a.ordinalNumber(i,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(s,t,a,r){const n=s.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ge(i,t.length);case"co":return a.ordinalNumber(i,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(s,t,a){const r=s.getDay(),n=r===0?7:r;switch(t){case"i":return String(n);case"ii":return ge(n,t.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(s,t,a){const n=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(s,t,a){const r=s.getHours();let n;switch(r===12?n=Hs.noon:r===0?n=Hs.midnight:n=r/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(s,t,a){const r=s.getHours();let n;switch(r>=17?n=Hs.evening:r>=12?n=Hs.afternoon:r>=4?n=Hs.morning:n=Hs.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(s,t,a){if(t==="ho"){let r=s.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return Ls.h(s,t)},H:function(s,t,a){return t==="Ho"?a.ordinalNumber(s.getHours(),{unit:"hour"}):Ls.H(s,t)},K:function(s,t,a){const r=s.getHours()%12;return t==="Ko"?a.ordinalNumber(r,{unit:"hour"}):ge(r,t.length)},k:function(s,t,a){let r=s.getHours();return r===0&&(r=24),t==="ko"?a.ordinalNumber(r,{unit:"hour"}):ge(r,t.length)},m:function(s,t,a){return t==="mo"?a.ordinalNumber(s.getMinutes(),{unit:"minute"}):Ls.m(s,t)},s:function(s,t,a){return t==="so"?a.ordinalNumber(s.getSeconds(),{unit:"second"}):Ls.s(s,t)},S:function(s,t){return Ls.S(s,t)},X:function(s,t,a){const r=s.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ur(r);case"XXXX":case"XX":return qs(r);case"XXXXX":case"XXX":default:return qs(r,":")}},x:function(s,t,a){const r=s.getTimezoneOffset();switch(t){case"x":return ur(r);case"xxxx":case"xx":return qs(r);case"xxxxx":case"xxx":default:return qs(r,":")}},O:function(s,t,a){const r=s.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mr(r,":");case"OOOO":default:return"GMT"+qs(r,":")}},z:function(s,t,a){const r=s.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mr(r,":");case"zzzz":default:return"GMT"+qs(r,":")}},t:function(s,t,a){const r=Math.trunc(+s/1e3);return ge(r,t.length)},T:function(s,t,a){return ge(+s,t.length)}};function mr(s,t=""){const a=s>0?"-":"+",r=Math.abs(s),n=Math.trunc(r/60),i=r%60;return i===0?a+String(n):a+String(n)+t+ge(i,2)}function ur(s,t){return s%60===0?(s>0?"-":"+")+ge(Math.abs(s)/60,2):qs(s,t)}function qs(s,t=""){const a=s>0?"-":"+",r=Math.abs(s),n=ge(Math.trunc(r/60),2),i=ge(r%60,2);return a+n+t+i}const xr=(s,t)=>{switch(s){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Sn=(s,t)=>{switch(s){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wo=(s,t)=>{const a=s.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return xr(s,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",xr(r,t)).replace("{{time}}",Sn(n,t))},So={p:Sn,P:wo},Co=/^D+$/,Do=/^Y+$/,ko=["D","DD","YY","YYYY"];function To(s){return Co.test(s)}function Io(s){return Do.test(s)}function Ao(s,t,a){const r=Po(s,t,a);if(ko.includes(s))throw new RangeError(r)}function Po(s,t,a){const r=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${t}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ro=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Oo=/^'([^]*?)'?$/,Eo=/''/g,Lo=/[a-zA-Z]/;function Fo(s,t,a){const r=It(),n=a?.locale??r.locale??Ga,i=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=ye(s,a?.in);if(!Oc(c))throw new RangeError("Invalid time value");let o=t.match(Mo).map(y=>{const f=y[0];if(f==="p"||f==="P"){const x=So[f];return x(y,n.formatLong)}return y}).join("").match(Ro).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const f=y[0];if(f==="'")return{isToken:!1,value:_o(y)};if(dr[f])return{isToken:!0,value:y};if(f.match(Lo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:y}});n.localize.preprocessor&&(o=n.localize.preprocessor(c,o));const j={firstWeekContainsDate:i,weekStartsOn:l,locale:n};return o.map(y=>{if(!y.isToken)return y.value;const f=y.value;(!a?.useAdditionalWeekYearTokens&&Io(f)||!a?.useAdditionalDayOfYearTokens&&To(f))&&Ao(f,t,String(s));const x=dr[f[0]];return x(c,f,n.localize,j)}).join("")}function _o(s){const t=s.match(Oo);return t?t[1].replace(Eo,"'"):s}function Bo(s,t){const a=ye(s,t?.in),r=a.getFullYear(),n=a.getMonth(),i=Oe(a,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function qo(s,t){return ye(s,t?.in).getMonth()}function Uo(s,t){return ye(s,t?.in).getFullYear()}function Go(s,t){return+ye(s)>+ye(t)}function Wo(s,t){return+ye(s)<+ye(t)}function $o(s,t,a){const[r,n]=dt(a?.in,s,t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Vo(s,t,a){const[r,n]=dt(a?.in,s,t);return r.getFullYear()===n.getFullYear()}function Ho(s,t,a){const r=ye(s,a?.in),n=r.getFullYear(),i=r.getDate(),l=Oe(s,0);l.setFullYear(n,t,15),l.setHours(0,0,0,0);const c=Bo(l);return r.setMonth(t,Math.min(i,c)),r}function zo(s,t,a){const r=ye(s,a?.in);return isNaN(+r)?Oe(s,NaN):(r.setFullYear(t),r)}const hr=5,Yo=4;function Qo(s,t){const a=t.startOfMonth(s),r=a.getDay()>0?a.getDay():7,n=t.addDays(s,-r+1),i=t.addDays(n,hr*7-1);return t.getMonth(s)===t.getMonth(i)?hr:Yo}function Cn(s,t){const a=t.startOfMonth(s),r=a.getDay();return r===1?a:r===0?t.addDays(a,-1*6):t.addDays(a,-1*(r-1))}function Ko(s,t){const a=Cn(s,t),r=Qo(s,t);return t.addDays(a,r*7-1)}class Xe{constructor(t,a){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?_e.tz(this.options.timeZone):new this.Date,this.newDate=(r,n,i)=>this.overrides?.newDate?this.overrides.newDate(r,n,i):this.options.timeZone?new _e(r,n,i,this.options.timeZone):new Date(r,n,i),this.addDays=(r,n)=>this.overrides?.addDays?this.overrides.addDays(r,n):hn(r,n),this.addMonths=(r,n)=>this.overrides?.addMonths?this.overrides.addMonths(r,n):gn(r,n),this.addWeeks=(r,n)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,n):Ic(r,n),this.addYears=(r,n)=>this.overrides?.addYears?this.overrides.addYears(r,n):Ac(r,n),this.differenceInCalendarDays=(r,n)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,n):jn(r,n),this.differenceInCalendarMonths=(r,n)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,n):Ec(r,n),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):_c(r),this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):Ko(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):Uc(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):Lc(r),this.endOfWeek=(r,n)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,n):yn(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):qc(r),this.format=(r,n,i)=>{const l=this.overrides?.format?this.overrides.format(r,n,this.options):Fo(r,n,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):Nn(r),this.getMonth=(r,n)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):qo(r,this.options),this.getYear=(r,n)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):Uo(r,this.options),this.getWeek=(r,n)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):wn(r,this.options),this.isAfter=(r,n)=>this.overrides?.isAfter?this.overrides.isAfter(r,n):Go(r,n),this.isBefore=(r,n)=>this.overrides?.isBefore?this.overrides.isBefore(r,n):Wo(r,n),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):fn(r),this.isSameDay=(r,n)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,n):Mc(r,n),this.isSameMonth=(r,n)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,n):$o(r,n),this.isSameYear=(r,n)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,n):Vo(r,n),this.max=r=>this.overrides?.max?this.overrides.max(r):Pc(r),this.min=r=>this.overrides?.min?this.overrides.min(r):Rc(r),this.setMonth=(r,n)=>this.overrides?.setMonth?this.overrides.setMonth(r,n):Ho(r,n),this.setYear=(r,n)=>this.overrides?.setYear?this.overrides.setYear(r,n):zo(r,n),this.startOfBroadcastWeek=(r,n)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):Cn(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):Tt(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):kt(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):Bc(r),this.startOfWeek=(r,n)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):Js(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):vn(r),this.options={locale:Ga,...t},this.overrides=a}getDigitMap(){const{numerals:t="latn"}=this.options,a=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let n=0;n<10;n++)r[n.toString()]=a.format(n);return r}replaceDigits(t){const a=this.getDigitMap();return t.replace(/\d/g,r=>a[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Xe.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:a,timeZone:r,numerals:n}=this.options,i=a?.code;if(i&&Xe.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:r,numberingSystem:n}).format(t)}catch{}const l=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,l)}}Xe.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Ss=new Xe;class Dn{constructor(t,a,r=Ss){this.date=t,this.displayMonth=a,this.outside=!!(a&&!r.isSameMonth(t,a)),this.dateLib=r}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Zo{constructor(t,a){this.date=t,this.weeks=a}}class Xo{constructor(t,a){this.days=a,this.weekNumber=t}}function Jo(s){return q.createElement("button",{...s})}function ed(s){return q.createElement("span",{...s})}function sd(s){const{size:t=24,orientation:a="left",className:r}=s;return q.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},a==="up"&&q.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),a==="down"&&q.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),a==="left"&&q.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),a==="right"&&q.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function td(s){const{day:t,modifiers:a,...r}=s;return q.createElement("td",{...r})}function ad(s){const{day:t,modifiers:a,...r}=s,n=q.useRef(null);return q.useEffect(()=>{a.focused&&n.current?.focus()},[a.focused]),q.createElement("button",{ref:n,...r})}var K;(function(s){s.Root="root",s.Chevron="chevron",s.Day="day",s.DayButton="day_button",s.CaptionLabel="caption_label",s.Dropdowns="dropdowns",s.Dropdown="dropdown",s.DropdownRoot="dropdown_root",s.Footer="footer",s.MonthGrid="month_grid",s.MonthCaption="month_caption",s.MonthsDropdown="months_dropdown",s.Month="month",s.Months="months",s.Nav="nav",s.NextMonthButton="button_next",s.PreviousMonthButton="button_previous",s.Week="week",s.Weeks="weeks",s.Weekday="weekday",s.Weekdays="weekdays",s.WeekNumber="week_number",s.WeekNumberHeader="week_number_header",s.YearsDropdown="years_dropdown"})(K||(K={}));var De;(function(s){s.disabled="disabled",s.hidden="hidden",s.outside="outside",s.focused="focused",s.today="today"})(De||(De={}));var xs;(function(s){s.range_end="range_end",s.range_middle="range_middle",s.range_start="range_start",s.selected="selected"})(xs||(xs={}));var Qe;(function(s){s.weeks_before_enter="weeks_before_enter",s.weeks_before_exit="weeks_before_exit",s.weeks_after_enter="weeks_after_enter",s.weeks_after_exit="weeks_after_exit",s.caption_after_enter="caption_after_enter",s.caption_after_exit="caption_after_exit",s.caption_before_enter="caption_before_enter",s.caption_before_exit="caption_before_exit"})(Qe||(Qe={}));function rd(s){const{options:t,className:a,components:r,classNames:n,...i}=s,l=[n[K.Dropdown],a].join(" "),c=t?.find(({value:o})=>o===i.value);return q.createElement("span",{"data-disabled":i.disabled,className:n[K.DropdownRoot]},q.createElement(r.Select,{className:l,...i},t?.map(({value:o,label:j,disabled:y})=>q.createElement(r.Option,{key:o,value:o,disabled:y},j))),q.createElement("span",{className:n[K.CaptionLabel],"aria-hidden":!0},c?.label,q.createElement(r.Chevron,{orientation:"down",size:18,className:n[K.Chevron]})))}function nd(s){return q.createElement("div",{...s})}function id(s){return q.createElement("div",{...s})}function ld(s){const{calendarMonth:t,displayIndex:a,...r}=s;return q.createElement("div",{...r},s.children)}function cd(s){const{calendarMonth:t,displayIndex:a,...r}=s;return q.createElement("div",{...r})}function od(s){return q.createElement("table",{...s})}function dd(s){return q.createElement("div",{...s})}const kn=h.createContext(void 0);function At(){const s=h.useContext(kn);if(s===void 0)throw new Error("useDayPicker() must be used within a custom component.");return s}function md(s){const{components:t}=At();return q.createElement(t.Dropdown,{...s})}function ud(s){const{onPreviousClick:t,onNextClick:a,previousMonth:r,nextMonth:n,...i}=s,{components:l,classNames:c,labels:{labelPrevious:o,labelNext:j}}=At(),y=h.useCallback(x=>{n&&a?.(x)},[n,a]),f=h.useCallback(x=>{r&&t?.(x)},[r,t]);return q.createElement("nav",{...i},q.createElement(l.PreviousMonthButton,{type:"button",className:c[K.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":o(r),onClick:f},q.createElement(l.Chevron,{disabled:r?void 0:!0,className:c[K.Chevron],orientation:"left"})),q.createElement(l.NextMonthButton,{type:"button",className:c[K.NextMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":j(n),onClick:y},q.createElement(l.Chevron,{disabled:n?void 0:!0,orientation:"right",className:c[K.Chevron]})))}function xd(s){const{components:t}=At();return q.createElement(t.Button,{...s})}function hd(s){return q.createElement("option",{...s})}function gd(s){const{components:t}=At();return q.createElement(t.Button,{...s})}function pd(s){const{rootRef:t,...a}=s;return q.createElement("div",{...a,ref:t})}function jd(s){return q.createElement("select",{...s})}function fd(s){const{week:t,...a}=s;return q.createElement("tr",{...a})}function vd(s){return q.createElement("th",{...s})}function yd(s){return q.createElement("thead",{"aria-hidden":!0},q.createElement("tr",{...s}))}function Nd(s){const{week:t,...a}=s;return q.createElement("th",{...a})}function bd(s){return q.createElement("th",{...s})}function wd(s){return q.createElement("tbody",{...s})}function Sd(s){const{components:t}=At();return q.createElement(t.Dropdown,{...s})}const Cd=Object.freeze(Object.defineProperty({__proto__:null,Button:Jo,CaptionLabel:ed,Chevron:sd,Day:td,DayButton:ad,Dropdown:rd,DropdownNav:nd,Footer:id,Month:ld,MonthCaption:cd,MonthGrid:od,Months:dd,MonthsDropdown:md,Nav:ud,NextMonthButton:xd,Option:hd,PreviousMonthButton:gd,Root:pd,Select:jd,Week:fd,WeekNumber:Nd,WeekNumberHeader:bd,Weekday:vd,Weekdays:yd,Weeks:wd,YearsDropdown:Sd},Symbol.toStringTag,{value:"Module"}));function As(s,t,a=!1,r=Ss){let{from:n,to:i}=s;const{differenceInCalendarDays:l,isSameDay:c}=r;return n&&i?(l(i,n)<0&&([n,i]=[i,n]),l(t,n)>=(a?1:0)&&l(i,t)>=(a?1:0)):!a&&i?c(i,t):!a&&n?c(n,t):!1}function Tn(s){return!!(s&&typeof s=="object"&&"before"in s&&"after"in s)}function Wa(s){return!!(s&&typeof s=="object"&&"from"in s)}function In(s){return!!(s&&typeof s=="object"&&"after"in s)}function An(s){return!!(s&&typeof s=="object"&&"before"in s)}function Pn(s){return!!(s&&typeof s=="object"&&"dayOfWeek"in s)}function Rn(s,t){return Array.isArray(s)&&s.every(t.isDate)}function Ps(s,t,a=Ss){const r=Array.isArray(t)?t:[t],{isSameDay:n,differenceInCalendarDays:i,isAfter:l}=a;return r.some(c=>{if(typeof c=="boolean")return c;if(a.isDate(c))return n(s,c);if(Rn(c,a))return c.includes(s);if(Wa(c))return As(c,s,!1,a);if(Pn(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(s.getDay()):c.dayOfWeek===s.getDay();if(Tn(c)){const o=i(c.before,s),j=i(c.after,s),y=o>0,f=j<0;return l(c.before,c.after)?f&&y:y||f}return In(c)?i(s,c.after)>0:An(c)?i(c.before,s)>0:typeof c=="function"?c(s):!1})}function Dd(s,t,a,r,n){const{disabled:i,hidden:l,modifiers:c,showOutsideDays:o,broadcastCalendar:j,today:y}=t,{isSameDay:f,isSameMonth:x,startOfMonth:N,isBefore:p,endOfMonth:O,isAfter:M}=n,k=a&&N(a),b=r&&O(r),C={[De.focused]:[],[De.outside]:[],[De.disabled]:[],[De.hidden]:[],[De.today]:[]},D={};for(const g of s){const{date:u,displayMonth:d}=g,v=!!(d&&!x(u,d)),m=!!(k&&p(u,k)),P=!!(b&&M(u,b)),R=!!(i&&Ps(u,i,n)),G=!!(l&&Ps(u,l,n))||m||P||!j&&!o&&v||j&&o===!1&&v,U=f(u,y??n.today());v&&C.outside.push(g),R&&C.disabled.push(g),G&&C.hidden.push(g),U&&C.today.push(g),c&&Object.keys(c).forEach(T=>{const $=c?.[T];$&&Ps(u,$,n)&&(D[T]?D[T].push(g):D[T]=[g])})}return g=>{const u={[De.focused]:!1,[De.disabled]:!1,[De.hidden]:!1,[De.outside]:!1,[De.today]:!1},d={};for(const v in C){const m=C[v];u[v]=m.some(P=>P===g)}for(const v in D)d[v]=D[v].some(m=>m===g);return{...u,...d}}}function kd(s,t,a={}){return Object.entries(s).filter(([,n])=>n===!0).reduce((n,[i])=>(a[i]?n.push(a[i]):t[De[i]]?n.push(t[De[i]]):t[xs[i]]&&n.push(t[xs[i]]),n),[t[K.Day]])}function Td(s){return{...Cd,...s}}function Id(s){const t={"data-mode":s.mode??void 0,"data-required":"required"in s?s.required:void 0,"data-multiple-months":s.numberOfMonths&&s.numberOfMonths>1||void 0,"data-week-numbers":s.showWeekNumber||void 0,"data-broadcast-calendar":s.broadcastCalendar||void 0,"data-nav-layout":s.navLayout||void 0};return Object.entries(s).forEach(([a,r])=>{a.startsWith("data-")&&(t[a]=r)}),t}function $a(){const s={};for(const t in K)s[K[t]]=`rdp-${K[t]}`;for(const t in De)s[De[t]]=`rdp-${De[t]}`;for(const t in xs)s[xs[t]]=`rdp-${xs[t]}`;for(const t in Qe)s[Qe[t]]=`rdp-${Qe[t]}`;return s}function Mn(s,t,a){return(a??new Xe(t)).formatMonthYear(s)}const Ad=Mn;function Pd(s,t,a){return(a??new Xe(t)).format(s,"d")}function Rd(s,t=Ss){return t.format(s,"LLLL")}function Md(s,t,a){return(a??new Xe(t)).format(s,"cccccc")}function Od(s,t=Ss){return s<10?t.formatNumber(`0${s.toLocaleString()}`):t.formatNumber(`${s.toLocaleString()}`)}function Ed(){return""}function On(s,t=Ss){return t.format(s,"yyyy")}const Ld=On,Fd=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Mn,formatDay:Pd,formatMonthCaption:Ad,formatMonthDropdown:Rd,formatWeekNumber:Od,formatWeekNumberHeader:Ed,formatWeekdayName:Md,formatYearCaption:Ld,formatYearDropdown:On},Symbol.toStringTag,{value:"Module"}));function _d(s){return s?.formatMonthCaption&&!s.formatCaption&&(s.formatCaption=s.formatMonthCaption),s?.formatYearCaption&&!s.formatYearDropdown&&(s.formatYearDropdown=s.formatYearCaption),{...Fd,...s}}function Bd(s,t,a,r,n){const{startOfMonth:i,startOfYear:l,endOfYear:c,eachMonthOfInterval:o,getMonth:j}=n;return o({start:l(s),end:c(s)}).map(x=>{const N=r.formatMonthDropdown(x,n),p=j(x),O=t&&x<i(t)||a&&x>i(a)||!1;return{value:p,label:N,disabled:O}})}function qd(s,t={},a={}){let r={...t?.[K.Day]};return Object.entries(s).filter(([,n])=>n===!0).forEach(([n])=>{r={...r,...a?.[n]}}),r}function Ud(s,t,a){const r=s.today(),n=t?s.startOfISOWeek(r):s.startOfWeek(r),i=[];for(let l=0;l<7;l++){const c=s.addDays(n,l);i.push(c)}return i}function Gd(s,t,a,r,n=!1){if(!s||!t)return;const{startOfYear:i,endOfYear:l,addYears:c,getYear:o,isBefore:j,isSameYear:y}=r,f=i(s),x=l(t),N=[];let p=f;for(;j(p,x)||y(p,x);)N.push(p),p=c(p,1);return n&&N.reverse(),N.map(O=>{const M=a.formatYearDropdown(O,r);return{value:o(O),label:M,disabled:!1}})}function En(s,t,a,r){let n=(r??new Xe(a)).format(s,"PPPP");return t.today&&(n=`Today, ${n}`),t.selected&&(n=`${n}, selected`),n}const Wd=En;function Ln(s,t,a){return(a??new Xe(t)).formatMonthYear(s)}const $d=Ln;function Vd(s,t,a,r){let n=(r??new Xe(a)).format(s,"PPPP");return t?.today&&(n=`Today, ${n}`),n}function Hd(s){return"Choose the Month"}function zd(){return""}function Yd(s){return"Go to the Next Month"}function Qd(s){return"Go to the Previous Month"}function Kd(s,t,a){return(a??new Xe(t)).format(s,"cccc")}function Zd(s,t){return`Week ${s}`}function Xd(s){return"Week Number"}function Jd(s){return"Choose the Year"}const em=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:$d,labelDay:Wd,labelDayButton:En,labelGrid:Ln,labelGridcell:Vd,labelMonthDropdown:Hd,labelNav:zd,labelNext:Yd,labelPrevious:Qd,labelWeekNumber:Zd,labelWeekNumberHeader:Xd,labelWeekday:Kd,labelYearDropdown:Jd},Symbol.toStringTag,{value:"Module"})),Pt=s=>s instanceof HTMLElement?s:null,pa=s=>[...s.querySelectorAll("[data-animated-month]")??[]],sm=s=>Pt(s.querySelector("[data-animated-month]")),ja=s=>Pt(s.querySelector("[data-animated-caption]")),fa=s=>Pt(s.querySelector("[data-animated-weeks]")),tm=s=>Pt(s.querySelector("[data-animated-nav]")),am=s=>Pt(s.querySelector("[data-animated-weekdays]"));function rm(s,t,{classNames:a,months:r,focused:n,dateLib:i}){const l=h.useRef(null),c=h.useRef(r),o=h.useRef(!1);h.useLayoutEffect(()=>{const j=c.current;if(c.current=r,!t||!s.current||!(s.current instanceof HTMLElement)||r.length===0||j.length===0||r.length!==j.length)return;const y=i.isSameMonth(r[0].date,j[0].date),f=i.isAfter(r[0].date,j[0].date),x=f?a[Qe.caption_after_enter]:a[Qe.caption_before_enter],N=f?a[Qe.weeks_after_enter]:a[Qe.weeks_before_enter],p=l.current,O=s.current.cloneNode(!0);if(O instanceof HTMLElement?(pa(O).forEach(C=>{if(!(C instanceof HTMLElement))return;const D=sm(C);D&&C.contains(D)&&C.removeChild(D);const g=ja(C);g&&g.classList.remove(x);const u=fa(C);u&&u.classList.remove(N)}),l.current=O):l.current=null,o.current||y||n)return;const M=p instanceof HTMLElement?pa(p):[],k=pa(s.current);if(k?.every(b=>b instanceof HTMLElement)&&M&&M.every(b=>b instanceof HTMLElement)){o.current=!0,s.current.style.isolation="isolate";const b=tm(s.current);b&&(b.style.zIndex="1"),k.forEach((C,D)=>{const g=M[D];if(!g)return;C.style.position="relative",C.style.overflow="hidden";const u=ja(C);u&&u.classList.add(x);const d=fa(C);d&&d.classList.add(N);const v=()=>{o.current=!1,s.current&&(s.current.style.isolation=""),b&&(b.style.zIndex=""),u&&u.classList.remove(x),d&&d.classList.remove(N),C.style.position="",C.style.overflow="",C.contains(g)&&C.removeChild(g)};g.style.pointerEvents="none",g.style.position="absolute",g.style.overflow="hidden",g.setAttribute("aria-hidden","true");const m=am(g);m&&(m.style.opacity="0");const P=ja(g);P&&(P.classList.add(f?a[Qe.caption_before_exit]:a[Qe.caption_after_exit]),P.addEventListener("animationend",v));const R=fa(g);R&&R.classList.add(f?a[Qe.weeks_before_exit]:a[Qe.weeks_after_exit]),C.insertBefore(g,C.firstChild)})}})}function nm(s,t,a,r){const n=s[0],i=s[s.length-1],{ISOWeek:l,fixedWeeks:c,broadcastCalendar:o}=a??{},{addDays:j,differenceInCalendarDays:y,differenceInCalendarMonths:f,endOfBroadcastWeek:x,endOfISOWeek:N,endOfMonth:p,endOfWeek:O,isAfter:M,startOfBroadcastWeek:k,startOfISOWeek:b,startOfWeek:C}=r,D=o?k(n,r):l?b(n):C(n),g=o?x(i):l?N(p(i)):O(p(i)),u=y(g,D),d=f(i,n)+1,v=[];for(let R=0;R<=u;R++){const G=j(D,R);if(t&&M(G,t))break;v.push(G)}const P=(o?35:42)*d;if(c&&v.length<P){const R=P-v.length;for(let G=0;G<R;G++){const U=j(v[v.length-1],1);v.push(U)}}return v}function im(s){const t=[];return s.reduce((a,r)=>{const n=r.weeks.reduce((i,l)=>i.concat(l.days.slice()),t.slice());return a.concat(n.slice())},t.slice())}function lm(s,t,a,r){const{numberOfMonths:n=1}=a,i=[];for(let l=0;l<n;l++){const c=r.addMonths(s,l);if(t&&c>t)break;i.push(c)}return i}function gr(s,t,a,r){const{month:n,defaultMonth:i,today:l=r.today(),numberOfMonths:c=1}=s;let o=n||i||l;const{differenceInCalendarMonths:j,addMonths:y,startOfMonth:f}=r;if(a&&j(a,o)<c-1){const x=-1*(c-1);o=y(a,x)}return t&&j(o,t)<0&&(o=t),f(o)}function cm(s,t,a,r){const{addDays:n,endOfBroadcastWeek:i,endOfISOWeek:l,endOfMonth:c,endOfWeek:o,getISOWeek:j,getWeek:y,startOfBroadcastWeek:f,startOfISOWeek:x,startOfWeek:N}=r,p=s.reduce((O,M)=>{const k=a.broadcastCalendar?f(M,r):a.ISOWeek?x(M):N(M),b=a.broadcastCalendar?i(M):a.ISOWeek?l(c(M)):o(c(M)),C=t.filter(d=>d>=k&&d<=b),D=a.broadcastCalendar?35:42;if(a.fixedWeeks&&C.length<D){const d=t.filter(v=>{const m=D-C.length;return v>b&&v<=n(b,m)});C.push(...d)}const g=C.reduce((d,v)=>{const m=a.ISOWeek?j(v):y(v),P=d.find(G=>G.weekNumber===m),R=new Dn(v,M,r);return P?P.days.push(R):d.push(new Xo(m,[R])),d},[]),u=new Zo(M,g);return O.push(u),O},[]);return a.reverseMonths?p.reverse():p}function om(s,t){let{startMonth:a,endMonth:r}=s;const{startOfYear:n,startOfDay:i,startOfMonth:l,endOfMonth:c,addYears:o,endOfYear:j,newDate:y,today:f}=t,{fromYear:x,toYear:N,fromMonth:p,toMonth:O}=s;!a&&p&&(a=p),!a&&x&&(a=t.newDate(x,0,1)),!r&&O&&(r=O),!r&&N&&(r=y(N,11,31));const M=s.captionLayout==="dropdown"||s.captionLayout==="dropdown-years";return a?a=l(a):x?a=y(x,0,1):!a&&M&&(a=n(o(s.today??f(),-100))),r?r=c(r):N?r=y(N,11,31):!r&&M&&(r=j(s.today??f())),[a&&i(a),r&&i(r)]}function dm(s,t,a,r){if(a.disableNavigation)return;const{pagedNavigation:n,numberOfMonths:i=1}=a,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:o}=r,j=n?i:1,y=l(s);if(!t)return c(y,j);if(!(o(t,s)<i))return c(y,j)}function mm(s,t,a,r){if(a.disableNavigation)return;const{pagedNavigation:n,numberOfMonths:i}=a,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:o}=r,j=n?i??1:1,y=l(s);if(!t)return c(y,-j);if(!(o(y,t)<=0))return c(y,-j)}function um(s){const t=[];return s.reduce((a,r)=>a.concat(r.weeks.slice()),t.slice())}function Jt(s,t){const[a,r]=h.useState(s);return[t===void 0?a:t,r]}function xm(s,t){const[a,r]=om(s,t),{startOfMonth:n,endOfMonth:i}=t,l=gr(s,a,r,t),[c,o]=Jt(l,s.month?l:void 0);h.useEffect(()=>{const u=gr(s,a,r,t);o(u)},[s.timeZone]);const j=lm(c,r,s,t),y=nm(j,s.endMonth?i(s.endMonth):void 0,s,t),f=cm(j,y,s,t),x=um(f),N=im(f),p=mm(c,a,s,t),O=dm(c,r,s,t),{disableNavigation:M,onMonthChange:k}=s,b=u=>x.some(d=>d.days.some(v=>v.isEqualTo(u))),C=u=>{if(M)return;let d=n(u);a&&d<n(a)&&(d=n(a)),r&&d>n(r)&&(d=n(r)),o(d),k?.(d)};return{months:f,weeks:x,days:N,navStart:a,navEnd:r,previousMonth:p,nextMonth:O,goToMonth:C,goToDay:u=>{b(u)||C(u.date)}}}var ys;(function(s){s[s.Today=0]="Today",s[s.Selected=1]="Selected",s[s.LastFocused=2]="LastFocused",s[s.FocusedModifier=3]="FocusedModifier"})(ys||(ys={}));function pr(s){return!s[De.disabled]&&!s[De.hidden]&&!s[De.outside]}function hm(s,t,a,r){let n,i=-1;for(const l of s){const c=t(l);pr(c)&&(c[De.focused]&&i<ys.FocusedModifier?(n=l,i=ys.FocusedModifier):r?.isEqualTo(l)&&i<ys.LastFocused?(n=l,i=ys.LastFocused):a(l.date)&&i<ys.Selected?(n=l,i=ys.Selected):c[De.today]&&i<ys.Today&&(n=l,i=ys.Today))}return n||(n=s.find(l=>pr(t(l)))),n}function gm(s,t,a,r,n,i,l){const{ISOWeek:c,broadcastCalendar:o}=i,{addDays:j,addMonths:y,addWeeks:f,addYears:x,endOfBroadcastWeek:N,endOfISOWeek:p,endOfWeek:O,max:M,min:k,startOfBroadcastWeek:b,startOfISOWeek:C,startOfWeek:D}=l;let u={day:j,week:f,month:y,year:x,startOfWeek:d=>o?b(d,l):c?C(d):D(d),endOfWeek:d=>o?N(d):c?p(d):O(d)}[s](a,t==="after"?1:-1);return t==="before"&&r?u=M([r,u]):t==="after"&&n&&(u=k([n,u])),u}function Fn(s,t,a,r,n,i,l,c=0){if(c>365)return;const o=gm(s,t,a.date,r,n,i,l),j=!!(i.disabled&&Ps(o,i.disabled,l)),y=!!(i.hidden&&Ps(o,i.hidden,l)),f=o,x=new Dn(o,f,l);return!j&&!y?x:Fn(s,t,x,r,n,i,l,c+1)}function pm(s,t,a,r,n){const{autoFocus:i}=s,[l,c]=h.useState(),o=hm(t.days,a,r||(()=>!1),l),[j,y]=h.useState(i?o:void 0);return{isFocusTarget:O=>!!o?.isEqualTo(O),setFocused:y,focused:j,blur:()=>{c(j),y(void 0)},moveFocus:(O,M)=>{if(!j)return;const k=Fn(O,M,j,t.navStart,t.navEnd,s,n);k&&(t.goToDay(k),y(k))}}}function jm(s,t){const{selected:a,required:r,onSelect:n}=s,[i,l]=Jt(a,n?a:void 0),c=n?a:i,{isSameDay:o}=t,j=N=>c?.some(p=>o(p,N))??!1,{min:y,max:f}=s;return{selected:c,select:(N,p,O)=>{let M=[...c??[]];if(j(N)){if(c?.length===y||r&&c?.length===1)return;M=c?.filter(k=>!o(k,N))}else c?.length===f?M=[N]:M=[...M,N];return n||l(M),n?.(M,N,p,O),M},isSelected:j}}function fm(s,t,a=0,r=0,n=!1,i=Ss){const{from:l,to:c}=t||{},{isSameDay:o,isAfter:j,isBefore:y}=i;let f;if(!l&&!c)f={from:s,to:a>0?void 0:s};else if(l&&!c)o(l,s)?a===0?f={from:l,to:s}:n?f={from:l,to:void 0}:f=void 0:y(s,l)?f={from:s,to:l}:f={from:l,to:s};else if(l&&c)if(o(l,s)&&o(c,s))n?f={from:l,to:c}:f=void 0;else if(o(l,s))f={from:l,to:a>0?void 0:s};else if(o(c,s))f={from:s,to:a>0?void 0:s};else if(y(s,l))f={from:s,to:c};else if(j(s,l))f={from:l,to:s};else if(j(s,c))f={from:l,to:s};else throw new Error("Invalid range");if(f?.from&&f?.to){const x=i.differenceInCalendarDays(f.to,f.from);r>0&&x>r?f={from:s,to:void 0}:a>1&&x<a&&(f={from:s,to:void 0})}return f}function vm(s,t,a=Ss){const r=Array.isArray(t)?t:[t];let n=s.from;const i=a.differenceInCalendarDays(s.to,s.from),l=Math.min(i,6);for(let c=0;c<=l;c++){if(r.includes(n.getDay()))return!0;n=a.addDays(n,1)}return!1}function jr(s,t,a=Ss){return As(s,t.from,!1,a)||As(s,t.to,!1,a)||As(t,s.from,!1,a)||As(t,s.to,!1,a)}function ym(s,t,a=Ss){const r=Array.isArray(t)?t:[t];if(r.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:a.isDate(c)?As(s,c,!1,a):Rn(c,a)?c.some(o=>As(s,o,!1,a)):Wa(c)?c.from&&c.to?jr(s,{from:c.from,to:c.to},a):!1:Pn(c)?vm(s,c.dayOfWeek,a):Tn(c)?a.isAfter(c.before,c.after)?jr(s,{from:a.addDays(c.after,1),to:a.addDays(c.before,-1)},a):Ps(s.from,c,a)||Ps(s.to,c,a):In(c)||An(c)?Ps(s.from,c,a)||Ps(s.to,c,a):!1))return!0;const l=r.filter(c=>typeof c=="function");if(l.length){let c=s.from;const o=a.differenceInCalendarDays(s.to,s.from);for(let j=0;j<=o;j++){if(l.some(y=>y(c)))return!0;c=a.addDays(c,1)}}return!1}function Nm(s,t){const{disabled:a,excludeDisabled:r,selected:n,required:i,onSelect:l}=s,[c,o]=Jt(n,l?n:void 0),j=l?n:c;return{selected:j,select:(x,N,p)=>{const{min:O,max:M}=s,k=x?fm(x,j,O,M,i,t):void 0;return r&&a&&k?.from&&k.to&&ym({from:k.from,to:k.to},a,t)&&(k.from=x,k.to=void 0),l||o(k),l?.(k,x,N,p),k},isSelected:x=>j&&As(j,x,!1,t)}}function bm(s,t){const{selected:a,required:r,onSelect:n}=s,[i,l]=Jt(a,n?a:void 0),c=n?a:i,{isSameDay:o}=t;return{selected:c,select:(f,x,N)=>{let p=f;return!r&&c&&c&&o(f,c)&&(p=void 0),n||l(p),n?.(p,f,x,N),p},isSelected:f=>c?o(c,f):!1}}function wm(s,t){const a=bm(s,t),r=jm(s,t),n=Nm(s,t);switch(s.mode){case"single":return a;case"multiple":return r;case"range":return n;default:return}}function Sm(s){let t=s;t.timeZone&&(t={...s},t.today&&(t.today=new _e(t.today,t.timeZone)),t.month&&(t.month=new _e(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new _e(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new _e(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new _e(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new _e(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(me=>new _e(me,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new _e(t.selected.from,t.timeZone):void 0,to:t.selected.to?new _e(t.selected.to,t.timeZone):void 0}));const{components:a,formatters:r,labels:n,dateLib:i,locale:l,classNames:c}=h.useMemo(()=>{const me={...Ga,...t.locale};return{dateLib:new Xe({locale:me,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Td(t.components),formatters:_d(t.formatters),labels:{...em,...t.labels},locale:me,classNames:{...$a(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:o,mode:j,navLayout:y,numberOfMonths:f=1,onDayBlur:x,onDayClick:N,onDayFocus:p,onDayKeyDown:O,onDayMouseEnter:M,onDayMouseLeave:k,onNextClick:b,onPrevClick:C,showWeekNumber:D,styles:g}=t,{formatCaption:u,formatDay:d,formatMonthDropdown:v,formatWeekNumber:m,formatWeekNumberHeader:P,formatWeekdayName:R,formatYearDropdown:G}=r,U=xm(t,i),{days:T,months:$,navStart:_,navEnd:H,previousMonth:z,nextMonth:te,goToMonth:ce}=U,re=Dd(T,t,_,H,i),{isSelected:Bs,select:F,selected:ne}=wm(t,i)??{},{blur:Ae,focused:He,isFocusTarget:ea,moveFocus:Rt,setFocused:Cs}=pm(t,U,re,Bs??(()=>!1),i),{labelDayButton:sa,labelGridcell:ta,labelGrid:aa,labelMonthDropdown:ra,labelNav:mt,labelPrevious:na,labelNext:ia,labelWeekday:la,labelWeekNumber:ca,labelWeekNumberHeader:Z,labelYearDropdown:oe}=n,Re=h.useMemo(()=>Ud(i,t.ISOWeek),[i,t.ISOWeek]),ie=j!==void 0||N!==void 0,Je=h.useCallback(()=>{z&&(ce(z),C?.(z))},[z,ce,C]),qe=h.useCallback(()=>{te&&(ce(te),b?.(te))},[ce,te,b]),Un=h.useCallback((me,Ce)=>ae=>{ae.preventDefault(),ae.stopPropagation(),Cs(me),F?.(me.date,Ce,ae),N?.(me.date,Ce,ae)},[F,N,Cs]),Gn=h.useCallback((me,Ce)=>ae=>{Cs(me),p?.(me.date,Ce,ae)},[p,Cs]),Wn=h.useCallback((me,Ce)=>ae=>{Ae(),x?.(me.date,Ce,ae)},[Ae,x]),$n=h.useCallback((me,Ce)=>ae=>{const Ne={ArrowLeft:[ae.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ae.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ae.shiftKey?"year":"week","after"],ArrowUp:[ae.shiftKey?"year":"week","before"],PageUp:[ae.shiftKey?"year":"month","before"],PageDown:[ae.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ne[ae.key]){ae.preventDefault(),ae.stopPropagation();const[Ye,he]=Ne[ae.key];Rt(Ye,he)}O?.(me.date,Ce,ae)},[Rt,O,t.dir]),Vn=h.useCallback((me,Ce)=>ae=>{M?.(me.date,Ce,ae)},[M]),Hn=h.useCallback((me,Ce)=>ae=>{k?.(me.date,Ce,ae)},[k]),zn=h.useCallback(me=>Ce=>{const ae=Number(Ce.target.value),Ne=i.setMonth(i.startOfMonth(me),ae);ce(Ne)},[i,ce]),Yn=h.useCallback(me=>Ce=>{const ae=Number(Ce.target.value),Ne=i.setYear(i.startOfMonth(me),ae);ce(Ne)},[i,ce]),{className:Qn,style:Kn}=h.useMemo(()=>({className:[c[K.Root],t.className].filter(Boolean).join(" "),style:{...g?.[K.Root],...t.style}}),[c,t.className,t.style,g]),Zn=Id(t),Ha=h.useRef(null);rm(Ha,!!t.animate,{classNames:c,months:$,focused:He,dateLib:i});const Xn={dayPickerProps:t,selected:ne,select:F,isSelected:Bs,months:$,nextMonth:te,previousMonth:z,goToMonth:ce,getModifiers:re,components:a,classNames:c,styles:g,labels:n,formatters:r};return q.createElement(kn.Provider,{value:Xn},q.createElement(a.Root,{rootRef:t.animate?Ha:void 0,className:Qn,style:Kn,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Zn},q.createElement(a.Months,{className:c[K.Months],style:g?.[K.Months]},!t.hideNavigation&&!y&&q.createElement(a.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[K.Nav],style:g?.[K.Nav],"aria-label":mt(),onPreviousClick:Je,onNextClick:qe,previousMonth:z,nextMonth:te}),$.map((me,Ce)=>q.createElement(a.Month,{"data-animated-month":t.animate?"true":void 0,className:c[K.Month],style:g?.[K.Month],key:Ce,displayIndex:Ce,calendarMonth:me},y==="around"&&!t.hideNavigation&&Ce===0&&q.createElement(a.PreviousMonthButton,{type:"button",className:c[K.PreviousMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":na(z),onClick:Je,"data-animated-button":t.animate?"true":void 0},q.createElement(a.Chevron,{disabled:z?void 0:!0,className:c[K.Chevron],orientation:t.dir==="rtl"?"right":"left"})),q.createElement(a.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[K.MonthCaption],style:g?.[K.MonthCaption],calendarMonth:me,displayIndex:Ce},o?.startsWith("dropdown")?q.createElement(a.DropdownNav,{className:c[K.Dropdowns],style:g?.[K.Dropdowns]},(()=>{const ae=o==="dropdown"||o==="dropdown-months"?q.createElement(a.MonthsDropdown,{key:"month",className:c[K.MonthsDropdown],"aria-label":ra(),classNames:c,components:a,disabled:!!t.disableNavigation,onChange:zn(me.date),options:Bd(me.date,_,H,r,i),style:g?.[K.Dropdown],value:i.getMonth(me.date)}):q.createElement("span",{key:"month"},v(me.date,i)),Ne=o==="dropdown"||o==="dropdown-years"?q.createElement(a.YearsDropdown,{key:"year",className:c[K.YearsDropdown],"aria-label":oe(i.options),classNames:c,components:a,disabled:!!t.disableNavigation,onChange:Yn(me.date),options:Gd(_,H,r,i,!!t.reverseYears),style:g?.[K.Dropdown],value:i.getYear(me.date)}):q.createElement("span",{key:"year"},G(me.date,i));return i.getMonthYearOrder()==="year-first"?[Ne,ae]:[ae,Ne]})(),q.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},u(me.date,i.options,i))):q.createElement(a.CaptionLabel,{className:c[K.CaptionLabel],role:"status","aria-live":"polite"},u(me.date,i.options,i))),y==="around"&&!t.hideNavigation&&Ce===f-1&&q.createElement(a.NextMonthButton,{type:"button",className:c[K.NextMonthButton],tabIndex:te?void 0:-1,"aria-disabled":te?void 0:!0,"aria-label":ia(te),onClick:qe,"data-animated-button":t.animate?"true":void 0},q.createElement(a.Chevron,{disabled:te?void 0:!0,className:c[K.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Ce===f-1&&y==="after"&&!t.hideNavigation&&q.createElement(a.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[K.Nav],style:g?.[K.Nav],"aria-label":mt(),onPreviousClick:Je,onNextClick:qe,previousMonth:z,nextMonth:te}),q.createElement(a.MonthGrid,{role:"grid","aria-multiselectable":j==="multiple"||j==="range","aria-label":aa(me.date,i.options,i)||void 0,className:c[K.MonthGrid],style:g?.[K.MonthGrid]},!t.hideWeekdays&&q.createElement(a.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[K.Weekdays],style:g?.[K.Weekdays]},D&&q.createElement(a.WeekNumberHeader,{"aria-label":Z(i.options),className:c[K.WeekNumberHeader],style:g?.[K.WeekNumberHeader],scope:"col"},P()),Re.map(ae=>q.createElement(a.Weekday,{"aria-label":la(ae,i.options,i),className:c[K.Weekday],key:String(ae),style:g?.[K.Weekday],scope:"col"},R(ae,i.options,i)))),q.createElement(a.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[K.Weeks],style:g?.[K.Weeks]},me.weeks.map(ae=>q.createElement(a.Week,{className:c[K.Week],key:ae.weekNumber,style:g?.[K.Week],week:ae},D&&q.createElement(a.WeekNumber,{week:ae,style:g?.[K.WeekNumber],"aria-label":ca(ae.weekNumber,{locale:l}),className:c[K.WeekNumber],scope:"row",role:"rowheader"},m(ae.weekNumber,i)),ae.days.map(Ne=>{const{date:Ye}=Ne,he=re(Ne);if(he[De.focused]=!he.hidden&&!!He?.isEqualTo(Ne),he[xs.selected]=Bs?.(Ye)||he.selected,Wa(ne)){const{from:oa,to:da}=ne;he[xs.range_start]=!!(oa&&da&&i.isSameDay(Ye,oa)),he[xs.range_end]=!!(oa&&da&&i.isSameDay(Ye,da)),he[xs.range_middle]=As(ne,Ye,!0,i)}const Jn=qd(he,g,t.modifiersStyles),ei=kd(he,c,t.modifiersClassNames),si=!ie&&!he.hidden?ta(Ye,he,i.options,i):void 0;return q.createElement(a.Day,{key:`${i.format(Ye,"yyyy-MM-dd")}_${i.format(Ne.displayMonth,"yyyy-MM")}`,day:Ne,modifiers:he,className:ei.join(" "),style:Jn,role:"gridcell","aria-selected":he.selected||void 0,"aria-label":si,"data-day":i.format(Ye,"yyyy-MM-dd"),"data-month":Ne.outside?i.format(Ye,"yyyy-MM"):void 0,"data-selected":he.selected||void 0,"data-disabled":he.disabled||void 0,"data-hidden":he.hidden||void 0,"data-outside":Ne.outside||void 0,"data-focused":he.focused||void 0,"data-today":he.today||void 0},!he.hidden&&ie?q.createElement(a.DayButton,{className:c[K.DayButton],style:g?.[K.DayButton],type:"button",day:Ne,modifiers:he,disabled:he.disabled||void 0,tabIndex:ea(Ne)?0:-1,"aria-label":sa(Ye,he,i.options,i),onClick:Un(Ne,he),onBlur:Wn(Ne,he),onFocus:Gn(Ne,he),onKeyDown:$n(Ne,he),onMouseEnter:Vn(Ne,he),onMouseLeave:Hn(Ne,he)},d(Ye,i.options,i)):!he.hidden&&d(Ne.date,i.options,i))})))))))),t.footer&&q.createElement(a.Footer,{className:c[K.Footer],style:g?.[K.Footer],role:"status","aria-live":"polite"},t.footer)))}function Cm({className:s,classNames:t,showOutsideDays:a=!0,captionLayout:r="label",buttonVariant:n="ghost",formatters:i,components:l,...c}){const o=$a();return e.jsx(Sm,{showOutsideDays:a,className:W("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,s),captionLayout:r,formatters:{formatMonthDropdown:j=>j.toLocaleString("default",{month:"short"}),...i},classNames:{root:W("w-fit",o.root),months:W("relative flex flex-col gap-4 md:flex-row",o.months),month:W("flex w-full flex-col gap-4",o.month),nav:W("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",o.nav),button_previous:W(ka({variant:n}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",o.button_previous),button_next:W(ka({variant:n}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",o.button_next),month_caption:W("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",o.month_caption),dropdowns:W("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",o.dropdowns),dropdown_root:W("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",o.dropdown_root),dropdown:W("bg-popover absolute inset-0 opacity-0",o.dropdown),caption_label:W("select-none font-medium",r==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",o.caption_label),table:"w-full border-collapse",weekdays:W("flex",o.weekdays),weekday:W("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",o.weekday),week:W("mt-2 flex w-full",o.week),week_number_header:W("w-[--cell-size] select-none",o.week_number_header),week_number:W("text-muted-foreground select-none text-[0.8rem]",o.week_number),day:W("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",o.day),range_start:W("bg-accent rounded-l-md",o.range_start),range_middle:W("rounded-none",o.range_middle),range_end:W("bg-accent rounded-r-md",o.range_end),today:W("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",o.today),outside:W("text-muted-foreground aria-selected:text-muted-foreground",o.outside),disabled:W("text-muted-foreground opacity-50",o.disabled),hidden:W("invisible",o.hidden),...t},components:{Root:({className:j,rootRef:y,...f})=>e.jsx("div",{"data-slot":"calendar",ref:y,className:W(j),...f}),Chevron:({className:j,orientation:y,...f})=>y==="left"?e.jsx(Ci,{className:W("size-4",j),...f}):y==="right"?e.jsx(Di,{className:W("size-4",j),...f}):e.jsx(Oa,{className:W("size-4",j),...f}),DayButton:Dm,WeekNumber:({children:j,...y})=>e.jsx("td",{...y,children:e.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:j})}),...l},...c})}function Dm({className:s,day:t,modifiers:a,...r}){const n=$a(),i=h.useRef(null);return h.useEffect(()=>{a.focused&&i.current?.focus()},[a.focused]),e.jsx(E,{ref:i,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":a.selected&&!a.range_start&&!a.range_end&&!a.range_middle,"data-range-start":a.range_start,"data-range-end":a.range_end,"data-range-middle":a.range_middle,className:W("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",n.day,s),...r})}const km=Ti,Tm=Ii,_n=h.forwardRef(({className:s,align:t="center",sideOffset:a=4,...r},n)=>e.jsx(ki,{children:e.jsx(Vr,{ref:n,align:t,sideOffset:a,className:W("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",s),...r})}));_n.displayName=Vr.displayName;const ks=[{id:"SCH-001",farmerId:"FARM-001",farmerName:"राम कुमार",location:"Village A, District B",scheduledDate:new Date().toISOString(),scheduledTime:"09:00",assignedWorker:"W001",vehicleId:"V001",priority:"high",notes:"Regular pickup",status:"scheduled",estimatedDuration:45,estimatedDistance:12.5},{id:"SCH-002",farmerId:"FARM-002",farmerName:"श्याम यादव",location:"Village C, District B",scheduledDate:new Date(Date.now()+864e5).toISOString(),scheduledTime:"10:30",assignedWorker:"W002",vehicleId:"V002",priority:"medium",notes:"Buffalo dung collection",status:"scheduled",estimatedDuration:30,estimatedDistance:8.2}],Im=async s=>Promise.resolve(),Am=async(s,t)=>Promise.resolve(),Pm=async s=>Promise.resolve(),Rm={en:{title:"Pickup Scheduler",subtitle:"Route planning and farmer assignment management",createSchedule:"Create Schedule",editSchedule:"Edit Schedule",deleteSchedule:"Delete Schedule",scheduleList:"Schedule List",routeOptimization:"Route Optimization",farmerAssignments:"Farmer Assignments",todaysPickups:"Today's Pickups",upcomingSchedules:"Upcoming Schedules",routeHistory:"Route History",farmerId:"Farmer ID",farmerName:"Farmer Name",location:"Location",scheduledTime:"Scheduled Time",estimatedDuration:"Est. Duration",status:"Status",assignedWorker:"Assigned Worker",vehicleId:"Vehicle ID",priority:"Priority",notes:"Notes",actions:"Actions",create:"Create",update:"Update",cancel:"Cancel",delete:"Delete",scheduled:"Scheduled",inProgress:"In Progress",completed:"Completed",delayed:"Delayed",cancelled:"Cancelled",high:"High",medium:"Medium",low:"Low",selectDate:"Select date",selectTime:"Select time",selectWorker:"Select worker",selectVehicle:"Select vehicle",optimizeRoute:"Optimize Route",viewMap:"View Map",contactFarmer:"Contact Farmer",estimatedTime:"ETA",distance:"Distance",totalDistance:"Total Distance",totalDuration:"Total Duration",numberOfStops:"Number of Stops",efficiency:"Route Efficiency"},hi:{title:"पिकअप शेड्यूलर",subtitle:"रूट प्लानिंग और किसान असाइनमेंट प्रबंधन",createSchedule:"शेड्यूल बनाएं",editSchedule:"शेड्यूल संपादित करें",deleteSchedule:"शेड्यूल हटाएं",scheduleList:"शेड्यूल सूची",routeOptimization:"रूट ऑप्टिमाइज़ेशन",farmerAssignments:"किसान असाइनमेंट",todaysPickups:"आज के पिकअप",upcomingSchedules:"आने वाले शेड्यूल",routeHistory:"रूट इतिहास",farmerId:"किसान आईडी",farmerName:"किसान का नाम",location:"स्थान",scheduledTime:"निर्धारित समय",estimatedDuration:"अनुमानित अवधि",status:"स्थिति",assignedWorker:"असाइन किया गया कार्यकर्ता",vehicleId:"वाहन आईडी",priority:"प्राथमिकता",notes:"टिप्पणियां",actions:"कार्य",create:"बनाएं",update:"अपडेट करें",cancel:"रद्द करें",delete:"हटाएं",scheduled:"निर्धारित",inProgress:"प्रगति में",completed:"पूर्ण",delayed:"विलंबित",cancelled:"रद्द",high:"उच्च",medium:"मध्यम",low:"निम्न",selectDate:"दिनांक चुनें",selectTime:"समय चुनें",selectWorker:"कार्यकर्ता चुनें",selectVehicle:"वाहन चुनें",optimizeRoute:"रूट ऑप्टिमाइज़ करें",viewMap:"मैप देखें",contactFarmer:"किसान से संपर्क करें",estimatedTime:"अनुमानित पहुंच समय",distance:"दूरी",totalDistance:"कुल दूरी",totalDuration:"कुल अवधि",numberOfStops:"स्टॉप की संख्या",efficiency:"रूट दक्षता"}},fr=s=>{switch(s){case"scheduled":return"bg-blue-100 text-blue-800";case"inProgress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"delayed":return"bg-orange-100 text-orange-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Mm=s=>{switch(s){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Om=s=>{switch(s){case"scheduled":return e.jsx(we,{className:"w-4 h-4"});case"inProgress":return e.jsx(hs,{className:"w-4 h-4"});case"completed":return e.jsx(de,{className:"w-4 h-4"});case"delayed":return e.jsx(Ue,{className:"w-4 h-4"});case"cancelled":return e.jsx(Ue,{className:"w-4 h-4"});default:return e.jsx(we,{className:"w-4 h-4"})}},vr=({schedule:s,onSubmit:t,onCancel:a,t:r})=>{const[n,i]=h.useState({farmerId:s?.farmerId||"",farmerName:s?.farmerName||"",location:s?.location||"",scheduledDate:s?.scheduledDate?new Date(s.scheduledDate):new Date,scheduledTime:s?.scheduledTime||"",assignedWorker:s?.assignedWorker||"",vehicleId:s?.vehicleId||"",priority:s?.priority||"medium",notes:s?.notes||""}),l=c=>{c.preventDefault(),t({...n,scheduledDate:n.scheduledDate.toISOString()})};return e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"farmerId",children:r("farmerId")}),e.jsx(ee,{id:"farmerId",value:n.farmerId,onChange:c=>i(o=>({...o,farmerId:c.target.value})),placeholder:"FARM-001",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"farmerName",children:r("farmerName")}),e.jsx(ee,{id:"farmerName",value:n.farmerName,onChange:c=>i(o=>({...o,farmerName:c.target.value})),placeholder:"Farmer name",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"location",children:r("location")}),e.jsx(ee,{id:"location",value:n.location,onChange:c=>i(o=>({...o,location:c.target.value})),placeholder:"Village, District",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{children:r("selectDate")}),e.jsxs(km,{children:[e.jsx(Tm,{asChild:!0,children:e.jsxs(E,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"}),n.scheduledDate.toLocaleDateString()]})}),e.jsx(_n,{className:"w-auto p-0",children:e.jsx(Cm,{mode:"single",selected:n.scheduledDate,onSelect:c=>c&&i(o=>({...o,scheduledDate:c})),initialFocus:!0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"scheduledTime",children:r("selectTime")}),e.jsx(ee,{id:"scheduledTime",type:"time",value:n.scheduledTime,onChange:c=>i(o=>({...o,scheduledTime:c.target.value})),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"assignedWorker",children:r("selectWorker")}),e.jsxs(fe,{value:n.assignedWorker,onValueChange:c=>i(o=>({...o,assignedWorker:c})),children:[e.jsx(pe,{children:e.jsx(ve,{placeholder:"Select worker"})}),e.jsxs(je,{children:[e.jsx(B,{value:"W001",children:"राजेश कुमार"}),e.jsx(B,{value:"W002",children:"सुनील यादव"}),e.jsx(B,{value:"W003",children:"अमित शर्मा"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"vehicleId",children:r("selectVehicle")}),e.jsxs(fe,{value:n.vehicleId,onValueChange:c=>i(o=>({...o,vehicleId:c})),children:[e.jsx(pe,{children:e.jsx(ve,{placeholder:"Select vehicle"})}),e.jsxs(je,{children:[e.jsx(B,{value:"V001",children:"Truck - RJ14-AB-1234"}),e.jsx(B,{value:"V002",children:"Van - RJ14-CD-5678"}),e.jsx(B,{value:"V003",children:"Pickup - RJ14-EF-9012"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"priority",children:r("priority")}),e.jsxs(fe,{value:n.priority,onValueChange:c=>i(o=>({...o,priority:c})),children:[e.jsx(pe,{children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"high",children:r("high")}),e.jsx(B,{value:"medium",children:r("medium")}),e.jsx(B,{value:"low",children:r("low")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"notes",children:r("notes")}),e.jsx(ee,{id:"notes",value:n.notes,onChange:c=>i(o=>({...o,notes:c.target.value})),placeholder:"Additional notes..."})]}),e.jsxs(Vs,{children:[e.jsx(E,{type:"button",variant:"outline",onClick:a,children:r("cancel")}),e.jsx(E,{type:"submit",children:r(s?"update":"create")})]})]})},Em=({languageContext:s})=>{const[t,a]=h.useState(!1),[r,n]=h.useState(null),[i,l]=h.useState(null),c=s?.language||"en",o=b=>s?.t(b)||Rm[c][b]||b,j=async b=>{await Im(),a(!1)},y=async b=>{r&&(await Am(r.id),n(null))},f=async()=>{i&&(await Pm(i.id),l(null))},x=ks.filter(b=>new Date(b.scheduledDate).toDateString()===new Date().toDateString()),N=ks.filter(b=>new Date(b.scheduledDate)>new Date&&new Date(b.scheduledDate).toDateString()!==new Date().toDateString()),p=ks.filter(b=>b.status==="inProgress"),O=ks.filter(b=>b.status==="completed"),M=ks.reduce((b,C)=>b+(C.estimatedDistance||0),0),k=ks.length>0?O.length/ks.length*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:o("title")}),e.jsx("p",{className:"text-muted-foreground",children:o("subtitle")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{variant:"outline",className:"gap-2",children:[e.jsx(Ct,{className:"w-4 h-4"}),o("optimizeRoute")]}),e.jsxs(gs,{open:t,onOpenChange:a,children:[e.jsx(dn,{asChild:!0,children:e.jsxs(E,{className:"gap-2",children:[e.jsx(bs,{className:"w-4 h-4"}),o("createSchedule")]})}),e.jsxs(ns,{className:"sm:max-w-[500px]",children:[e.jsxs(is,{children:[e.jsx(ls,{children:o("createSchedule")}),e.jsx(cs,{children:"Create a new pickup schedule for farmer dung collection"})]}),e.jsx(vr,{onSubmit:j,onCancel:()=>a(!1),t:o})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:o("todaysPickups")}),e.jsx(we,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:x.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.length," in progress"]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Active Routes"}),e.jsx(hs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Workers on field"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:o("totalDistance")}),e.jsx(Ai,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[M.toFixed(1)," km"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total planned distance"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:o("efficiency")}),e.jsx(de,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[k.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completion rate"})]})]})]}),e.jsxs($e,{defaultValue:"today",className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-4",children:[e.jsx(X,{value:"today",children:o("todaysPickups")}),e.jsx(X,{value:"upcoming",children:o("upcomingSchedules")}),e.jsx(X,{value:"routes",children:o("routeOptimization")}),e.jsx(X,{value:"assignments",children:o("farmerAssignments")})]}),e.jsx(Y,{value:"today",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:o("todaysPickups")}),e.jsx(se,{children:"Today's scheduled pickups and their current status"})]}),e.jsxs(S,{children:[e.jsxs(Ba,{children:[e.jsx(qa,{children:e.jsxs(Dt,{children:[e.jsx(Ee,{children:o("farmerName")}),e.jsx(Ee,{children:o("location")}),e.jsx(Ee,{children:o("scheduledTime")}),e.jsx(Ee,{children:o("status")}),e.jsx(Ee,{children:o("assignedWorker")}),e.jsx(Ee,{children:o("estimatedTime")}),e.jsx(Ee,{children:o("actions")})]})}),e.jsx(Ua,{children:x.map(b=>e.jsxs(Dt,{children:[e.jsx(Le,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-4 h-4"}),b.farmerName]})}),e.jsx(Le,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4"}),b.location]})}),e.jsx(Le,{children:b.scheduledTime}),e.jsx(Le,{children:e.jsx(L,{className:fr(b.status),children:e.jsxs("div",{className:"flex items-center gap-1",children:[Om(b.status),o(b.status)]})})}),e.jsx(Le,{children:b.assignedWorker}),e.jsx(Le,{children:b.estimatedDuration?`${b.estimatedDuration} min`:"N/A"}),e.jsx(Le,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{size:"sm",variant:"outline",children:e.jsx(Pi,{className:"w-4 h-4"})}),e.jsx(E,{size:"sm",variant:"outline",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx(E,{size:"sm",variant:"outline",onClick:()=>n(b),children:e.jsx(js,{className:"w-4 h-4"})})]})})]},b.id))})]}),x.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(we,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No pickups scheduled for today"})]})]})]})}),e.jsx(Y,{value:"upcoming",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:o("upcomingSchedules")}),e.jsx(se,{children:"Scheduled pickups for the coming days"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[N.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h4",{className:"font-semibold",children:b.farmerName}),e.jsx(L,{className:Mm(b.priority),children:o(b.priority)})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"w-3 h-3"}),b.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Fe,{className:"w-3 h-3"}),new Date(b.scheduledDate).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"w-3 h-3"}),b.scheduledTime]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:fr(b.status),children:o(b.status)}),e.jsx(E,{size:"sm",variant:"outline",onClick:()=>n(b),children:e.jsx(js,{className:"w-4 h-4"})}),e.jsx(E,{size:"sm",variant:"outline",onClick:()=>l(b),children:e.jsx(tt,{className:"w-4 h-4"})})]})]},b.id)),N.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Fe,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No upcoming schedules"})]})]})})]})}),e.jsx(Y,{value:"routes",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:o("routeOptimization")}),e.jsx(se,{children:"Optimize pickup routes for maximum efficiency"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ks.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:o("numberOfStops")})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[M.toFixed(1)," km"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:o("totalDistance")})]})]}),e.jsxs(E,{className:"w-full gap-2",children:[e.jsx(Ct,{className:"w-4 h-4"}),o("optimizeRoute")]})]})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:"Route Efficiency"}),e.jsx(se,{children:"Current route performance metrics"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Completion Rate"}),e.jsxs("span",{children:[k.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${k}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg. Duration:"}),e.jsx("span",{className:"ml-2 font-medium",children:"45 min"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Fuel Efficiency:"}),e.jsx("span",{className:"ml-2 font-medium",children:"12 km/L"})]})]})]})})]})]})}),e.jsx(Y,{value:"assignments",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:o("farmerAssignments")}),e.jsx(se,{children:"Manage farmer-worker assignments and contact information"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:ks.slice(0,10).map(b=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:b.farmerName})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",b.farmerId,")"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"w-3 h-3"}),b.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Te,{className:"w-3 h-3"}),b.assignedWorker]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{size:"sm",variant:"outline",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx(E,{size:"sm",variant:"outline",children:e.jsx(Ze,{className:"w-4 h-4"})})]})]},b.id))})})]})})]}),e.jsx(gs,{open:!!r,onOpenChange:()=>n(null),children:e.jsxs(ns,{className:"sm:max-w-[500px]",children:[e.jsxs(is,{children:[e.jsx(ls,{children:o("editSchedule")}),e.jsx(cs,{children:"Update schedule information and assignments"})]}),r&&e.jsx(vr,{schedule:r,onSubmit:y,onCancel:()=>n(null),t:o})]})}),e.jsx(gs,{open:!!i,onOpenChange:()=>l(null),children:e.jsxs(ns,{children:[e.jsxs(is,{children:[e.jsx(ls,{children:o("deleteSchedule")}),e.jsx(cs,{children:"Are you sure you want to delete this pickup schedule? This action cannot be undone."})]}),e.jsxs(Vs,{children:[e.jsx(E,{variant:"outline",onClick:()=>l(null),children:o("cancel")}),e.jsx(E,{variant:"destructive",onClick:f,children:o("delete")})]})]})})]})},pt=[{id:"TXN-2024-001",farmerId:"FARM-MH-001",farmerName:"राजेश कुमार शर्मा",farmerAadhaar:"****-****-2156",location:"गोकुल गौशाला, मथुरा, उत्तर प्रदेश",phoneNumber:"+91 98765 43210",dungType:"cow",measuredWeight:52.8,qualityGrade:"gradeA",moistureContent:12,paymentMethod:"upi",paymentStatus:"completed",ratePerKg:9.5,totalAmount:501.6,advanceAmount:250,balanceAmount:251.6,notes:"प्रीमियम गुणवत्ता गाय का गोबर। जैविक खाद से पोषित 18 गायों से संग्रह। श्रेष्ठ किण्वन क्षमता के साथ उच्च मीथेन सामग्री की अपेक्षा।",photos:["photo1.jpg","photo2.jpg","photo3.jpg"],measurementDate:"2024-01-15T08:30:00Z",collectionDate:"2024-01-15T09:00:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-001",deviceName:"Smart Scale Alpha-1",timestamp:"2024-01-15T08:32:15Z",temperature:28.5,humidity:65,ph_level:7.2,gas_content:68.5,rfid_tag:"RFID-001-ABC123",gps_coordinates:"27.4924, 77.6737",verification_score:95.8,sensor_readings:{weight_sensor:52.8,quality_sensor:94.2,moisture_sensor:12.1}},batchReference:{batchId:"BATCH-2024-001",digesterId:"DIG-MAIN-001",expectedYield:42.5,fermentationDays:28,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"UP-80-AB-1234",driverName:"मोहन यादव",routeId:"ROUTE-MTH-001",estimatedDelivery:"2024-01-15T11:00:00Z"},inspector:{name:"डॉ. सुरेश गुप्ता",id:"INS-001",signature:!0},certificates:["ORGANIC-CERT-001","QUALITY-CERT-001"],verificationPhotos:["verify1.jpg","verify2.jpg"],qrCode:"QR-TXN-2024-001-ABC123",receiptNumber:"RCP-2024-000001",gstDetails:{gstNumber:"GST09ABCDE1234F1Z5",taxAmount:25.08,cgst:12.54,sgst:12.54}},{id:"TXN-2024-002",farmerId:"FARM-UP-002",farmerName:"श्याम लाल यादव",farmerAadhaar:"****-****-3487",location:"वृंदावन डेयरी फार्म, मथुरा",phoneNumber:"+91 87654 32109",dungType:"buffalo",measuredWeight:48.3,qualityGrade:"gradeB",moistureContent:15,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:8.5,totalAmount:410.55,advanceAmount:200,balanceAmount:210.55,notes:"भैंस का गोबर - उच्च नाइट्रोजन सामग्री। 12 भैंसों से दैनिक संग्रह। अगली डिलीवरी के समय भुगतान शेष।",photos:["photo4.jpg","photo5.jpg"],measurementDate:"2024-01-14T16:45:00Z",collectionDate:"2024-01-14T17:15:00Z",status:"payment_pending",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-002",deviceName:"Smart Scale Beta-2",timestamp:"2024-01-14T16:47:22Z",temperature:26.8,humidity:72,ph_level:6.9,gas_content:62.3,rfid_tag:"RFID-002-DEF456",gps_coordinates:"27.5204, 77.6839",verification_score:87.5,sensor_readings:{weight_sensor:48.3,quality_sensor:85.6,moisture_sensor:15.2}},batchReference:{batchId:"BATCH-2024-002",digesterId:"DIG-SEC-002",expectedYield:38.2,fermentationDays:30,qualityPrediction:"good"},transportDetails:{vehicleNumber:"UP-80-CD-5678",driverName:"राम प्रसाद",routeId:"ROUTE-VRN-001",estimatedDelivery:"2024-01-14T19:00:00Z"},inspector:{name:"इंजी. अमित सिंह",id:"INS-002",signature:!0},certificates:["QUALITY-CERT-002"],verificationPhotos:["verify3.jpg"],qrCode:"QR-TXN-2024-002-DEF456",receiptNumber:"RCP-2024-000002",gstDetails:{gstNumber:"GST09ABCDE1234F1Z5",taxAmount:20.53,cgst:10.26,sgst:10.27}},{id:"TXN-2024-003",farmerId:"FARM-RJ-003",farmerName:"गीता देवी",farmerAadhaar:"****-****-5692",location:"आदर्श गौशाला, अलवर, राजस्थान",phoneNumber:"+91 96543 21087",dungType:"mixed",measuredWeight:65.7,qualityGrade:"gradeA",moistureContent:10,paymentMethod:"bank_transfer",paymentStatus:"completed",ratePerKg:10,totalAmount:657,advanceAmount:300,balanceAmount:357,notes:"मिश्रित गोबर - गाय और भैंस का संयोजन। उत्कृष्ट किण्वन गुणवत्ता। सबसे बड़ी दैनिक आपूर्ति। 25 पशुओं से एकत्रित।",photos:["photo6.jpg","photo7.jpg","photo8.jpg","photo9.jpg"],measurementDate:"2024-01-13T07:15:00Z",collectionDate:"2024-01-13T07:45:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-003",deviceName:"Smart Scale Gamma-3",timestamp:"2024-01-13T07:17:45Z",temperature:29.2,humidity:58,ph_level:7.4,gas_content:71.2,rfid_tag:"RFID-003-GHI789",gps_coordinates:"27.5525, 76.6346",verification_score:97.2,sensor_readings:{weight_sensor:65.7,quality_sensor:96.8,moisture_sensor:10.3}},batchReference:{batchId:"BATCH-2024-003",digesterId:"DIG-MAIN-001",expectedYield:52.8,fermentationDays:25,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"RJ-14-EF-9012",driverName:"लखन सिंह",routeId:"ROUTE-ALW-001",estimatedDelivery:"2024-01-13T10:30:00Z"},inspector:{name:"डॉ. प्रिया शर्मा",id:"INS-003",signature:!0},certificates:["ORGANIC-CERT-002","QUALITY-CERT-003","ISO-CERT-001"],verificationPhotos:["verify4.jpg","verify5.jpg"],qrCode:"QR-TXN-2024-003-GHI789",receiptNumber:"RCP-2024-000003",gstDetails:{gstNumber:"GST08FGHIJ5678K2A6",taxAmount:32.85,cgst:16.42,sgst:16.43}},{id:"TXN-2024-004",farmerId:"FARM-HR-004",farmerName:"विक्रम सिंह",farmerAadhaar:"****-****-7834",location:"हरियाणा डेयरी कोऑपरेटिव, गुरुग्राम",phoneNumber:"+91 85432 10976",dungType:"cow",measuredWeight:42.1,qualityGrade:"gradeB",moistureContent:14,paymentMethod:"upi",paymentStatus:"partial",ratePerKg:8.75,totalAmount:368.37,advanceAmount:150,balanceAmount:218.37,notes:"देसी गाय का गोबर। जैविक चारा उपयोग। मध्यम गुणवत्ता लेकिन स्थिर आपूर्ति। 14 देसी गायों से संग्रह।",photos:["photo10.jpg","photo11.jpg"],measurementDate:"2024-01-12T14:20:00Z",collectionDate:"2024-01-12T15:00:00Z",status:"quality_check",qualityVerificationStatus:"pending",iotVerification:{deviceId:"IOT-SCALE-004",deviceName:"Smart Scale Delta-4",timestamp:"2024-01-12T14:22:18Z",temperature:31.1,humidity:55,ph_level:6.8,gas_content:59.7,rfid_tag:"RFID-004-JKL012",gps_coordinates:"28.4595, 77.0266",verification_score:82.3,sensor_readings:{weight_sensor:42.1,quality_sensor:78.9,moisture_sensor:14.1}},batchReference:{batchId:"BATCH-2024-004",digesterId:"DIG-SEC-003",expectedYield:32.8,fermentationDays:32,qualityPrediction:"average"},transportDetails:{vehicleNumber:"HR-26-GH-3456",driverName:"सुरेश कुमार",routeId:"ROUTE-GGN-001",estimatedDelivery:"2024-01-12T17:30:00Z"},inspector:{name:"तकनीशियन राज कुमार",id:"INS-004",signature:!1},certificates:["QUALITY-CERT-004"],verificationPhotos:["verify6.jpg"],qrCode:"QR-TXN-2024-004-JKL012",receiptNumber:"RCP-2024-000004",gstDetails:{gstNumber:"GST06MNOPQ9012L3B7",taxAmount:18.42,cgst:9.21,sgst:9.21}},{id:"TXN-2024-005",farmerId:"FARM-PB-005",farmerName:"जसप्रीत कौर",farmerAadhaar:"****-****-9156",location:"पंजाब मिल्क फेडरेशन, लुधियाना",phoneNumber:"+91 74321 09865",dungType:"buffalo",measuredWeight:58.9,qualityGrade:"gradeA",moistureContent:11,paymentMethod:"online",paymentStatus:"completed",ratePerKg:9.25,totalAmount:544.82,advanceAmount:0,balanceAmount:544.82,notes:"उच्च गुणवत्ता भैंस का गोबर। पंजाब की उन्नत नस्ल से। उत्कृष्ट कार्बन-नाइट्रोजन अनुपात। 20 मुर्रा भैंसों से दैनिक संग्रह।",photos:["photo12.jpg","photo13.jpg","photo14.jpg"],measurementDate:"2024-01-11T09:30:00Z",collectionDate:"2024-01-11T10:00:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-005",deviceName:"Smart Scale Epsilon-5",timestamp:"2024-01-11T09:32:55Z",temperature:25.6,humidity:68,ph_level:7.1,gas_content:69.8,rfid_tag:"RFID-005-MNO345",gps_coordinates:"30.9010, 75.8573",verification_score:93.7,sensor_readings:{weight_sensor:58.9,quality_sensor:92.4,moisture_sensor:11.2}},batchReference:{batchId:"BATCH-2024-005",digesterId:"DIG-MAIN-002",expectedYield:47.3,fermentationDays:26,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"PB-10-IJ-7890",driverName:"गुरदीप सिंह",routeId:"ROUTE-LDH-001",estimatedDelivery:"2024-01-11T12:45:00Z"},inspector:{name:"डॉ. हरप्रीत कौर",id:"INS-005",signature:!0},certificates:["ORGANIC-CERT-003","QUALITY-CERT-005"],verificationPhotos:["verify7.jpg","verify8.jpg"],qrCode:"QR-TXN-2024-005-MNO345",receiptNumber:"RCP-2024-000005",gstDetails:{gstNumber:"GST03PQRST3456M4C8",taxAmount:27.24,cgst:13.62,sgst:13.62}},{id:"TXN-2024-006",farmerId:"FARM-MP-006",farmerName:"रामेश्वर प्रसाद",farmerAadhaar:"****-****-2479",location:"मध्यप्रदेश गौशाला, इंदौर",phoneNumber:"+91 93210 87654",dungType:"cow",measuredWeight:35.6,qualityGrade:"gradeC",moistureContent:18,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:7.5,totalAmount:267,advanceAmount:100,balanceAmount:167,notes:"मिश्रित नस्ल की गायों से गोबर। कुछ नमी अधिक होने के कारण Grade C। सुधार की संभावना। 10 गायों से संग्रह।",photos:["photo15.jpg"],measurementDate:"2024-01-10T11:15:00Z",collectionDate:"2024-01-10T11:45:00Z",status:"pending",qualityVerificationStatus:"requires_recheck",iotVerification:{deviceId:"IOT-SCALE-006",deviceName:"Smart Scale Zeta-6",timestamp:"2024-01-10T11:17:33Z",temperature:33.2,humidity:78,ph_level:6.5,gas_content:52.4,rfid_tag:"RFID-006-PQR678",gps_coordinates:"22.7196, 75.8577",verification_score:68.9,sensor_readings:{weight_sensor:35.6,quality_sensor:65.2,moisture_sensor:18.3}},batchReference:{batchId:"BATCH-2024-006",digesterId:"DIG-SEC-004",expectedYield:26.2,fermentationDays:35,qualityPrediction:"below_average"},transportDetails:{vehicleNumber:"MP-09-KL-2345",driverName:"अशोक यादव",routeId:"ROUTE-IND-001",estimatedDelivery:"2024-01-10T14:00:00Z"},inspector:{name:"तकनीशियन मनोज त्रिवेदी",id:"INS-006",signature:!1},certificates:[],verificationPhotos:["verify9.jpg"],qrCode:"QR-TXN-2024-006-PQR678",receiptNumber:"RCP-2024-000006",gstDetails:{gstNumber:"GST23STUVW7890N5D9",taxAmount:13.35,cgst:6.67,sgst:6.68}},{id:"TXN-2024-007",farmerId:"FARM-GJ-007",farmerName:"કિશોર ભાઈ પટેલ",farmerAadhaar:"****-****-5813",location:"અમુલ ડેરી કોઓપરેટિવ, આણંદ, ગુજરાત",phoneNumber:"+91 82109 76543",dungType:"mixed",measuredWeight:71.4,qualityGrade:"gradeA",moistureContent:9,paymentMethod:"bank_transfer",paymentStatus:"completed",ratePerKg:10.5,totalAmount:749.7,advanceAmount:400,balanceAmount:349.7,notes:"ગુજરાતની શ્રેષ્ઠ ગુણવત્તાનું મિશ્રિત ગોબર। અમુલ ડેરીના ઉચ્ચ ધોરણ પ્રમાણે. 30 પશુઓથી દૈનિક સંગ્રહ। સર્વોત્તમ કિણ્વન ક્ષમતા।",photos:["photo16.jpg","photo17.jpg","photo18.jpg","photo19.jpg"],measurementDate:"2024-01-09T06:45:00Z",collectionDate:"2024-01-09T07:15:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-007",deviceName:"Smart Scale Eta-7",timestamp:"2024-01-09T06:47:42Z",temperature:27.8,humidity:62,ph_level:7.6,gas_content:74.1,rfid_tag:"RFID-007-STU901",gps_coordinates:"22.5645, 72.9289",verification_score:98.5,sensor_readings:{weight_sensor:71.4,quality_sensor:97.8,moisture_sensor:9.1}},batchReference:{batchId:"BATCH-2024-007",digesterId:"DIG-MAIN-003",expectedYield:58.6,fermentationDays:24,qualityPrediction:"outstanding"},transportDetails:{vehicleNumber:"GJ-01-MN-4567",driverName:"રવિ ભાઈ શાહ",routeId:"ROUTE-AND-001",estimatedDelivery:"2024-01-09T09:30:00Z"},inspector:{name:"ડૉ. જયશ્રી પટેલ",id:"INS-007",signature:!0},certificates:["ORGANIC-CERT-004","QUALITY-CERT-006","ISO-CERT-002","AMUL-CERT-001"],verificationPhotos:["verify10.jpg","verify11.jpg"],qrCode:"QR-TXN-2024-007-STU901",receiptNumber:"RCP-2024-000007",gstDetails:{gstNumber:"GST24VWXYZ1234O6E0",taxAmount:37.48,cgst:18.74,sgst:18.74}},{id:"TXN-2024-008",farmerId:"FARM-TN-008",farmerName:"முருகன் செட்டியார்",farmerAadhaar:"****-****-7926",location:"தமிழ்நாடு பால் கூட்டுறவு, கோயம்புத்தூர்",phoneNumber:"+91 76543 21098",dungType:"buffalo",measuredWeight:46.8,qualityGrade:"gradeB",moistureContent:16,paymentMethod:"upi",paymentStatus:"completed",ratePerKg:8.25,totalAmount:386.1,advanceAmount:150,balanceAmount:236.1,notes:"தமிழ்நாட்டு எருமையின் சாணம். நல்ல தரம். தென்னிந்திய காலநிலைக்கு ஏற்ற கிளர்வித்தல் குணங்கள். 16 எருமைகளில் இருந்து சேகரிப்பு.",photos:["photo20.jpg","photo21.jpg"],measurementDate:"2024-01-08T15:30:00Z",collectionDate:"2024-01-08T16:00:00Z",status:"completed",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-008",deviceName:"Smart Scale Theta-8",timestamp:"2024-01-08T15:32:28Z",temperature:32.4,humidity:75,ph_level:6.7,gas_content:61.9,rfid_tag:"RFID-008-VWX234",gps_coordinates:"11.0168, 76.9558",verification_score:84.6,sensor_readings:{weight_sensor:46.8,quality_sensor:82.3,moisture_sensor:16.1}},batchReference:{batchId:"BATCH-2024-008",digesterId:"DIG-SOUTH-001",expectedYield:36.4,fermentationDays:29,qualityPrediction:"good"},transportDetails:{vehicleNumber:"TN-38-OP-6789",driverName:"குமார் ராஜு",routeId:"ROUTE-CBE-001",estimatedDelivery:"2024-01-08T18:15:00Z"},inspector:{name:"இன்ஜி. வெங்கடேஷ்",id:"INS-008",signature:!0},certificates:["QUALITY-CERT-007","SOUTH-CERT-001"],verificationPhotos:["verify12.jpg"],qrCode:"QR-TXN-2024-008-VWX234",receiptNumber:"RCP-2024-000008",gstDetails:{gstNumber:"GST33ABCDE5678P7F1",taxAmount:19.3,cgst:9.65,sgst:9.65}},{id:"TXN-2024-009",farmerId:"FARM-KA-009",farmerName:"ಶ್ರೀನಿವಾಸ ರೆಡ್ಡಿ",farmerAadhaar:"****-****-4051",location:"ಕರ್ನಾಟಕ ಮಿಲ್ಕ್ ಫೆಡರೇಶನ್, ಬೆಂಗಳೂರು",phoneNumber:"+91 65432 10987",dungType:"cow",measuredWeight:39.7,qualityGrade:"gradeA",moistureContent:13,paymentMethod:"online",paymentStatus:"partial",ratePerKg:9,totalAmount:357.3,advanceAmount:200,balanceAmount:157.3,notes:"ಕರ್ನಾಟಕದ ಸ್ಥಳೀಯ ಹಸುಗಳ ಸಗಣಿ। ಉತ್ತಮ ಗುಣಮಟ್ಟ ಮತ್ತು ಜೈವಿಕ ಸಂಯೋಜನೆ। 12 ಸ್ಥಳೀಯ ಹಸುಗಳಿಂದ ಸಂಗ್ರಹ।",photos:["photo22.jpg","photo23.jpg"],measurementDate:"2024-01-07T10:00:00Z",collectionDate:"2024-01-07T10:30:00Z",status:"payment_pending",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-009",deviceName:"Smart Scale Iota-9",timestamp:"2024-01-07T10:02:15Z",temperature:24.9,humidity:69,ph_level:7.3,gas_content:66.7,rfid_tag:"RFID-009-YZA567",gps_coordinates:"12.9716, 77.5946",verification_score:91.2,sensor_readings:{weight_sensor:39.7,quality_sensor:89.8,moisture_sensor:13.2}},batchReference:{batchId:"BATCH-2024-009",digesterId:"DIG-SOUTH-002",expectedYield:31.8,fermentationDays:27,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"KA-03-QR-8901",driverName:"ರಮೇಶ್ ಕುಮಾರ್",routeId:"ROUTE-BLR-001",estimatedDelivery:"2024-01-07T13:00:00Z"},inspector:{name:"ಡಾ. ಪ್ರಮೋದ್ ಶೆಟ್ಟಿ",id:"INS-009",signature:!0},certificates:["ORGANIC-CERT-005","QUALITY-CERT-008"],verificationPhotos:["verify13.jpg","verify14.jpg"],qrCode:"QR-TXN-2024-009-YZA567",receiptNumber:"RCP-2024-000009",gstDetails:{gstNumber:"GST29FGHIJ9012Q8G2",taxAmount:17.86,cgst:8.93,sgst:8.93}},{id:"TXN-2024-010",farmerId:"FARM-WB-010",farmerName:"অমিত চক্রবর্তী",farmerAadhaar:"****-****-8394",location:"পশ্চিমবঙ্গ দুগ্ধ সমবায়, কলকাতা",phoneNumber:"+91 54321 09876",dungType:"mixed",measuredWeight:55.2,qualityGrade:"gradeB",moistureContent:17,paymentMethod:"bank_transfer",paymentStatus:"completed",ratePerKg:8,totalAmount:441.6,advanceAmount:250,balanceAmount:191.6,notes:"পশ্চিমবঙ্গের মিশ্র গোবর। ভালো গুণমান এবং আর্দ্রতা কিছুটা বেশি। ১৮টি গরু ও মহিষ থেকে সংগ্রহ। বর্ষাকালের কারণে কিছুটা আর্দ্রতা।",photos:["photo24.jpg","photo25.jpg","photo26.jpg"],measurementDate:"2024-01-06T13:45:00Z",collectionDate:"2024-01-06T14:15:00Z",status:"completed",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-010",deviceName:"Smart Scale Kappa-10",timestamp:"2024-01-06T13:47:51Z",temperature:30.5,humidity:82,ph_level:6.9,gas_content:58.3,rfid_tag:"RFID-010-BCD890",gps_coordinates:"22.5726, 88.3639",verification_score:79.4,sensor_readings:{weight_sensor:55.2,quality_sensor:76.8,moisture_sensor:17.3}},batchReference:{batchId:"BATCH-2024-010",digesterId:"DIG-EAST-001",expectedYield:42.1,fermentationDays:31,qualityPrediction:"average"},transportDetails:{vehicleNumber:"WB-06-ST-2345",driverName:"সুভাষ দাস",routeId:"ROUTE-KOL-001",estimatedDelivery:"2024-01-06T16:30:00Z"},inspector:{name:"ইঞ্জি. রাজীব ঘোষ",id:"INS-010",signature:!0},certificates:["QUALITY-CERT-009"],verificationPhotos:["verify15.jpg"],qrCode:"QR-TXN-2024-010-BCD890",receiptNumber:"RCP-2024-000010",gstDetails:{gstNumber:"GST19KLMNO3456R9H3",taxAmount:22.08,cgst:11.04,sgst:11.04}}],Lm=async s=>new Promise(t=>{setTimeout(()=>{t(s)},1500)}),Fm={en:{title:"Transaction Entry",subtitle:"IoT weight capture and photo proof documentation",newTransaction:"New Transaction",iotWeightCapture:"IoT Weight Capture",photoProof:"Photo Proof",transactionHistory:"Transaction History",farmerDetails:"Farmer Details",weightMeasurement:"Weight Measurement",paymentDetails:"Payment Details",farmerId:"Farmer ID",farmerName:"Farmer Name",farmerAadhaar:"Aadhaar (Masked)",location:"Location",phoneNumber:"Phone Number",dungType:"Dung Type",measurementDate:"Measurement Date",collectionDate:"Collection Date",measuredWeight:"Measured Weight (kg)",qualityGrade:"Quality Grade",moistureContent:"Moisture Content (%)",paymentMethod:"Payment Method",paymentStatus:"Payment Status",ratePerKg:"Rate per kg (₹)",totalAmount:"Total Amount (₹)",advanceAmount:"Advance Amount (₹)",balanceAmount:"Balance Amount (₹)",notes:"Notes",captureWeight:"Capture Weight from IoT",takePhoto:"Take Photo",uploadPhoto:"Upload Photo",saveTransaction:"Save Transaction",weighingInProgress:"Weighing in Progress...",weightCaptured:"Weight Captured Successfully",photoRequired:"Photo proof is required",transactionSaved:"Transaction saved successfully",cash:"Cash",online:"Online",bank_transfer:"Bank Transfer",upi:"UPI",pending:"Pending",partial:"Partial",completed:"Completed",failed:"Failed",cancelled:"Cancelled",verified:"Verified",quality_check:"Quality Check",payment_pending:"Payment Pending",gradeA:"Grade A (Premium)",gradeB:"Grade B (Standard)",gradeC:"Grade C (Basic)",cow:"Cow Dung",buffalo:"Buffalo Dung",mixed:"Mixed Dung",connecting:"Connecting to IoT scale...",connected:"Connected to IoT scale",connectionFailed:"Failed to connect to IoT scale",retryConnection:"Retry Connection",manualEntry:"Manual Entry",autoCapture:"Auto Capture",calibrateScale:"Calibrate Scale",viewDetails:"View Details",printReceipt:"Print Receipt",status:"Status",amount:"Amount",date:"Date",actions:"Actions",iotVerification:"IoT Verification",batchReference:"Batch Reference",transportDetails:"Transport Details",inspector:"Inspector",certificates:"Certificates",qrCode:"QR Code",receiptNumber:"Receipt Number",gstDetails:"GST Details",deviceId:"Device ID",temperature:"Temperature (°C)",humidity:"Humidity (%)",phLevel:"pH Level",gasContent:"Gas Content (%)",rfidTag:"RFID Tag",gpsCoordinates:"GPS Coordinates",verificationScore:"Verification Score",batchId:"Batch ID",digesterId:"Digester ID",expectedYield:"Expected Yield (L)",fermentationDays:"Fermentation Days",qualityPrediction:"Quality Prediction",vehicleNumber:"Vehicle Number",driverName:"Driver Name",routeId:"Route ID",estimatedDelivery:"Estimated Delivery",gstNumber:"GST Number",taxAmount:"Tax Amount (₹)",cgst:"CGST (₹)",sgst:"SGST (₹)",approved:"Approved",rejected:"Rejected",requires_recheck:"Requires Recheck"},hi:{title:"लेन-देन प्रविष्टि",subtitle:"IoT वजन कैप्चर और फोटो प्रूफ दस्तावेजीकरण",newTransaction:"नया लेन-देन",iotWeightCapture:"IoT वजन कैप्चर",photoProof:"फोटो प्रूफ",transactionHistory:"लेन-देन इतिहास",farmerDetails:"किसान विवरण",weightMeasurement:"वजन माप",paymentDetails:"भुगतान विवरण",farmerId:"किसान आईडी",farmerName:"किसान का नाम",farmerAadhaar:"आधार (मास्क्ड)",location:"स्थान",phoneNumber:"फोन नंबर",dungType:"गोबर का प्रकार",measurementDate:"माप की तारीख",collectionDate:"संग्रह की तारीख",measuredWeight:"मापा गया वजन (किलो)",qualityGrade:"गुणवत्ता ग्रेड",moistureContent:"नमी की मात्रा (%)",paymentMethod:"भुगतान विधि",paymentStatus:"भुगतान स्थिति",ratePerKg:"प्रति किलो दर (₹)",totalAmount:"कुल राशि (₹)",advanceAmount:"अग्रिम राशि (₹)",balanceAmount:"शेष राशि (₹)",notes:"टिप्पणियां",captureWeight:"IoT से वजन कैप्चर करें",takePhoto:"फोटो लें",uploadPhoto:"फोटो अपलोड करें",saveTransaction:"लेन-देन सेव करें",weighingInProgress:"तौलना प्रगति में...",weightCaptured:"वजन सफलतापूर्वक कैप्चर किया गया",photoRequired:"फोटो प्रूफ आवश्यक है",transactionSaved:"लेन-देन सफलतापूर्वक सेव किया गया",cash:"नकद",online:"ऑनलाइन",bank_transfer:"बैंक ट्रांसफर",upi:"UPI",pending:"लंबित",partial:"आंशिक",completed:"पूर्ण",failed:"असफल",cancelled:"रद्द",verified:"सत्यापित",quality_check:"गुणवत्ता जांच",payment_pending:"भुगतान लंबित",gradeA:"ग्रेड A (प्रीमियम)",gradeB:"ग्रेड B (मानक)",gradeC:"ग्रेड C (बेसिक)",cow:"गाय का गोबर",buffalo:"भैंस का गोबर",mixed:"मिश्रित गोबर",connecting:"IoT स्केल से कनेक्ट हो रहा है...",connected:"IoT स्केल से कनेक्ट हो गया",connectionFailed:"IoT स्केल से कनेक्ट नहीं हो सका",retryConnection:"फिर से कोशिश करें",manualEntry:"मैन्युअल एंट्री",autoCapture:"ऑटो कैप्चर",calibrateScale:"स्केल कैलिब्रेट करें",viewDetails:"विवरण देखें",printReceipt:"रसीद प्रिंट करें",status:"स्थिति",amount:"राशि",date:"तारीख",actions:"कार्य",iotVerification:"IoT सत्यापन",batchReference:"बैच संदर्भ",transportDetails:"परिवहन विवरण",inspector:"निरीक्षक",certificates:"प्रमाणपत्र",qrCode:"QR कोड",receiptNumber:"रसीद संख्या",gstDetails:"GST विवरण",deviceId:"डिवाइस आईडी",temperature:"तापमान (°C)",humidity:"आर्द्रता (%)",phLevel:"pH स्तर",gasContent:"गैस सामग्री (%)",rfidTag:"RFID टैग",gpsCoordinates:"GPS निर्देशांक",verificationScore:"सत्यापन स्कोर",batchId:"बैच आईडी",digesterId:"डाइजेस्टर आईडी",expectedYield:"अपेक्षित उत्पादन (L)",fermentationDays:"किण्वन दिन",qualityPrediction:"गुणवत्ता भविष्यवाणी",vehicleNumber:"वाहन संख्या",driverName:"चालक का नाम",routeId:"मार्ग आईडी",estimatedDelivery:"अनुमानित डिलीवरी",gstNumber:"GST संख्या",taxAmount:"कर राशि (₹)",cgst:"CGST (₹)",sgst:"SGST (₹)",approved:"अनुमोदित",rejected:"अस्वीकृत",requires_recheck:"पुनः जांच आवश्यक"}},_m=s=>{switch(s){case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"verified":return"bg-blue-100 text-blue-800";case"quality_check":return"bg-orange-100 text-orange-800";case"payment_pending":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},Bm=s=>{switch(s){case"completed":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-orange-100 text-orange-800";case"failed":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},qm=s=>{switch(s){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"requires_recheck":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Um=({onWeightCaptured:s,t})=>{const[a,r]=h.useState(!1),[n,i]=h.useState(!1),[l,c]=h.useState(!1),[o,j]=h.useState(0),[y,f]=h.useState(!1),[x,N]=h.useState(null),p=h.useCallback(()=>{r(!0),f(!1),setTimeout(()=>{if(r(!1),Math.random()>.2){i(!0);const b={deviceId:`IOT-SCALE-${Math.floor(Math.random()*10)+1}`.padStart(3,"0"),deviceName:"Smart Scale Alpha-Pro",timestamp:new Date().toISOString(),temperature:25+Math.random()*10,humidity:55+Math.random()*25,ph_level:6.5+Math.random()*1.5,gas_content:55+Math.random()*20,verification_score:80+Math.random()*20};N(b);const C=setInterval(()=>{j(D=>{const g=45+Math.random()*10;return Math.round(g*10)/10})},500);return()=>clearInterval(C)}else f(!0)},2e3)},[]),O=()=>{c(!0),setTimeout(()=>{c(!1),s(o)},1500)},M=()=>{const k=48.5+Math.random()*5;s(Math.round(k*10)/10)};return e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"w-5 h-5"}),t("iotWeightCapture")]}),e.jsx(se,{children:"Connect to IoT scale for automatic weight measurement with verification"})]}),e.jsxs(S,{className:"space-y-4",children:[!n&&!y&&e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(rs,{className:"w-8 h-8 text-gray-400"})}),e.jsx(E,{onClick:p,disabled:a,className:"w-full",children:a?e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"w-4 h-4 mr-2 animate-spin"}),t("connecting")]}):"Connect to IoT Scale"})]}),y&&e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs(Os,{children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsx(Es,{children:t("connectionFailed")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{onClick:p,variant:"outline",className:"w-full",children:t("retryConnection")}),e.jsx(E,{onClick:M,variant:"secondary",className:"w-full",children:t("manualEntry")})]})]}),n&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-sm text-green-600 mb-2",children:[e.jsx(de,{className:"w-4 h-4 inline mr-1"}),t("connected")]}),e.jsxs("div",{className:"text-4xl font-bold text-blue-600",children:[o.toFixed(1)," kg"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Real-time weight reading"})]}),x&&e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs bg-blue-50 p-3 rounded",children:[e.jsxs("div",{children:["Device: ",x.deviceName]}),e.jsxs("div",{children:["Score: ",x.verification_score?.toFixed(1),"%"]}),e.jsxs("div",{children:["Temp: ",x.temperature?.toFixed(1),"°C"]}),e.jsxs("div",{children:["Humidity: ",x.humidity?.toFixed(0),"%"]}),e.jsxs("div",{children:["pH: ",x.ph_level?.toFixed(1)]}),e.jsxs("div",{children:["Gas: ",x.gas_content?.toFixed(1),"%"]})]}),l&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{value:75,className:"w-full"}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:t("weighingInProgress")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(E,{onClick:O,disabled:l,className:"w-full",children:l?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Capturing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(La,{className:"w-4 h-4 mr-2"}),t("captureWeight")]})}),e.jsx(E,{onClick:()=>{},variant:"outline",className:"w-full",children:t("calibrateScale")})]})]})]})]})},Gm=({onPhotoAdded:s,photos:t,t:a})=>{const r=h.useRef(null),n=l=>{const c=l.target.files?.[0];if(c){const o=new FileReader;o.onload=j=>{const y=j.target?.result;s(y)},o.readAsDataURL(c)}},i=()=>{const l=`data:image/svg+xml;base64,${btoa(`
      <svg width="300" height="200" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f3f4f6"/>
        <text x="50%" y="40%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="14" fill="#6b7280">
          Dung Sample Photo ${t.length+1}
        </text>
        <text x="50%" y="60%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="10" fill="#9ca3af">
          Timestamp: ${new Date().toLocaleString()}
        </text>
      </svg>
    `)}`;s(l)};return e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"w-5 h-5"}),a("photoProof")]}),e.jsx(se,{children:"Capture photos of dung samples for quality verification and compliance"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(E,{onClick:i,variant:"outline",className:"w-full",children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),a("takePhoto")]}),e.jsxs(E,{onClick:()=>r.current?.click(),variant:"outline",className:"w-full",children:[e.jsx(Ma,{className:"w-4 h-4 mr-2"}),a("uploadPhoto")]})]}),e.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:n,className:"hidden"}),t.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium mb-2",children:["Captured Photos (",t.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map((l,c)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l,alt:`Sample ${c+1}`,className:"w-full h-24 object-cover rounded border"}),e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx(L,{variant:"secondary",className:"text-xs",children:c+1})})]},c))})]}),t.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Hr,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"No photos captured yet"}),e.jsx("p",{className:"text-xs",children:a("photoRequired")})]})]})]})},Wm=({languageContext:s})=>{const[t,a]=h.useState("new"),[r,n]=h.useState({farmerId:"",farmerName:"",farmerAadhaar:"",location:"",phoneNumber:"",dungType:"cow",measuredWeight:0,qualityGrade:"gradeB",moistureContent:15,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:8.5,advanceAmount:0,notes:""}),[i,l]=h.useState([]),[c,o]=h.useState(!1),[j,y]=h.useState(!1),f=s?.language||"en",x=u=>s?.t(u)||Fm[f][u]||u,N=u=>{n(d=>({...d,measuredWeight:u}))},p=u=>{l(d=>[...d,u])},O=()=>r.measuredWeight*r.ratePerKg,M=()=>O()-r.advanceAmount,k=async()=>{if(r.measuredWeight===0){alert("Please capture weight first");return}if(i.length===0){alert(x("photoRequired"));return}o(!0);try{const u={...r,totalAmount:O(),balanceAmount:M(),photos:i,measurementDate:new Date().toISOString(),collectionDate:new Date().toISOString(),status:"pending",qualityVerificationStatus:"pending"};await Lm(u),y(!0),setTimeout(()=>{y(!1),n({farmerId:"",farmerName:"",farmerAadhaar:"",location:"",phoneNumber:"",dungType:"cow",measuredWeight:0,qualityGrade:"gradeB",moistureContent:15,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:8.5,advanceAmount:0,notes:""}),l([])},2e3)}catch{}finally{o(!1)}},b=pt.slice(0,10),C=pt.filter(u=>u.status==="pending"||u.status==="payment_pending"),D=pt.filter(u=>new Date(u.measurementDate).toDateString()===new Date().toDateString()),g=pt.filter(u=>u.status==="verified");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:x("title")}),e.jsx("p",{className:"text-muted-foreground",children:x("subtitle")})]}),j&&e.jsxs(Os,{className:"w-auto",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx(Es,{children:x("transactionSaved")})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Today's Transactions"}),e.jsx(Fe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:D.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[D.reduce((u,d)=>u+d.measuredWeight,0).toFixed(1)," kg total"]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Pending Verification"}),e.jsx(we,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:C.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Verified Transactions"}),e.jsx(Ri,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"IoT verified entries"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Total Value"}),e.jsx(xe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["₹",pt.reduce((u,d)=>u+d.totalAmount,0).toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All transactions"})]})]})]}),e.jsxs($e,{value:t,onValueChange:a,children:[e.jsxs(Ve,{className:"grid w-full grid-cols-3",children:[e.jsx(X,{value:"new",children:x("newTransaction")}),e.jsx(X,{value:"iot",children:x("iotWeightCapture")}),e.jsx(X,{value:"history",children:x("transactionHistory")})]}),e.jsxs(Y,{value:"new",className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:x("farmerDetails")}),e.jsx(se,{children:"Basic farmer information and contact details"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"farmerId",children:x("farmerId")}),e.jsx(ee,{id:"farmerId",value:r.farmerId,onChange:u=>n(d=>({...d,farmerId:u.target.value})),placeholder:"FARM-001"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"farmerName",children:x("farmerName")}),e.jsx(ee,{id:"farmerName",value:r.farmerName,onChange:u=>n(d=>({...d,farmerName:u.target.value})),placeholder:"राम कुमार"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"farmerAadhaar",children:x("farmerAadhaar")}),e.jsx(ee,{id:"farmerAadhaar",value:r.farmerAadhaar,onChange:u=>n(d=>({...d,farmerAadhaar:u.target.value})),placeholder:"****-****-1234"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"location",children:x("location")}),e.jsx(ee,{id:"location",value:r.location,onChange:u=>n(d=>({...d,location:u.target.value})),placeholder:"Village, District"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"phoneNumber",children:x("phoneNumber")}),e.jsx(ee,{id:"phoneNumber",value:r.phoneNumber,onChange:u=>n(d=>({...d,phoneNumber:u.target.value})),placeholder:"+91 98765 43210"})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:x("weightMeasurement")}),e.jsx(se,{children:"Dung quality and weight measurement details"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"dungType",children:x("dungType")}),e.jsxs(fe,{value:r.dungType,onValueChange:u=>n(d=>({...d,dungType:u})),children:[e.jsx(pe,{children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"cow",children:x("cow")}),e.jsx(B,{value:"buffalo",children:x("buffalo")}),e.jsx(B,{value:"mixed",children:x("mixed")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"qualityGrade",children:x("qualityGrade")}),e.jsxs(fe,{value:r.qualityGrade,onValueChange:u=>n(d=>({...d,qualityGrade:u})),children:[e.jsx(pe,{children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"gradeA",children:x("gradeA")}),e.jsx(B,{value:"gradeB",children:x("gradeB")}),e.jsx(B,{value:"gradeC",children:x("gradeC")})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"measuredWeight",children:x("measuredWeight")}),e.jsx(ee,{id:"measuredWeight",type:"number",step:"0.1",value:r.measuredWeight,onChange:u=>n(d=>({...d,measuredWeight:parseFloat(u.target.value)||0})),placeholder:"0.0"}),r.measuredWeight>0&&e.jsxs("div",{className:"text-sm text-green-600",children:[e.jsx(de,{className:"w-4 h-4 inline mr-1"}),x("weightCaptured")]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"moistureContent",children:x("moistureContent")}),e.jsx(ee,{id:"moistureContent",type:"number",value:r.moistureContent,onChange:u=>n(d=>({...d,moistureContent:parseInt(u.target.value)||0})),placeholder:"15"})]})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:x("paymentDetails")}),e.jsx(se,{children:"Payment method and amount calculation"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"paymentMethod",children:x("paymentMethod")}),e.jsxs(fe,{value:r.paymentMethod,onValueChange:u=>n(d=>({...d,paymentMethod:u})),children:[e.jsx(pe,{children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"cash",children:x("cash")}),e.jsx(B,{value:"online",children:x("online")}),e.jsx(B,{value:"bank_transfer",children:x("bank_transfer")}),e.jsx(B,{value:"upi",children:x("upi")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"paymentStatus",children:x("paymentStatus")}),e.jsxs(fe,{value:r.paymentStatus,onValueChange:u=>n(d=>({...d,paymentStatus:u})),children:[e.jsx(pe,{children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"pending",children:x("pending")}),e.jsx(B,{value:"partial",children:x("partial")}),e.jsx(B,{value:"completed",children:x("completed")})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"ratePerKg",children:x("ratePerKg")}),e.jsx(ee,{id:"ratePerKg",type:"number",step:"0.50",value:r.ratePerKg,onChange:u=>n(d=>({...d,ratePerKg:parseFloat(u.target.value)||0}))})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{children:x("totalAmount")}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["₹",O().toFixed(2)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"advanceAmount",children:x("advanceAmount")}),e.jsx(ee,{id:"advanceAmount",type:"number",step:"0.50",value:r.advanceAmount,onChange:u=>n(d=>({...d,advanceAmount:parseFloat(u.target.value)||0}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{children:x("balanceAmount")}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["₹",M().toFixed(2)]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"notes",children:x("notes")}),e.jsx(ot,{id:"notes",value:r.notes,onChange:u=>n(d=>({...d,notes:u.target.value})),placeholder:"Additional notes...",rows:2})]})]})]}),e.jsx(Gm,{onPhotoAdded:p,photos:i,t:x})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(E,{onClick:k,disabled:c||r.measuredWeight===0||i.length===0,className:"w-48",children:c?e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(at,{className:"w-4 h-4 mr-2"}),x("saveTransaction")]})})})]}),e.jsx(Y,{value:"iot",children:e.jsx(Um,{onWeightCaptured:N,t:x})}),e.jsx(Y,{value:"history",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:x("transactionHistory")}),e.jsx(se,{children:"Comprehensive transaction records with IoT verification and batch tracking"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[b.map(u=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h4",{className:"font-semibold",children:u.farmerName}),e.jsx(L,{className:_m(u.status),children:x(u.status)}),e.jsx(L,{className:Bm(u.paymentStatus),children:x(u.paymentStatus)}),e.jsx(L,{className:qm(u.qualityVerificationStatus),children:x(u.qualityVerificationStatus)})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ms,{className:"w-3 h-3"}),u.farmerId]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"w-3 h-3"}),u.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(La,{className:"w-3 h-3"}),u.measuredWeight," kg"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Fe,{className:"w-3 h-3"}),new Date(u.measurementDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold",children:["₹",u.totalAmount.toFixed(2)]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:u.receiptNumber})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 bg-blue-50 p-3 rounded text-xs",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-1",children:[e.jsx(wa,{className:"w-3 h-3"}),"IoT Device"]}),e.jsx("div",{children:u.iotVerification.deviceName}),e.jsx("div",{className:"text-muted-foreground",children:u.iotVerification.deviceId})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-1",children:[e.jsx(be,{className:"w-3 h-3"}),"Verification Score"]}),e.jsxs("div",{className:"text-green-600 font-bold",children:[u.iotVerification.verification_score.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Batch Reference"}),e.jsx("div",{children:u.batchReference.batchId}),e.jsxs("div",{className:"text-muted-foreground",children:["Yield: ",u.batchReference.expectedYield,"L"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-1",children:[e.jsx(Mi,{className:"w-3 h-3"}),"QR Code"]}),e.jsx("div",{className:"font-mono",children:u.qrCode})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",children:"Transport Details"}),e.jsx("div",{children:u.transportDetails.vehicleNumber}),e.jsx("div",{children:u.transportDetails.driverName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",children:"Quality Inspector"}),e.jsx("div",{children:u.inspector.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[u.inspector.signature?e.jsx(de,{className:"w-3 h-3 text-green-600"}):e.jsx(we,{className:"w-3 h-3 text-orange-600"}),u.inspector.signature?"Signed":"Pending Signature"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",children:"Certificates"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:u.certificates.map((d,v)=>e.jsx(L,{variant:"outline",className:"text-xs",children:d},v))})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsxs(E,{size:"sm",variant:"outline",children:[e.jsx(ds,{className:"w-4 h-4 mr-1"}),x("viewDetails")]}),e.jsxs(E,{size:"sm",variant:"outline",children:[e.jsx(Qt,{className:"w-4 h-4 mr-1"}),x("printReceipt")]}),e.jsxs(E,{size:"sm",variant:"outline",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),"Download"]})]})]},u.id)),b.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Hr,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No transactions found"})]})]})})]})})]})]})},Fs=h.forwardRef(({className:s,checked:t,onCheckedChange:a,disabled:r,...n},i)=>{const[l,c]=h.useState(!1),o=t!==void 0?t:l,j=a||c;return e.jsx("button",{type:"button",role:"switch","aria-checked":o,ref:i,className:W("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",o?"bg-primary":"bg-input",s),disabled:r,onClick:()=>j(!o),...n,children:e.jsx("span",{className:W("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",o?"translate-x-5":"translate-x-0")})})});Fs.displayName="Switch";const zs=[{id:"A001",level:"warning",type:"temperature",title:"High Temperature Alert - Digester 001",message:"Temperature exceeds optimal range at 42°C. Recommended range: 35-40°C. Automatic cooling system activated.",digesterId:"DIG-001",timestamp:new Date().toISOString(),status:"active",value:"42.3°C",severity:3,location:"Gokul Gaushala Main Unit",assignedTo:"राजेश कुमार",estimatedResolution:"2 hours"},{id:"A002",level:"critical",type:"pressure",title:"Critical Pressure Level - Buffalo Unit",message:"Pressure levels dangerously high at 2.1 kPa. Immediate attention required. Safety valve may trigger.",digesterId:"DIG-003",timestamp:new Date(Date.now()-36e5).toISOString(),status:"active",value:"2.1 kPa",severity:5,location:"Yamuna Riverside Buffalo Unit",assignedTo:"सुनील यादव",estimatedResolution:"Immediate"},{id:"A003",level:"warning",type:"methane",title:"Low Methane Content - Secondary Unit",message:"Methane levels dropped to 58%. Expected range: 60-70%. Check feedstock quality and pH levels.",digesterId:"DIG-002",timestamp:new Date(Date.now()-72e5).toISOString(),status:"active",value:"58.2%",severity:3,location:"Vrindavan Organic Farm",assignedTo:"अमित शर्मा",estimatedResolution:"4 hours"},{id:"A004",level:"critical",type:"connectivity",title:"IoT Sensor Connection Lost",message:"Temperature and pressure sensors offline for Digester 005. Last reading 45 minutes ago. Manual monitoring required.",digesterId:"DIG-005",timestamp:new Date(Date.now()-27e5).toISOString(),status:"active",value:"Offline 45min",severity:4,location:"Experimental Unit",assignedTo:"तकनीकी टीम",estimatedResolution:"1 hour"},{id:"A005",level:"warning",type:"gasProduction",title:"Reduced Gas Production - Main Unit",message:"Daily production down 15% from average. Current: 128 m³/day, Expected: 150 m³/day. Check feeding schedule.",digesterId:"DIG-001",timestamp:new Date(Date.now()-108e5).toISOString(),status:"active",value:"128 m³/day",severity:2,location:"Gokul Gaushala Main Unit",assignedTo:"गीता देवी",estimatedResolution:"6 hours"},{id:"A006",level:"info",type:"maintenance",title:"Scheduled Maintenance Due - Mixed Feed Unit",message:"Routine maintenance scheduled for Digester 004 tomorrow at 10:00 AM. Expected downtime: 4 hours.",digesterId:"DIG-004",timestamp:new Date(Date.now()-144e5).toISOString(),status:"active",value:"Tomorrow 10:00 AM",severity:1,location:"Mixed Feed Processing",assignedTo:"रखरखाव टीम",estimatedResolution:"24 hours"},{id:"A007",level:"critical",type:"safety",title:"Gas Leak Detection - Safety Alert",message:"Potential gas leak detected near Digester 002. Area evacuated. Emergency response team notified. Safety protocols activated.",digesterId:"DIG-002",timestamp:new Date(Date.now()-18e6).toISOString(),status:"active",value:"Level 3 Alert",severity:5,location:"Vrindavan Organic Farm",assignedTo:"आपातकालीन टीम",estimatedResolution:"Immediate"},{id:"A008",level:"warning",type:"efficiency",title:"Efficiency Drop - Buffalo Unit",message:"Overall efficiency decreased to 78%. Normal range: 85-92%. Consider feedstock optimization and pH adjustment.",digesterId:"DIG-003",timestamp:new Date(Date.now()-216e5).toISOString(),status:"acknowledged",value:"78%",severity:3,location:"Yamuna Riverside Buffalo Unit",assignedTo:"विकास कुमार",estimatedResolution:"8 hours"},{id:"A009",level:"warning",type:"temperature",title:"Low Temperature - Experimental Unit",message:"Temperature dropped to 32°C due to ambient weather. Heating system activated. Monitoring bacterial activity.",digesterId:"DIG-005",timestamp:new Date(Date.now()-252e5).toISOString(),status:"resolved",value:"32.1°C",severity:2,location:"Experimental Unit",assignedTo:"लक्ष्मी यादव",estimatedResolution:"Resolved"},{id:"A010",level:"info",type:"gasProduction",title:"Optimal Production - Main Unit",message:"Excellent gas production recorded. 165 m³/day achieved - 10% above target. Feeding schedule optimized.",digesterId:"DIG-001",timestamp:new Date(Date.now()-288e5).toISOString(),status:"resolved",value:"165 m³/day",severity:1,location:"Gokul Gaushala Main Unit",assignedTo:"राजेश कुमार",estimatedResolution:"Resolved"},{id:"A011",level:"critical",type:"pressure",title:"Pressure Relief Valve Triggered",message:"Automatic pressure relief activated on Digester 004. System stabilized. Check for blockages in gas outlet lines.",digesterId:"DIG-004",timestamp:new Date(Date.now()-324e5).toISOString(),status:"acknowledged",value:"2.3 kPa",severity:4,location:"Mixed Feed Processing",assignedTo:"सुरेश चंद्र",estimatedResolution:"3 hours"},{id:"A012",level:"warning",type:"maintenance",title:"Cleaning Cycle Overdue - Secondary Unit",message:"Digester cleaning overdue by 3 days. Efficiency may be impacted. Schedule cleaning within 24 hours.",digesterId:"DIG-002",timestamp:new Date(Date.now()-36e6).toISOString(),status:"active",value:"3 days overdue",severity:3,location:"Vrindavan Organic Farm",assignedTo:"रखरखाव टीम",estimatedResolution:"12 hours"},{id:"A013",level:"info",type:"connectivity",title:"IoT System Upgrade Complete",message:"Sensor firmware updated successfully on all digesters. New features: enhanced accuracy and predictive maintenance alerts.",digesterId:"ALL",timestamp:new Date(Date.now()-432e5).toISOString(),status:"resolved",value:"v2.1.3",severity:1,location:"All Units",assignedTo:"तकनीकी टीम",estimatedResolution:"Completed"},{id:"A014",level:"warning",type:"methane",title:"Methane Purity Concern - Mixed Feed",message:"Methane purity at 61% with higher CO2 content. Check feedstock composition and pH balance. Consider additives.",digesterId:"DIG-004",timestamp:new Date(Date.now()-468e5).toISOString(),status:"acknowledged",value:"61.3%",severity:3,location:"Mixed Feed Processing",assignedTo:"अमित शर्मा",estimatedResolution:"6 hours"},{id:"A015",level:"critical",type:"safety",title:"Emergency Shutdown - Buffalo Unit",message:"Emergency shutdown triggered due to multiple sensor failures. Unit isolated. Technical team dispatched for inspection.",digesterId:"DIG-003",timestamp:new Date(Date.now()-504e5).toISOString(),status:"resolved",value:"System Isolated",severity:5,location:"Yamuna Riverside Buffalo Unit",assignedTo:"आपातकालीन टीम",estimatedResolution:"Resolved"}],$m=[{type:"temperature",enabled:!0,minThreshold:35,maxThreshold:40,unit:"°C",description:"Optimal temperature range for methanogenic bacteria activity"},{type:"pressure",enabled:!0,minThreshold:.8,maxThreshold:1.8,unit:"kPa",description:"Safe operating pressure range for biogas digester"},{type:"methane",enabled:!0,minThreshold:60,maxThreshold:75,unit:"%",description:"Methane content percentage in biogas output"},{type:"gasProduction",enabled:!0,minThreshold:100,maxThreshold:200,unit:"m³/day",description:"Daily biogas production volume"},{type:"efficiency",enabled:!0,minThreshold:80,maxThreshold:95,unit:"%",description:"Overall digester efficiency percentage"},{type:"connectivity",enabled:!0,minThreshold:95,maxThreshold:100,unit:"%",description:"IoT sensor connectivity and data availability"},{type:"safety",enabled:!0,minThreshold:0,maxThreshold:0,unit:"level",description:"Safety alert threshold (0 = no tolerance for safety issues)"},{type:"maintenance",enabled:!0,minThreshold:0,maxThreshold:7,unit:"days",description:"Maintenance schedule adherence (max 7 days overdue)"}],yr=async s=>Promise.resolve(),Vm=async s=>Promise.resolve(),Hm=async s=>Promise.resolve(),zm={en:{title:"Alerts Management",subtitle:"Real-time monitoring and threshold management",activeAlerts:"Active Alerts",alertHistory:"Alert History",thresholdSettings:"Threshold Settings",notificationSettings:"Notification Settings",createAlert:"Create Alert",critical:"Critical",warning:"Warning",info:"Info",success:"Success",temperature:"Temperature",pressure:"Pressure",methane:"Methane Level",gasProduction:"Gas Production",efficiency:"Efficiency",connectivity:"Connectivity",safety:"Safety",maintenance:"Maintenance",digesterId:"Digester ID",alertType:"Alert Type",level:"Level",message:"Message",timestamp:"Timestamp",status:"Status",actions:"Actions",resolve:"Resolve",dismiss:"Dismiss",viewDetails:"View Details",soundAlerts:"Sound Alerts",emailNotifications:"Email Notifications",smsNotifications:"SMS Notifications",pushNotifications:"Push Notifications",acknowledgeAll:"Acknowledge All",clearHistory:"Clear History",exportAlerts:"Export Alerts",minThreshold:"Minimum Threshold",maxThreshold:"Maximum Threshold",enabled:"Enabled",disabled:"Disabled",acknowledged:"Acknowledged",resolved:"Resolved",active:"Active",temperatureThresholds:"Temperature Thresholds",pressureThresholds:"Pressure Thresholds",methaneThresholds:"Methane Thresholds",productionThresholds:"Production Thresholds",alertCount:"Total Alerts",criticalCount:"Critical Alerts",warningCount:"Warning Alerts",resolvedToday:"Resolved Today",alertFrequency:"Alert Frequency",responseTime:"Avg Response Time",systemStatus:"System Status",monitoringActive:"Monitoring Active",allSystems:"All Systems Operational",someIssues:"Some Issues Detected",criticalIssues:"Critical Issues Present",location:"Location",assignedTo:"Assigned To",estimatedResolution:"Est. Resolution",severity:"Severity",value:"Current Value",unit:"Unit",description:"Description"},hi:{title:"अलर्ट प्रबंधन",subtitle:"रियल-टाइम निगरानी और थ्रेशोल्ड प्रबंधन",activeAlerts:"सक्रिय अलर्ट",alertHistory:"अलर्ट इतिहास",thresholdSettings:"थ्रेशोल्ड सेटिंग्स",notificationSettings:"नोटिफिकेशन सेटिंग्स",createAlert:"अलर्ट बनाएं",critical:"गंभीर",warning:"चेतावनी",info:"जानकारी",success:"सफलता",temperature:"तापमान",pressure:"दबाव",methane:"मीथेन स्तर",gasProduction:"गैस उत्पादन",efficiency:"दक्षता",connectivity:"कनेक्टिविटी",safety:"सुरक्षा",maintenance:"रखरखाव",digesterId:"डाइजेस्टर आईडी",alertType:"अलर्ट प्रकार",level:"स्तर",message:"संदेश",timestamp:"समयमुहर",status:"स्थिति",actions:"कार्य",resolve:"हल करें",dismiss:"खारिज करें",viewDetails:"विवरण देखें",soundAlerts:"ध्वनि अलर्ट",emailNotifications:"ईमेल नोटिफिकेशन",smsNotifications:"SMS नोटिफिकेशन",pushNotifications:"पुश नोटिफिकेशन",acknowledgeAll:"सभी स्वीकार करें",clearHistory:"इतिहास साफ करें",exportAlerts:"अलर्ट निर्यात करें",minThreshold:"न्यूनतम थ्रेशोल्ड",maxThreshold:"अधिकतम थ्रेशोल्ड",enabled:"सक्षम",disabled:"अक्षम",acknowledged:"स्वीकृत",resolved:"हल किया गया",active:"सक्रिय",temperatureThresholds:"तापमान थ्रेशोल्ड",pressureThresholds:"दबाव थ्रेशोल्ड",methaneThresholds:"मीथेन थ्रेशोल्ड",productionThresholds:"उत्पादन थ्रेशोल्ड",alertCount:"कुल अलर्ट",criticalCount:"गंभीर अलर्ट",warningCount:"चेतावनी अलर्ट",resolvedToday:"आज हल किए गए",alertFrequency:"अलर्ट आवृत्ति",responseTime:"औसत प्रतिक्रिया समय",systemStatus:"सिस्टम स्थिति",monitoringActive:"निगरानी सक्रिय",allSystems:"सभी सिस्टम चालू",someIssues:"कुछ समस्याएं मिलीं",criticalIssues:"गंभीर समस्याएं मौजूद",location:"स्थान",assignedTo:"सौंपा गया",estimatedResolution:"अनुमानित समाधान",severity:"गंभीरता",value:"वर्तमान मान",unit:"इकाई",description:"विवरण"}},Bn=s=>{switch(s){case"critical":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"info":return"bg-blue-100 text-blue-800";case"success":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},qn=s=>{switch(s){case"critical":return e.jsx(le,{className:"w-4 h-4 text-red-500"});case"warning":return e.jsx(Ue,{className:"w-4 h-4 text-yellow-500"});case"info":return e.jsx(Yr,{className:"w-4 h-4 text-blue-500"});case"success":return e.jsx(de,{className:"w-4 h-4 text-green-500"});default:return e.jsx(et,{className:"w-4 h-4 text-gray-500"})}},Va=s=>{switch(s){case"temperature":return e.jsx(Vt,{className:"w-4 h-4"});case"pressure":return e.jsx(wt,{className:"w-4 h-4"});case"methane":return e.jsx(Rs,{className:"w-4 h-4"});case"gasProduction":return e.jsx(Se,{className:"w-4 h-4"});case"efficiency":return e.jsx(de,{className:"w-4 h-4"});case"connectivity":return e.jsx(Qs,{className:"w-4 h-4"});case"safety":return e.jsx(be,{className:"w-4 h-4"});case"maintenance":return e.jsx(Qr,{className:"w-4 h-4"});default:return e.jsx(et,{className:"w-4 h-4"})}},Ym=s=>s>=5?e.jsx(le,{className:"w-4 h-4 text-red-500"}):s>=4?e.jsx(Ue,{className:"w-4 h-4 text-orange-500"}):s>=3?e.jsx(Ue,{className:"w-4 h-4 text-yellow-500"}):s>=2?e.jsx(Yr,{className:"w-4 h-4 text-blue-500"}):e.jsx(de,{className:"w-4 h-4 text-green-500"}),Qm=({alert:s,onResolve:t,onDismiss:a,t:r})=>e.jsx(w,{className:`border-l-4 ${s.level==="critical"?"border-l-red-500":s.level==="warning"?"border-l-yellow-500":s.level==="info"?"border-l-blue-500":"border-l-green-500"}`,children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[qn(s.level),e.jsx(L,{className:Bn(s.level),children:r(s.level)}),e.jsxs(L,{variant:"outline",children:[Va(s.type),e.jsx("span",{className:"ml-1",children:r(s.type)})]}),s.severity&&e.jsxs("div",{className:"flex items-center gap-1",children:[Ym(s.severity),e.jsxs("span",{className:"text-xs",children:[s.severity,"/5"]})]})]}),e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.message}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",s.location]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Assigned:"})," ",s.assignedTo]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Digester:"})," ",s.digesterId]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ETA:"})," ",s.estimatedResolution]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Time:"})," ",new Date(s.timestamp).toLocaleString()]}),s.value&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Value:"})," ",s.value]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(E,{size:"sm",variant:"outline",onClick:()=>t(s.id),disabled:s.status==="resolved",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx(E,{size:"sm",variant:"outline",onClick:()=>a(s.id),disabled:s.status==="resolved",children:e.jsx(qt,{className:"w-4 h-4"})}),e.jsx(E,{size:"sm",variant:"outline",children:e.jsx(ds,{className:"w-4 h-4"})})]})]})})}),Km=({config:s,onUpdate:t,t:a})=>{const[r,n]=h.useState(s),i=()=>{t(r)};return e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[Va(s.type),a(s.type)," ",a("thresholds")]}),e.jsxs(se,{children:[s.description," (",s.unit,")"]})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(V,{htmlFor:`${s.type}-enabled`,children:"Enable Monitoring"}),e.jsx(Fs,{id:`${s.type}-enabled`,checked:r.enabled,onCheckedChange:l=>n(c=>({...c,enabled:l}))})]}),r.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{htmlFor:`${s.type}-min`,children:[a("minThreshold")," (",s.unit,")"]}),e.jsx(ee,{id:`${s.type}-min`,type:"number",value:r.minThreshold,onChange:l=>n(c=>({...c,minThreshold:parseFloat(l.target.value)||0}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{htmlFor:`${s.type}-max`,children:[a("maxThreshold")," (",s.unit,")"]}),e.jsx(ee,{id:`${s.type}-max`,type:"number",value:r.maxThreshold,onChange:l=>n(c=>({...c,maxThreshold:parseFloat(l.target.value)||0}))})]})]}),e.jsx(E,{onClick:i,className:"w-full",children:"Save Configuration"})]})]})]})},Zm=({languageContext:s})=>{const[t,a]=h.useState("all"),[r,n]=h.useState("all"),[i,l]=h.useState("all"),[c,o]=h.useState(!0),[j,y]=h.useState({sound:!0,email:!0,sms:!1,push:!0}),f=s?.language||"en",x=u=>s?.t(u)||zm[f][u]||u;h.useEffect(()=>{if(!c)return;const u=setInterval(()=>{},5e3);return()=>clearInterval(u)},[c]);const N=zs.filter(u=>{const d=t==="all"||u.level===t,v=r==="all"||u.type===r,m=i==="all"||u.status===i;return d&&v&&m}),p=zs.filter(u=>u.status==="active"),O=p.filter(u=>u.level==="critical"),M=p.filter(u=>u.level==="warning"),k=zs.filter(u=>u.status==="resolved"&&new Date(u.timestamp).toDateString()===new Date().toDateString()),b=O.length>0?"critical":M.length>0?"warning":"normal",C=async u=>{await yr()},D=async u=>{await Vm()},g=async()=>{for(const u of p)await yr(u.id)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:x("title")}),e.jsx("p",{className:"text-muted-foreground",children:x("subtitle")})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{htmlFor:"monitoring-toggle",children:x("monitoringActive")}),e.jsx(Fs,{id:"monitoring-toggle",checked:c,onCheckedChange:o})]}),e.jsxs(E,{onClick:g,disabled:p.length===0,variant:"outline",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),x("acknowledgeAll")," (",p.length,")"]})]})]}),b!=="normal"&&e.jsxs(Os,{className:`${b==="critical"?"border-red-200 bg-red-50":"border-yellow-200 bg-yellow-50"}`,children:[e.jsx(le,{className:`h-4 w-4 ${b==="critical"?"text-red-600":"text-yellow-600"}`}),e.jsxs(Es,{className:`${b==="critical"?"text-red-800":"text-yellow-800"}`,children:[x(b==="critical"?"criticalIssues":"someIssues"),b==="critical"&&` - ${O.length} critical alerts require immediate attention.`]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:x("alertCount")}),e.jsx(et,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:zs.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.length," active"]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:x("criticalCount")}),e.jsx(le,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:O.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Require immediate action"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:x("warningCount")}),e.jsx(Ue,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:M.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:x("resolvedToday")}),e.jsx(de,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:k.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Issues resolved"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:x("responseTime")}),e.jsx(we,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"2.4h"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Average resolution time"})]})]})]}),e.jsxs($e,{defaultValue:"active",className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-4",children:[e.jsx(X,{value:"active",children:x("activeAlerts")}),e.jsx(X,{value:"history",children:x("alertHistory")}),e.jsx(X,{value:"thresholds",children:x("thresholdSettings")}),e.jsx(X,{value:"notifications",children:x("notificationSettings")})]}),e.jsxs(Y,{value:"active",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),e.jsx(V,{children:"Filters:"})]}),e.jsxs(fe,{value:t,onValueChange:u=>a(u),children:[e.jsx(pe,{className:"w-40",children:e.jsx(ve,{placeholder:"Level"})}),e.jsxs(je,{children:[e.jsx(B,{value:"all",children:"All Levels"}),e.jsx(B,{value:"critical",children:x("critical")}),e.jsx(B,{value:"warning",children:x("warning")}),e.jsx(B,{value:"info",children:x("info")})]})]}),e.jsxs(fe,{value:r,onValueChange:u=>n(u),children:[e.jsx(pe,{className:"w-40",children:e.jsx(ve,{placeholder:"Type"})}),e.jsxs(je,{children:[e.jsx(B,{value:"all",children:"All Types"}),e.jsx(B,{value:"temperature",children:x("temperature")}),e.jsx(B,{value:"pressure",children:x("pressure")}),e.jsx(B,{value:"methane",children:x("methane")}),e.jsx(B,{value:"gasProduction",children:x("gasProduction")}),e.jsx(B,{value:"efficiency",children:x("efficiency")}),e.jsx(B,{value:"connectivity",children:x("connectivity")}),e.jsx(B,{value:"safety",children:x("safety")}),e.jsx(B,{value:"maintenance",children:x("maintenance")})]})]}),e.jsxs(fe,{value:i,onValueChange:u=>l(u),children:[e.jsx(pe,{className:"w-40",children:e.jsx(ve,{placeholder:"Status"})}),e.jsxs(je,{children:[e.jsx(B,{value:"all",children:"All Status"}),e.jsx(B,{value:"active",children:x("active")}),e.jsx(B,{value:"acknowledged",children:x("acknowledged")}),e.jsx(B,{value:"resolved",children:x("resolved")})]})]})]}),e.jsx("div",{className:"space-y-4",children:N.length===0?e.jsx(w,{children:e.jsxs(S,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(de,{className:"w-16 h-16 text-green-500 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-2",children:x("allSystems")}),e.jsx("p",{className:"text-muted-foreground text-center",children:"No alerts match the current filter criteria. All monitored systems are operating within normal parameters."})]})}):N.map(u=>e.jsx(Qm,{alert:u,onResolve:C,onDismiss:D,t:x},u.id))})]}),e.jsx(Y,{value:"history",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:x("alertHistory")}),e.jsx(se,{children:"Historical alert data and resolution tracking with detailed analysis"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[zs.slice(0,20).map(u=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[qn(u.level),e.jsx(L,{className:Bn(u.level),children:x(u.level)}),e.jsxs(L,{variant:"outline",children:[Va(u.type),e.jsx("span",{className:"ml-1",children:x(u.type)})]}),e.jsx(L,{variant:u.status==="resolved"?"default":"secondary",children:x(u.status)})]}),e.jsx("h4",{className:"font-semibold",children:u.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Location: ",u.location]}),e.jsxs("span",{children:["Assigned: ",u.assignedTo]}),e.jsx("span",{children:new Date(u.timestamp).toLocaleString()})]})]}),e.jsx(E,{size:"sm",variant:"outline",children:e.jsx(ds,{className:"w-4 h-4"})})]},u.id)),zs.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(we,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No alert history available"})]})]})})]})}),e.jsx(Y,{value:"thresholds",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:$m.map(u=>e.jsx(Km,{config:u,onUpdate:Hm,t:x},u.type))})}),e.jsx(Y,{value:"notifications",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:x("notificationSettings")}),e.jsx(se,{children:"Configure how you receive alert notifications"})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs(V,{htmlFor:"sound-alerts",className:"flex items-center gap-2",children:[j.sound?e.jsx(rt,{className:"w-4 h-4"}):e.jsx(zr,{className:"w-4 h-4"}),x("soundAlerts")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sound when new alerts arrive"})]}),e.jsx(Fs,{id:"sound-alerts",checked:j.sound,onCheckedChange:u=>y(d=>({...d,sound:u}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"email-notifications",children:x("emailNotifications")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send alerts via email"})]}),e.jsx(Fs,{id:"email-notifications",checked:j.email,onCheckedChange:u=>y(d=>({...d,email:u}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"sms-notifications",children:x("smsNotifications")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send critical alerts via SMS"})]}),e.jsx(Fs,{id:"sms-notifications",checked:j.sms,onCheckedChange:u=>y(d=>({...d,sms:u}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"push-notifications",children:x("pushNotifications")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Browser push notifications"})]}),e.jsx(Fs,{id:"push-notifications",checked:j.push,onCheckedChange:u=>y(d=>({...d,push:u}))})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:"Alert Management"}),e.jsx(se,{children:"Bulk actions and system controls"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs(E,{onClick:g,disabled:p.length===0,className:"w-full",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),x("acknowledgeAll")," (",p.length,")"]}),e.jsxs(E,{variant:"outline",className:"w-full",children:[e.jsx(Fa,{className:"w-4 h-4 mr-2"}),x("clearHistory")]}),e.jsxs(E,{variant:"outline",className:"w-full",children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),x("exportAlerts")]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(V,{children:"Real-time Monitoring"}),e.jsxs("div",{className:"flex items-center gap-2",children:[c?e.jsx(Ea,{className:"w-4 h-4 text-green-500"}):e.jsx(qr,{className:"w-4 h-4 text-gray-500"}),e.jsx(Fs,{checked:c,onCheckedChange:o})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:c?"Monitoring system is active":"Monitoring is paused"})]})]})]})]})})]})]})},Xm=()=>{const{user:s}=ws(),t=us(),a=$s(),r=[{id:"dashboard",label:"Dashboard",icon:e.jsx(ke,{className:"w-4 h-4"}),onClick:()=>t("/cluster"),isActive:a.pathname==="/cluster"},{id:"digesters",label:"Digester Monitoring",icon:e.jsx(Ht,{className:"w-4 h-4"}),onClick:()=>t("/cluster/digesters"),isActive:a.pathname==="/cluster/digesters"},{id:"batches",label:"Batch Management",icon:e.jsx(La,{className:"w-4 h-4"}),onClick:()=>t("/cluster/batches"),isActive:a.pathname==="/cluster/batches"},{id:"disputes",label:"Dispute Resolution",icon:e.jsx(Oi,{className:"w-4 h-4"}),onClick:()=>t("/cluster/disputes"),isActive:a.pathname==="/cluster/disputes"},{id:"payments",label:"Payment Reconciliation",icon:e.jsx(Yt,{className:"w-4 h-4"}),onClick:()=>t("/cluster/payments"),isActive:a.pathname==="/cluster/payments"},{id:"scheduler",label:"Pickup Scheduler",icon:e.jsx(we,{className:"w-4 h-4"}),onClick:()=>t("/cluster/scheduler"),isActive:a.pathname==="/cluster/scheduler"},{id:"transactions",label:"Transaction Entry",icon:e.jsx(Qt,{className:"w-4 h-4"}),onClick:()=>t("/cluster/transactions"),isActive:a.pathname==="/cluster/transactions"},{id:"alerts",label:"Alerts Management",icon:e.jsx(et,{className:"w-4 h-4"}),onClick:()=>t("/cluster/alerts"),isActive:a.pathname==="/cluster/alerts"}],n=[{label:"SAUBHAGYA",onClick:()=>t("/")},{label:"BiogasSangh Cluster",onClick:()=>t("/cluster")}],i=()=>{const l=a.pathname;return l==="/cluster/digesters"?e.jsx(ic,{}):l==="/cluster/batches"?e.jsx(gc,{}):l==="/cluster/disputes"?e.jsx(vc,{}):l==="/cluster/payments"?e.jsx(Nc,{}):l==="/cluster/scheduler"?e.jsx(Em,{}):l==="/cluster/transactions"?e.jsx(Wm,{}):l==="/cluster/alerts"?e.jsx(Zm,{}):e.jsx(Jl,{})};return e.jsx(lt,{moduleName:"BiogasSangh",moduleSubtitle:"Cluster Management & Operations",navigationItems:r,userInfo:{name:s?.name||"Cluster Manager",role:"CLUSTER_MANAGER"},breadcrumbs:n,contentClassName:"!pt-16 !mt-2",children:i()})},va=()=>[{id:"cust_001",name:"Green Energy Industries",type:"industrial",contactPerson:"Rajesh Kumar",phone:"+91-9876543210",email:"rajesh@greenenergy.com",address:{street:"123 Industrial Area, Phase 2",city:"Noida",state:"Uttar Pradesh",pincode:"201301",coordinates:{lat:28.5355,lng:77.391}},creditLimit:5e6,creditUsed:125e4,paymentTerms:30,gstNumber:"09ABCDE1234F1Z5",panNumber:"ABCDE1234F",status:"active",registrationDate:new Date("2023-01-15"),lastOrderDate:new Date("2024-09-15"),totalOrders:45,totalRevenue:125e5,riskCategory:"low"},{id:"cust_002",name:"Sunrise Hotel Chain",type:"commercial",contactPerson:"Priya Sharma",phone:"+91-9876543211",email:"priya@sunrisehotels.com",address:{street:"45 MG Road",city:"Bangalore",state:"Karnataka",pincode:"560001",coordinates:{lat:12.9716,lng:77.5946}},creditLimit:1e6,creditUsed:15e4,paymentTerms:15,gstNumber:"29FGHIJ5678K2L6",panNumber:"FGHIJ5678K",status:"active",registrationDate:new Date("2023-03-20"),lastOrderDate:new Date("2024-09-20"),totalOrders:32,totalRevenue:28e5,riskCategory:"low"},{id:"cust_003",name:"Residential Society - Emerald Heights",type:"residential",contactPerson:"Amit Verma",phone:"+91-9876543212",email:"amit@emeraldheights.com",address:{street:"Emerald Heights, Sector 65",city:"Gurgaon",state:"Haryana",pincode:"122018",coordinates:{lat:28.4089,lng:77.0507}},creditLimit:5e5,creditUsed:75e3,paymentTerms:7,status:"active",registrationDate:new Date("2023-06-10"),lastOrderDate:new Date("2024-09-18"),totalOrders:28,totalRevenue:85e4,riskCategory:"medium"}],Nr=()=>[{id:"cont_001",customerId:"cust_001",contractNumber:"SB-2024-001",type:"supply",status:"active",startDate:new Date("2024-01-01"),endDate:new Date("2024-12-31"),gasType:"biogas",quantity:1e4,pricePerUnit:45,totalValue:54e5,paymentTerms:{advancePercentage:20,creditDays:30,penaltyRate:2},deliveryTerms:{location:"Customer Site",frequency:"monthly",transportMode:"pipeline"},version:1,signedDate:new Date("2023-12-15"),signedBy:{customer:{name:"Rajesh Kumar",designation:"CEO",signature:"digital_signature_1"},company:{name:"Saubhagya Representative",designation:"Sales Manager",signature:"digital_signature_2"}},documents:[{id:"doc_001",name:"Supply Agreement.pdf",type:"contract",url:"/documents/supply_agreement_001.pdf",uploadDate:new Date("2023-12-15")}]}],br=()=>[{id:"inv_001",gasType:"biogas",batchNumber:"BG-2024-001",productionDate:new Date("2024-09-15"),quantity:5e3,availableQuantity:3500,unit:"cubic_meters",quality:{methaneContent:65,purity:98.5,pressure:15,temperature:25},location:{plantId:"plant_001",tankId:"tank_A1",coordinates:{lat:28.7041,lng:77.1025}},pesoCompliance:{certificateNumber:"PESO-2024-001",issueDate:new Date("2024-01-15"),expiryDate:new Date("2025-01-15"),status:"valid",inspector:"Dr. Rajesh Gupta"},pricePerUnit:45,reservedQuantity:1500,status:"available"},{id:"inv_002",gasType:"compressed",batchNumber:"CG-2024-005",productionDate:new Date("2024-09-20"),quantity:2e3,availableQuantity:1800,unit:"kg",quality:{methaneContent:95,purity:99.2,pressure:200,temperature:20},location:{plantId:"plant_002",tankId:"tank_B2",coordinates:{lat:28.6139,lng:77.209}},pesoCompliance:{certificateNumber:"PESO-2024-002",issueDate:new Date("2024-02-01"),expiryDate:new Date("2025-02-01"),status:"valid",inspector:"Mr. Suresh Yadav"},pricePerUnit:65,reservedQuantity:200,status:"available"}],Jm=()=>[{id:"ord_001",orderNumber:"ORD-2024-001",customerId:"cust_001",contractId:"cont_001",orderDate:new Date("2024-09-15"),requestedDeliveryDate:new Date("2024-09-25"),status:"confirmed",items:[{inventoryId:"inv_001",gasType:"biogas",quantity:1e3,pricePerUnit:45,totalAmount:45e3,batchNumber:"BG-2024-001"}],totalQuantity:1e3,totalAmount:45e3,discountPercentage:5,discountAmount:2250,taxAmount:7695,finalAmount:50445,deliveryAddress:{street:"123 Industrial Area, Phase 2",city:"Noida",state:"Uttar Pradesh",pincode:"201301",coordinates:{lat:28.5355,lng:77.391}},deliveryInstructions:"Delivery during business hours only",invoiceGenerated:!0,invoiceNumber:"INV-2024-001",paymentStatus:"pending",createdBy:"sales_user_001",lastModifiedBy:"sales_user_001",lastModifiedDate:new Date("2024-09-15")}],eu=()=>[{id:"inv_001",invoiceNumber:"INV-2024-001",orderId:"ord_001",customerId:"cust_001",invoiceDate:new Date("2024-09-15"),dueDate:new Date("2024-10-15"),status:"sent",items:[{description:"Biogas Supply - BG-2024-001",quantity:1e3,unit:"cubic meters",pricePerUnit:45,totalAmount:45e3,taxRate:18,taxAmount:8100}],subtotal:45e3,discountAmount:2250,taxAmount:7695,totalAmount:50445,paidAmount:0,balanceAmount:50445,paymentTerms:"Net 30 days",bankDetails:{accountName:"Saubhagya Energy Solutions",accountNumber:"1234567890",ifscCode:"SBIN0001234",bankName:"State Bank of India"},notes:"Payment due within 30 days of invoice date",generatedBy:"manual"}],Ge={async getCustomers(s){const t=va();return{success:!0,data:t,pagination:{page:1,limit:10,total:t.length,totalPages:1}}},async getCustomerById(s){const a=va().find(r=>r.id===s);return{success:!!a,data:a,message:a?"Customer found":"Customer not found"}},async createCustomer(s){return{success:!0,data:{...s,id:`cust_${Date.now()}`},message:"Customer created successfully"}},async updateCustomer(s,t){const r=va().find(i=>i.id===s);return r?{success:!0,data:{...r,...t},message:"Customer updated successfully"}:{success:!1,data:null,message:"Customer not found"}},async getContracts(){const s=Nr();return{success:!0,data:s,pagination:{page:1,limit:10,total:s.length,totalPages:1}}},async getContractById(s){const a=Nr().find(r=>r.id===s);return{success:!!a,data:a,message:a?"Contract found":"Contract not found"}},async createContract(s){return{success:!0,data:{...s,id:`cont_${Date.now()}`},message:"Contract created successfully"}},async getInventory(s){const t=br();return{success:!0,data:t,pagination:{page:1,limit:10,total:t.length,totalPages:1}}},async updateInventoryItem(s,t){const r=br().find(i=>i.id===s);return r?{success:!0,data:{...r,...t},message:"Inventory item updated successfully"}:{success:!1,data:null,message:"Inventory item not found"}},async getOrders(s){const t=Jm();return{success:!0,data:t,pagination:{page:1,limit:10,total:t.length,totalPages:1}}},async createOrder(s){return{success:!0,data:{...s,id:`ord_${Date.now()}`,orderNumber:`ORD-${new Date().getFullYear()}-${Date.now().toString().slice(-6)}`},message:"Order created successfully"}},async getInvoices(){const s=eu();return{success:!0,data:s,pagination:{page:1,limit:10,total:s.length,totalPages:1}}},async generateInvoice(s){return{success:!0,data:{id:`inv_${Date.now()}`,invoiceNumber:`INV-${new Date().getFullYear()}-${Date.now().toString().slice(-6)}`,orderId:s,customerId:"cust_001",invoiceDate:new Date,dueDate:new Date(Date.now()+2592e6),status:"draft",items:[],subtotal:0,discountAmount:0,taxAmount:0,totalAmount:0,paidAmount:0,balanceAmount:0,paymentTerms:"Net 30 days",bankDetails:{accountName:"Saubhagya Energy Solutions",accountNumber:"1234567890",ifscCode:"SBIN0001234",bankName:"State Bank of India"},generatedBy:"manual"},message:"Invoice generated successfully"}},async startVoiceSession(s){return{success:!0,data:{id:`voice_${Date.now()}`,sessionId:`session_${Date.now()}`,startTime:new Date,language:s,transcription:"",confidence:0,extractedData:{items:[]},status:"recording",validationErrors:[]},message:"Voice session started"}},async processVoiceData(s,t){return{success:!0,data:{id:s,sessionId:s,startTime:new Date(Date.now()-6e4),endTime:new Date,language:"hindi",transcription:"ग्रीन एनर्जी इंडस्ट्रीज के लिए एक हजार क्यूबिक मीटर बायो गैस, पैंतालीस रुपए प्रति यूनिट",confidence:.85,extractedData:{customerName:"Green Energy Industries",customerId:"cust_001",items:[{description:"Biogas",quantity:1e3,unit:"cubic meters",pricePerUnit:45}],totalAmount:45e3},status:"completed",validationErrors:[]},message:"Voice data processed successfully"}},async getPayments(){return{success:!0,data:[],pagination:{page:1,limit:10,total:0,totalPages:0}}},async getDeliveries(){return{success:!0,data:[],pagination:{page:1,limit:10,total:0,totalPages:0}}},async getPriceData(){return{success:!0,data:[],message:"Price data retrieved successfully"}},async getComplianceRecords(){return{success:!0,data:[],pagination:{page:1,limit:10,total:0,totalPages:0}}},async getSalesMetrics(){return{success:!0,data:{totalRevenue:15e6,totalOrders:105,averageOrderValue:142857,totalCustomers:25,activeContracts:8,inventoryValue:25e5,pendingPayments:75e4,deliverySuccess:98.5,customerSatisfaction:4.6,periodComparison:{revenue:{current:15e6,previous:12e6,change:25},orders:{current:105,previous:85,change:23.5},customers:{current:25,previous:20,change:25}}},message:"Metrics retrieved successfully"}}},Et=({title:s,value:t,change:a,icon:r,description:n,status:i="neutral"})=>{const l=()=>a===void 0?"text-gray-500":a>=0?"text-green-600":"text-red-600",c=()=>a===void 0?null:a>=0?e.jsx(xe,{className:"w-4 h-4"}):e.jsx(Ws,{className:"w-4 h-4"});return e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:s}),r]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t}),a!==void 0&&e.jsxs("div",{className:`flex items-center space-x-1 text-xs ${l()}`,children:[c(),e.jsxs("span",{children:[Math.abs(a),"% from last month"]})]}),n&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n})]})]})},su=({order:s})=>{const t=a=>{switch(a){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:s.orderNumber}),e.jsx(L,{className:t(s.status),children:s.status})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[s.items[0]?.gasType," • ",s.totalQuantity.toLocaleString()," units"]}),e.jsx("div",{className:"text-xs text-gray-500",children:s.orderDate.toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold",children:["₹",s.finalAmount.toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Due: ",s.requestedDeliveryDate.toLocaleDateString()]})]})]})},tu=({item:s})=>{const a=(()=>{const r=(s.quantity-s.availableQuantity)/s.quantity*100;return r>80?{color:"text-red-600",level:"Critical"}:r>60?{color:"text-yellow-600",level:"Warning"}:{color:"text-blue-600",level:"Info"}})();return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(le,{className:`w-5 h-5 ${a.color}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.batchNumber}),e.jsxs("div",{className:"text-sm text-gray-600",children:[s.gasType," • Available: ",s.availableQuantity.toLocaleString()," ",s.unit]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["PESO: ",s.pesoCompliance.status]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(L,{className:a.color.includes("red")?"bg-red-100 text-red-800":a.color.includes("yellow")?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:a.level}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["₹",(s.availableQuantity*s.pricePerUnit).toLocaleString()]})]})]})},au=[{metric:"Delivery Success",current:98.5,target:98},{metric:"Customer Satisfaction",current:87,target:90},{metric:"Order Fulfillment",current:95.2,target:95},{metric:"Payment Collection",current:82,target:95}],ru=[{month:"Jan",value:1850},{month:"Feb",value:2305},{month:"Mar",value:1870},{month:"Apr",value:2450},{month:"May",value:2890},{month:"Jun",value:3140}],nu=[{type:"Biogas",percentage:45,color:"bg-blue-500"},{type:"CBG",percentage:30,color:"bg-green-500"},{type:"Methane",percentage:25,color:"bg-purple-500"}],iu=[{month:"Jan",customers:12},{month:"Feb",customers:18},{month:"Mar",customers:15},{month:"Apr",customers:22},{month:"May",customers:25},{month:"Jun",customers:28}],wr=({data:s,title:t})=>{const a=Math.max(...s.map(r=>r.value||r.customers));return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative h-48 flex items-end justify-between space-x-1 bg-gray-50 p-4 rounded-lg",children:s.map((r,n)=>{const i=r.value||r.customers,l=i/a*80,o=r.value!==void 0?`₹${(i/1e3).toFixed(1)}K`:i.toString();return e.jsxs("div",{className:"flex-1 flex flex-col items-center relative",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-2 absolute -top-6",children:o}),e.jsxs("div",{className:"w-full flex flex-col items-center",children:[e.jsx("div",{className:"w-8 bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-md transition-all duration-300 hover:from-blue-700 hover:to-blue-500 shadow-md border border-blue-300",style:{height:`${Math.max(l,12)}px`,minHeight:"12px"},title:`${r.month}: ${o}`}),e.jsx("span",{className:"text-xs text-gray-600 font-medium mt-2",children:r.month})]})]},n)})}),e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Peak: ",t.includes("Revenue")?`₹${(a/1e3).toFixed(1)}K`:a," • Growth: ",t.includes("Revenue")?"+69.7%":"+133%"," vs Jan"]})]})},lu=({data:s,title:t})=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:t}),e.jsx("div",{className:"space-y-3",children:s.map((a,r)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${a.color}`}),e.jsx("span",{className:"text-gray-600",children:a.type})]}),e.jsxs("span",{className:"font-medium",children:[a.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${a.color} transition-all duration-300`,style:{width:`${a.percentage}%`}})})]},r))})]}),cu=()=>{const[s,t]=h.useState(null),[a,r]=h.useState([]),[n,i]=h.useState([]),[l,c]=h.useState(!0),[o,j]=h.useState(new Date),y=async()=>{c(!0);try{const[f,x,N]=await Promise.all([Ge.getSalesMetrics(),Ge.getOrders(),Ge.getInventory()]);if(f.success&&t(f.data),x.success&&r(x.data.slice(0,5)),N.success){const p=N.data.filter(O=>(O.quantity-O.availableQuantity)/O.quantity*100>60||O.pesoCompliance.status!=="valid");i(p.slice(0,5))}j(new Date)}catch{}finally{c(!1)}};return h.useEffect(()=>{y()},[]),l?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(os,{className:"w-8 h-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading dashboard..."})]}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sales Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Overview of your biogas sales performance and operations"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right text-sm",children:[e.jsx("div",{className:"text-muted-foreground",children:"Last updated"}),e.jsx("div",{className:"font-semibold",children:o.toLocaleTimeString()})]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:y,children:[e.jsx(os,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Et,{title:"Total Revenue",value:`₹${(s.totalRevenue/1e6).toFixed(1)}M`,change:s.periodComparison.revenue.change,icon:e.jsx(We,{className:"w-5 h-5 text-green-600"}),description:"Monthly revenue growth"}),e.jsx(Et,{title:"Total Orders",value:s.totalOrders,change:s.periodComparison.orders.change,icon:e.jsx(Me,{className:"w-5 h-5 text-blue-600"}),description:"Orders processed"}),e.jsx(Et,{title:"Active Customers",value:s.totalCustomers,change:s.periodComparison.customers.change,icon:e.jsx(Te,{className:"w-5 h-5 text-purple-600"}),description:"Customer base growth"}),e.jsx(Et,{title:"Avg Order Value",value:`₹${(s.averageOrderValue/1e3).toFixed(0)}K`,icon:e.jsx(fs,{className:"w-5 h-5 text-orange-600"}),description:"Per order average"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{className:"pb-3",children:e.jsxs(A,{className:"flex items-center space-x-2 text-base",children:[e.jsx(Se,{className:"w-4 h-4 text-indigo-600"}),e.jsx("span",{children:"Performance Metrics"})]})}),e.jsx(S,{className:"space-y-3",children:au.map(f=>{const x=f.current/f.target*100,N=f.current>=f.target,p=f.current>=f.target*.9;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:f.metric}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[f.current,"% / ",f.target,"%"]}),e.jsx("div",{className:`w-3 h-3 rounded-full flex items-center justify-center text-xs ${N?"bg-green-100 text-green-700":p?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:N?"✓":p?"!":"⚠"})]})]}),e.jsx("div",{className:"relative w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${N?"bg-green-500":p?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(x,100)}%`}})})]},f.metric)})})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"pb-3",children:[e.jsxs(A,{className:"flex items-center space-x-2 text-base",children:[e.jsx(ke,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:"Revenue Trend"})]}),e.jsx(se,{className:"text-xs",children:"6-month revenue performance"})]}),e.jsx(S,{children:e.jsx(wr,{data:ru,title:"Monthly Revenue"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{className:"pb-3",children:[e.jsxs(A,{className:"flex items-center space-x-2 text-base",children:[e.jsx(st,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Gas Type Mix"})]}),e.jsx(se,{className:"text-xs",children:"Distribution by gas type"})]}),e.jsx(S,{children:e.jsx(lu,{data:nu,title:"Gas Types"})})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"pb-3",children:[e.jsxs(A,{className:"flex items-center space-x-2 text-base",children:[e.jsx(Se,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Customer Growth"})]}),e.jsx(se,{className:"text-xs",children:"New customers per month"})]}),e.jsx(S,{children:e.jsx(wr,{data:iu,title:"New Customers"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"w-5 h-5"}),e.jsx("span",{children:"Recent Orders"})]}),e.jsx(se,{children:"Latest order activity"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:a.length>0?a.map(f=>e.jsx(su,{order:f},f.id)):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No recent orders available"})})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"w-5 h-5"}),e.jsx("span",{children:"Inventory Alerts"})]}),e.jsx(se,{children:"Items requiring attention"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:n.length>0?n.map(f=>e.jsx(tu,{item:f},f.id)):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No inventory alerts at this time"})})})]})]})]})},ou=({customer:s,onEdit:t,onViewDetails:a})=>{const r=c=>{switch(c){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},n=c=>{switch(c){case"commercial":return"bg-blue-100 text-blue-800";case"industrial":return"bg-purple-100 text-purple-800";case"residential":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},i=c=>{switch(c){case"low":return"text-green-600";case"medium":return"text-yellow-600";case"high":return"text-red-600";default:return"text-gray-600"}},l=s.creditUsed/s.creditLimit*100;return e.jsxs(w,{className:"hover:shadow-md transition-shadow",children:[e.jsx(I,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{className:"text-lg",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:r(s.status),children:s.status}),e.jsx(L,{className:n(s.type),children:s.type})]})]}),e.jsx(E,{variant:"ghost",size:"sm",children:e.jsx(Kr,{className:"w-4 h-4"})})]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Zr,{className:"w-4 h-4 mr-2"}),s.contactPerson]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Gt,{className:"w-4 h-4 mr-2"}),s.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Cr,{className:"w-4 h-4 mr-2"}),s.email]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),s.address.city,", ",s.address.state]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Credit Utilization"}),e.jsxs("span",{className:i(s.riskCategory),children:[l.toFixed(1),"%"]})]}),e.jsx(ue,{value:l,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Used: ₹",(s.creditUsed/1e3).toFixed(0),"K"]}),e.jsxs("span",{children:["Limit: ₹",(s.creditLimit/1e3).toFixed(0),"K"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold",children:s.totalOrders}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Orders"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold",children:["₹",(s.totalRevenue/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Revenue"})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsx(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>a(s),children:"View Details"}),e.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>t(s),children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})]})},du=({customer:s,onSave:t,onCancel:a})=>{const[r,n]=h.useState(s||{name:"",type:"commercial",contactPerson:"",phone:"",email:"",address:{street:"",city:"",state:"",pincode:""},creditLimit:0,paymentTerms:30,gstNumber:"",panNumber:"",status:"active"}),i=l=>{l.preventDefault(),t(r)};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"name",children:"Company/Customer Name"}),e.jsx(ee,{id:"name",value:r.name,onChange:l=>n({...r,name:l.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"type",children:"Customer Type"}),e.jsxs(fe,{value:r.type,onValueChange:l=>n({...r,type:l}),children:[e.jsx(pe,{children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"commercial",children:"Commercial"}),e.jsx(B,{value:"industrial",children:"Industrial"}),e.jsx(B,{value:"residential",children:"Residential"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"contactPerson",children:"Contact Person"}),e.jsx(ee,{id:"contactPerson",value:r.contactPerson,onChange:l=>n({...r,contactPerson:l.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"phone",children:"Phone Number"}),e.jsx(ee,{id:"phone",value:r.phone,onChange:l=>n({...r,phone:l.target.value}),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"email",children:"Email Address"}),e.jsx(ee,{id:"email",type:"email",value:r.email,onChange:l=>n({...r,email:l.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"street",children:"Street Address"}),e.jsx(ot,{id:"street",value:r.address?.street,onChange:l=>n({...r,address:{...r.address,street:l.target.value}}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"city",children:"City"}),e.jsx(ee,{id:"city",value:r.address?.city,onChange:l=>n({...r,address:{...r.address,city:l.target.value}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"state",children:"State"}),e.jsx(ee,{id:"state",value:r.address?.state,onChange:l=>n({...r,address:{...r.address,state:l.target.value}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"pincode",children:"PIN Code"}),e.jsx(ee,{id:"pincode",value:r.address?.pincode,onChange:l=>n({...r,address:{...r.address,pincode:l.target.value}}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"creditLimit",children:"Credit Limit (₹)"}),e.jsx(ee,{id:"creditLimit",type:"number",value:r.creditLimit,onChange:l=>n({...r,creditLimit:Number(l.target.value)}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"paymentTerms",children:"Payment Terms (Days)"}),e.jsx(ee,{id:"paymentTerms",type:"number",value:r.paymentTerms,onChange:l=>n({...r,paymentTerms:Number(l.target.value)}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"gstNumber",children:"GST Number (Optional)"}),e.jsx(ee,{id:"gstNumber",value:r.gstNumber,onChange:l=>n({...r,gstNumber:l.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"panNumber",children:"PAN Number (Optional)"}),e.jsx(ee,{id:"panNumber",value:r.panNumber,onChange:l=>n({...r,panNumber:l.target.value})})]})]}),e.jsxs(Vs,{children:[e.jsx(E,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),e.jsx(E,{type:"submit",children:s?"Update Customer":"Create Customer"})]})]})},mu=()=>{const[s,t]=h.useState([]),[a,r]=h.useState([]),[n,i]=h.useState(!0),[l,c]=h.useState(""),[o,j]=h.useState({}),[y,f]=h.useState(null),[x,N]=h.useState(!1),[p,O]=h.useState(!1),M=async()=>{i(!0);try{const d=await Ge.getCustomers(o);d.success&&(t(d.data),r(d.data))}catch{}finally{i(!1)}};h.useEffect(()=>{M()},[o]),h.useEffect(()=>{const d=s.filter(v=>v.name.toLowerCase().includes(l.toLowerCase())||v.contactPerson.toLowerCase().includes(l.toLowerCase())||v.email.toLowerCase().includes(l.toLowerCase())||v.phone.includes(l));r(d)},[s,l]);const k=()=>{f(null),N(!0)},b=d=>{f(d),N(!0)},C=d=>{f(d),O(!0)},D=async d=>{try{y?await Ge.updateCustomer(y.id,d):await Ge.createCustomer(d),N(!1),M()}catch{}},u=(()=>{const d=s.length,v=s.filter(R=>R.status==="active").length,m=s.filter(R=>R.riskCategory==="high").length,P=s.reduce((R,G)=>R+G.totalRevenue,0);return{total:d,active:v,highRisk:m,totalRevenue:P}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Customer Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage customer profiles, credit limits, and relationships"})]}),e.jsxs(E,{onClick:k,children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold",children:u.total})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xe,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Customers"}),e.jsx("p",{className:"text-2xl font-bold",children:u.active})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"High Risk"}),e.jsx("p",{className:"text-2xl font-bold",children:u.highRisk})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Yt,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",(u.totalRevenue/1e6).toFixed(1),"M"]})]})]})})})]}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ms,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search customers by name, contact, email, or phone...",value:l,onChange:d=>c(d.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(fe,{value:o.status?.[0]||"all",onValueChange:d=>j({...o,status:d==="all"?void 0:[d]}),children:[e.jsx(pe,{className:"w-40",children:e.jsx(ve,{placeholder:"Status"})}),e.jsxs(je,{children:[e.jsx(B,{value:"all",children:"All Status"}),e.jsx(B,{value:"active",children:"Active"}),e.jsx(B,{value:"inactive",children:"Inactive"}),e.jsx(B,{value:"suspended",children:"Suspended"})]})]}),e.jsxs(fe,{value:o.type?.[0]||"all",onValueChange:d=>j({...o,type:d==="all"?void 0:[d]}),children:[e.jsx(pe,{className:"w-40",children:e.jsx(ve,{placeholder:"Type"})}),e.jsxs(je,{children:[e.jsx(B,{value:"all",children:"All Types"}),e.jsx(B,{value:"commercial",children:"Commercial"}),e.jsx(B,{value:"industrial",children:"Industrial"}),e.jsx(B,{value:"residential",children:"Residential"})]})]}),e.jsxs(E,{variant:"outline",children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),"More Filters"]})]})]})})}),n?e.jsx("div",{className:"text-center py-8",children:"Loading customers..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(d=>e.jsx(ou,{customer:d,onEdit:b,onViewDetails:C},d.id))}),e.jsx(gs,{open:x,onOpenChange:N,children:e.jsxs(ns,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(is,{children:[e.jsx(ls,{children:y?"Edit Customer":"Add New Customer"}),e.jsx(cs,{children:y?"Update customer information and settings.":"Create a new customer profile with contact and credit information."})]}),e.jsx(du,{customer:y||void 0,onSave:D,onCancel:()=>N(!1)})]})}),e.jsx(gs,{open:p,onOpenChange:O,children:e.jsxs(ns,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(is,{children:[e.jsx(ls,{children:y?.name}),e.jsx(cs,{children:"Complete customer profile and history"})]}),y&&e.jsxs($e,{defaultValue:"profile",className:"w-full",children:[e.jsxs(Ve,{children:[e.jsx(X,{value:"profile",children:"Profile"}),e.jsx(X,{value:"orders",children:"Orders"}),e.jsx(X,{value:"payments",children:"Payments"}),e.jsx(X,{value:"analytics",children:"Analytics"})]}),e.jsx(Y,{value:"profile",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{className:"text-sm",children:"Contact Information"})}),e.jsxs(S,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Person:"})," ",y.contactPerson]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Phone:"})," ",y.phone]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",y.email]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Address:"})," ",y.address.street,", ",y.address.city]})]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{className:"text-sm",children:"Business Information"})}),e.jsxs(S,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",y.type]}),e.jsxs("div",{children:[e.jsx("strong",{children:"GST Number:"})," ",y.gstNumber||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"PAN Number:"})," ",y.panNumber||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Registration Date:"})," ",y.registrationDate.toLocaleDateString()]})]})]})]})}),e.jsx(Y,{value:"orders",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Order History"})}),e.jsx(S,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Order history will be displayed here"})})]})}),e.jsx(Y,{value:"payments",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Payment History"})}),e.jsx(S,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Payment history will be displayed here"})})]})}),e.jsx(Y,{value:"analytics",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Customer Analytics"})}),e.jsx(S,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Customer analytics will be displayed here"})})]})})]})]})})]})},uu=({contract:s,customer:t,onEdit:a,onView:r,onSign:n})=>{const i=y=>{switch(y){case"active":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"expired":return"bg-red-100 text-red-800";case"terminated":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},l=y=>{switch(y){case"supply":return"bg-blue-100 text-blue-800";case"bulk":return"bg-purple-100 text-purple-800";case"subscription":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},o=(()=>{const y=new Date,x=new Date(s.endDate).getTime()-y.getTime();return Math.ceil(x/(1e3*60*60*24))})(),j=(()=>{const y=new Date(s.startDate).getTime(),f=new Date(s.endDate).getTime(),x=new Date().getTime(),N=f-y,p=x-y;return Math.min(Math.max(p/N*100,0),100)})();return e.jsxs(w,{className:"hover:shadow-md transition-shadow",children:[e.jsx(I,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{className:"text-lg",children:s.contractNumber}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:i(s.status),children:s.status}),e.jsx(L,{className:l(s.type),children:s.type}),s.version>1&&e.jsxs(L,{variant:"outline",children:["v",s.version]})]})]}),e.jsx(E,{variant:"ghost",size:"sm",children:e.jsx(Kr,{className:"w-4 h-4"})})]})}),e.jsxs(S,{className:"space-y-4",children:[t&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),t.name]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(fs,{className:"w-4 h-4 mr-1"}),s.gasType]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(We,{className:"w-4 h-4 mr-1"}),"₹",s.pricePerUnit,"/unit"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(hs,{className:"w-4 h-4 mr-1"}),s.deliveryTerms.frequency]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),o>0?`${o} days left`:"Expired"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Contract Progress"}),e.jsxs("span",{children:[j.toFixed(0),"%"]})]}),e.jsx(ue,{value:j,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Start: ",new Date(s.startDate).toLocaleDateString()]}),e.jsxs("span",{children:["End: ",new Date(s.endDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t text-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-semibold",children:["₹",(s.totalValue/1e6).toFixed(1),"M"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Value"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:s.quantity.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-500",children:"Quantity/Month"})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>r(s),children:[e.jsx(ds,{className:"w-4 h-4 mr-1"}),"View"]}),s.status==="draft"&&e.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>n(s),children:[e.jsx(Lt,{className:"w-4 h-4 mr-1"}),"Sign"]}),e.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>a(s),children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})]})},xu=({contract:s,customers:t,onSave:a,onCancel:r})=>{const[n,i]=h.useState(s||{customerId:"",contractNumber:`SB-${new Date().getFullYear()}-${Date.now().toString().slice(-6)}`,type:"supply",status:"draft",startDate:new Date,endDate:new Date(Date.now()+31536e6),gasType:"biogas",quantity:0,pricePerUnit:0,paymentTerms:{advancePercentage:20,creditDays:30,penaltyRate:2},deliveryTerms:{location:"",frequency:"monthly",transportMode:"pipeline"},version:1,documents:[]}),l=()=>(n.quantity||0)*(n.pricePerUnit||0)*12,c=o=>{o.preventDefault();const j={...n,totalValue:l()};a(j)};return e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"contractNumber",children:"Contract Number"}),e.jsx(ee,{id:"contractNumber",value:n.contractNumber,onChange:o=>i({...n,contractNumber:o.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"customerId",children:"Customer"}),e.jsxs(fe,{value:n.customerId,onValueChange:o=>i({...n,customerId:o}),children:[e.jsx(pe,{children:e.jsx(ve,{placeholder:"Select customer"})}),e.jsx(je,{children:t.map(o=>e.jsx(B,{value:o.id,children:o.name},o.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"type",children:"Contract Type"}),e.jsxs(fe,{value:n.type,onValueChange:o=>i({...n,type:o}),children:[e.jsx(pe,{children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"supply",children:"Supply Agreement"}),e.jsx(B,{value:"bulk",children:"Bulk Purchase"}),e.jsx(B,{value:"subscription",children:"Subscription"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"gasType",children:"Gas Type"}),e.jsxs(fe,{value:n.gasType,onValueChange:o=>i({...n,gasType:o}),children:[e.jsx(pe,{children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"biogas",children:"Biogas"}),e.jsx(B,{value:"compressed",children:"Compressed Gas"}),e.jsx(B,{value:"liquefied",children:"Liquefied Gas"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"startDate",children:"Start Date"}),e.jsx(ee,{id:"startDate",type:"date",value:n.startDate?.toISOString().split("T")[0],onChange:o=>i({...n,startDate:new Date(o.target.value)}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"endDate",children:"End Date"}),e.jsx(ee,{id:"endDate",type:"date",value:n.endDate?.toISOString().split("T")[0],onChange:o=>i({...n,endDate:new Date(o.target.value)}),required:!0})]})]})]}),e.jsx(Xs,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Commercial Terms"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"quantity",children:"Monthly Quantity"}),e.jsx(ee,{id:"quantity",type:"number",value:n.quantity,onChange:o=>i({...n,quantity:Number(o.target.value)}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"pricePerUnit",children:"Price per Unit (₹)"}),e.jsx(ee,{id:"pricePerUnit",type:"number",step:"0.01",value:n.pricePerUnit,onChange:o=>i({...n,pricePerUnit:Number(o.target.value)}),required:!0})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Annual Value"}),e.jsxs("div",{className:"text-2xl font-bold",children:["₹",l().toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"advancePercentage",children:"Advance Percentage (%)"}),e.jsx(ee,{id:"advancePercentage",type:"number",value:n.paymentTerms?.advancePercentage,onChange:o=>i({...n,paymentTerms:{...n.paymentTerms,advancePercentage:Number(o.target.value)}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"creditDays",children:"Credit Days"}),e.jsx(ee,{id:"creditDays",type:"number",value:n.paymentTerms?.creditDays,onChange:o=>i({...n,paymentTerms:{...n.paymentTerms,creditDays:Number(o.target.value)}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"penaltyRate",children:"Penalty Rate (%)"}),e.jsx(ee,{id:"penaltyRate",type:"number",step:"0.1",value:n.paymentTerms?.penaltyRate,onChange:o=>i({...n,paymentTerms:{...n.paymentTerms,penaltyRate:Number(o.target.value)}}),required:!0})]})]})]}),e.jsx(Xs,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Terms"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"deliveryLocation",children:"Delivery Location"}),e.jsx(ot,{id:"deliveryLocation",value:n.deliveryTerms?.location,onChange:o=>i({...n,deliveryTerms:{...n.deliveryTerms,location:o.target.value}}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"frequency",children:"Delivery Frequency"}),e.jsxs(fe,{value:n.deliveryTerms?.frequency,onValueChange:o=>i({...n,deliveryTerms:{...n.deliveryTerms,frequency:o}}),children:[e.jsx(pe,{children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"daily",children:"Daily"}),e.jsx(B,{value:"weekly",children:"Weekly"}),e.jsx(B,{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"transportMode",children:"Transport Mode"}),e.jsxs(fe,{value:n.deliveryTerms?.transportMode,onValueChange:o=>i({...n,deliveryTerms:{...n.deliveryTerms,transportMode:o}}),children:[e.jsx(pe,{children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"pipeline",children:"Pipeline"}),e.jsx(B,{value:"cylinder",children:"Cylinder"}),e.jsx(B,{value:"tanker",children:"Tanker"})]})]})]})]})]}),e.jsxs(Vs,{children:[e.jsx(E,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),e.jsx(E,{type:"submit",children:s?"Update Contract":"Create Contract"})]})]})},hu=()=>{const[s,t]=h.useState([]),[a,r]=h.useState([]),[n,i]=h.useState(!0),[l,c]=h.useState(null),[o,j]=h.useState(!1),[y,f]=h.useState(!1),[x,N]=h.useState(!1),p=async()=>{i(!0);try{const[d,v]=await Promise.all([Ge.getContracts(),Ge.getCustomers()]);d.success&&t(d.data),v.success&&r(v.data)}catch{}finally{i(!1)}};h.useEffect(()=>{p()},[]);const O=()=>{c(null),j(!0)},M=d=>{c(d),j(!0)},k=d=>{c(d),f(!0)},b=d=>{c(d),N(!0)},C=async d=>{try{if(l){const v={...l,...d,version:l.version+1,parentContractId:l.id,id:`cont_${Date.now()}`};await Ge.createContract(v)}else await Ge.createContract(d);j(!1),p()}catch{}},D=d=>a.find(v=>v.id===d),u=(()=>{const d=s.length,v=s.filter(G=>G.status==="active").length,m=s.filter(G=>G.status==="draft").length,P=s.filter(G=>{const U=Math.ceil((new Date(G.endDate).getTime()-new Date().getTime())/864e5);return U<=30&&U>0}).length,R=s.filter(G=>G.status==="active").reduce((G,U)=>G+U.totalValue,0);return{total:d,active:v,draft:m,expiringSoon:P,totalValue:R}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Contract Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage supply contracts, agreements, and e-signatures"})]}),e.jsxs(E,{onClick:O,children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"New Contract"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Contracts"}),e.jsx("p",{className:"text-2xl font-bold",children:u.total})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold",children:u.active})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(js,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Draft"}),e.jsx("p",{className:"text-2xl font-bold",children:u.draft})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiring Soon"}),e.jsx("p",{className:"text-2xl font-bold",children:u.expiringSoon})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",(u.totalValue/1e6).toFixed(1),"M"]})]})]})})})]}),n?e.jsx("div",{className:"text-center py-8",children:"Loading contracts..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(d=>e.jsx(uu,{contract:d,customer:D(d.customerId),onEdit:M,onView:k,onSign:b},d.id))}),e.jsx(gs,{open:o,onOpenChange:j,children:e.jsxs(ns,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(is,{children:[e.jsx(ls,{children:l?"Edit Contract (New Version)":"Create New Contract"}),e.jsx(cs,{children:l?"Creating a new version will preserve the original contract history.":"Create a new supply contract with detailed terms and conditions."})]}),e.jsx(xu,{contract:l||void 0,customers:a,onSave:C,onCancel:()=>j(!1)})]})}),e.jsx(gs,{open:y,onOpenChange:f,children:e.jsxs(ns,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(is,{children:[e.jsx(ls,{children:l?.contractNumber}),e.jsx(cs,{children:"Complete contract details and documentation"})]}),l&&e.jsxs($e,{defaultValue:"details",className:"w-full",children:[e.jsxs(Ve,{children:[e.jsx(X,{value:"details",children:"Details"}),e.jsx(X,{value:"terms",children:"Terms"}),e.jsx(X,{value:"documents",children:"Documents"}),e.jsx(X,{value:"history",children:"History"})]}),e.jsx(Y,{value:"details",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{className:"text-sm",children:"Contract Information"})}),e.jsxs(S,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",l.type]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",l.status]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Version:"})," ",l.version]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Gas Type:"})," ",l.gasType]})]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{className:"text-sm",children:"Commercial Terms"})}),e.jsxs(S,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Monthly Quantity:"})," ",l.quantity.toLocaleString()]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Price per Unit:"})," ₹",l.pricePerUnit]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Total Value:"})," ₹",l.totalValue.toLocaleString()]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Payment Terms:"})," ",l.paymentTerms.creditDays," days"]})]})]})]})}),e.jsx(Y,{value:"terms",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Terms and Conditions"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Payment Terms"}),e.jsxs("p",{children:["Advance: ",l.paymentTerms.advancePercentage,"%"]}),e.jsxs("p",{children:["Credit Period: ",l.paymentTerms.creditDays," days"]}),e.jsxs("p",{children:["Penalty Rate: ",l.paymentTerms.penaltyRate,"% per month"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Delivery Terms"}),e.jsxs("p",{children:["Location: ",l.deliveryTerms.location]}),e.jsxs("p",{children:["Frequency: ",l.deliveryTerms.frequency]}),e.jsxs("p",{children:["Transport Mode: ",l.deliveryTerms.transportMode]})]})]})})]})}),e.jsx(Y,{value:"documents",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Contract Documents"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[l.documents.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Uploaded: ",d.uploadDate.toLocaleDateString()]})]}),e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),"Download"]})]},d.id)),e.jsxs(E,{variant:"outline",className:"w-full",children:[e.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Upload Document"]})]})})]})}),e.jsx(Y,{value:"history",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Contract History"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-l-4 border-green-500 bg-green-50",children:[e.jsx(de,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Contract Created"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Version ",l.version," • ",l.startDate.toLocaleDateString()]})]})]}),l.signedDate&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-l-4 border-blue-500 bg-blue-50",children:[e.jsx(Lt,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Contract Signed"}),e.jsx("div",{className:"text-sm text-gray-500",children:l.signedDate.toLocaleDateString()})]})]})]})})]})})]})]})}),e.jsx(gs,{open:x,onOpenChange:N,children:e.jsxs(ns,{className:"max-w-2xl",children:[e.jsxs(is,{children:[e.jsx(ls,{children:"E-Signature Interface"}),e.jsx(cs,{children:"Sign the contract electronically to activate the agreement"})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Lt,{className:"w-16 h-16 mx-auto text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Digital Signature Required"}),e.jsx("p",{className:"text-gray-600",children:"This contract requires digital signatures from both parties to become active."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{className:"w-full",children:[e.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Sign with Digital Certificate"]}),e.jsxs(E,{variant:"outline",className:"w-full",children:[e.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Send for Customer Signature"]})]})]})})})})]})})]})},gu=({item:s})=>{const t=i=>{switch(i){case"available":return"bg-green-100 text-green-800";case"reserved":return"bg-yellow-100 text-yellow-800";case"sold":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=s.availableQuantity/s.quantity*100,r=a<20,n=new Date(s.pesoCompliance.expiryDate)<new Date(Date.now()+30*24*60*60*1e3);return e.jsxs(w,{className:"hover:shadow-md transition-shadow",children:[e.jsx(I,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{className:"text-lg",children:s.batchNumber}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:t(s.status),children:s.status}),e.jsx(L,{variant:"outline",children:s.gasType}),n&&e.jsx(L,{className:"bg-orange-100 text-orange-800",children:"PESO Expiring"})]})]})})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Available"}),e.jsxs("div",{className:"font-semibold",children:[s.availableQuantity.toLocaleString()," ",s.unit]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Total"}),e.jsxs("div",{className:"font-semibold",children:[s.quantity.toLocaleString()," ",s.unit]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Availability"}),e.jsxs("span",{className:r?"text-red-600":"text-green-600",children:[a.toFixed(1),"%"]})]}),e.jsx(ue,{value:a,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),"PESO: ",s.pesoCompliance.status," (Exp: ",new Date(s.pesoCompliance.expiryDate).toLocaleDateString(),")"]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),s.location.plantId," - ",s.location.tankId]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Produced: ",new Date(s.productionDate).toLocaleDateString()]})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Value"}),e.jsxs("span",{className:"font-semibold",children:["₹",(s.availableQuantity*s.pricePerUnit).toLocaleString()]})]})})]})]})},pu=()=>{const[s,t]=h.useState([]),[a,r]=h.useState([]),[n,i]=h.useState(!0),[l,c]=h.useState(""),[o,j]=h.useState({});h.useEffect(()=>{(async()=>{try{const N=await Ge.getInventory(o);N.success&&(t(N.data),r(N.data))}catch{}finally{i(!1)}})()},[o]),h.useEffect(()=>{const x=s.filter(N=>N.batchNumber.toLowerCase().includes(l.toLowerCase())||N.gasType.toLowerCase().includes(l.toLowerCase())||N.location.plantId.toLowerCase().includes(l.toLowerCase()));r(x)},[s,l]);const f=(()=>{const x=s.length,N=s.reduce((M,k)=>M+k.availableQuantity*k.pricePerUnit,0),p=s.filter(M=>M.availableQuantity/M.quantity<.2).length,O=s.filter(M=>new Date(M.pesoCompliance.expiryDate)<new Date(Date.now()+30*24*60*60*1e3)).length;return{totalItems:x,totalValue:N,lowStockItems:p,pesoExpiringItems:O}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Inventory Management"}),e.jsx("p",{className:"text-gray-600",children:"Monitor gas inventory, batches, and PESO compliance"})]}),e.jsxs(E,{children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Add Batch"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fs,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold",children:f.totalItems})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inventory Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",(f.totalValue/1e6).toFixed(1),"M"]})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-bold",children:f.lowStockItems})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"PESO Expiring"}),e.jsx("p",{className:"text-2xl font-bold",children:f.pesoExpiringItems})]})]})})})]}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ms,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search by batch number, gas type, or location...",value:l,onChange:x=>c(x.target.value),className:"pl-10"})]}),e.jsxs(E,{variant:"outline",children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),"Filters"]})]})})}),e.jsxs($e,{defaultValue:"grid",className:"w-full",children:[e.jsxs(Ve,{children:[e.jsx(X,{value:"grid",children:"Grid View"}),e.jsx(X,{value:"table",children:"Table View"}),e.jsx(X,{value:"alerts",children:"Alerts"})]}),e.jsx(Y,{value:"grid",className:"space-y-6",children:n?e.jsx("div",{className:"text-center py-8",children:"Loading inventory..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(x=>e.jsx(gu,{item:x},x.id))})}),e.jsx(Y,{value:"table",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:"Inventory Table"}),e.jsx(se,{children:"Detailed inventory listing"})]}),e.jsx(S,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Table view will be implemented here"})})]})}),e.jsx(Y,{value:"alerts",children:e.jsx("div",{className:"space-y-4",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center",children:[e.jsx(le,{className:"w-5 h-5 mr-2 text-red-600"}),"Critical Alerts"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:s.filter(x=>x.availableQuantity/x.quantity<.1).map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded bg-red-50",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.batchNumber}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Critical low stock: ",x.availableQuantity," ",x.unit," remaining"]})]}),e.jsx(L,{className:"bg-red-100 text-red-800",children:"Critical"})]},x.id))})})]})})})]})]})},ju=({order:s})=>{const t=a=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-purple-100 text-purple-800",ready:"bg-green-100 text-green-800",dispatched:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs(w,{className:"hover:shadow-md transition-shadow",children:[e.jsx(I,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold",children:s.orderNumber}),e.jsx(L,{className:t(s.status),children:s.status})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Order Date: ",s.orderDate.toLocaleDateString()]})]})})}),e.jsxs(S,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Quantity"}),e.jsxs("div",{className:"font-semibold",children:[s.totalQuantity.toLocaleString()," units"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Amount"}),e.jsxs("div",{className:"font-semibold",children:["₹",s.finalAmount.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"Delivery: ",s.requestedDeliveryDate.toLocaleDateString()]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(ds,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})]})},fu=()=>{const[s,t]=h.useState([]),[a,r]=h.useState([]),[n,i]=h.useState(!0),[l,c]=h.useState("");h.useEffect(()=>{(async()=>{try{const y=await Ge.getOrders();y.success&&(t(y.data),r(y.data))}catch{}finally{i(!1)}})()},[]);const o={total:s.length,pending:s.filter(j=>j.status==="pending").length,confirmed:s.filter(j=>j.status==="confirmed").length,totalValue:s.reduce((j,y)=>j+y.finalAmount,0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Order & Invoice Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage orders and generate invoices"})]}),e.jsxs(E,{children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"New Order"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold",children:o.total})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fs,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold",children:o.pending})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmed"}),e.jsx("p",{className:"text-2xl font-bold",children:o.confirmed})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",(o.totalValue/1e6).toFixed(1),"M"]})]})]})})})]}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ms,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search orders...",value:l,onChange:j=>c(j.target.value),className:"pl-10"})]}),e.jsxs(fe,{children:[e.jsx(pe,{className:"w-40",children:e.jsx(ve,{placeholder:"Status"})}),e.jsxs(je,{children:[e.jsx(B,{value:"all",children:"All Status"}),e.jsx(B,{value:"pending",children:"Pending"}),e.jsx(B,{value:"confirmed",children:"Confirmed"}),e.jsx(B,{value:"delivered",children:"Delivered"})]})]})]})})}),n?e.jsx("div",{className:"text-center py-8",children:"Loading orders..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(j=>e.jsx(ju,{order:j},j.id))})]})},vu=()=>{const[s,t]=h.useState(!1),[a,r]=h.useState("hindi"),[n,i]=h.useState(null),[l,c]=h.useState(""),[o,j]=h.useState(0),y=async()=>{try{const N=await Ge.startVoiceSession(a);N.success&&(i(N.data),t(!0),setTimeout(()=>{f()},5e3))}catch{}},f=async()=>{if(t(!1),n){const N=await Ge.processVoiceData(n.sessionId,"mock-audio-data");N.success&&(i(N.data),c(N.data.transcription),j(N.data.confidence*100))}},x=async()=>{n?.extractedData.customerId};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Voice Invoicing"}),e.jsx("p",{className:"text-gray-600",children:"Create invoices using voice commands in Hindi or English"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center",children:[e.jsx(Ys,{className:"w-5 h-5 mr-2"}),"Voice Input"]}),e.jsx(se,{children:"Record voice commands to create invoices"})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Language"}),e.jsxs(fe,{value:a,onValueChange:N=>r(N),children:[e.jsx(pe,{children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"hindi",children:"हिंदी (Hindi)"}),e.jsx(B,{value:"english",children:"English"})]})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:`w-32 h-32 mx-auto rounded-full flex items-center justify-center ${s?"bg-red-100 animate-pulse":"bg-gray-100"}`,children:s?e.jsx(Xr,{className:"w-16 h-16 text-red-600"}):e.jsx(Ys,{className:"w-16 h-16 text-gray-600"})}),e.jsx("div",{className:"space-y-2",children:s?e.jsxs(E,{onClick:f,variant:"destructive",className:"w-full",children:[e.jsx(Li,{className:"w-4 h-4 mr-2"}),"Stop Recording"]}):e.jsxs(E,{onClick:y,className:"w-full",children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Start Recording"]})}),s&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Recording in progress..."}),e.jsx(ue,{value:75,className:"w-full"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Sample Voice Commands:"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"p-2 bg-blue-50 rounded",children:[e.jsx("strong",{children:"Hindi:"}),' "ग्रीन एनर्जी इंडस्ट्रीज के लिए एक हजार क्यूबिक मीटर बायो गैस, पैंतालीस रुपए प्रति यूनिट"']}),e.jsxs("div",{className:"p-2 bg-green-50 rounded",children:[e.jsx("strong",{children:"English:"}),' "Create invoice for Green Energy Industries, one thousand cubic meters biogas at forty-five rupees per unit"']})]})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center",children:[e.jsx(Jr,{className:"w-5 h-5 mr-2"}),"Transcription & Processing"]}),e.jsx(se,{children:"Voice-to-text conversion and data extraction"})]}),e.jsxs(S,{className:"space-y-6",children:[l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Transcription"}),e.jsx(ot,{value:l,readOnly:!0,className:"mt-1",rows:3}),e.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Confidence:"}),e.jsx(ue,{value:o,className:"flex-1 max-w-32"}),e.jsxs("span",{className:"text-sm font-medium",children:[o.toFixed(1),"%"]})]})]}),n?.extractedData&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Extracted Information:"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[n.extractedData.customerName&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Customer:"}),e.jsx("span",{className:"font-medium",children:n.extractedData.customerName})]}),n.extractedData.items.map((N,p)=>e.jsxs("div",{className:"p-2 border rounded",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Item:"}),e.jsx("span",{className:"font-medium",children:N.description})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quantity:"}),e.jsxs("span",{className:"font-medium",children:[N.quantity," ",N.unit]})]}),N.pricePerUnit&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Price:"}),e.jsxs("span",{className:"font-medium",children:["₹",N.pricePerUnit,"/",N.unit]})]})]},p)),n.extractedData.totalAmount&&e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{children:["₹",n.extractedData.totalAmount.toLocaleString()]})]})]}),n.validationErrors.length===0?e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Data validation successful"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Validation errors found"})]}),e.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:n.validationErrors.map((N,p)=>e.jsxs("li",{children:["• ",N]},p))})]}),e.jsxs(E,{onClick:x,className:"w-full",disabled:n.validationErrors.length>0,children:[e.jsx(Me,{className:"w-4 h-4 mr-2"}),"Generate Invoice"]})]})]}),!l&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Start recording to see transcription and extracted data"})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(A,{children:"Recent Voice Sessions"}),e.jsx(se,{children:"History of voice invoicing sessions"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Session #001"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Green Energy Industries • ₹45,000 • Hindi"}),e.jsx("div",{className:"text-xs text-gray-500",children:"2 minutes ago"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"bg-green-100 text-green-800",children:"Completed"}),e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Ea,{className:"w-4 h-4 mr-1"}),"Replay"]})]})]})})})]})]})},yu=()=>{const[s,t]=h.useState([]),[a,r]=h.useState(!0);h.useEffect(()=>{(async()=>{try{const c=await Ge.getPayments();c.success&&t(c.data)}catch{}finally{r(!1)}})()},[]);const n=[{id:"1",amount:50445,status:"confirmed",method:"bank_transfer",date:new Date,customer:"Green Energy Industries"},{id:"2",amount:25e3,status:"pending",method:"cheque",date:new Date,customer:"Sunrise Hotels"},{id:"3",amount:75e3,status:"failed",method:"upi",date:new Date,customer:"Emerald Heights"}],i=l=>({confirmed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",refunded:"bg-blue-100 text-blue-800"})[l]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Payment Tracking"}),e.jsx("p",{className:"text-gray-600",children:"Monitor payments and reconciliation"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Received"}),e.jsx("p",{className:"text-2xl font-bold",children:"₹2.4M"})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold",children:"₹150K"})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),e.jsx("p",{className:"text-2xl font-bold",children:"₹75K"})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xe,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Collection Rate"}),e.jsx("p",{className:"text-2xl font-bold",children:"94%"})]})]})})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Recent Payments"})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:n.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:l.customer}),e.jsxs("div",{className:"text-sm text-gray-600",children:[l.method," • ",l.date.toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsxs("div",{className:"font-semibold",children:["₹",l.amount.toLocaleString()]}),e.jsx(L,{className:i(l.status),children:l.status})]})]},l.id))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Bank Reconciliation"})}),e.jsx(S,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Bank reconciliation interface will be displayed here"})})]})]})},Nu=()=>{const s=[{id:"1",order:"ORD-2024-001",customer:"Green Energy Industries",date:"2024-09-25",status:"scheduled",driver:"Rajesh Kumar"},{id:"2",order:"ORD-2024-002",customer:"Sunrise Hotels",date:"2024-09-26",status:"in_transit",driver:"Suresh Yadav"},{id:"3",order:"ORD-2024-003",customer:"Emerald Heights",date:"2024-09-27",status:"delivered",driver:"Amit Sharma"}],t=a=>({scheduled:"bg-blue-100 text-blue-800",in_transit:"bg-yellow-100 text-yellow-800",delivered:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Delivery Scheduling"}),e.jsx("p",{className:"text-gray-600",children:"Schedule and track deliveries with route optimization"})]}),e.jsxs(E,{children:[e.jsx(hs,{className:"w-4 h-4 mr-2"}),"Schedule Delivery"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fs,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),e.jsx("p",{className:"text-2xl font-bold",children:"12"})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(hs,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Transit"}),e.jsx("p",{className:"text-2xl font-bold",children:"5"})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Delivered"}),e.jsx("p",{className:"text-2xl font-bold",children:"28"})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"On Time %"}),e.jsx("p",{className:"text-2xl font-bold",children:"96%"})]})]})})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center",children:[e.jsx(Fe,{className:"w-5 h-5 mr-2"}),"Delivery Calendar"]})}),e.jsx(S,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Interactive delivery calendar will be displayed here"})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Active Deliveries"})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:s.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:a.order}),e.jsx("div",{className:"text-sm text-gray-600",children:a.customer}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(hs,{className:"w-4 h-4 mr-1"}),a.driver]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("div",{className:"text-sm",children:a.date}),e.jsx(L,{className:t(a.status),children:a.status})]})]},a.id))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center",children:[e.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Route Optimization"]})}),e.jsx(S,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Route optimization and mapping interface will be displayed here"})})]})]})},bu=()=>{const s=[{gasType:"Biogas",ourPrice:45,marketAvg:48,change:-6.25,competitive:"advantage"},{gasType:"Compressed",ourPrice:65,marketAvg:62,change:4.84,competitive:"premium"},{gasType:"Liquefied",ourPrice:85,marketAvg:83,change:2.41,competitive:"premium"}],t=a=>({advantage:"bg-green-100 text-green-800",premium:"bg-blue-100 text-blue-800",disadvantage:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Price Benchmarking"}),e.jsx("p",{className:"text-gray-600",children:"Market price analysis and dynamic pricing engine"})]}),e.jsxs(E,{children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Update Prices"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map(a=>e.jsxs(w,{children:[e.jsx(I,{className:"pb-3",children:e.jsx(A,{className:"text-lg",children:a.gasType})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Our Price"}),e.jsxs("div",{className:"text-xl font-bold",children:["₹",a.ourPrice]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Market Avg"}),e.jsxs("div",{className:"text-xl font-bold",children:["₹",a.marketAvg]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[a.change>0?e.jsx(xe,{className:"w-4 h-4 text-red-600"}):e.jsx(Ws,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:`text-sm ${a.change>0?"text-red-600":"text-green-600"}`,children:[Math.abs(a.change),"%"]})]}),e.jsx(L,{className:t(a.competitive),children:a.competitive})]})]})]},a.gasType))}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center",children:[e.jsx(ke,{className:"w-5 h-5 mr-2"}),"Market Analysis"]})}),e.jsx(S,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Market price trends and competitor analysis will be displayed here"})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center",children:[e.jsx(as,{className:"w-5 h-5 mr-2"}),"Dynamic Pricing Engine"]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Pricing Factors"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Raw Material Cost"}),e.jsx("span",{className:"font-medium",children:"₹15/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Production Cost"}),e.jsx("span",{className:"font-medium",children:"₹8/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Transport Cost"}),e.jsx("span",{className:"font-medium",children:"₹5/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Margin (30%)"}),e.jsx("span",{className:"font-medium",children:"₹12/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Taxes"}),e.jsx("span",{className:"font-medium",children:"₹5/unit"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Recommended Prices"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-3 border rounded",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Biogas"}),e.jsx("span",{className:"text-lg font-bold text-green-600",children:"₹45/unit"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Competitive advantage maintained"})]}),e.jsxs("div",{className:"p-3 border rounded",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Compressed"}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:"₹63/unit"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Slight price reduction recommended"})]})]})]})]})})]})]})},wu=()=>{const s=[{type:"PESO",certificate:"PESO-2024-001",status:"valid",expiry:"2025-01-15",authority:"PESO Delhi"},{type:"GST",certificate:"GST-REG-001",status:"valid",expiry:"2025-03-31",authority:"GST Department"},{type:"Environmental",certificate:"ENV-2024-001",status:"pending_renewal",expiry:"2024-12-01",authority:"Pollution Control Board"},{type:"Safety",certificate:"SAFETY-001",status:"valid",expiry:"2025-06-15",authority:"Factory Inspector"}],t=a=>({valid:"bg-green-100 text-green-800",pending_renewal:"bg-yellow-100 text-yellow-800",expired:"bg-red-100 text-red-800",suspended:"bg-gray-100 text-gray-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Compliance & Reports"}),e.jsx("p",{className:"text-gray-600",children:"PESO compliance, GST reports, and regulatory management"})]}),e.jsxs(E,{children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Generate Report"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"PESO Valid"}),e.jsx("p",{className:"text-2xl font-bold",children:"3"})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiring Soon"}),e.jsx("p",{className:"text-2xl font-bold",children:"1"})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"GST Returns"}),e.jsx("p",{className:"text-2xl font-bold",children:"12"})]})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Compliance %"}),e.jsx("p",{className:"text-2xl font-bold",children:"98%"})]})]})})})]}),e.jsxs($e,{defaultValue:"peso",className:"w-full",children:[e.jsxs(Ve,{children:[e.jsx(X,{value:"peso",children:"PESO Compliance"}),e.jsx(X,{value:"gst",children:"GST Reports"}),e.jsx(X,{value:"environmental",children:"Environmental"}),e.jsx(X,{value:"safety",children:"Safety"})]}),e.jsxs(Y,{value:"peso",className:"space-y-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center",children:[e.jsx(be,{className:"w-5 h-5 mr-2"}),"PESO Certificates"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:s.filter(a=>a.type==="PESO").map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:a.certificate}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Issued by: ",a.authority]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Expires: ",a.expiry]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{className:t(a.status),children:a.status}),e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),"Download"]})]})]},a.certificate))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"PESO Inspection Schedule"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Plant A - Tank Inspection"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Next inspection due: 15 Nov 2024"})]}),e.jsx(L,{className:"bg-blue-100 text-blue-800",children:"Scheduled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Plant B - Safety Audit"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Next inspection due: 30 Dec 2024"})]}),e.jsx(L,{className:"bg-green-100 text-green-800",children:"Compliant"})]})]})})]})]}),e.jsx(Y,{value:"gst",className:"space-y-6",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"GST Returns & Reports"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"p-4 border rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"₹2.4M"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total GST Collected"})]})}),e.jsx("div",{className:"p-4 border rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"₹450K"}),e.jsx("div",{className:"text-sm text-gray-600",children:"GST Paid"})]})}),e.jsx("div",{className:"p-4 border rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"12"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Returns Filed"})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"GSTR-1 - September 2024"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Filed on: 10 Oct 2024"})]}),e.jsx(L,{className:"bg-green-100 text-green-800",children:"Filed"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"GSTR-3B - September 2024"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Due: 20 Oct 2024"})]}),e.jsx(L,{className:"bg-yellow-100 text-yellow-800",children:"Pending"})]})]})]})})]})}),e.jsx(Y,{value:"environmental",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Environmental Compliance"})}),e.jsx(S,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Environmental compliance reports and certificates will be displayed here"})})]})}),e.jsx(Y,{value:"safety",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Safety Compliance"})}),e.jsx(S,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Safety compliance reports and training records will be displayed here"})})]})})]})]})},Su=()=>{const s=us(),t=$s(),a=[{id:"dashboard",label:"Sales Dashboard",icon:e.jsx(Ia,{className:"w-5 h-5"}),onClick:()=>s("/sales"),isActive:t.pathname==="/sales"},{id:"customers",label:"Customer Management",icon:e.jsx(Te,{className:"w-5 h-5"}),onClick:()=>s("/sales/customers"),isActive:t.pathname==="/sales/customers"},{id:"contracts",label:"Contract Management",icon:e.jsx(Me,{className:"w-5 h-5"}),onClick:()=>s("/sales/contracts"),isActive:t.pathname==="/sales/contracts"},{id:"inventory",label:"Inventory Management",icon:e.jsx(fs,{className:"w-5 h-5"}),onClick:()=>s("/sales/inventory"),isActive:t.pathname==="/sales/inventory"},{id:"orders",label:"Order & Invoice",icon:e.jsx(Fi,{className:"w-5 h-5"}),onClick:()=>s("/sales/orders"),isActive:t.pathname==="/sales/orders"},{id:"voice-invoice",label:"Voice Invoicing",icon:e.jsx(Ys,{className:"w-5 h-5"}),onClick:()=>s("/sales/voice-invoice"),isActive:t.pathname==="/sales/voice-invoice"},{id:"payments",label:"Payment Tracking",icon:e.jsx(Yt,{className:"w-5 h-5"}),onClick:()=>s("/sales/payments"),isActive:t.pathname==="/sales/payments"},{id:"delivery",label:"Delivery Scheduling",icon:e.jsx(hs,{className:"w-5 h-5"}),onClick:()=>s("/sales/delivery"),isActive:t.pathname==="/sales/delivery"},{id:"pricing",label:"Price Benchmarking",icon:e.jsx(xe,{className:"w-5 h-5"}),onClick:()=>s("/sales/pricing"),isActive:t.pathname==="/sales/pricing"},{id:"compliance",label:"Compliance & Reports",icon:e.jsx(be,{className:"w-5 h-5"}),onClick:()=>s("/sales/compliance"),isActive:t.pathname==="/sales/compliance"}];return e.jsx(lt,{moduleName:"UrjaVyapar Sales",moduleSubtitle:"Comprehensive Sales Management System",navigationItems:a,userInfo:{name:"Sales Manager",role:"Sales Operations"},children:e.jsxs(nt,{children:[e.jsx(J,{path:"/",element:e.jsx(cu,{})}),e.jsx(J,{path:"/customers",element:e.jsx(mu,{})}),e.jsx(J,{path:"/contracts",element:e.jsx(hu,{})}),e.jsx(J,{path:"/inventory",element:e.jsx(pu,{})}),e.jsx(J,{path:"/orders",element:e.jsx(fu,{})}),e.jsx(J,{path:"/voice-invoice",element:e.jsx(vu,{})}),e.jsx(J,{path:"/payments",element:e.jsx(yu,{})}),e.jsx(J,{path:"/delivery",element:e.jsx(Nu,{})}),e.jsx(J,{path:"/pricing",element:e.jsx(bu,{})}),e.jsx(J,{path:"/compliance",element:e.jsx(wu,{})})]})})},Sr=q.lazy(()=>Ie(()=>import("./Dashboard-CJe8Udpj.js"),__vite__mapDeps([5,1,2,3,4]))),Cu=q.lazy(()=>Ie(()=>import("./CycleManagement-CbWbtEiJ.js"),__vite__mapDeps([6,1,2,7,3,4])).then(s=>({default:s.CycleManagement}))),Du=q.lazy(()=>Ie(()=>import("./QualityControl-yeYq3I-G.js"),__vite__mapDeps([8,1,2,7,3,4])).then(s=>({default:s.QualityControl}))),ku=q.lazy(()=>Ie(()=>import("./MaintenanceManagement-DsgcPdSh.js"),__vite__mapDeps([9,1,2,3,4])).then(s=>({default:s.MaintenanceManagement}))),Tu=q.lazy(()=>Ie(()=>import("./InventoryTransfer-BuPiRoYr.js"),__vite__mapDeps([10,1,2,3,4])).then(s=>({default:s.InventoryTransferPage}))),Iu=q.lazy(()=>Ie(()=>import("./SlurryManagement-CUSOI0-G.js"),__vite__mapDeps([11,1,2,7,3,4])).then(s=>({default:s.SlurryManagement}))),Au=q.lazy(()=>Ie(()=>import("./RealTimeMonitoring-Bh9KGgfV.js"),__vite__mapDeps([12,1,2,7,3,4])).then(s=>({default:s.RealTimeMonitoring}))),Pu=()=>e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(w,{className:"w-full max-w-md",children:e.jsxs(S,{className:"flex flex-col items-center justify-center p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e.jsx(A,{className:"text-lg font-medium text-gray-600 mb-2",children:"Loading ShuddhiDoot Module..."}),e.jsx(se,{className:"text-center text-gray-500",children:"Initializing purification systems and real-time data feeds"})]})})}),Ru=()=>{const s=us(),t=$s(),a="/purification",r=[{id:"dashboard",label:"Dashboard",icon:e.jsx(ke,{className:"w-5 h-5"}),onClick:()=>s(`${a}`),isActive:t.pathname===a||t.pathname===`${a}/`,badge:void 0},{id:"cycles",label:"Cycle Management",icon:e.jsx(Fa,{className:"w-5 h-5"}),onClick:()=>s(`${a}/cycles`),isActive:t.pathname===`${a}/cycles`,badge:"3"},{id:"quality",label:"Quality Control",icon:e.jsx(de,{className:"w-5 h-5"}),onClick:()=>s(`${a}/quality`),isActive:t.pathname===`${a}/quality`,badge:void 0},{id:"maintenance",label:"Maintenance",icon:e.jsx(Qr,{className:"w-5 h-5"}),onClick:()=>s(`${a}/maintenance`),isActive:t.pathname===`${a}/maintenance`,badge:"2"},{id:"inventory",label:"Inventory Transfer",icon:e.jsx(fs,{className:"w-5 h-5"}),onClick:()=>s(`${a}/inventory`),isActive:t.pathname===`${a}/inventory`,badge:"5"},{id:"slurry",label:"Slurry Management",icon:e.jsx(Kt,{className:"w-5 h-5"}),onClick:()=>s(`${a}/slurry`),isActive:t.pathname===`${a}/slurry`,badge:void 0},{id:"monitoring",label:"Real-time Monitoring",icon:e.jsx(Se,{className:"w-5 h-5"}),onClick:()=>s(`${a}/monitoring`),isActive:t.pathname===`${a}/monitoring`,badge:void 0}];return e.jsx(lt,{moduleName:"ShuddhiDoot",moduleSubtitle:"Biogas Purification & Quality Management",navigationItems:r,userInfo:{name:"Purification Manager",role:"Plant Operations Head"},children:e.jsx("div",{className:"space-y-6",children:e.jsx(h.Suspense,{fallback:e.jsx(Pu,{}),children:e.jsxs(nt,{children:[e.jsx(J,{path:"/",element:e.jsx(Sr,{})}),e.jsx(J,{path:"/cycles",element:e.jsx(Cu,{})}),e.jsx(J,{path:"/quality",element:e.jsx(Du,{})}),e.jsx(J,{path:"/maintenance",element:e.jsx(ku,{})}),e.jsx(J,{path:"/inventory",element:e.jsx(Tu,{})}),e.jsx(J,{path:"/slurry",element:e.jsx(Iu,{})}),e.jsx(J,{path:"/monitoring",element:e.jsx(Au,{})}),e.jsx(J,{path:"*",element:e.jsx(Sr,{})})]})})})})},Mu=()=>{const{kpis:s,insights:t,overallPerformanceScore:a,criticalAlerts:r,topOpportunities:n,refreshing:i,refreshData:l}=ct(),c=p=>{switch(p){case"financial":return e.jsx(We,{className:"h-5 w-5"});case"operational":return e.jsx(Se,{className:"h-5 w-5"});case"environmental":return e.jsx(as,{className:"h-5 w-5"});case"strategic":return e.jsx(xe,{className:"h-5 w-5"});default:return e.jsx(Se,{className:"h-5 w-5"})}},o=(p,O)=>p==="up"||O>0?e.jsx(Zs,{className:"h-4 w-4 text-green-600"}):p==="down"||O<0?e.jsx(Zt,{className:"h-4 w-4 text-red-600"}):e.jsx($t,{className:"h-4 w-4 text-gray-600"}),j=p=>p>=90?"text-green-600":p>=75?"text-yellow-600":"text-red-600",y=p=>p>=.8?"bg-green-100 text-green-800":p>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",f=p=>p>=1e7?`₹${(p/1e7).toFixed(1)}Cr`:p>=1e5?`₹${(p/1e5).toFixed(1)}L`:`₹${p.toLocaleString()}`,x=(p,O)=>O==="₹"?f(p):`${p.toLocaleString()} ${O}`,N=()=>{const p=`Executive Summary: Overall performance score is ${a}%. Revenue is ${f(s.find(O=>O.id==="revenue")?.value||0)} with ${s.find(O=>O.id==="revenue")?.change||0}% growth. ${r.length} critical alerts require immediate attention.`;if("speechSynthesis"in window){const O=new SpeechSynthesisUtterance(p);speechSynthesis.speak(O)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Executive Summary"}),e.jsx("p",{className:"text-gray-600",children:"Real-time business intelligence and key performance indicators"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-3xl font-bold ${j(a)}`,children:[a,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Overall Performance"})]}),e.jsxs(E,{onClick:N,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(E,{onClick:l,variant:"outline",size:"sm",disabled:i,className:"flex items-center gap-2",children:[e.jsx(os,{className:`h-4 w-4 ${i?"animate-spin":""}`}),"Refresh"]})]})]}),r.length>0&&e.jsxs(Os,{className:"border-red-200 bg-red-50",children:[e.jsx(le,{className:"h-4 w-4 text-red-600"}),e.jsxs(Es,{className:"text-red-800",children:[e.jsxs("strong",{children:[r.length," Critical Alert",r.length>1?"s":""]}),e.jsx("div",{className:"mt-2 space-y-1",children:r.slice(0,2).map(p=>e.jsxs("div",{className:"text-sm",children:["• ",p.title,": ",p.description]},p.id))})]})]}),n.length>0&&e.jsxs(Os,{className:"border-green-200 bg-green-50",children:[e.jsx(de,{className:"h-4 w-4 text-green-600"}),e.jsxs(Es,{className:"text-green-800",children:[e.jsx("strong",{children:"Top Growth Opportunity"}),e.jsxs("div",{className:"mt-2 text-sm",children:[n[0].title,": ",n[0].description,n[0].estimatedValue&&e.jsxs("span",{className:"font-semibold ml-2",children:["Potential Value: ",f(n[0].estimatedValue)]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:s.map(p=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow duration-200",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium text-gray-600",children:p.name}),e.jsx("div",{className:`p-2 rounded-lg ${p.category==="financial"?"bg-blue-100 text-blue-600":p.category==="operational"?"bg-green-100 text-green-600":p.category==="environmental"?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:c(p.category)})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x(p.value,p.unit)}),e.jsxs("div",{className:"flex items-center gap-1",children:[o(p.trend,p.change),e.jsxs("span",{className:`text-sm font-medium ${p.change>0?"text-green-600":p.change<0?"text-red-600":"text-gray-600"}`,children:[p.change>0?"+":"",p.change.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Progress to Target"}),e.jsxs("span",{children:[Math.round(p.value/p.target*100),"%"]})]}),e.jsx(ue,{value:p.value/p.target*100,className:"h-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Target: ",x(p.target,p.unit)]}),e.jsxs(L,{variant:"outline",className:y(p.confidence),children:[Math.round(p.confidence*100),"% Confidence"]})]})]}),p.priority==="high"&&e.jsx("div",{className:"mt-2",children:e.jsx(L,{variant:"destructive",className:"text-xs",children:"High Priority"})})]})]},p.id))}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Quick Insights"]})}),e.jsx(S,{children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.slice(0,3).map(p=>e.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${p.impact==="positive"?"border-green-500 bg-green-50":p.impact==="negative"?"border-red-500 bg-red-50":"border-gray-500 bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:p.title}),e.jsxs(L,{variant:"outline",className:y(p.confidence),children:[Math.round(p.confidence*100),"%"]})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:p.description}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:p.timeline}),p.estimatedValue&&e.jsxs("span",{className:`text-sm font-medium ${p.impact==="positive"?"text-green-600":"text-red-600"}`,children:[p.impact==="positive"?"+":"",f(p.estimatedValue)]})]}),p.actionRequired&&e.jsx(L,{variant:"outline",className:"mt-2 text-xs bg-yellow-100 text-yellow-800",children:"Action Required"})]},p.id))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Recommended Actions"})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:t.filter(p=>p.actionRequired).slice(0,3).map(p=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:p.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.timeline})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[p.estimatedValue&&e.jsxs("span",{className:`text-sm font-medium ${p.impact==="positive"?"text-green-600":"text-red-600"}`,children:[p.impact==="positive"?"+":"",f(p.estimatedValue)]}),e.jsx(E,{size:"sm",variant:"outline",children:"Review"})]})]},p.id))})})]})]})},Ou=()=>{const{addVoiceQuery:s,kpis:t,carbonMetrics:a,competitiveData:r}=ct(),{user:n,hasPermission:i,isExecutive:l,getAccessLevel:c}=ws(),[o,j]=h.useState(!1),[y,f]=h.useState(!1),[x,N]=h.useState(""),[p,O]=h.useState("en"),[M,k]=h.useState(0),[b,C]=h.useState(null),[D,g]=h.useState([]),[u,d]=h.useState(!1),[v,m]=h.useState(!1),[P,R]=h.useState({consentRequired:!0,sessionTimeout:l()?30:60,dataRetention:l()?"encrypted":"session",encryptionEnabled:!0,anonymizeTranscripts:!l(),blockSensitiveData:!0}),[G,U]=h.useState(0),[T,$]=h.useState(""),[_,H]=h.useState(!1),z=h.useRef(null),te=h.useRef(null),ce=h.useRef(null),re=Z=>btoa(Z.split("").map(oe=>String.fromCharCode(oe.charCodeAt(0)+1)).join("")),Bs=Z=>P.blockSensitiveData?Z.replace(/\b\d{12,16}\b/g,"[CARD-REDACTED]").replace(/\b\d{10,15}\b/g,"[PHONE-REDACTED]").replace(/\b[A-Z]{2}\d{2}[A-Z0-9]{4}\d{7}([A-Z0-9]?){0,16}\b/g,"[IBAN-REDACTED]").replace(/\b\d{4}-\d{4}-\d{4}-\d{4}\b/g,"[ACCOUNT-REDACTED]").replace(/password|pin|secret|confidential/gi,"[SENSITIVE-REDACTED]"):Z,F=Z=>P.anonymizeTranscripts?Z.replace(/\b[A-Z][a-z]+\s+[A-Z][a-z]+\b/g,"[NAME-REDACTED]").replace(/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/g,"[EMAIL-REDACTED]"):Z,ne=[{command:"Revenue Summary",description:"Get current revenue metrics and growth trends",examples:["What is our monthly revenue?","मासिक आय कितनी है?","Show me revenue growth","Revenue trends this quarter"],category:"financial"},{command:"Production Analytics",description:"Biogas production and efficiency metrics",examples:["How much biogas did we produce today?","आज कितना बायोगैस उत्पादन हुआ?","Show production efficiency","Which plants are performing best?"],category:"kpi"},{command:"Carbon Credits",description:"Environmental impact and carbon credit revenue",examples:["How many carbon credits did we generate?","कार्बन क्रेडिट कितने जेनरेट हुए?","Carbon revenue projections","Environmental impact summary"],category:"environmental"},{command:"Strategic Planning",description:"Market position and strategic initiatives",examples:["What is our market share?","बाजार में हमारी स्थिति क्या है?","Strategic initiative progress","Competitive analysis summary"],category:"strategic"}],Ae={revenue:[/(?:what|how much|tell me).*(?:revenue|sales|income|earnings)/i,/(?:मासिक|कुल).*(?:आय|राजस्व|कमाई)/i,/(?:show|display).*(?:financial|revenue).*(?:performance|metrics)/i],production:[/(?:what|how much).*(?:production|biogas|output)/i,/(?:आज|कुल).*(?:उत्पादन|बायोगैस)/i,/(?:efficiency|performance).*(?:plant|production)/i],carbon:[/(?:what|how many).*(?:carbon|credits|environmental)/i,/(?:कार्बन|पर्यावरण).*(?:क्रेडिट|प्रभाव)/i,/(?:sustainability|green|environmental).*(?:impact|metrics)/i],strategic:[/(?:what|how).*(?:market|position|share|competitive)/i,/(?:बाजार|प्रतिस्पर्धा).*(?:स्थिति|विश्लेषण)/i,/(?:strategic|planning|initiatives)/i],forecast:[/(?:what|show).*(?:forecast|prediction|projection)/i,/(?:भविष्यवाणी|पूर्वानुमान|अनुमान)/i,/(?:future|next).*(?:quarter|year|month)/i]},He=()=>n?P.consentRequired&&!u?(m(!0),!1):!0:!1,ea=()=>{d(!0),m(!1);const Z={userId:n?.id,granted:!0,timestamp:new Date().toISOString(),privacyLevel:c()};localStorage.setItem("voiceConsent",JSON.stringify(Z))},Rt=()=>{if(!n||!He())return;const oe={id:`voice-session-${Date.now()}`,startTime:new Date,queries:0,language:p,accuracy:0,userId:n.id,consentGiven:!0,dataRetention:P.dataRetention,privacyLevel:c()==="high"?"high":"standard",encryptionEnabled:P.encryptionEnabled};C(oe),U(P.sessionTimeout*60),ce.current&&clearTimeout(ce.current),ce.current=setTimeout(()=>{Cs()},P.sessionTimeout*60*1e3)},Cs=()=>{if(b){const Z={...b,endTime:new Date};if(P.dataRetention==="session")localStorage.removeItem("voiceSessionData");else if(P.dataRetention==="encrypted"){const oe=re(JSON.stringify(Z));localStorage.setItem("voiceSessionData",oe)}C(null),U(0),j(!1),ce.current&&clearTimeout(ce.current)}},sa=Z=>{if(!b||!n)return;let oe=Z;if(oe=Bs(oe),oe=F(oe),P.encryptionEnabled){const ie=re(oe);$(ie)}const Re={...b,queries:b.queries+1};C(Re)};h.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const Z=window.SpeechRecognition||window.webkitSpeechRecognition;z.current=new Z,z.current.continuous=!0,z.current.interimResults=!0,z.current.lang=p==="hi"?"hi-IN":"en-US",z.current.onresult=oe=>{let Re="",ie="";for(let Je=oe.resultIndex;Je<oe.results.length;Je++){const qe=oe.results[Je];qe.isFinal?(Re+=qe[0].transcript,k(qe[0].confidence)):ie+=qe[0].transcript}N(Re||ie),Re&&(sa(Re),ta(Re,result[0].confidence))},z.current.onerror=oe=>{j(!1)},z.current.onend=()=>{j(!1)}}te.current=speechSynthesis},[p]),h.useEffect(()=>{let Z;return b&&G>0&&(Z=setInterval(()=>{U(oe=>oe<=1?(Cs(),0):(oe===300&&l()&&mt(p==="hi"?"सेशन 5 मिनट में समाप्त हो जाएगा":"Session will expire in 5 minutes"),oe-1))},1e3)),()=>{Z&&clearInterval(Z)}},[b,G]),h.useEffect(()=>{if(n){const Z=localStorage.getItem("voiceConsent");if(Z)try{const oe=JSON.parse(Z);if(oe.userId===n.id&&oe.granted){const Re=Date.now()-new Date(oe.timestamp).getTime(),ie=l()?24*60*60*1e3:7*24*60*60*1e3;Re<ie?d(!0):localStorage.removeItem("voiceConsent")}}catch{localStorage.removeItem("voiceConsent")}}},[n]),h.useEffect(()=>()=>{ce.current&&clearTimeout(ce.current),b&&Cs()},[]);const ta=async(Z,oe)=>{const Re=aa(Z),ie=await ra(Re),Je={id:Date.now().toString(),query:Z,timestamp:new Date,response:ie.text,confidence:oe,category:Re,language:p};s(Je),g(qe=>[Je,...qe.slice(0,9)]),ie.spoken&&mt(ie.spoken),b&&C(qe=>qe?{...qe,queries:qe.queries+1,accuracy:(qe.accuracy+oe)/2}:null)},aa=Z=>{const oe=Z.toLowerCase();for(const[Re,ie]of Object.entries(Ae))if(ie.some(Je=>Je.test(oe)))return Re;return"general"},ra=async(Z,oe)=>({revenue:{text:`Current monthly revenue is ₹${(t.find(ie=>ie.id==="revenue")?.value||0).toFixed(1)} crores, showing ${t.find(ie=>ie.id==="revenue")?.change||0}% growth this month.`,spoken:p==="hi"?`वर्तमान मासिक आय ${(t.find(ie=>ie.id==="revenue")?.value||0).toFixed(1)} करोड़ रुपए है, जो इस महीने ${t.find(ie=>ie.id==="revenue")?.change||0}% की वृद्धि दिखा रहा है।`:`Current monthly revenue is ${(t.find(ie=>ie.id==="revenue")?.value||0).toFixed(1)} crores, showing ${t.find(ie=>ie.id==="revenue")?.change||0}% growth this month.`},production:{text:`Biogas production is ${t.find(ie=>ie.id==="production")?.value||0} cubic meters per day with ${t.find(ie=>ie.id==="efficiency")?.value||0}% efficiency.`,spoken:p==="hi"?`बायोगैस उत्पादन प्रतिदिन ${t.find(ie=>ie.id==="production")?.value||0} क्यूबिक मीटर है, जिसकी दक्षता ${t.find(ie=>ie.id==="efficiency")?.value||0}% है।`:`Biogas production is ${t.find(ie=>ie.id==="production")?.value||0} cubic meters per day with ${t.find(ie=>ie.id==="efficiency")?.value||0}% efficiency.`},carbon:{text:`We generated ${a.creditsGenerated} tons of carbon credits worth ₹${(a.marketValue/1e5).toFixed(1)} lakhs.`,spoken:p==="hi"?`हमने ${a.creditsGenerated} टन कार्बन क्रेडिट जेनरेट किए हैं जिनकी कीमत ${(a.marketValue/1e5).toFixed(1)} लाख रुपए है।`:`We generated ${a.creditsGenerated} tons of carbon credits worth ${(a.marketValue/1e5).toFixed(1)} lakhs rupees.`},strategic:{text:`Our market share is ${r.marketShare}% and we rank #${r.ranking} in the industry.`,spoken:p==="hi"?`हमारी बाजार हिस्सेदारी ${r.marketShare}% है और हम उद्योग में ${r.ranking} नंबर पर हैं।`:`Our market share is ${r.marketShare}% and we rank number ${r.ranking} in the industry.`}})[Z]||{text:"I can help you with revenue, production, carbon credits, or strategic planning metrics.",spoken:p==="hi"?"मैं आपकी आय, उत्पादन, कार्बन क्रेडिट, या रणनीतिक योजना मेट्रिक्स में मदद कर सकता हूं।":"I can help you with revenue, production, carbon credits, or strategic planning metrics."},mt=Z=>{if(te.current){f(!0);const oe=new SpeechSynthesisUtterance(Z);oe.lang=p==="hi"?"hi-IN":"en-US",oe.onend=()=>f(!1),te.current.speak(oe)}},na=()=>{if(!n||!i("voice","query")){alert("You do not have permission to use voice analytics");return}He()&&z.current&&(j(!0),z.current.start(),b||Rt())},ia=()=>{z.current&&(z.current.stop(),j(!1))},la=()=>{te.current&&(te.current.cancel(),f(!1))},ca=()=>{O(Z=>Z==="en"?"hi":"en"),z.current&&(z.current.lang=p==="en"?"hi-IN":"en-US")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Voice Analytics Assistant"}),e.jsx("p",{className:"text-gray-600",children:"Advanced voice-enabled business intelligence"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(E,{onClick:ca,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(Jr,{className:"h-4 w-4"}),p==="en"?"हिंदी":"English"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(w,{children:[e.jsx(I,{className:"pb-3",children:e.jsxs(A,{className:"flex items-center gap-2 text-sm",children:[e.jsx(be,{className:"h-4 w-4"}),"Privacy Controls"]})}),e.jsxs(S,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Data Encryption"}),e.jsx(L,{variant:P.encryptionEnabled?"default":"secondary",children:P.encryptionEnabled?"ON":"OFF"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Privacy Level"}),e.jsx(L,{variant:"outline",children:c().toUpperCase()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Data Retention"}),e.jsx(L,{variant:"secondary",children:P.dataRetention.toUpperCase()})]}),e.jsxs(E,{onClick:()=>H(!_),variant:"outline",size:"sm",className:"w-full mt-2",children:[_?e.jsx(kr,{className:"h-3 w-3 mr-1"}):e.jsx(ds,{className:"h-3 w-3 mr-1"}),_?"Show Data":"Hide Data"]})]})]}),e.jsxs(w,{children:[e.jsx(I,{className:"pb-3",children:e.jsxs(A,{className:"flex items-center gap-2 text-sm",children:[e.jsx(we,{className:"h-4 w-4"}),"Session Timer"]})}),e.jsx(S,{children:b?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-2xl font-bold text-center",children:[Math.floor(G/60),":",(G%60).toString().padStart(2,"0")]}),e.jsx("div",{className:"text-xs text-center text-gray-500",children:"Time Remaining"}),G<=300&&e.jsxs(Os,{className:"p-2",children:[e.jsx(le,{className:"h-3 w-3"}),e.jsx(Es,{className:"text-xs",children:"Session expiring soon!"})]}),e.jsx(E,{onClick:Cs,variant:"outline",size:"sm",className:"w-full",children:"End Session"})]}):e.jsx("div",{className:"text-center text-gray-500 text-sm",children:"No active session"})})]}),e.jsxs(w,{children:[e.jsx(I,{className:"pb-3",children:e.jsxs(A,{className:"flex items-center gap-2 text-sm",children:[e.jsx(Dr,{className:"h-4 w-4"}),"Consent Status"]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Voice Recording"}),e.jsx(L,{variant:u?"default":"destructive",children:u?"ALLOWED":"DENIED"})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["User: ",n?.name]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Role: ",n?.role?.toUpperCase()]}),!u&&e.jsx(E,{onClick:()=>m(!0),variant:"outline",size:"sm",className:"w-full",children:"Grant Consent"})]})})]})]}),v&&e.jsxs(w,{className:"border-orange-200 bg-orange-50",children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2 text-orange-800",children:[e.jsx(be,{className:"h-5 w-5"}),"Voice Analytics Consent Required"]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm text-orange-700",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"SAUBHAGYA Voice Analytics"})," requests permission to:"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[e.jsx("li",{children:"Record and process your voice queries"}),e.jsx("li",{children:"Analyze speech patterns for business intelligence"}),e.jsx("li",{children:"Store session data according to privacy settings"}),e.jsx("li",{children:"Apply role-based access controls for data security"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-white rounded border",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Privacy Settings for ",n?.name,":"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:["Session Timeout: ",e.jsxs("span",{className:"font-medium",children:[P.sessionTimeout," minutes"]})]}),e.jsxs("div",{children:["Data Retention: ",e.jsx("span",{className:"font-medium",children:P.dataRetention})]}),e.jsxs("div",{children:["Encryption: ",e.jsx("span",{className:"font-medium",children:P.encryptionEnabled?"Enabled":"Disabled"})]}),e.jsxs("div",{children:["Anonymization: ",e.jsx("span",{className:"font-medium",children:P.anonymizeTranscripts?"Enabled":"Disabled"})]})]})]}),e.jsxs("p",{className:"mt-3 text-xs text-gray-600",children:['By clicking "Grant Consent", you agree to voice data processing under SAUBHAGYA privacy policy.',l()&&" Executive sessions have enhanced security and shorter timeouts."]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{onClick:ea,className:"flex-1",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Grant Consent"]}),e.jsx(E,{onClick:()=>m(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]}),b&&e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Ar,{className:"h-5 w-5"}),"Current Voice Session"]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.queries}),e.jsx("div",{className:"text-sm text-gray-500",children:"Queries"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(b.accuracy*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Accuracy"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round((Date.now()-b.startTime.getTime())/6e4),"m"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Duration"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(L,{variant:"outline",className:"text-sm",children:b.language==="hi"?"हिंदी":"English"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Language"})]})]})})]}),e.jsx(w,{children:e.jsx(S,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(E,{onClick:o?ia:na,size:"lg",className:`h-20 w-20 rounded-full ${o?"bg-red-600 hover:bg-red-700 animate-pulse":"bg-blue-600 hover:bg-blue-700"}`,children:o?e.jsx(Xr,{className:"h-8 w-8"}):e.jsx(Ys,{className:"h-8 w-8"})}),e.jsxs("div",{className:"text-center",children:[e.jsx(L,{variant:o?"default":"secondary",className:"mb-2",children:o?"Listening...":"Click to speak"}),M>0&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Confidence: ",Math.round(M*100),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[y&&e.jsxs(E,{onClick:la,variant:"outline",size:"sm",children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),"Stop Speaking"]}),e.jsxs(E,{onClick:()=>N(""),variant:"outline",size:"sm",children:[e.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Clear"]})]}),x&&e.jsxs(Os,{className:"w-full max-w-2xl",children:[e.jsx(St,{className:"h-4 w-4"}),e.jsxs(Es,{children:[e.jsx("strong",{children:"You said:"}),' "',x,'"']})]})]})})}),e.jsxs($e,{defaultValue:"commands",className:"w-full",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-2",children:[e.jsx(X,{value:"commands",children:"Voice Commands"}),e.jsx(X,{value:"history",children:"Query History"})]}),e.jsx(Y,{value:"commands",className:"space-y-4",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Available Voice Commands"})}),e.jsx(S,{children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:ne.map((Z,oe)=>e.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${Z.category==="financial"?"border-blue-500 bg-blue-50":Z.category==="kpi"?"border-green-500 bg-green-50":Z.category==="environmental"?"border-purple-500 bg-purple-50":"border-orange-500 bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Z.category==="financial"&&e.jsx(We,{className:"h-5 w-5 text-blue-600"}),Z.category==="kpi"&&e.jsx(xe,{className:"h-5 w-5 text-green-600"}),Z.category==="environmental"&&e.jsx(Is,{className:"h-5 w-5 text-purple-600"}),Z.category==="strategic"&&e.jsx(Te,{className:"h-5 w-5 text-orange-600"}),e.jsx("h4",{className:"font-medium text-gray-900",children:Z.command})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:Z.description}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Examples:"}),Z.examples.slice(0,2).map((Re,ie)=>e.jsxs("div",{className:"text-xs text-gray-600",children:['• "',Re,'"']},ie))]})]},oe))})})]})}),e.jsx(Y,{value:"history",className:"space-y-4",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Ra,{className:"h-5 w-5"}),"Recent Voice Queries"]})}),e.jsx(S,{children:D.length>0?e.jsx("div",{className:"space-y-3",children:D.map(Z=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:['"',Z.query,'"']}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",className:"text-xs",children:[Math.round(Z.confidence*100),"%"]}),e.jsx(L,{variant:"outline",className:"text-xs",children:Z.language==="hi"?"हिंदी":"English"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Response:"})," ",Z.response]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Z.timestamp.toLocaleTimeString()," • Category: ",Z.category]})]},Z.id))}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No voice queries yet. Start speaking to see your history here."})})]})})]})]})},Eu=()=>{const{initiatives:s,refreshData:t,refreshing:a,updateInitiative:r}=ct(),[n,i]=h.useState("baseline"),[l,c]=h.useState("12m"),[o,j]=h.useState("initiatives"),[y,f]=h.useState(!1),[x]=h.useState([{id:"baseline",name:"Baseline Growth",description:"Conservative growth with current market conditions",assumptions:{marketGrowth:12,investmentLevel:80,riskFactor:20,timeframe:12},projectedOutcomes:{revenue:15e8,profit:375e6,marketShare:22,roi:25,confidence:.85},risks:[{category:"Market",probability:.3,impact:.4,mitigation:"Diversify customer base"},{category:"Regulatory",probability:.2,impact:.6,mitigation:"Government relations program"}]},{id:"aggressive",name:"Aggressive Expansion",description:"High-growth strategy with significant market expansion",assumptions:{marketGrowth:25,investmentLevel:150,riskFactor:45,timeframe:18},projectedOutcomes:{revenue:225e7,profit:45e7,marketShare:35,roi:42,confidence:.68},risks:[{category:"Market",probability:.5,impact:.7,mitigation:"Phased expansion approach"},{category:"Financial",probability:.4,impact:.8,mitigation:"Strategic partnerships"}]},{id:"conservative",name:"Conservative Consolidation",description:"Focus on operational efficiency and market consolidation",assumptions:{marketGrowth:8,investmentLevel:50,riskFactor:10,timeframe:24},projectedOutcomes:{revenue:12e8,profit:36e7,marketShare:18,roi:18,confidence:.92},risks:[{category:"Competition",probability:.4,impact:.3,mitigation:"Innovation investment"},{category:"Technology",probability:.2,impact:.4,mitigation:"R&D partnerships"}]}]),[N]=h.useState([{id:"ai_optimization",title:"AI-Driven Production Optimization",sector:"Technology",investmentRequired:25e7,projectedRoi:320,riskLevel:"medium",timeToBreakeven:18,strategicAlignment:95,competitiveAdvantage:"First-mover advantage in biogas AI optimization",marketSize:15e8,confidence:.82,npv:485e6,irr:42.5,paybackPeriod:2.8,discountRate:12},{id:"carbon_trading",title:"Carbon Credit Trading Platform",sector:"Environmental",investmentRequired:15e7,projectedRoi:450,riskLevel:"low",timeToBreakeven:12,strategicAlignment:88,competitiveAdvantage:"Integrated production and trading ecosystem",marketSize:28e8,confidence:.91,npv:625e6,irr:58.3,paybackPeriod:2.1,discountRate:10},{id:"rural_expansion",title:"Rural Distribution Network Expansion",sector:"Infrastructure",investmentRequired:8e8,projectedRoi:180,riskLevel:"high",timeToBreakeven:36,strategicAlignment:92,competitiveAdvantage:"Last-mile connectivity advantage",marketSize:5e9,confidence:.76,npv:32e7,irr:28.7,paybackPeriod:4.2,discountRate:15},{id:"smart_grid_integration",title:"Smart Grid Integration Platform",sector:"Technology",investmentRequired:4e8,projectedRoi:280,riskLevel:"medium",timeToBreakeven:24,strategicAlignment:89,competitiveAdvantage:"Integrated energy distribution network",marketSize:32e8,confidence:.78,npv:42e7,irr:35.2,paybackPeriod:3.5,discountRate:13}]),[p]=h.useState([{id:"maharashtra_west",region:"Western Maharashtra",state:"Maharashtra",marketSize:85e7,penetrationRate:12,competitionLevel:"medium",regulatorySupport:85,infrastructureScore:78,investmentRequired:18e7,projectedRevenue:32e7,riskScore:25,opportunityScore:88},{id:"punjab_rural",region:"Rural Punjab",state:"Punjab",marketSize:62e7,penetrationRate:8,competitionLevel:"low",regulatorySupport:92,infrastructureScore:82,investmentRequired:14e7,projectedRevenue:28e7,riskScore:18,opportunityScore:94},{id:"gujarat_industrial",region:"Industrial Gujarat",state:"Gujarat",marketSize:95e7,penetrationRate:15,competitionLevel:"high",regulatorySupport:78,infrastructureScore:88,investmentRequired:22e7,projectedRevenue:38e7,riskScore:35,opportunityScore:82},{id:"up_eastern",region:"Eastern Uttar Pradesh",state:"Uttar Pradesh",marketSize:72e7,penetrationRate:6,competitionLevel:"low",regulatorySupport:75,infrastructureScore:65,investmentRequired:16e7,projectedRevenue:25e7,riskScore:28,opportunityScore:85},{id:"karnataka_tech",region:"Tech Corridor Karnataka",state:"Karnataka",marketSize:58e7,penetrationRate:10,competitionLevel:"medium",regulatorySupport:88,infrastructureScore:92,investmentRequired:125e6,projectedRevenue:21e7,riskScore:22,opportunityScore:90}]),[O]=h.useState([{scenario:"baseline",iterations:1e4,outcomes:{revenue:{mean:15e8,stdDev:18e7,percentile95:182e7,percentile5:121e7},profit:{mean:375e6,stdDev:65e6,percentile95:485e6,percentile5:285e6},roi:{mean:25,stdDev:4.2,percentile95:32.5,percentile5:18.8}},confidenceLevel:.85,riskOfLoss:.12},{scenario:"aggressive",iterations:1e4,outcomes:{revenue:{mean:225e7,stdDev:385e6,percentile95:2885e6,percentile5:168e7},profit:{mean:45e7,stdDev:125e6,percentile95:665e6,percentile5:285e6},roi:{mean:42,stdDev:8.5,percentile95:56.2,percentile5:28.5}},confidenceLevel:.68,riskOfLoss:.28},{scenario:"conservative",iterations:1e4,outcomes:{revenue:{mean:12e8,stdDev:85e6,percentile95:1345e6,percentile5:1085e6},profit:{mean:36e7,stdDev:42e6,percentile95:43e7,percentile5:305e6},roi:{mean:18,stdDev:2.8,percentile95:22.8,percentile5:14.2}},confidenceLevel:.92,riskOfLoss:.05}]),[M]=h.useState([{variable:"Market Growth Rate",baseValue:12,unit:"%",impact:{low:{change:-20,revenueImpact:-18e7,roiImpact:-4.2},high:{change:30,revenueImpact:285e6,roiImpact:6.8}},elasticity:1.45},{variable:"Raw Material Cost",baseValue:35,unit:"₹/unit",impact:{low:{change:-15,revenueImpact:125e6,roiImpact:3.2},high:{change:25,revenueImpact:-185e6,roiImpact:-5.8}},elasticity:-.85},{variable:"Carbon Credit Price",baseValue:15e4,unit:"₹/ton",impact:{low:{change:-30,revenueImpact:-95e6,roiImpact:-2.8},high:{change:40,revenueImpact:165e6,roiImpact:4.5}},elasticity:1.12},{variable:"Regulatory Support",baseValue:80,unit:"score",impact:{low:{change:-25,revenueImpact:-22e7,roiImpact:-6.5},high:{change:20,revenueImpact:145e6,roiImpact:3.8}},elasticity:.95},{variable:"Technology Adoption Rate",baseValue:65,unit:"%",impact:{low:{change:-30,revenueImpact:-155e6,roiImpact:-4.2},high:{change:35,revenueImpact:198e6,roiImpact:5.5}},elasticity:1.28}]),[k]=h.useState([{id:"regulatory_changes",category:"regulatory",title:"Government Policy Changes",description:"Potential changes in renewable energy subsidies and regulations",probability:.6,impact:.7,severity:"high",mitigationStrategy:"Active government relations and policy advocacy",owner:"Government Affairs Team",status:"monitoring",estimatedCost:125e6},{id:"market_saturation",category:"market",title:"Market Saturation Risk",description:"Risk of market saturation in primary regions",probability:.4,impact:.8,severity:"high",mitigationStrategy:"Geographic diversification and new product development",owner:"Strategic Planning Team",status:"mitigating",estimatedCost:2e8},{id:"technology_disruption",category:"technology",title:"Disruptive Technology Threat",description:"Emergence of competing renewable energy technologies",probability:.3,impact:.9,severity:"critical",mitigationStrategy:"R&D investment and technology partnerships",owner:"Technology Innovation Team",status:"mitigating",estimatedCost:3e8}]),b=m=>m>=1e7?`₹${(m/1e7).toFixed(1)}Cr`:m>=1e5?`₹${(m/1e5).toFixed(1)}L`:`₹${m.toLocaleString()}`,C=m=>{switch(m){case"planning":return e.jsx(we,{className:"h-4 w-4 text-blue-600"});case"in-progress":return e.jsx(Bi,{className:"h-4 w-4 text-green-600"});case"completed":return e.jsx(de,{className:"h-4 w-4 text-green-600"});case"on-hold":return e.jsx(_i,{className:"h-4 w-4 text-yellow-600"});default:return e.jsx(we,{className:"h-4 w-4 text-gray-600"})}},D=m=>{switch(m){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";case"critical":return"bg-red-200 text-red-900";default:return"bg-gray-100 text-gray-800"}},g=(m,P)=>Math.round(m*P*100),u=()=>{const m=s.filter(H=>H.status==="in-progress").length,P=s.reduce((H,z)=>H+z.budget,0),R=s.reduce((H,z)=>H+z.roi,0)/s.length,G=N.reduce((H,z)=>H+z.investmentRequired,0),U=N.reduce((H,z)=>H+z.npv,0)/N.length,T=p.sort((H,z)=>z.opportunityScore-H.opportunityScore)[0],$=k.filter(H=>H.severity==="high"||H.severity==="critical").length,_=`Strategic Planning Executive Summary: ${m} strategic initiatives in progress with ${b(P)} total budget and ${R.toFixed(1)}% average ROI. Investment portfolio includes ${N.length} opportunities worth ${b(G)} with average NPV of ${b(U)}. Top geographic opportunity is ${T.region} with ${T.opportunityScore} opportunity score. ${$} high-priority risks require immediate attention. Monte Carlo analysis shows ${Math.round(O.find(H=>H.scenario===n)?.confidenceLevel*100||0)}% confidence level for current scenario.`;if("speechSynthesis"in window){const H=new SpeechSynthesisUtterance(_);speechSynthesis.speak(H)}},d=()=>{const m={timestamp:new Date().toISOString(),scenario:n,timeframe:l,summary:{activeInitiatives:s.filter(U=>U.status==="in-progress").length,totalBudget:s.reduce((U,T)=>U+T.budget,0),avgRoi:s.reduce((U,T)=>U+T.roi,0)/s.length,highPriorityRisks:k.filter(U=>U.severity==="high"||U.severity==="critical").length,totalInvestmentOpportunities:N.length,topGeographicOpportunity:p.sort((U,T)=>T.opportunityScore-U.opportunityScore)[0]?.region||"N/A"},initiatives:s,scenarios:x,investments:{opportunities:N,portfolioMetrics:{totalInvestment:N.reduce((U,T)=>U+T.investmentRequired,0),averageNPV:N.reduce((U,T)=>U+T.npv,0)/N.length,averageIRR:N.reduce((U,T)=>U+T.irr,0)/N.length,averagePayback:N.reduce((U,T)=>U+T.paybackPeriod,0)/N.length}},geographic:{opportunities:p,totalMarketSize:p.reduce((U,T)=>U+T.marketSize,0),totalInvestmentRequired:p.reduce((U,T)=>U+T.investmentRequired,0),averageOpportunityScore:p.reduce((U,T)=>U+T.opportunityScore,0)/p.length},simulation:{monteCarloResults:O,sensitivityAnalysis:M,selectedScenarioConfidence:O.find(U=>U.scenario===n)?.confidenceLevel||0},risks:{assessments:k,totalExposure:k.reduce((U,T)=>U+T.estimatedCost,0),activeMitigations:k.filter(U=>U.status==="mitigating").length,resolvedRisks:k.filter(U=>U.status==="resolved").length}},P=new Blob([JSON.stringify(m,null,2)],{type:"application/json"}),R=URL.createObjectURL(P),G=document.createElement("a");G.href=R,G.download=`strategic-planning-comprehensive-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(R)},v=x.find(m=>m.id===n);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Strategic Planning & Analysis"}),e.jsx("p",{className:"text-gray-600",children:"Long-term business planning, scenario modeling, and strategic initiatives"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(E,{onClick:u,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(E,{onClick:d,variant:"outline",size:"sm",children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(E,{onClick:t,variant:"outline",size:"sm",disabled:a,children:[e.jsx(os,{className:`h-4 w-4 ${a?"animate-spin":""} mr-2`}),"Refresh"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scenario:"}),e.jsxs(fe,{value:n,onValueChange:i,children:[e.jsx(pe,{className:"w-48",children:e.jsx(ve,{})}),e.jsx(je,{children:x.map(m=>e.jsx(B,{value:m.id,children:m.name},m.id))})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Timeframe:"}),e.jsxs(fe,{value:l,onValueChange:c,children:[e.jsx(pe,{className:"w-32",children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"6m",children:"6 Months"}),e.jsx(B,{value:"12m",children:"12 Months"}),e.jsx(B,{value:"24m",children:"24 Months"}),e.jsx(B,{value:"36m",children:"36 Months"})]})]})]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>f(!y),children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),"Advanced"]})]}),e.jsxs($e,{value:o,onValueChange:j,className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-7",children:[e.jsx(X,{value:"initiatives",children:"Initiatives"}),e.jsx(X,{value:"scenarios",children:"Scenarios"}),e.jsx(X,{value:"investments",children:"Investments"}),e.jsx(X,{value:"geographic",children:"Geographic"}),e.jsx(X,{value:"simulation",children:"Simulation"}),e.jsx(X,{value:"risks",children:"Risks"}),e.jsx(X,{value:"planning",children:"Planning"})]}),e.jsxs(Y,{value:"initiatives",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"Initiative Portfolio Overview"]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.filter(m=>m.status==="in-progress").length}),e.jsx("div",{className:"text-sm text-blue-700",children:"Active Initiatives"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b(s.reduce((m,P)=>m+P.budget,0))}),e.jsx("div",{className:"text-sm text-green-700",children:"Total Investment"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(s.reduce((m,P)=>m+P.roi,0)/s.length).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-purple-700",children:"Average ROI"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(s.reduce((m,P)=>m+P.progress,0)/s.length),"%"]}),e.jsx("div",{className:"text-sm text-orange-700",children:"Avg Progress"})]})]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"ROI Performance Analysis"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:s.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[C(m.status),e.jsx("span",{className:"font-medium",children:m.name})]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Budget: ",b(m.budget)," | Spent: ",b(m.spent)," | Progress: ",m.progress,"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-lg font-bold ${m.roi>=300?"text-green-600":m.roi>=200?"text-blue-600":"text-gray-600"}`,children:[m.roi,"% ROI"]}),e.jsxs(L,{variant:"outline",className:D(m.riskLevel),children:[m.riskLevel," risk"]})]})]},m.id))})})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:s.map(m=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(A,{className:"text-lg",children:m.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]}),e.jsx(L,{variant:"outline",className:m.status==="completed"?"bg-green-100 text-green-800":m.status==="in-progress"?"bg-blue-100 text-blue-800":m.status==="planning"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:m.status.replace("-"," ")})]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Budget Utilization"}),e.jsxs("div",{className:"font-medium",children:[b(m.spent)," / ",b(m.budget)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Expected ROI"}),e.jsxs("div",{className:"font-medium text-green-600",children:[m.roi,"%"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[m.progress,"%"]})]}),e.jsx(ue,{value:m.progress,className:"h-2"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-600",children:"Timeline"}),e.jsxs("div",{className:"font-medium",children:[new Date(m.timeline.start).toLocaleDateString()," - ",new Date(m.timeline.end).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-600",children:"Owner"}),e.jsx("div",{className:"font-medium",children:m.owner})]}),y&&e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Risk Level:"}),e.jsx(L,{variant:"outline",className:D(m.riskLevel),children:m.riskLevel})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Milestones:"}),e.jsxs("span",{children:[m.timeline.milestones.length," planned"]})]})]})})]})]},m.id))})]}),e.jsx(Y,{value:"scenarios",className:"space-y-6",children:v&&e.jsxs(e.Fragment,{children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Scenario Analysis: ",v.name]}),e.jsx("p",{className:"text-gray-600",children:v.description})]}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Key Assumptions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Market Growth Rate"}),e.jsxs("span",{className:"font-medium",children:[v.assumptions.marketGrowth,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Investment Level"}),e.jsxs("span",{className:"font-medium",children:[v.assumptions.investmentLevel,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Risk Factor"}),e.jsxs("span",{className:"font-medium",children:[v.assumptions.riskFactor,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Timeframe"}),e.jsxs("span",{className:"font-medium",children:[v.assumptions.timeframe," months"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Projected Outcomes"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:b(v.projectedOutcomes.revenue)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Revenue"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:b(v.projectedOutcomes.profit)}),e.jsx("div",{className:"text-xs text-green-700",children:"Profit"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[v.projectedOutcomes.marketShare,"%"]}),e.jsx("div",{className:"text-xs text-purple-700",children:"Market Share"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[v.projectedOutcomes.roi,"%"]}),e.jsx("div",{className:"text-xs text-orange-700",children:"ROI"})]})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs(L,{variant:"outline",className:`${v.projectedOutcomes.confidence>=.8?"bg-green-100 text-green-800":v.projectedOutcomes.confidence>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(v.projectedOutcomes.confidence*100),"% Confidence"]})})]})]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(st,{className:"h-5 w-5"}),"Scenario Comparison Matrix"]})}),e.jsx(S,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Scenario"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Revenue"}),e.jsx("th",{className:"text-center py-3 px-4",children:"ROI"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Market Share"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Risk Level"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Confidence"})]})}),e.jsx("tbody",{children:x.map(m=>e.jsxs("tr",{className:`border-b border-gray-100 ${m.id===n?"bg-blue-50":""}`,children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:m.name}),e.jsx("td",{className:"text-center py-3 px-4",children:b(m.projectedOutcomes.revenue)}),e.jsxs("td",{className:"text-center py-3 px-4",children:[m.projectedOutcomes.roi,"%"]}),e.jsxs("td",{className:"text-center py-3 px-4",children:[m.projectedOutcomes.marketShare,"%"]}),e.jsxs("td",{className:"text-center py-3 px-4",children:[m.assumptions.riskFactor,"%"]}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsxs(L,{variant:"outline",className:`${m.projectedOutcomes.confidence>=.8?"bg-green-100 text-green-800":m.projectedOutcomes.confidence>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(m.projectedOutcomes.confidence*100),"%"]})})]},m.id))})]})})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"Scenario Risk Analysis"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:v.risks.map((m,P)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[m.category," Risk"]}),e.jsx("div",{className:"text-sm text-gray-600",children:m.mitigation})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Probability:"})," ",Math.round(m.probability*100),"%"]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Impact:"})," ",Math.round(m.impact*100),"%"]}),e.jsxs(L,{variant:"outline",className:g(m.probability,m.impact)>=50?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:["Score: ",g(m.probability,m.impact)]})]})]},P))})})]})]})}),e.jsxs(Y,{value:"investments",className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5"}),"Investment Opportunity Portfolio"]}),e.jsx("p",{className:"text-gray-600",children:"Prioritized investment opportunities with ROI analysis and strategic alignment"})]}),e.jsx(S,{children:e.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:N.sort((m,P)=>P.projectedRoi*P.strategicAlignment-m.projectedRoi*m.strategicAlignment).map(m=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(A,{className:"text-lg",children:m.title}),e.jsx(L,{variant:"outline",className:"mt-2",children:m.sector})]}),e.jsxs(L,{variant:"outline",className:D(m.riskLevel),children:[m.riskLevel," risk"]})]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:b(m.investmentRequired)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Investment Required"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[m.projectedRoi,"%"]}),e.jsx("div",{className:"text-xs text-green-700",children:"Projected ROI"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:b(m.npv)}),e.jsx("div",{className:"text-xs text-purple-700",children:"NPV"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[m.irr,"%"]}),e.jsx("div",{className:"text-xs text-orange-700",children:"IRR"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Time to Breakeven"}),e.jsxs("span",{className:"font-medium",children:[m.timeToBreakeven," months"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Strategic Alignment"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:m.strategicAlignment,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[m.strategicAlignment,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Market Size"}),e.jsx("span",{className:"font-medium",children:b(m.marketSize)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Payback Period"}),e.jsxs("span",{className:"font-medium",children:[m.paybackPeriod," years"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Discount Rate"}),e.jsxs("span",{className:"font-medium",children:[m.discountRate,"%"]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Competitive Advantage"}),e.jsx("div",{className:"text-sm font-medium",children:m.competitiveAdvantage})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{variant:"outline",className:`${m.confidence>=.8?"bg-green-100 text-green-800":m.confidence>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(m.confidence*100),"% Confidence"]}),e.jsx(E,{size:"sm",variant:"outline",children:"Detailed Analysis"})]})]})]},m.id))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5"}),"Portfolio Optimization Analysis"]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Risk-Return Profile"}),e.jsx("div",{className:"space-y-3",children:["low","medium","high"].map(m=>{const P=N.filter(U=>U.riskLevel===m),R=P.reduce((U,T)=>U+T.projectedRoi,0)/P.length||0,G=P.reduce((U,T)=>U+T.investmentRequired,0);return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium capitalize",children:[m," Risk"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[P.length," opportunities"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[R.toFixed(1),"% ROI"]}),e.jsx("div",{className:"text-sm text-gray-600",children:b(G)})]})]},m)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sector Distribution"}),e.jsx("div",{className:"space-y-3",children:Array.from(new Set(N.map(m=>m.sector))).map(m=>{const P=N.filter(G=>G.sector===m),R=P.reduce((G,U)=>G+U.investmentRequired,0);return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:m}),e.jsxs("div",{className:"text-sm text-gray-600",children:[P.length," opportunities"]})]}),e.jsx("div",{className:"font-medium",children:b(R)})]},m)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Recommended Allocation"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800",children:"Optimal Portfolio"}),e.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Balanced risk-return allocation"}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Expected ROI:"}),e.jsx("span",{className:"font-medium",children:"285%"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Total Investment:"}),e.jsx("span",{className:"font-medium",children:b(N.reduce((m,P)=>m+P.investmentRequired,0))})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Payback Period:"}),e.jsx("span",{className:"font-medium",children:"22 months"})]})]})]})})]})]})})]})]}),e.jsxs(Y,{value:"risks",className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5"}),"Strategic Risk Assessment & Mitigation"]}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive risk analysis with impact assessment and mitigation strategies"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:["critical","high","medium","low"].map(m=>{const P=k.filter(R=>R.severity===m);return e.jsxs("div",{className:`text-center p-4 rounded-lg ${m==="critical"?"bg-red-100":m==="high"?"bg-orange-100":m==="medium"?"bg-yellow-100":"bg-green-100"}`,children:[e.jsx("div",{className:`text-2xl font-bold ${m==="critical"?"text-red-600":m==="high"?"text-orange-600":m==="medium"?"text-yellow-600":"text-green-600"}`,children:P.length}),e.jsxs("div",{className:`text-sm ${m==="critical"?"text-red-700":m==="high"?"text-orange-700":m==="medium"?"text-yellow-700":"text-green-700"}`,children:[m.charAt(0).toUpperCase()+m.slice(1)," Risk"]})]},m)})}),e.jsx("div",{className:"space-y-4",children:k.sort((m,P)=>g(P.probability,P.impact)-g(m.probability,m.impact)).map(m=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(A,{className:"text-lg",children:m.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(L,{variant:"outline",className:m.category==="market"?"bg-blue-100 text-blue-800":m.category==="operational"?"bg-green-100 text-green-800":m.category==="financial"?"bg-purple-100 text-purple-800":m.category==="regulatory"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800",children:m.category}),e.jsx(L,{variant:"outline",className:D(m.severity),children:m.severity})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:g(m.probability,m.impact)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Risk Score"})]})]})}),e.jsx(S,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Risk Metrics"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Probability:"}),e.jsxs("span",{className:"font-medium",children:[Math.round(m.probability*100),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Impact:"}),e.jsxs("span",{className:"font-medium",children:[Math.round(m.impact*100),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Est. Cost:"}),e.jsx("span",{className:"font-medium",children:b(m.estimatedCost)})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Mitigation Strategy"}),e.jsx("div",{className:"text-sm",children:m.mitigationStrategy})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Management"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Owner:"})," ",m.owner]}),e.jsx(L,{variant:"outline",className:m.status==="resolved"?"bg-green-100 text-green-800":m.status==="mitigating"?"bg-blue-100 text-blue-800":m.status==="monitoring"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:m.status})]})]})]})})]},m.id))})]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"Risk Mitigation Investment Summary"]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:b(k.reduce((m,P)=>m+P.estimatedCost,0))}),e.jsx("div",{className:"text-sm text-red-700 mt-2",children:"Total Risk Exposure"})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:k.filter(m=>m.status==="mitigating").length}),e.jsx("div",{className:"text-sm text-blue-700 mt-2",children:"Active Mitigations"})]}),e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[Math.round(k.filter(m=>m.status==="resolved").length/k.length*100),"%"]}),e.jsx("div",{className:"text-sm text-green-700 mt-2",children:"Risks Resolved"})]})]})})]})]}),e.jsx(Y,{value:"geographic",className:"space-y-6",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"Geographic Market Expansion Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Regional opportunity assessment and market penetration strategy"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:p.sort((m,P)=>P.opportunityScore-m.opportunityScore).map(m=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(A,{className:"text-lg",children:m.region}),e.jsx(L,{variant:"outline",className:"mt-2",children:m.state})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.opportunityScore}),e.jsx("div",{className:"text-sm text-gray-600",children:"Opportunity Score"})]})]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:b(m.marketSize)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Market Size"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:b(m.projectedRevenue)}),e.jsx("div",{className:"text-xs text-green-700",children:"Projected Revenue"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Current Penetration"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:m.penetrationRate,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[m.penetrationRate,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Regulatory Support"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:m.regulatorySupport,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[m.regulatorySupport,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Infrastructure"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:m.infrastructureScore,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[m.infrastructureScore,"%"]})]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Investment Required"}),e.jsx("span",{className:"font-medium",children:b(m.investmentRequired)})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Competition Level"}),e.jsx(L,{variant:"outline",className:D(m.competitionLevel),children:m.competitionLevel})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Risk Score"}),e.jsxs("span",{className:`font-medium ${m.riskScore<=20?"text-green-600":m.riskScore<=30?"text-yellow-600":"text-red-600"}`,children:[m.riskScore,"/100"]})]})]}),e.jsx(E,{size:"sm",className:"w-full",children:"View Detailed Analysis"})]})]},m.id))}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Regional Expansion Summary"]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b(p.reduce((m,P)=>m+P.marketSize,0))}),e.jsx("div",{className:"text-sm text-blue-700 mt-2",children:"Total Addressable Market"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b(p.reduce((m,P)=>m+P.investmentRequired,0))}),e.jsx("div",{className:"text-sm text-green-700 mt-2",children:"Total Investment Required"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:b(p.reduce((m,P)=>m+P.projectedRevenue,0))}),e.jsx("div",{className:"text-sm text-purple-700 mt-2",children:"Total Projected Revenue"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(p.reduce((m,P)=>m+P.opportunityScore,0)/p.length)}),e.jsx("div",{className:"text-sm text-orange-700 mt-2",children:"Avg Opportunity Score"})]})]})})]})]})})]})}),e.jsx(Y,{value:"simulation",className:"space-y-6",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5"}),"Monte Carlo Simulation & Sensitivity Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Statistical modeling and risk assessment for strategic scenarios"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Monte Carlo Simulation Results (10,000 iterations)"}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:O.map(m=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(A,{className:"text-lg capitalize",children:[m.scenario," Scenario"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(L,{variant:"outline",className:`${m.confidenceLevel>=.8?"bg-green-100 text-green-800":m.confidenceLevel>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(m.confidenceLevel*100),"% Confidence"]}),e.jsxs(L,{variant:"outline",className:`${m.riskOfLoss<=.1?"bg-green-100 text-green-800":m.riskOfLoss<=.25?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(m.riskOfLoss*100),"% Risk of Loss"]})]})]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-blue-600",children:"Revenue Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Mean:"}),e.jsx("span",{className:"font-medium",children:b(m.outcomes.revenue.mean)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Std Dev:"}),e.jsx("span",{className:"font-medium",children:b(m.outcomes.revenue.stdDev)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"95th %ile:"}),e.jsx("span",{className:"font-medium text-green-600",children:b(m.outcomes.revenue.percentile95)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5th %ile:"}),e.jsx("span",{className:"font-medium text-red-600",children:b(m.outcomes.revenue.percentile5)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-green-600",children:"Profit Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Mean:"}),e.jsx("span",{className:"font-medium",children:b(m.outcomes.profit.mean)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Std Dev:"}),e.jsx("span",{className:"font-medium",children:b(m.outcomes.profit.stdDev)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"95th %ile:"}),e.jsx("span",{className:"font-medium text-green-600",children:b(m.outcomes.profit.percentile95)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5th %ile:"}),e.jsx("span",{className:"font-medium text-red-600",children:b(m.outcomes.profit.percentile5)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-purple-600",children:"ROI Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Mean:"}),e.jsxs("span",{className:"font-medium",children:[m.outcomes.roi.mean.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Std Dev:"}),e.jsxs("span",{className:"font-medium",children:[m.outcomes.roi.stdDev.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"95th %ile:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[m.outcomes.roi.percentile95.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5th %ile:"}),e.jsxs("span",{className:"font-medium text-red-600",children:[m.outcomes.roi.percentile5.toFixed(1),"%"]})]})]})]})]})})]},m.scenario))})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Sensitivity Analysis - Key Variables Impact"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:M.map((m,P)=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(A,{className:"text-lg",children:m.variable}),e.jsxs(L,{variant:"outline",className:`${Math.abs(m.elasticity)>=1.2?"bg-red-100 text-red-800":Math.abs(m.elasticity)>=.8?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:["Elasticity: ",m.elasticity.toFixed(2)]})]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[m.baseValue," ",m.unit]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Base Value"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h5",{className:"font-medium text-red-600",children:["Downside Scenario (",m.impact.low.change,"%)"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Revenue Impact:"}),e.jsx("span",{className:"font-medium text-red-600",children:b(m.impact.low.revenueImpact)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"ROI Impact:"}),e.jsxs("span",{className:"font-medium text-red-600",children:[m.impact.low.roiImpact.toFixed(1),"%"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h5",{className:"font-medium text-green-600",children:["Upside Scenario (",m.impact.high.change,"%)"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Revenue Impact:"}),e.jsx("span",{className:"font-medium text-green-600",children:b(m.impact.high.revenueImpact)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"ROI Impact:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["+",m.impact.high.roiImpact.toFixed(1),"%"]})]})]})]})]})})]},P))})})]})]})})]})}),e.jsx(Y,{value:"planning",className:"space-y-6",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5"}),"Long-term Business Planning Framework"]}),e.jsx("p",{className:"text-gray-600",children:"Strategic roadmap and long-term vision execution"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Strategic Vision Timeline (2024-2027)"}),e.jsx("div",{className:"space-y-4",children:[{year:"2024",focus:"Market Consolidation & Technology Integration",goals:["Achieve 25% market share","Complete AI optimization rollout","Launch carbon trading platform"],investment:85e7,targetRoi:280},{year:"2025",focus:"Regional Expansion & Innovation",goals:["Expand to 5 new regions","Launch next-gen biogas technology","Establish R&D centers"],investment:12e8,targetRoi:320},{year:"2026",focus:"International Markets & Sustainability Leadership",goals:["Enter international markets","Achieve carbon neutrality","IPO preparation"],investment:18e8,targetRoi:380},{year:"2027",focus:"Global Leadership & Ecosystem Development",goals:["Global market presence","Complete ecosystem integration","Industry leadership"],investment:25e8,targetRoi:450}].map(m=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(A,{className:"text-lg",children:[m.year,": ",m.focus]}),e.jsxs(L,{variant:"outline",className:"bg-blue-100 text-blue-800",children:[m.targetRoi,"% ROI Target"]})]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Strategic Goals"}),e.jsx("ul",{className:"space-y-1",children:m.goals.map((P,R)=>e.jsxs("li",{className:"text-sm flex items-center gap-2",children:[e.jsx(de,{className:"h-3 w-3 text-green-600"}),P]},R))})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Planned Investment"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b(m.investment)})]})]})})]},m.year))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"Long-term KPI Targets"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:[{metric:"Annual Revenue",current:"₹125Cr",target:"₹500Cr",progress:25},{metric:"Market Share",current:"18.5%",target:"40%",progress:46},{metric:"Geographic Presence",current:"12 states",target:"28 states",progress:43},{metric:"Carbon Credits",current:"450 tons",target:"2,000 tons",progress:23},{metric:"Customer Base",current:"15,000",target:"100,000",progress:15}].map((m,P)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:m.metric}),e.jsxs("span",{className:"text-gray-600",children:[m.current," → ",m.target]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:m.progress,className:"h-2 flex-1"}),e.jsxs("span",{className:"text-sm font-medium",children:[m.progress,"%"]})]})]},P))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"h-5 w-5"}),"Strategic Success Factors"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:[{factor:"Technology Innovation",score:85,trend:"up"},{factor:"Market Position",score:78,trend:"up"},{factor:"Financial Health",score:92,trend:"stable"},{factor:"Operational Excellence",score:87,trend:"up"},{factor:"Sustainability Leadership",score:74,trend:"up"},{factor:"Talent & Culture",score:81,trend:"stable"}].map((m,P)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:m.factor}),m.trend==="up"?e.jsx(Zs,{className:"h-4 w-4 text-green-600"}):m.trend==="down"?e.jsx(Zt,{className:"h-4 w-4 text-red-600"}):e.jsx($t,{className:"h-4 w-4 text-gray-600"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:m.score,className:"h-2 w-16"}),e.jsxs("span",{className:"text-sm font-medium",children:[m.score,"%"]})]})]},P))})})]})]})]})})]})})]})]})},Lu=()=>{const{carbonMetrics:s,refreshData:t,refreshing:a}=ct(),[r,n]=h.useState("12m"),[i,l]=h.useState("revenue"),[c,o]=h.useState("credits"),[j,y]=h.useState(!1),[f]=h.useState([{id:"cc001",projectName:"Biogas Plant Maharashtra",creditType:"VCS",creditsGenerated:120,creditsIssued:115,creditsSold:98,pricePerCredit:185e3,revenue:1813e4,vintage:2024,expiryDate:"2034-12-31",co2Reduced:600,verificationStatus:"issued",buyer:"Green Energy Corp",additionalityScore:92},{id:"cc002",projectName:"Rural Biogas Gujarat",creditType:"Gold Standard",creditsGenerated:85,creditsIssued:85,creditsSold:75,pricePerCredit:21e4,revenue:1575e4,vintage:2024,expiryDate:"2034-06-30",co2Reduced:425,verificationStatus:"issued",buyer:"Climate Solutions Ltd",additionalityScore:89},{id:"cc003",projectName:"Community Biogas Punjab",creditType:"CDM",creditsGenerated:150,creditsIssued:0,creditsSold:0,pricePerCredit:165e3,revenue:0,vintage:2024,expiryDate:"2034-09-30",co2Reduced:750,verificationStatus:"pending",additionalityScore:87},{id:"cc004",projectName:"Integrated Waste Management",creditType:"VER",creditsGenerated:200,creditsIssued:180,creditsSold:160,pricePerCredit:155e3,revenue:248e5,vintage:2024,expiryDate:"2034-03-31",co2Reduced:1e3,verificationStatus:"issued",buyer:"Carbon Offset International",additionalityScore:94}]),[x]=h.useState({environmental:{carbonReduction:2775,renewableEnergyGenerated:45e3,wasteReduction:125e3,waterConservation:85e3,biodiversityImpact:78,certifications:["ISO 14001","Gold Standard","VCS","B Corp"],score:87},social:{jobsCreated:1250,communityImpact:85,ruralFamiliesBenefited:12500,healthImprovements:78,educationPrograms:45,genderEquity:72,score:82},governance:{boardDiversity:68,transparencyIndex:91,ethicsScore:89,complianceRating:94,stakeholderEngagement:86,dataQuality:92,score:88},overallRating:"A"}),[N]=h.useState([{date:"2024-01",vcsPrice:142e3,cdmPrice:128e3,goldStandardPrice:195e3,volume:25e5,volatility:.15,marketCap:45e9},{date:"2024-02",vcsPrice:148e3,cdmPrice:135e3,goldStandardPrice:201e3,volume:275e4,volatility:.12,marketCap:475e8},{date:"2024-03",vcsPrice:155e3,cdmPrice:14e4,goldStandardPrice:205e3,volume:29e5,volatility:.18,marketCap:502e8},{date:"2024-04",vcsPrice:162e3,cdmPrice:145e3,goldStandardPrice:21e4,volume:31e5,volatility:.14,marketCap:528e8},{date:"2024-05",vcsPrice:175e3,cdmPrice:158e3,goldStandardPrice:218e3,volume:335e4,volatility:.16,marketCap:556e8},{date:"2024-06",vcsPrice:185e3,cdmPrice:165e3,goldStandardPrice:225e3,volume:35e5,volatility:.11,marketCap:582e8}]),[p]=h.useState([{id:"tcfd",framework:"TCFD (Task Force on Climate-related Financial Disclosures)",status:"compliant",lastAssessment:"2024-03-15",nextDue:"2025-03-15",score:92,requirements:[{requirement:"Climate Risk Governance",status:"met",evidence:"Board climate committee established"},{requirement:"Strategy Disclosure",status:"met",evidence:"Climate strategy published"},{requirement:"Risk Management",status:"met",evidence:"Climate risk framework implemented"},{requirement:"Metrics & Targets",status:"met",evidence:"Net-zero targets set"}],riskLevel:"low"},{id:"ghg",framework:"GHG Protocol Corporate Standard",status:"compliant",lastAssessment:"2024-02-28",nextDue:"2025-02-28",score:89,requirements:[{requirement:"Scope 1 Emissions",status:"met",evidence:"Direct emissions calculated"},{requirement:"Scope 2 Emissions",status:"met",evidence:"Indirect emissions reported"},{requirement:"Scope 3 Emissions",status:"partial",evidence:"Value chain assessment ongoing"},{requirement:"Verification",status:"met",evidence:"Third-party verified"}],riskLevel:"low"},{id:"science_targets",framework:"Science Based Targets initiative (SBTi)",status:"pending",lastAssessment:"2024-01-15",nextDue:"2024-07-15",score:75,requirements:[{requirement:"Target Setting",status:"met",evidence:"Targets submitted for validation"},{requirement:"Coverage",status:"partial",evidence:"85% scope 1&2 coverage achieved"},{requirement:"Timeline",status:"met",evidence:"Net-zero by 2050 committed"},{requirement:"Validation",status:"not-met",evidence:"Awaiting SBTi approval"}],riskLevel:"medium"},{id:"cdp",framework:"CDP Climate Change",status:"compliant",lastAssessment:"2024-04-30",nextDue:"2025-04-30",score:85,requirements:[{requirement:"Climate Governance",status:"met",evidence:"A- rating achieved"},{requirement:"Risk & Opportunity",status:"met",evidence:"Comprehensive assessment"},{requirement:"Business Strategy",status:"met",evidence:"Climate integration documented"},{requirement:"Targets & Performance",status:"met",evidence:"Progress tracking implemented"}],riskLevel:"low"}]),O=g=>g>=1e7?`₹${(g/1e7).toFixed(1)}Cr`:g>=1e5?`₹${(g/1e5).toFixed(1)}L`:`₹${g.toLocaleString()}`,M=g=>{switch(g){case"verified":case"issued":case"compliant":case"met":return"bg-green-100 text-green-800";case"pending":case"partial":return"bg-yellow-100 text-yellow-800";case"non-compliant":case"not-met":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=g=>{switch(g){case"A+":case"A":return"bg-green-100 text-green-800 border-green-300";case"B+":case"B":return"bg-blue-100 text-blue-800 border-blue-300";case"C+":case"C":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"D":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},b=g=>{switch(g){case"VCS":return e.jsx(be,{className:"h-4 w-4"});case"Gold Standard":return e.jsx(vt,{className:"h-4 w-4"});case"CDM":return e.jsx(Ks,{className:"h-4 w-4"});case"CAR":return e.jsx(Ht,{className:"h-4 w-4"});case"VER":return e.jsx(qi,{className:"h-4 w-4"});default:return e.jsx(Is,{className:"h-4 w-4"})}},C=()=>{const g=f.reduce((m,P)=>m+P.creditsGenerated,0),u=f.reduce((m,P)=>m+P.revenue,0),d=u/f.reduce((m,P)=>m+P.creditsSold,0),v=`Carbon Analytics Summary: Generated ${g} carbon credits with total revenue of ${O(u)}. Average price per credit is ${O(d)}. ESG rating is ${x.overallRating}. Environmental score is ${x.environmental.score}%, social score is ${x.social.score}%, and governance score is ${x.governance.score}%.`;if("speechSynthesis"in window){const m=new SpeechSynthesisUtterance(v);speechSynthesis.speak(m)}},D=()=>{const g={timestamp:new Date().toISOString(),carbonCredits:f,esgMetrics:x,marketTrends:N,complianceFrameworks:p,summary:{totalCredits:f.reduce((m,P)=>m+P.creditsGenerated,0),totalRevenue:f.reduce((m,P)=>m+P.revenue,0),co2Reduced:f.reduce((m,P)=>m+P.co2Reduced,0),overallESGRating:x.overallRating}},u=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),d=URL.createObjectURL(u),v=document.createElement("a");v.href=d,v.download=`carbon-analytics-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(d)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Carbon Analytics & ESG Reporting"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive carbon credit tracking, environmental impact analysis, and ESG compliance"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(E,{onClick:C,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(E,{onClick:D,variant:"outline",size:"sm",children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(E,{onClick:t,variant:"outline",size:"sm",disabled:a,children:[e.jsx(os,{className:`h-4 w-4 ${a?"animate-spin":""} mr-2`}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(w,{className:"hover:shadow-lg transition-shadow",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Credits Generated"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.reduce((g,u)=>g+u.creditsGenerated,0)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.reduce((g,u)=>g+u.co2Reduced,0)," tons CO₂"]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Is,{className:"h-6 w-6 text-green-600"})})]})})}),e.jsx(w,{className:"hover:shadow-lg transition-shadow",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Carbon Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:O(f.reduce((g,u)=>g+u.revenue,0))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"+22% from last quarter"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(We,{className:"h-6 w-6 text-blue-600"})})]})})}),e.jsx(w,{className:"hover:shadow-lg transition-shadow",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ESG Rating"}),e.jsx("p",{className:`text-2xl font-bold border-2 px-3 py-1 rounded-lg inline-block ${k(x.overallRating)}`,children:x.overallRating}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Top 10% in industry"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(vt,{className:"h-6 w-6 text-purple-600"})})]})})}),e.jsx(w,{className:"hover:shadow-lg transition-shadow",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Market Price Avg"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:O(N[N.length-1]?.vcsPrice||0)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center",children:[e.jsx(Zs,{className:"h-3 w-3 text-green-600 mr-1"}),"+18% this month"]})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(xe,{className:"h-6 w-6 text-orange-600"})})]})})})]}),e.jsxs($e,{value:c,onValueChange:o,className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-5",children:[e.jsx(X,{value:"credits",children:"Carbon Credits"}),e.jsx(X,{value:"esg",children:"ESG Metrics"}),e.jsx(X,{value:"compliance",children:"Compliance"}),e.jsx(X,{value:"market",children:"Market Analysis"}),e.jsx(X,{value:"projections",children:"Projections"})]}),e.jsx(Y,{value:"credits",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-5 w-5"}),"Carbon Credit Portfolio Management"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-6",children:f.map(g=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(A,{className:"text-lg",children:g.projectName}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(L,{variant:"outline",className:"flex items-center gap-1",children:[b(g.creditType),g.creditType]}),e.jsx(L,{variant:"outline",className:M(g.verificationStatus),children:g.verificationStatus}),e.jsxs(L,{variant:"outline",children:["Vintage ",g.vintage]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.creditsGenerated}),e.jsx("div",{className:"text-sm text-gray-600",children:"Credits Generated"})]})]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:g.creditsIssued}),e.jsx("div",{className:"text-xs text-blue-700",children:"Issued"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:g.creditsSold}),e.jsx("div",{className:"text-xs text-green-700",children:"Sold"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:O(g.pricePerCredit)}),e.jsx("div",{className:"text-xs text-purple-700",children:"Price/Credit"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:O(g.revenue)}),e.jsx("div",{className:"text-xs text-orange-700",children:"Revenue"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"CO₂ Reduction:"}),e.jsxs("div",{className:"font-medium",children:[g.co2Reduced," tons"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Additionality Score:"}),e.jsxs("div",{className:"font-medium",children:[g.additionalityScore,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Expires:"}),e.jsx("div",{className:"font-medium",children:new Date(g.expiryDate).toLocaleDateString()})]})]}),g.buyer&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Buyer:"}),e.jsx("span",{className:"font-medium ml-2",children:g.buyer})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Utilization:"}),e.jsxs("span",{className:"font-medium ml-2",children:[Math.round(g.creditsSold/g.creditsGenerated*100),"%"]})]}),e.jsx(E,{size:"sm",variant:"outline",children:"View Details"})]})]})]},g.id))})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(st,{className:"h-5 w-5"}),"Credit Type Distribution"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:Array.from(new Set(f.map(g=>g.creditType))).map(g=>{const u=f.filter(P=>P.creditType===g),d=u.reduce((P,R)=>P+R.creditsGenerated,0),v=u.reduce((P,R)=>P+R.revenue,0),m=d/f.reduce((P,R)=>P+R.creditsGenerated,0)*100;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded",children:b(g)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:g}),e.jsxs("div",{className:"text-sm text-gray-600",children:[u.length," projects"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[d," credits"]}),e.jsx("div",{className:"text-sm text-gray-600",children:O(v)}),e.jsxs("div",{className:"text-xs text-blue-600",children:[m.toFixed(1),"%"]})]})]},g)})})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5"}),"Performance Metrics"]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Average Additionality Score"}),e.jsxs("span",{children:[(f.reduce((g,u)=>g+u.additionalityScore,0)/f.length).toFixed(1),"%"]})]}),e.jsx(ue,{value:f.reduce((g,u)=>g+u.additionalityScore,0)/f.length,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Credit Issuance Rate"}),e.jsxs("span",{children:[Math.round(f.reduce((g,u)=>g+u.creditsIssued,0)/f.reduce((g,u)=>g+u.creditsGenerated,0)*100),"%"]})]}),e.jsx(ue,{value:f.reduce((g,u)=>g+u.creditsIssued,0)/f.reduce((g,u)=>g+u.creditsGenerated,0)*100,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Sales Conversion Rate"}),e.jsxs("span",{children:[Math.round(f.reduce((g,u)=>g+u.creditsSold,0)/f.reduce((g,u)=>g+u.creditsIssued,0)*100),"%"]})]}),e.jsx(ue,{value:f.reduce((g,u)=>g+u.creditsSold,0)/f.reduce((g,u)=>g+u.creditsIssued,0)*100,className:"h-2"})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:O(f.reduce((g,u)=>g+u.revenue,0)/f.reduce((g,u)=>g+u.creditsSold,0))}),e.jsx("div",{className:"text-xs text-green-700",children:"Avg Price/Credit"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:f.reduce((g,u)=>g+u.co2Reduced,0)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Total CO₂ Reduced"})]})]})})]})})]})]})]})}),e.jsx(Y,{value:"esg",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5"}),"ESG Performance Dashboard"]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx("div",{className:`text-3xl font-bold border-2 px-4 py-2 rounded-lg ${k(x.overallRating)}`,children:x.overallRating}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Overall ESG Rating"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Industry ranking: Top 10%"})]})]})]}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2 text-green-700",children:[e.jsx(Is,{className:"h-5 w-5"}),"Environmental"]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:x.environmental.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Carbon Reduction"}),e.jsxs("span",{className:"font-medium",children:[x.environmental.carbonReduction," tons"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Renewable Energy"}),e.jsxs("span",{className:"font-medium",children:[x.environmental.renewableEnergyGenerated.toLocaleString()," kWh"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Waste Reduction"}),e.jsxs("span",{className:"font-medium",children:[x.environmental.wasteReduction.toLocaleString()," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Water Conservation"}),e.jsxs("span",{className:"font-medium",children:[x.environmental.waterConservation.toLocaleString()," L"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Certifications"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:x.environmental.certifications.map((g,u)=>e.jsx(L,{variant:"outline",className:"text-xs",children:g},u))})]})]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(Te,{className:"h-5 w-5"}),"Social"]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:x.social.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Jobs Created"}),e.jsx("span",{className:"font-medium",children:x.social.jobsCreated.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Families Benefited"}),e.jsx("span",{className:"font-medium",children:x.social.ruralFamiliesBenefited.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Health Improvements"}),e.jsxs("span",{className:"font-medium",children:[x.social.healthImprovements,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Education Programs"}),e.jsx("span",{className:"font-medium",children:x.social.educationPrograms})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Gender Equity"}),e.jsxs("span",{className:"font-medium",children:[x.social.genderEquity,"%"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Community Impact"}),e.jsxs("span",{children:[x.social.communityImpact,"%"]})]}),e.jsx(ue,{value:x.social.communityImpact,className:"h-2"})]})]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2 text-purple-700",children:[e.jsx(Zr,{className:"h-5 w-5"}),"Governance"]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:x.governance.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Board Diversity"}),e.jsxs("span",{children:[x.governance.boardDiversity,"%"]})]}),e.jsx(ue,{value:x.governance.boardDiversity,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Transparency Index"}),e.jsxs("span",{children:[x.governance.transparencyIndex,"%"]})]}),e.jsx(ue,{value:x.governance.transparencyIndex,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ethics Score"}),e.jsxs("span",{children:[x.governance.ethicsScore,"%"]})]}),e.jsx(ue,{value:x.governance.ethicsScore,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Compliance Rating"}),e.jsxs("span",{children:[x.governance.complianceRating,"%"]})]}),e.jsx(ue,{value:x.governance.complianceRating,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Data Quality"}),e.jsxs("span",{children:[x.governance.dataQuality,"%"]})]}),e.jsx(ue,{value:x.governance.dataQuality,className:"h-1"})]})]})]})]})]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"ESG Initiatives & Targets"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-6",children:[{category:"Environmental",initiatives:[{name:"Carbon Neutrality by 2030",progress:68,target:"100% by 2030",status:"on-track"},{name:"Renewable Energy Adoption",progress:85,target:"100% by 2026",status:"ahead"},{name:"Waste Reduction Program",progress:72,target:"50% reduction by 2025",status:"on-track"},{name:"Water Conservation Initiative",progress:58,target:"30% reduction by 2025",status:"behind"}]},{category:"Social",initiatives:[{name:"Rural Employment Generation",progress:78,target:"2,000 jobs by 2025",status:"on-track"},{name:"Women Empowerment Program",progress:65,target:"40% female workforce",status:"on-track"},{name:"Community Health Initiatives",progress:82,target:"50 health centers",status:"ahead"},{name:"Educational Scholarships",progress:45,target:"1,000 scholarships",status:"behind"}]},{category:"Governance",initiatives:[{name:"Board Independence",progress:75,target:"80% independence",status:"on-track"},{name:"Transparency Reporting",progress:90,target:"Quarterly reports",status:"ahead"},{name:"Ethics Training Program",progress:88,target:"100% completion",status:"on-track"},{name:"Stakeholder Engagement",progress:70,target:"Monthly sessions",status:"on-track"}]}].map(g=>e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:[g.category," Initiatives"]}),e.jsx("div",{className:"space-y-3",children:g.initiatives.map((u,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:u.name}),e.jsx(L,{variant:"outline",className:u.status==="ahead"?"bg-green-100 text-green-800":u.status==="on-track"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800",children:u.status})]}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:u.target})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-24",children:e.jsx(ue,{value:u.progress,className:"h-2"})}),e.jsxs("span",{className:"text-sm font-medium w-12 text-right",children:[u.progress,"%"]})]})]},d))})]},g.category))})})]})]})}),e.jsx(Y,{value:"compliance",className:"space-y-6",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"Regulatory Compliance & Risk Assessment"]}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive compliance tracking across all relevant frameworks"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:["compliant","partial","pending","non-compliant"].map(g=>{const u=p.filter(d=>d.status===g);return e.jsxs("div",{className:`text-center p-4 rounded-lg ${g==="compliant"?"bg-green-100":g==="partial"?"bg-yellow-100":g==="pending"?"bg-blue-100":"bg-red-100"}`,children:[e.jsx("div",{className:`text-2xl font-bold ${g==="compliant"?"text-green-600":g==="partial"?"text-yellow-600":g==="pending"?"text-blue-600":"text-red-600"}`,children:u.length}),e.jsx("div",{className:`text-sm ${g==="compliant"?"text-green-700":g==="partial"?"text-yellow-700":g==="pending"?"text-blue-700":"text-red-700"}`,children:g.charAt(0).toUpperCase()+g.slice(1)})]},g)})}),e.jsx("div",{className:"space-y-4",children:p.map(g=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(A,{className:"text-lg",children:g.framework}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(L,{variant:"outline",className:M(g.status),children:g.status}),e.jsxs(L,{variant:"outline",className:M(g.riskLevel),children:[g.riskLevel," risk"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Compliance Score"})]})]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Last Assessment:"}),e.jsx("div",{className:"font-medium",children:new Date(g.lastAssessment).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Next Due:"}),e.jsx("div",{className:"font-medium",children:new Date(g.nextDue).toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Requirements Status"}),e.jsx("div",{className:"space-y-2",children:g.requirements.map((u,d)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",children:u.requirement}),e.jsx("div",{className:"text-xs text-gray-600",children:u.evidence})]}),e.jsx(L,{variant:"outline",className:M(u.status),children:u.status})]},d))})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Overall Progress:"}),e.jsxs("span",{className:"font-medium ml-2",children:[Math.round(g.requirements.filter(u=>u.status==="met").length/g.requirements.length*100),"%"]})]}),e.jsx(E,{size:"sm",variant:"outline",children:"View Report"})]})]})]},g.id))})]})})]})}),e.jsx(Y,{value:"market",className:"space-y-6",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Carbon Market Trends & Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Real-time market data and trend analysis for carbon credit pricing"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:O(N[N.length-1]?.vcsPrice||0)}),e.jsx("div",{className:"text-sm text-blue-700",children:"VCS Price"}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["+",((N[N.length-1]?.vcsPrice-N[0]?.vcsPrice)/N[0]?.vcsPrice*100).toFixed(1),"% YTD"]})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:O(N[N.length-1]?.goldStandardPrice||0)}),e.jsx("div",{className:"text-sm text-green-700",children:"Gold Standard"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Premium Standard"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[((N[N.length-1]?.volume||0)/1e6).toFixed(1),"M"]}),e.jsx("div",{className:"text-sm text-purple-700",children:"Monthly Volume"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Credits Traded"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[((N[N.length-1]?.volatility||0)*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-orange-700",children:"Volatility"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"30-day average"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Price Trends by Credit Type"})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:["VCS","Gold Standard","CDM"].map(g=>{const u=g==="VCS"?N[N.length-1]?.vcsPrice:g==="Gold Standard"?N[N.length-1]?.goldStandardPrice:N[N.length-1]?.cdmPrice,d=g==="VCS"?N[0]?.vcsPrice:g==="Gold Standard"?N[0]?.goldStandardPrice:N[0]?.cdmPrice,v=(u-d)/d*100;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded",children:b(g)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:g}),e.jsx("div",{className:"text-sm text-gray-600",children:O(u)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`flex items-center gap-1 ${v>=0?"text-green-600":"text-red-600"}`,children:[v>=0?e.jsx(Zs,{className:"h-4 w-4"}):e.jsx(Zt,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[v>=0?"+":"",v.toFixed(1),"%"]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"6-month change"})]})]},g)})})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Market Opportunities"})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:[{opportunity:"International Markets",description:"EU ETS pricing 35% higher than domestic",potential:"₹8.5Cr additional revenue",confidence:78,timeframe:"6-9 months"},{opportunity:"Article 6 Compliance",description:"Paris Agreement implementation creating premium",potential:"₹12.2Cr market expansion",confidence:65,timeframe:"12-18 months"},{opportunity:"Corporate ESG Demand",description:"Increased corporate carbon neutrality commitments",potential:"₹15.8Cr demand growth",confidence:85,timeframe:"3-6 months"}].map((g,u)=>e.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-green-800",children:g.opportunity}),e.jsx("div",{className:"text-sm text-green-700 mt-1",children:g.description}),e.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Timeframe:"})," ",g.timeframe]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("div",{className:"font-medium text-green-600",children:g.potential}),e.jsxs(L,{variant:"outline",className:"mt-1 bg-green-100 text-green-800",children:[g.confidence,"% confidence"]})]})]})},u))})})]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-5 w-5"}),"Price Forecasting & Revenue Projections"]})}),e.jsx(S,{children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:["Conservative","Baseline","Optimistic"].map((g,u)=>{const d=u===0?1.1:u===1?1.25:1.45,v=N[N.length-1]?.vcsPrice*d,m=f.reduce((P,R)=>P+R.creditsGenerated*v,0);return e.jsx("div",{className:`p-4 rounded-lg ${g==="Conservative"?"bg-yellow-50 border border-yellow-200":g==="Baseline"?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[g," Scenario"]}),e.jsx("div",{className:`text-2xl font-bold mt-2 ${g==="Conservative"?"text-yellow-600":g==="Baseline"?"text-blue-600":"text-green-600"}`,children:O(v)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Projected Price/Credit"}),e.jsx("div",{className:"text-lg font-medium text-gray-900 mt-3",children:O(m)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue Potential"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[((m-f.reduce((P,R)=>P+R.revenue,0))/f.reduce((P,R)=>P+R.revenue,0)*100).toFixed(1),"% increase"]})]})},g)})})})]})]})})]})}),e.jsx(Y,{value:"projections",className:"space-y-6",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Carbon Revenue & Impact Projections"]}),e.jsx("p",{className:"text-gray-600",children:"Long-term forecasting and strategic carbon planning"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Timeframe:"}),e.jsxs(fe,{value:r,onValueChange:n,children:[e.jsx(pe,{className:"w-32",children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"12m",children:"12 Months"}),e.jsx(B,{value:"24m",children:"24 Months"}),e.jsx(B,{value:"36m",children:"36 Months"}),e.jsx(B,{value:"60m",children:"60 Months"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Growth Scenario:"}),e.jsxs(fe,{defaultValue:"baseline",children:[e.jsx(pe,{className:"w-40",children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"conservative",children:"Conservative"}),e.jsx(B,{value:"baseline",children:"Baseline"}),e.jsx(B,{value:"aggressive",children:"Aggressive"})]})]})]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>y(!j),children:[e.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Advanced Modeling"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Revenue Growth Projections"})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:[{period:"2024 Q4",revenue:785e5,growth:15.2,confidence:92},{period:"2025 Q1",revenue:952e5,growth:21.3,confidence:87},{period:"2025 Q2",revenue:1187e5,growth:24.7,confidence:82},{period:"2025 Q3",revenue:1458e5,growth:22.8,confidence:78},{period:"2025 Q4",revenue:1752e5,growth:25.1,confidence:74}].map((g,u)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:g.period}),e.jsxs("div",{className:"text-sm text-gray-600",children:["+",g.growth,"% growth"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-green-600",children:O(g.revenue)}),e.jsxs(L,{variant:"outline",className:"mt-1 text-xs",children:[g.confidence,"% confidence"]})]})]},u))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(A,{children:"Impact Projections"})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:[{metric:"CO₂ Reduction",current:2775,projected:8500,unit:"tons",growth:206},{metric:"Credits Generated",current:555,projected:1850,unit:"credits",growth:233},{metric:"Projects Active",current:4,projected:15,unit:"projects",growth:275},{metric:"Communities Impacted",current:125,projected:450,unit:"communities",growth:260},{metric:"Jobs Created",current:1250,projected:4200,unit:"jobs",growth:236}].map((g,u)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:g.metric}),e.jsxs("span",{className:"text-sm text-gray-600",children:[g.current.toLocaleString()," → ",g.projected.toLocaleString()," ",g.unit]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{value:75,className:"h-2 flex-1"}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",g.growth,"%"]})]})]},u))})})]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"2025-2027 Strategic Carbon Targets"]})}),e.jsx(S,{children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[{year:"2025",targets:["Generate 1,500 carbon credits","Achieve ₹85Cr carbon revenue","Expand to 8 new regions","Launch carbon trading platform"],investment:18e7,expectedRoi:285},{year:"2026",targets:["Generate 2,500 carbon credits","Achieve ₹145Cr carbon revenue","International market entry","Carbon neutrality certification"],investment:32e7,expectedRoi:340},{year:"2027",targets:["Generate 4,000 carbon credits","Achieve ₹250Cr carbon revenue","Industry leadership position","Complete ESG integration"],investment:5e8,expectedRoi:420}].map(g=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(I,{children:[e.jsxs(A,{className:"text-lg",children:[g.year," Targets"]}),e.jsxs(L,{variant:"outline",className:"w-fit bg-blue-100 text-blue-800",children:[g.expectedRoi,"% ROI"]})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Strategic Goals"}),e.jsx("ul",{className:"space-y-1",children:g.targets.map((u,d)=>e.jsxs("li",{className:"text-sm flex items-start gap-2",children:[e.jsx(de,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),u]},d))})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Required Investment"}),e.jsx("div",{className:"text-lg font-bold text-blue-600",children:O(g.investment)})]})]})]},g.year))})})]})]})})]})})]})]})},Fu=()=>{const{competitiveData:s,refreshData:t,refreshing:a}=ct(),[r,n]=h.useState("12m"),[i,l]=h.useState("all"),[c,o]=h.useState("overview"),[j,y]=h.useState(!1),[f]=h.useState([{id:"comp001",name:"EcoGas Solutions",tier:"direct",marketShare:25.3,revenue:18e10,growth:18.5,employees:3200,regions:["Maharashtra","Gujarat","Rajasthan","Punjab"],strengths:["Government Relations","Scale Operations","Financial Resources"],weaknesses:["Innovation Speed","Rural Penetration","Technology Adoption"],recentMoves:["Acquired tech startup for ₹45Cr","Launched mobile app platform","Expanded to 3 new states"],threatLevel:"high",innovationScore:72,customerSatisfaction:78,financialHealth:91,operationalEfficiency:85},{id:"comp002",name:"GreenTech Biogas",tier:"direct",marketShare:22.1,revenue:158e9,growth:22.3,employees:2800,regions:["Tamil Nadu","Karnataka","Andhra Pradesh","Kerala"],strengths:["Technology Innovation","Customer Service","Digital Platform"],weaknesses:["Market Coverage","Capital Efficiency","Brand Recognition"],recentMoves:["IPO announced for Q2 2025","Partnership with IIT Chennai","AI optimization rollout"],threatLevel:"critical",innovationScore:89,customerSatisfaction:85,financialHealth:82,operationalEfficiency:78},{id:"comp003",name:"Rural Energy Corp",tier:"direct",marketShare:15.7,revenue:112e9,growth:12.8,employees:1950,regions:["Uttar Pradesh","Bihar","Madhya Pradesh","Odisha"],strengths:["Rural Network","Cost Efficiency","Local Partnerships"],weaknesses:["Technology Infrastructure","Financial Resources","Scalability"],recentMoves:["Secured ₹200Cr funding","Rural expansion program","Community partnership model"],threatLevel:"medium",innovationScore:65,customerSatisfaction:82,financialHealth:75,operationalEfficiency:88},{id:"comp004",name:"CleanEnergy Dynamics",tier:"indirect",marketShare:8.2,revenue:89e9,growth:35.1,employees:1200,regions:["West Bengal","Assam","Jharkhand"],strengths:["Innovation","Agility","Technology Stack"],weaknesses:["Market Presence","Scale","Financial Stability"],recentMoves:["Series B funding ₹125Cr","AI research lab setup","International expansion plan"],threatLevel:"medium",innovationScore:95,customerSatisfaction:87,financialHealth:68,operationalEfficiency:72}]),[x]=h.useState([{id:"rural_communities",name:"Rural Communities",size:45e9,growth:15.2,ourShare:22.1,leader:"EcoGas Solutions",leaderShare:28.5,opportunity:"high",barriers:["Infrastructure Development","Financing Solutions","Technology Adoption"],trends:["Government push for clean energy","Rural digitization","Cooperative model adoption"]},{id:"industrial_waste",name:"Industrial Waste Management",size:28e9,growth:18.7,ourShare:18.3,leader:"GreenTech Biogas",leaderShare:32.1,opportunity:"medium",barriers:["Regulatory Compliance","Technical Expertise","Capital Investment"],trends:["Circular economy adoption","ESG compliance requirements","Zero waste initiatives"]},{id:"urban_waste",name:"Urban Waste Processing",size:35e9,growth:12.4,ourShare:15.8,leader:"EcoGas Solutions",leaderShare:24.3,opportunity:"medium",barriers:["Urban Infrastructure","Municipal Partnerships","Scale Requirements"],trends:["Smart city initiatives","Waste segregation mandates","Public-private partnerships"]},{id:"agricultural",name:"Agricultural Biogas",size:22e9,growth:20.8,ourShare:25.6,leader:"SAUBHAGYA",leaderShare:25.6,opportunity:"high",barriers:["Farmer Education","Seasonal Variations","Supply Chain"],trends:["Sustainable farming practices","Carbon credit awareness","Cooperative farming growth"]}]),[N]=h.useState({strengths:[{factor:"Technology Innovation",impact:"high",description:"Advanced IoT integration and AI-driven optimization giving 15-20% efficiency advantage",score:92},{factor:"Rural Market Penetration",impact:"high",description:"Deep rural network with established community relationships across 12 states",score:88},{factor:"Operational Efficiency",impact:"high",description:"Lean operations model with 23% lower cost structure than industry average",score:87},{factor:"Financial Health",impact:"medium",description:"Strong balance sheet with low debt-to-equity ratio and positive cash flow",score:85},{factor:"Brand Trust",impact:"medium",description:"High customer satisfaction (4.6/5) and strong word-of-mouth referrals",score:82}],weaknesses:[{factor:"Scale Limitations",impact:"high",description:"Smaller scale compared to top 2 competitors limiting economies of scale",score:65,actionPlan:"Aggressive expansion plan with ₹500Cr investment over 18 months"},{factor:"Brand Recognition",impact:"medium",description:"Lower brand awareness in urban markets compared to established players",score:58,actionPlan:"Comprehensive brand building campaign focusing on ESG leadership"},{factor:"Capital Resources",impact:"medium",description:"Limited access to large-scale funding compared to listed competitors",score:62,actionPlan:"IPO preparation and strategic investor partnerships"},{factor:"Geographic Coverage",impact:"medium",description:"Presence in 12 states vs. competitors covering 15-20 states",score:68,actionPlan:"Phased expansion to 8 new states by 2025"}],opportunities:[{factor:"Government Policy Support",potential:"high",description:"New renewable energy policies creating ₹200Cr+ market opportunities",timeframe:"6-12 months",investmentRequired:15e7,expectedReturn:38e7},{factor:"Carbon Credit Market",potential:"high",description:"International carbon market expansion with 40% price premium opportunities",timeframe:"12-18 months",investmentRequired:2e8,expectedReturn:65e7},{factor:"Technology Integration",potential:"medium",description:"AI and IoT adoption creating competitive differentiation",timeframe:"3-9 months",investmentRequired:12e7,expectedReturn:28e7},{factor:"Corporate ESG Demand",potential:"high",description:"Increasing corporate sustainability commitments driving B2B opportunities",timeframe:"6-15 months",investmentRequired:8e7,expectedReturn:32e7}],threats:[{factor:"New Market Entrants",severity:"high",description:"Well-funded startups with disruptive technology entering market",probability:.75,mitigation:"Accelerate innovation and build switching costs through platform integration",timeline:"6-12 months"},{factor:"Regulatory Changes",severity:"medium",description:"Potential changes in renewable energy subsidies affecting profitability",probability:.45,mitigation:"Diversify revenue streams and reduce subsidy dependence",timeline:"12-24 months"},{factor:"Economic Downturn",severity:"medium",description:"Economic slowdown affecting investment in renewable energy projects",probability:.35,mitigation:"Focus on essential services and government contracts",timeline:"6-18 months"},{factor:"Technology Disruption",severity:"high",description:"Breakthrough in alternative technologies making biogas less competitive",probability:.25,mitigation:"Invest in R&D and maintain technology leadership",timeline:"24-36 months"}]}),[p]=h.useState([{metric:"Revenue per Employee",ourValue:105e5,industryAverage:82e5,topPerformer:128e5,unit:"₹",trend:"up",ranking:3,totalCompetitors:15},{metric:"Customer Acquisition Cost",ourValue:25e3,industryAverage:32e3,topPerformer:18e3,unit:"₹",trend:"down",ranking:4,totalCompetitors:15},{metric:"Customer Retention Rate",ourValue:92,industryAverage:85,topPerformer:95,unit:"%",trend:"up",ranking:2,totalCompetitors:15},{metric:"Time to Market",ourValue:8.5,industryAverage:12.2,topPerformer:6.8,unit:"months",trend:"down",ranking:2,totalCompetitors:15},{metric:"Operational Efficiency",ourValue:87.3,industryAverage:78.5,topPerformer:91.2,unit:"%",trend:"up",ranking:3,totalCompetitors:15},{metric:"Innovation Index",ourValue:82,industryAverage:68,topPerformer:95,unit:"score",trend:"up",ranking:4,totalCompetitors:15}]),[O]=h.useState([{id:"tech_integration",advantage:"IoT-AI Platform Integration",category:"technology",sustainability:"sustainable",strength:92,description:"Proprietary IoT platform with AI optimization providing 15-20% efficiency gains",evidence:["15% higher biogas yield","20% reduction in operational costs","95% system uptime"],threats:["Competitor technology catch-up","New disruptive technologies"],reinforcementPlan:"Continuous R&D investment, patent protection, talent acquisition"},{id:"rural_network",advantage:"Deep Rural Penetration",category:"market",sustainability:"sustainable",strength:88,description:"Established community relationships and distribution network in rural areas",evidence:["12 state presence","85% rural customer base","Community partnership model"],threats:["Competitor rural expansion","Digital disruption"],reinforcementPlan:"Strengthen community partnerships, expand network, digital enhancement"},{id:"cost_efficiency",advantage:"Lean Operations Model",category:"operational",sustainability:"sustainable",strength:85,description:"Optimized operations delivering 23% cost advantage over industry average",evidence:["23% lower OPEX","87% operational efficiency","Automated processes"],threats:["Scale disadvantages","Process replication by competitors"],reinforcementPlan:"Process automation, scale expansion, continuous improvement"},{id:"esg_leadership",advantage:"ESG Leadership Position",category:"market",sustainability:"sustainable",strength:89,description:"Industry-leading ESG practices and carbon credit generation capabilities",evidence:["A rating ESG score","450 carbon credits generated","B Corp certification"],threats:["ESG commoditization","Regulatory changes"],reinforcementPlan:"ESG innovation, certification expansion, thought leadership"}]),M=d=>d>=1e7?`₹${(d/1e7).toFixed(1)}Cr`:d>=1e5?`₹${(d/1e5).toFixed(1)}L`:`₹${d.toLocaleString()}`,k=d=>{switch(d){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=d=>{switch(d){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=d=>{switch(d){case"up":return e.jsx(Zs,{className:"h-4 w-4 text-green-600"});case"down":return e.jsx(Zt,{className:"h-4 w-4 text-red-600"});case"stable":return e.jsx($t,{className:"h-4 w-4 text-gray-600"});default:return e.jsx($t,{className:"h-4 w-4 text-gray-600"})}},D=d=>{switch(d){case"sustainable":return"bg-green-100 text-green-800";case"temporary":return"bg-yellow-100 text-yellow-800";case"at-risk":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=()=>{const d=s.marketShare,v=s.ranking,m=s.strengthScore,P=`Competitive Intelligence Summary: We hold ${d}% market share, ranking ${v} in the industry. Overall competitive strength score is ${m}%. We have ${f.filter(R=>R.threatLevel==="high"||R.threatLevel==="critical").length} high-threat competitors. Key opportunities include government policy support and carbon credit market expansion.`;if("speechSynthesis"in window){const R=new SpeechSynthesisUtterance(P);speechSynthesis.speak(R)}},u=()=>{const d={timestamp:new Date().toISOString(),executiveSummary:{marketPosition:s,keyThreats:f.filter(R=>R.threatLevel==="high"||R.threatLevel==="critical").length,topOpportunities:N.opportunities.slice(0,3),competitiveAdvantages:O.length},competitors:f,marketSegments:x,swotAnalysis:N,benchmarkMetrics:p,competitiveAdvantages:O},v=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),m=URL.createObjectURL(v),P=document.createElement("a");P.href=m,P.download=`competitive-intelligence-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(m)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Competitive Intelligence & Market Analysis"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive competitive positioning, market analysis, and strategic insights"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(E,{onClick:g,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(E,{onClick:u,variant:"outline",size:"sm",children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(E,{onClick:t,variant:"outline",size:"sm",disabled:a,children:[e.jsx(os,{className:`h-4 w-4 ${a?"animate-spin":""} mr-2`}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(w,{className:"hover:shadow-lg transition-shadow",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Market Share"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[s.marketShare,"%"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Rank #",s.ranking," of ",s.competitorCount]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(st,{className:"h-6 w-6 text-blue-600"})})]})})}),e.jsx(w,{className:"hover:shadow-lg transition-shadow",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Competitive Strength"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.strengthScore}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Above industry average"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(vt,{className:"h-6 w-6 text-green-600"})})]})})}),e.jsx(w,{className:"hover:shadow-lg transition-shadow",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"High-Threat Competitors"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:f.filter(d=>d.threatLevel==="high"||d.threatLevel==="critical").length}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Requiring immediate attention"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(le,{className:"h-6 w-6 text-orange-600"})})]})})}),e.jsx(w,{className:"hover:shadow-lg transition-shadow",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Key Opportunities"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:N.opportunities.filter(d=>d.potential==="high").length}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"High-potential opportunities"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Xa,{className:"h-6 w-6 text-purple-600"})})]})})})]}),e.jsxs($e,{value:c,onValueChange:o,className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-5",children:[e.jsx(X,{value:"overview",children:"Market Overview"}),e.jsx(X,{value:"competitors",children:"Competitor Analysis"}),e.jsx(X,{value:"swot",children:"SWOT Analysis"}),e.jsx(X,{value:"benchmarks",children:"Benchmarking"}),e.jsx(X,{value:"advantages",children:"Competitive Edge"})]}),e.jsx(Y,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Market Position Analysis"]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Market Share Distribution"}),e.jsx("div",{className:"space-y-3",children:[{name:"EcoGas Solutions",share:25.3,color:"bg-red-500"},{name:"GreenTech Biogas",share:22.1,color:"bg-orange-500"},{name:"SAUBHAGYA",share:18.5,color:"bg-blue-500"},{name:"Rural Energy Corp",share:15.7,color:"bg-green-500"},{name:"CleanEnergy Dynamics",share:8.2,color:"bg-purple-500"},{name:"Others",share:10.2,color:"bg-gray-400"}].map((d,v)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded ${d.color}`}),e.jsx("span",{className:"font-medium",children:d.name}),d.name==="SAUBHAGYA"&&e.jsx(L,{variant:"outline",className:"bg-blue-100 text-blue-800",children:"Us"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"font-medium",children:[d.share,"%"]})})]},v))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Competitive Positioning"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"3rd"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Market Ranking"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"+3.2%"}),e.jsx("div",{className:"text-sm text-green-700",children:"YoY Growth"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:M(125e9)}),e.jsx("div",{className:"text-sm text-purple-700",children:"Revenue"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"12"}),e.jsx("div",{className:"text-sm text-orange-700",children:"States Present"})]})]})]})]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"Market Segments Performance"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:x.map(d=>e.jsx(w,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(S,{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:d.name}),e.jsxs(L,{variant:"outline",className:d.opportunity==="high"?"bg-green-100 text-green-800":d.opportunity==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:[d.opportunity," opportunity"]}),d.leader==="SAUBHAGYA"&&e.jsxs(L,{variant:"outline",className:"bg-blue-100 text-blue-800",children:[e.jsx(Ja,{className:"h-3 w-3 mr-1"}),"Leader"]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Market Size"}),e.jsx("div",{className:"font-medium",children:M(d.size)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Growth Rate"}),e.jsxs("div",{className:"font-medium text-green-600",children:["+",d.growth,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Our Share"}),e.jsxs("div",{className:"font-medium",children:[d.ourShare,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Leader"}),e.jsxs("div",{className:"font-medium",children:[d.leader," (",d.leaderShare,"%)"]})]})]})]})}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Key Trends"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:d.trends.map((v,m)=>e.jsx(L,{variant:"outline",className:"text-xs",children:v},m))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Market Barriers"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:d.barriers.map((v,m)=>e.jsx(L,{variant:"outline",className:"text-xs bg-red-50 text-red-700",children:v},m))})]})]})]})},d.id))})})]})]})}),e.jsx(Y,{value:"competitors",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Competitive Landscape Analysis"]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsxs(fe,{value:r,onValueChange:n,children:[e.jsx(pe,{className:"w-40",children:e.jsx(ve,{})}),e.jsxs(je,{children:[e.jsx(B,{value:"6m",children:"6 Months"}),e.jsx(B,{value:"12m",children:"12 Months"}),e.jsx(B,{value:"24m",children:"24 Months"})]})]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>y(!j),children:[e.jsx(St,{className:"h-4 w-4 mr-2"}),"Advanced Analysis"]})]})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-6",children:f.map(d=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"text-lg",children:d.name}),e.jsxs(L,{variant:"outline",className:d.tier==="direct"?"bg-red-100 text-red-800":d.tier==="indirect"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:[d.tier," competitor"]}),e.jsxs(L,{variant:"outline",className:k(d.threatLevel),children:[d.threatLevel," threat"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Market Share: ",d.marketShare,"%"]}),e.jsxs("span",{children:["Revenue: ",M(d.revenue)]}),e.jsxs("span",{children:["Growth: ",d.growth,"%"]}),e.jsxs("span",{children:["Employees: ",d.employees.toLocaleString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Math.round((d.innovationScore+d.customerSatisfaction+d.financialHealth+d.operationalEfficiency)/4)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overall Score"})]})]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:d.innovationScore}),e.jsx("div",{className:"text-xs text-blue-700",children:"Innovation"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:d.customerSatisfaction}),e.jsx("div",{className:"text-xs text-green-700",children:"Customer Sat"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:d.financialHealth}),e.jsx("div",{className:"text-xs text-purple-700",children:"Financial"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:d.operationalEfficiency}),e.jsx("div",{className:"text-xs text-orange-700",children:"Operations"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Geographic Presence"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:d.regions.map((v,m)=>e.jsxs(L,{variant:"outline",className:"text-xs",children:[e.jsx(Ze,{className:"h-3 w-3 mr-1"}),v]},m))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Key Strengths"}),e.jsx("div",{className:"space-y-1",children:d.strengths.map((v,m)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(de,{className:"h-3 w-3 text-green-600"}),v]},m))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Key Weaknesses"}),e.jsx("div",{className:"space-y-1",children:d.weaknesses.map((v,m)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{className:"h-3 w-3 text-red-600"}),v]},m))})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Recent Strategic Moves"}),e.jsx("div",{className:"space-y-2",children:d.recentMoves.map((v,m)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm p-2 bg-gray-50 rounded",children:[e.jsx(Se,{className:"h-3 w-3 text-blue-600 mt-0.5"}),v]},m))})]}),j&&e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Advanced Intelligence"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Predicted Next Moves:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:"• Market expansion to new states"}),e.jsx("li",{children:"• Technology acquisition or partnership"}),e.jsx("li",{children:"• Price competition in key segments"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Vulnerability Assessment:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:"• Capital constraints limiting expansion"}),e.jsx("li",{children:"• Technology gap in rural markets"}),e.jsx("li",{children:"• Regulatory dependency risks"})]})]})]})]})]})]},d.id))})})]})})}),e.jsx(Y,{value:"swot",className:"space-y-6",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"Strategic SWOT Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive analysis of Strengths, Weaknesses, Opportunities, and Threats"})]}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2 text-green-700",children:[e.jsx(de,{className:"h-5 w-5"}),"Strengths"]})}),e.jsx(S,{className:"space-y-4",children:N.strengths.map((d,v)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm",children:d.factor}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",className:b(d.impact),children:[d.impact," impact"]}),e.jsxs("span",{className:"text-sm font-medium",children:[d.score,"/100"]})]})]}),e.jsx("div",{className:"text-xs text-gray-600",children:d.description}),e.jsx(ue,{value:d.score,className:"h-2"})]},v))})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2 text-red-700",children:[e.jsx(le,{className:"h-5 w-5"}),"Weaknesses"]})}),e.jsx(S,{className:"space-y-4",children:N.weaknesses.map((d,v)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm",children:d.factor}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",className:b(d.impact),children:[d.impact," impact"]}),e.jsxs("span",{className:"text-sm font-medium",children:[d.score,"/100"]})]})]}),e.jsx("div",{className:"text-xs text-gray-600",children:d.description}),e.jsx(ue,{value:d.score,className:"h-2"}),d.actionPlan&&e.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded",children:[e.jsx("strong",{children:"Action Plan:"})," ",d.actionPlan]})]},v))})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(Xa,{className:"h-5 w-5"}),"Opportunities"]})}),e.jsx(S,{className:"space-y-4",children:N.opportunities.map((d,v)=>e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-blue-800",children:d.factor}),e.jsxs(L,{variant:"outline",className:d.potential==="high"?"bg-green-100 text-green-800":d.potential==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:[d.potential," potential"]})]}),e.jsx("div",{className:"text-sm text-blue-700 mt-1",children:d.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Timeframe:"}),e.jsx("div",{className:"font-medium",children:d.timeframe})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Investment:"}),e.jsx("div",{className:"font-medium",children:M(d.investmentRequired)})]})]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("div",{className:"font-medium text-green-600",children:M(d.expectedReturn)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Expected Return"}),e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[Math.round(d.expectedReturn/d.investmentRequired*100),"% ROI"]})]})]})},v))})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2 text-orange-700",children:[e.jsx(le,{className:"h-5 w-5"}),"Threats"]})}),e.jsx(S,{className:"space-y-4",children:N.threats.map((d,v)=>e.jsx("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-orange-800",children:d.factor}),e.jsxs(L,{variant:"outline",className:d.severity==="high"?"bg-red-100 text-red-800":d.severity==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",children:[d.severity," severity"]})]}),e.jsx("div",{className:"text-sm text-orange-700 mt-1",children:d.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Timeline:"}),e.jsx("div",{className:"font-medium",children:d.timeline})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Probability:"}),e.jsxs("div",{className:"font-medium",children:[Math.round(d.probability*100),"%"]})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-white rounded text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Mitigation:"}),e.jsx("div",{className:"font-medium",children:d.mitigation})]})]})})},v))})]})]})})]})}),e.jsxs(Y,{value:"benchmarks",className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Competitive Benchmarking Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Performance comparison against industry standards and top performers"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-6",children:p.map((d,v)=>e.jsx(w,{className:"hover:shadow-lg transition-shadow",children:e.jsx(S,{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:d.metric}),C(d.trend),e.jsxs(L,{variant:"outline",className:"bg-blue-100 text-blue-800",children:["Rank #",d.ranking," of ",d.totalCompetitors]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Our Performance"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.unit==="₹"?M(d.ourValue):d.unit==="months"?`${d.ourValue}${d.unit}`:`${d.ourValue}${d.unit}`}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(d.ourValue/d.topPerformer*100,100)}%`}})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Industry Average"}),e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:d.unit==="₹"?M(d.industryAverage):d.unit==="months"?`${d.industryAverage}${d.unit}`:`${d.industryAverage}${d.unit}`}),e.jsx("div",{className:"text-sm",children:e.jsxs("span",{className:`font-medium ${d.metric.includes("Cost")||d.metric.includes("Time")?d.ourValue<d.industryAverage?"text-green-600":"text-red-600":d.ourValue>d.industryAverage?"text-green-600":"text-red-600"}`,children:[d.metric.includes("Cost")||d.metric.includes("Time")?d.ourValue<d.industryAverage?"Better":"Worse":d.ourValue>d.industryAverage?"Above":"Below"," by ",Math.abs((d.ourValue-d.industryAverage)/d.industryAverage*100).toFixed(1),"%"]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Best in Class"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.unit==="₹"?M(d.topPerformer):d.unit==="months"?`${d.topPerformer}${d.unit}`:`${d.topPerformer}${d.unit}`}),e.jsx("div",{className:"text-sm",children:e.jsxs("span",{className:"text-orange-600 font-medium",children:["Gap: ",Math.abs((d.topPerformer-d.ourValue)/d.topPerformer*100).toFixed(1),"%"]})})]})]})]})})})},v))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Aa,{className:"h-5 w-5"}),"Benchmarking Summary"]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:p.filter(d=>d.metric.includes("Cost")||d.metric.includes("Time")?d.ourValue<d.industryAverage:d.ourValue>d.industryAverage).length}),e.jsx("div",{className:"text-sm text-green-700 mt-2",children:"Above Industry Average"})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:Math.round(p.reduce((d,v)=>d+v.ranking,0)/p.length)}),e.jsx("div",{className:"text-sm text-blue-700 mt-2",children:"Average Ranking"})]}),e.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:p.filter(d=>d.ranking<=3).length}),e.jsx("div",{className:"text-sm text-purple-700 mt-2",children:"Top 3 Rankings"})]})]})})]})]}),e.jsxs(Y,{value:"advantages",className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Ja,{className:"h-5 w-5"}),"Competitive Advantages & Differentiation"]}),e.jsx("p",{className:"text-gray-600",children:"Analysis of sustainable competitive advantages and strategic differentiation"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-6",children:O.map(d=>e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"text-lg",children:d.advantage}),e.jsx(L,{variant:"outline",className:d.category==="technology"?"bg-blue-100 text-blue-800":d.category==="operational"?"bg-green-100 text-green-800":d.category==="financial"?"bg-purple-100 text-purple-800":d.category==="market"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800",children:d.category}),e.jsx(L,{variant:"outline",className:D(d.sustainability),children:d.sustainability})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:d.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.strength}),e.jsx("div",{className:"text-sm text-gray-600",children:"Strength Score"})]})]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Supporting Evidence"}),e.jsx("div",{className:"space-y-2",children:d.evidence.map((v,m)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(de,{className:"h-3 w-3 text-green-600 mt-0.5"}),v]},m))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Potential Threats"}),e.jsx("div",{className:"space-y-2",children:d.threats.map((v,m)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(le,{className:"h-3 w-3 text-red-600 mt-0.5"}),v]},m))})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Reinforcement Strategy"}),e.jsx("div",{className:"text-sm text-gray-700 p-3 bg-blue-50 rounded-lg",children:d.reinforcementPlan})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Competitive Strength"}),e.jsxs("span",{children:[d.strength,"/100"]})]}),e.jsx(ue,{value:d.strength,className:"h-3"})]})]})]},d.id))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Ui,{className:"h-5 w-5"}),"Competitive Advantage Portfolio"]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Advantages by Category"}),e.jsx("div",{className:"space-y-3",children:Array.from(new Set(O.map(d=>d.category))).map(d=>{const v=O.filter(P=>P.category===d),m=v.reduce((P,R)=>P+R.strength,0)/v.length;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded ${d==="technology"?"bg-blue-100":d==="operational"?"bg-green-100":d==="financial"?"bg-purple-100":d==="market"?"bg-orange-100":"bg-gray-100"}`,children:e.jsx(St,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium capitalize",children:d}),e.jsxs("div",{className:"text-sm text-gray-600",children:[v.length," advantages"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[Math.round(m),"/100"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Strength"})]})]},d)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sustainability Assessment"}),e.jsx("div",{className:"space-y-3",children:["sustainable","temporary","at-risk"].map(d=>{const v=O.filter(P=>P.sustainability===d),m=v.length/O.length*100;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"font-medium capitalize",children:[d," Advantages"]}),e.jsxs("span",{children:[v.length," (",m.toFixed(0),"%)"]})]}),e.jsx(ue,{value:m,className:"h-2"})]},d)})}),e.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800",children:"Strategic Recommendation"}),e.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Focus on reinforcing sustainable advantages while developing mitigation strategies for at-risk advantages. Priority should be given to technology and market advantages as they provide the strongest differentiation."})]})]})]})})]})]})]})]})},_u=()=>{const{trackModuleUsage:s,updateBreadcrumbs:t}=it(),[a,r]=h.useState("summary"),n=[{id:"summary",label:"Executive Summary",icon:e.jsx(xe,{className:"h-4 w-4"}),description:"Real-time KPIs and business intelligence"},{id:"voice",label:"Voice Analytics",icon:e.jsx(Ys,{className:"h-4 w-4"}),description:"Voice-enabled business queries"},{id:"strategic",label:"Strategic Planning",icon:e.jsx(as,{className:"h-4 w-4"}),description:"Strategic initiatives and planning"},{id:"carbon",label:"Carbon Analytics",icon:e.jsx(Is,{className:"h-4 w-4"}),description:"Environmental impact and carbon credits"},{id:"competitive",label:"Market Intelligence",icon:e.jsx(ke,{className:"h-4 w-4"}),description:"Competitive analysis and market insights"}],l={en:{title:"UrjaNeta Executive Analytics",subtitle:"Advanced voice-enabled business intelligence platform"}}.en;return h.useEffect(()=>{s("urja-neta"),t([{label:"UrjaNeta",url:"/urjaneta",module:"urja-neta"},{label:"Executive Analytics",url:"/urjaneta",module:"urja-neta"}])},[]),e.jsx(an,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:e.jsx(St,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:l.title}),e.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),l.subtitle]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"• Live Data"})})]}),e.jsxs($e,{value:a,onValueChange:r,className:"w-full",children:[e.jsx(Ve,{className:"grid w-full grid-cols-5 lg:grid-cols-5",children:n.map(c=>e.jsxs(X,{value:c.id,className:"flex flex-col gap-1 p-3 h-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[c.icon,e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:c.label})]}),e.jsx("span",{className:"text-xs text-gray-500 hidden lg:inline",children:c.description})]},c.id))}),e.jsx(Y,{value:"summary",className:"space-y-6",children:e.jsx(Mu,{})}),e.jsx(Y,{value:"voice",className:"space-y-6",children:e.jsx(Ou,{})}),e.jsx(Y,{value:"strategic",className:"space-y-6",children:e.jsx(Eu,{})}),e.jsx(Y,{value:"carbon",className:"space-y-6",children:e.jsx(Lu,{})}),e.jsx(Y,{value:"competitive",className:"space-y-6",children:e.jsx(Fu,{})})]})]})})},ya=q.lazy(()=>Ie(()=>import("./Dashboard-BvRAWl32.js"),__vite__mapDeps([13,1,2,14,3,4])).then(s=>({default:s.Dashboard}))),Bu=q.lazy(()=>Ie(()=>import("./ScheduleManager-pSjCJbVo.js"),__vite__mapDeps([15,1,2,14,3,4])).then(s=>({default:s.ScheduleManager}))),qu=q.lazy(()=>Ie(()=>import("./RouteOptimization-BMDspO-E.js"),__vite__mapDeps([16,1,2,14,3,4])).then(s=>({default:s.RouteOptimization}))),Uu=q.lazy(()=>Ie(()=>import("./ActiveDeliveries-Bpyh2O5m.js"),__vite__mapDeps([17,1,2,14,3,4])).then(s=>({default:s.ActiveDeliveries}))),Gu=q.lazy(()=>Ie(()=>import("./DeliveryConfirmation-DSGpCrcT.js"),__vite__mapDeps([18,1,2,14,3,4])).then(s=>({default:s.DeliveryConfirmation}))),Wu=q.lazy(()=>Ie(()=>import("./VehicleManagement-CP6PXOWF.js"),__vite__mapDeps([19,1,2,14,3,4])).then(s=>({default:s.VehicleManagement}))),$u=q.lazy(()=>Ie(()=>import("./DeliveryHistory-B3V60Jrm.js"),__vite__mapDeps([20,1,2,14,3,4])).then(s=>({default:s.DeliveryHistory}))),Vu=()=>e.jsxs("div",{className:"flex items-center justify-center min-h-[400px]",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}),Hu=()=>{const s=us(),t=$s(),a="/transport",r=[{id:"dashboard",label:"Dashboard",icon:e.jsx(Ia,{className:"w-5 h-5"}),onClick:()=>s(`${a}/dashboard`),isActive:t.pathname===`${a}/dashboard`||t.pathname===a},{id:"schedule",label:"Schedule Manager",icon:e.jsx(Fe,{className:"w-5 h-5"}),onClick:()=>s(`${a}/schedule`),isActive:t.pathname===`${a}/schedule`,badge:"15"},{id:"routes",label:"Route Optimization",icon:e.jsx(Ct,{className:"w-5 h-5"}),onClick:()=>s(`${a}/routes`),isActive:t.pathname===`${a}/routes`},{id:"deliveries",label:"Active Deliveries",icon:e.jsx(hs,{className:"w-5 h-5"}),onClick:()=>s(`${a}/deliveries`),isActive:t.pathname===`${a}/deliveries`,badge:"8"},{id:"confirmation",label:"Delivery Confirmation",icon:e.jsx(de,{className:"w-5 h-5"}),onClick:()=>s(`${a}/confirmation`),isActive:t.pathname===`${a}/confirmation`,badge:"3"},{id:"vehicles",label:"Vehicle Management",icon:e.jsx(ze,{className:"w-5 h-5"}),onClick:()=>s(`${a}/vehicles`),isActive:t.pathname===`${a}/vehicles`},{id:"history",label:"Delivery History",icon:e.jsx(Ra,{className:"w-5 h-5"}),onClick:()=>s(`${a}/history`),isActive:t.pathname===`${a}/history`}];return e.jsx(lt,{moduleName:"Transporter",moduleSubtitle:"Biogas Delivery Management",navigationItems:r,userInfo:{name:"Transport Manager",role:"Operations Head"},children:e.jsx("div",{className:"p-6",children:e.jsx(h.Suspense,{fallback:e.jsx(Vu,{}),children:e.jsxs(nt,{children:[e.jsx(J,{path:"/",element:e.jsx(ya,{})}),e.jsx(J,{path:"/dashboard",element:e.jsx(ya,{})}),e.jsx(J,{path:"/schedule",element:e.jsx(Bu,{})}),e.jsx(J,{path:"/routes",element:e.jsx(qu,{})}),e.jsx(J,{path:"/deliveries",element:e.jsx(Uu,{})}),e.jsx(J,{path:"/confirmation",element:e.jsx(Gu,{})}),e.jsx(J,{path:"/vehicles",element:e.jsx(Wu,{})}),e.jsx(J,{path:"/history",element:e.jsx($u,{})}),e.jsx(J,{path:"*",element:e.jsx(ya,{})})]})})})})},zu=()=>{const{user:s,loading:t}=ws(),a=us(),r=$s();return h.useEffect(()=>{if(t||!s||r.pathname==="/login"||r.pathname==="/admin"||r.pathname==="/testing"||r.pathname==="/database-setup")return;const n=()=>{if((s.executiveLevel||s.role==="senior_leader")&&s.appType!=="admin")return"/executive-dashboard";switch(s.appType){case"gausakhi":return s.role==="field_worker"?"/gaushala":"/dashboard";case"biogassangh":return"/cluster";case"urjavyapar":return"/sales";case"urjasanyojak":return"/urjasanyojak";case"admin":return"/admin";case"urjaneta":return"/urja-neta";case"shuddhidoot":return"/purification";default:return"/dashboard"}};if(r.pathname==="/"||r.pathname==="/dashboard"){const i=n();a(i,{replace:!0})}},[s,t,r,a]),null};function ss({children:s}){const{user:t,loading:a}=ws();return a?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):t?e.jsx(e.Fragment,{children:s}):e.jsx(Vi,{to:"/login"})}function Yu(){return e.jsxs(nt,{children:[e.jsx(J,{path:"/login",element:e.jsx(xl,{})}),e.jsx(J,{path:"/",element:e.jsx(ss,{children:e.jsx(zu,{})})}),e.jsx(J,{path:"/admin/*",element:e.jsx(ss,{children:e.jsx(Nl,{})})}),e.jsx(J,{path:"/gaushala/*",element:e.jsx(ss,{children:e.jsx(Yl,{})})}),e.jsx(J,{path:"/cluster/*",element:e.jsx(ss,{children:e.jsx(Xm,{})})}),e.jsx(J,{path:"/sales/*",element:e.jsx(ss,{children:e.jsx(Su,{})})}),e.jsx(J,{path:"/purification/*",element:e.jsx(ss,{children:e.jsx(Ru,{})})}),e.jsx(J,{path:"/urjaneta/*",element:e.jsx(ss,{children:e.jsx(_u,{})})}),e.jsx(J,{path:"/urjasanyojak/*",element:e.jsx(ss,{children:e.jsx(wl,{})})}),e.jsx(J,{path:"/admin-dashboard/*",element:e.jsx(ss,{children:e.jsx(bl,{})})}),e.jsx(J,{path:"/dashboard/*",element:e.jsx(ss,{children:e.jsx(Dl,{})})}),e.jsx(J,{path:"/executive/*",element:e.jsx(ss,{children:e.jsx(Il,{})})}),e.jsx(J,{path:"/transport/*",element:e.jsx(ss,{children:e.jsx(Hu,{})})})]})}function Qu(){return e.jsx(tl,{children:e.jsx(ul,{children:e.jsx($i,{children:e.jsx(Yu,{})})})})}Da.createRoot(document.getElementById("root")).render(e.jsx(q.StrictMode,{children:e.jsx(Qu,{})}));export{Os as A,E as B,w as C,ee as I,V as L,ue as P,Xs as S,$e as T,Es as a,I as b,A as c,L as d,se as e,S as f,Ve as g,X as h,Y as i,ot as j,_s as m};
//# sourceMappingURL=index-C8JM5vnN.js.map
