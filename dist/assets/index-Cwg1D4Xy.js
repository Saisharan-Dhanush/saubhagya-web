const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/api-bYVOHznE.js","assets/ui-vendor-CnKvLbpM.js","assets/react-vendor-XSK8c6JV.js","assets/utils-Bj4fnUCk.js","assets/charts-D-uCZeDt.js","assets/Dashboard-inCIlbWD.js","assets/CycleManagement-C3YrRLNe.js","assets/Purification.config-BxofNtUh.js","assets/QualityControl-CYak-7wf.js","assets/MaintenanceManagement-DGtoFx7X.js","assets/InventoryTransfer-BT36-YXb.js","assets/SlurryManagement-0nm9DuTR.js","assets/RealTimeMonitoring-Cb5MYO6P.js","assets/Dashboard-R4ZXyicH.js","assets/mockDataService-DPeHm-bU.js","assets/ScheduleManager-BEIpV1ju.js","assets/RouteOptimization-D3tCJLi6.js","assets/ActiveDeliveries-c-csZXUp.js","assets/DeliveryConfirmation-xCQwWN0D.js","assets/VehicleManagement-DZc9z5xy.js","assets/DeliveryHistory-BKadEIND.js"])))=>i.map(i=>d[i]);
import{j as e,M as Tr,L as Un,E as Hn,a as jt,O as Gn,P as nl,C as Vn,b as il,X as bt,T as Wn,D as zn,R as ll,c as cl,d as Qr,S as dt,B as Pa,e as za,f as Ya,g as Ze,h as mt,U as st,i as Kr,k as Be,l as ol,m as We,n as wt,W as va,F as Ge,o as $t,p as zt,G as bs,q as ut,A as Le,s as dl,t as ba,u as Ie,v as Ar,H as ml,w as ul,x as lt,y as $e,z as zs,I as Ae,J as be,K as we,N as Te,Q as Qa,V as Zr,Y as Vt,Z as Jr,_ as Rt,$ as ea,a0 as ks,a1 as Na,a2 as Xa,a3 as Xt,a4 as us,a5 as er,a6 as Us,a7 as wa,a8 as mr,a9 as Yn,aa as xl,ab as Qs,ac as Bt,ad as xs,ae as es,af as Pr,ag as tr,ah as Er,ai as sr,aj as Xr,ak as Ea,al as ar,am as qe,an as Sa,ao as Ka,ap as Za,aq as Mr,ar as ts,as as rr,at as hl,au as rt,av as Qn,aw as Kn,ax as Rr,ay as en,az as gl,aA as Ca,aB as pl,aC as fl,aD as nr,aE as jl,aF as Zs,aG as ir,aH as yl,aI as Zn,aJ as vl,aK as Or,aL as Jn,aM as bl,aN as Xn,aO as Nl,aP as ei,aQ as wl,aR as ti,aS as si,aT as Sl,aU as Cl,aV as Dl,aW as ai,aX as kl,aY as Il,aZ as Tl,a_ as Al,a$ as tn,b0 as Pl,b1 as ri,b2 as Fr,b3 as El,b4 as ni,b5 as Ml,b6 as Rl,b7 as ii,b8 as Ol,b9 as Fl,ba as Da,bb as Ll,bc as _l,bd as $l,be as Lr,bf as Bl,bg as ql,bh as li,bi as ci,bj as _r,bk as oi,bl as di,bm as Ul,bn as lr,bo as mi,bp as ui,bq as Ha,br as Hl,bs as Ks,bt as xi,bu as Gl,bv as hi,bw as Vl,bx as cr,by as Ja,bz as Ys,bA as Wl,bB as zl,bC as Yl,bD as sn,bE as an,bF as Ql}from"./ui-vendor-CnKvLbpM.js";import{a as Kl,r as d,c as B,b as Zl,u as ve,e as Hs,f as ta,h as J,i as ss,B as Jl,N as Xl}from"./react-vendor-XSK8c6JV.js";import{t as ec,c as tc,a as sc}from"./utils-Bj4fnUCk.js";import{R as pa,L as wr,C as Ga,X as Va,Y as fa,T as ja,a as Wa,b as $s,P as ac,c as rc,d as nc,A as ic,e as lc}from"./charts-D-uCZeDt.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();var Sr={},rn=Kl;Sr.createRoot=rn.createRoot,Sr.hydrateRoot=rn.hydrateRoot;const cc="modulepreload",oc=function(t){return"/"+t},nn={},nt=function(s,a,r){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");n=Promise.allSettled(a.map(u=>{if(u=oc(u),u in nn)return;nn[u]=!0;const j=u.endsWith(".css"),N=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${N}`))return;const x=document.createElement("link");if(x.rel=j?"stylesheet":cc,j||(x.as="script"),x.crossOrigin="",x.href=u,c&&x.setAttribute("nonce",c),document.head.appendChild(x),j)return new Promise((i,g)=>{x.addEventListener("load",i),x.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return n.then(o=>{for(const c of o||[])c.status==="rejected"&&l(c.reason);return s().catch(l)})},js={field_worker:[{module:"rfid",actions:["scan","sync"]},{module:"collection",actions:["log","voice"]},{module:"iot",actions:["sync","update"]},{module:"gps",actions:["track","update"]}],cluster_manager:[{module:"slurry",actions:["monitor","alert"]},{module:"digester",actions:["monitor","alert"]},{module:"pickup",actions:["schedule","manage"]},{module:"disputes",actions:["resolve","track"]}],cbg_sales:[{module:"inventory",actions:["manage","track"]},{module:"invoicing",actions:["create","send"]},{module:"crm",actions:["manage","update"]},{module:"peso",actions:["comply","report"]},{module:"upi",actions:["process","reconcile"]}],business_dev:[{module:"mapping",actions:["create","update"]},{module:"subsidy",actions:["assist","track"]},{module:"feasibility",actions:["calculate","analyze"]},{module:"pipeline",actions:["track","update"]}],admin:[{module:"users",actions:["create","read","update","delete"]},{module:"devices",actions:["manage","configure"]},{module:"permissions",actions:["assign","revoke"]},{module:"audit",actions:["view","export"]},{module:"alerts",actions:["configure","manage"]}],senior_leader:[{module:"voice_kpis",actions:["view","analyze"]},{module:"revenue",actions:["predict","analyze"]},{module:"carbon",actions:["trade","track"]},{module:"strategic",actions:["plan","approve"]}],purification_operator:[{module:"ch4_monitoring",actions:["monitor","alert"]},{module:"flow_rate",actions:["monitor","adjust"]},{module:"maintenance",actions:["schedule","track"]},{module:"voice_alerts",actions:["receive","respond"]}],transporter:[{module:"vehicle_management",actions:["manage","track"]},{module:"route_optimization",actions:["optimize","plan"]},{module:"delivery_tracking",actions:["track","update"]},{module:"schedule_management",actions:["schedule","modify"]},{module:"logistics",actions:["coordinate","monitor"]}]},gi=d.createContext(void 0);function as(){const t=d.useContext(gi);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function dc({children:t}){const[s,a]=d.useState(null),[r,n]=d.useState(!0),l=(i,g)=>s&&(s.permissions||js[s.role]||[]).find(S=>S.module===i)?.actions.includes(g)||!1,o=()=>s?s.role==="senior_leader"||s.role==="admin"||!!s.executiveLevel:!1,c=()=>{if(!s)return"low";if(s.executiveLevel)return s.executiveLevel==="ceo"||s.executiveLevel==="cfo"?"high":"medium";switch(s.role){case"senior_leader":case"admin":return"high";case"cbg_sales":case"business_dev":return"medium";default:return"low"}},u=async(i,g)=>{try{const{apiService:f}=await nt(async()=>{const{apiService:S}=await import("./api-bYVOHznE.js");return{apiService:S}},__vite__mapDeps([0,1,2,3,4])),w=await f.login(i,g);if(w.success&&w.data){const{user:S,token:D}=w.data,b=S.role||S.roles&&S.roles[0]||"USER",v=pc(i)||uc(b),T=fc(i)||hc(b),y={id:S.id,phone:i,email:S.email,name:jc(i)||S.name,role:v,department:xc(b),permissions:mc(S.permissions||[]),lastAccess:new Date,appType:T,executiveLevel:gc(b),isActive:!0,roles:S.roles||[b]};a(y),localStorage.setItem("user",JSON.stringify(y)),localStorage.setItem("saubhagya_jwt_token",D),localStorage.setItem("sessionStart",new Date().toISOString());return}else throw new Error(w.error||"Authentication failed")}catch{return j(i,g)}},j=async(i,g)=>{const w={"+919876543210":{id:"fw-001",phone:"+919876543210",email:"fieldworker@saubhagya.com",name:"Ramesh Kumar (Field Worker)",role:"field_worker",department:"Field Operations",appType:"gausakhi",permissions:js.field_worker,lastAccess:new Date},"+918765432109":{id:"cm-001",phone:"+918765432109",email:"clustermanager@saubhagya.com",name:"Suresh Patel (Cluster Manager)",role:"cluster_manager",department:"Cluster Operations",appType:"biogassangh",permissions:js.cluster_manager,lastAccess:new Date},"+917654321098":{id:"cs-001",phone:"+917654321098",email:"cbgsales@saubhagya.com",name:"Priya Sharma (CBG Sales Executive)",role:"cbg_sales",department:"Sales & Marketing",appType:"urjavyapar",permissions:js.cbg_sales,lastAccess:new Date},"+915432109876":{id:"admin-001",phone:"+915432109876",email:"admin@saubhagya.com",name:"System Administrator",role:"admin",department:"IT Administration",appType:"admin",permissions:js.admin,lastAccess:new Date},"+913210987654":{id:"po-001",phone:"+913210987654",email:"purificationop@saubhagya.com",name:"Vinod Yadav (Purification Operator)",role:"purification_operator",department:"Purification Operations",appType:"shuddhidoot",permissions:js.purification_operator,lastAccess:new Date},"+912109876543":{id:"t-001",phone:"+912109876543",email:"transporter@saubhagya.com",name:"Ravi Sharma (Transporter)",role:"transporter",department:"Logistics & Transport",appType:"admin",permissions:js.transporter,lastAccess:new Date}}[i];if(!w)throw new Error("Invalid phone number or password");if(!["password123","fieldworker123","admin123","Farmer@123"].includes(g))throw new Error("Invalid phone number or password");a(w),localStorage.setItem("user",JSON.stringify(w)),localStorage.setItem("sessionStart",new Date().toISOString())},N=async()=>{try{const{apiService:i}=await nt(async()=>{const{apiService:g}=await import("./api-bYVOHznE.js");return{apiService:g}},__vite__mapDeps([0,1,2,3,4]));await i.logout()}catch{}a(null),localStorage.removeItem("user"),localStorage.removeItem("saubhagya_jwt_token"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("sessionStart"),localStorage.removeItem("voiceSessionData")};d.useEffect(()=>{const i=localStorage.getItem("user"),g=localStorage.getItem("sessionStart");if(i&&g){const f=JSON.parse(i),w=Date.now()-new Date(g).getTime(),S=f.role==="executive"?4*60*60*1e3:8*60*60*1e3;w>S?N():(f.permissions=js[f.role]||[],a(f))}n(!1)},[]),d.useEffect(()=>{if(s&&o()){const i=setInterval(()=>{const g=localStorage.getItem("sessionStart");g&&Date.now()-new Date(g).getTime()},6e4);return()=>clearInterval(i)}},[s]);const x={user:s,loading:r,login:u,logout:N,hasPermission:l,isExecutive:o,getAccessLevel:c,accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")};return e.jsx(gi.Provider,{value:x,children:t})}function mc(t){const s={"cattle:read":{module:"rfid",actions:["scan","sync"]},"cattle:write":{module:"collection",actions:["log","voice"]},"transactions:read":{module:"disputes",actions:["resolve","track"]},"dashboard:read":{module:"voice_kpis",actions:["view","analyze"]},"users:manage":{module:"users",actions:["create","read","update","delete"]}},a=[];return t.forEach(r=>{s[r]&&a.push(s[r])}),a.length===0?js.admin:a}function uc(t){switch(t){case"FARMER":case"FIELD_WORKER":return"field_worker";case"CLUSTER_MANAGER":case"BIOGAS_SANGH":return"cluster_manager";case"CBG_SALES":case"SALES_EXECUTIVE":return"cbg_sales";case"BUSINESS_DEV":case"BUSINESS_DEVELOPER":return"business_dev";case"ADMIN":case"ADMINISTRATOR":return"admin";case"SENIOR_LEADER":case"EXECUTIVE":case"CEO":case"CFO":return"senior_leader";case"PURIFICATION_OPERATOR":case"OPERATOR":return"purification_operator";default:return"field_worker"}}function xc(t){switch(t){case"FARMER":case"FIELD_WORKER":return"Field Operations";case"CLUSTER_MANAGER":case"BIOGAS_SANGH":return"Cluster Operations";case"CBG_SALES":case"SALES_EXECUTIVE":return"Sales & Marketing";case"BUSINESS_DEV":case"BUSINESS_DEVELOPER":return"Business Development";case"ADMIN":case"ADMINISTRATOR":return"IT Administration";case"SENIOR_LEADER":case"EXECUTIVE":case"CEO":case"CFO":return"Executive Leadership";case"PURIFICATION_OPERATOR":case"OPERATOR":return"Purification Operations";default:return"Field Operations"}}function hc(t){switch(t){case"FARMER":case"FIELD_WORKER":return"gausakhi";case"CLUSTER_MANAGER":case"BIOGAS_SANGH":return"biogassangh";case"CBG_SALES":case"SALES_EXECUTIVE":return"urjavyapar";case"BUSINESS_DEV":case"BUSINESS_DEVELOPER":return"urjasanyojak";case"ADMIN":case"ADMINISTRATOR":return"admin";case"SENIOR_LEADER":case"EXECUTIVE":case"CEO":case"CFO":return"urjaneta";case"PURIFICATION_OPERATOR":case"OPERATOR":return"shuddhidoot";default:return"gausakhi"}}function gc(t){switch(t){case"CEO":return"ceo";case"CFO":return"cfo";case"COO":return"coo";case"VP":return"vp";case"DIRECTOR":return"director";default:return}}function pc(t){return{"+919876543210":"field_worker","+918765432109":"cluster_manager","+917654321098":"cbg_sales","+915432109876":"admin","+913210987654":"purification_operator","+912109876543":"transporter"}[t]||null}function fc(t){return{"+919876543210":"gausakhi","+918765432109":"biogassangh","+917654321098":"urjavyapar","+915432109876":"admin","+913210987654":"shuddhidoot","+912109876543":"admin"}[t]||null}function jc(t){return{"+919876543210":"Ramesh Kumar (Field Worker)","+918765432109":"Suresh Patel (Cluster Manager)","+917654321098":"Priya Sharma (CBG Sales Executive)","+915432109876":"System Administrator","+913210987654":"Vinod Yadav (Purification Operator)","+912109876543":"Ravi Sharma (Transporter)"}[t]||null}const yc=[{id:"urjasanyojak",name:"UrjaSanyojak",displayName:"Biogas Cluster Management",description:"Comprehensive biogas production cluster oversight and management",url:"/",icon:"factory",category:"operational",requiredRoles:["executive","manager","operator","admin"],status:"active",lastUpdated:new Date},{id:"shuddhi-doot",name:"ShuddhiDoot",displayName:"Purification & Quality Control",description:"Advanced biogas purification monitoring and quality assurance",url:"/purification",icon:"filter",category:"operational",requiredRoles:["executive","manager","operator","analyst","admin"],status:"active",lastUpdated:new Date},{id:"urja-vyapar",name:"UrjaVyapar",displayName:"Sales & Distribution Management",description:"Comprehensive biogas sales, distribution, and customer management",url:"/sales",icon:"trending-up",category:"operational",requiredRoles:["executive","manager","admin"],status:"active",lastUpdated:new Date},{id:"urja-neta",name:"UrjaNeta",displayName:"Executive Analytics Dashboard",description:"Advanced voice-enabled business intelligence for senior leadership",url:"/urjaneta",icon:"brain",category:"executive",requiredRoles:["executive","admin"],status:"active",lastUpdated:new Date},{id:"admin-console",name:"AdminConsole",displayName:"System Administration",description:"Platform administration and system management",url:"/admin",icon:"settings",category:"analytics",requiredRoles:["admin"],status:"active",lastUpdated:new Date},{id:"gaushala",name:"GauShala",displayName:"GauShala Management",description:"Comprehensive cattle and dung collection management",url:"/gaushala",icon:"home",category:"operational",requiredRoles:["admin","field_worker","supervisor","manager"],status:"active",lastUpdated:new Date},{id:"executive-command",name:"ExecutiveCommand",displayName:"Executive Command Center",description:"Unified cross-module analytics and strategic insights",url:"/executive",icon:"crown",category:"executive",requiredRoles:["executive","admin"],status:"active",lastUpdated:new Date}],pi=d.createContext(void 0);function sa(){const t=d.useContext(pi);if(t===void 0)throw new Error("usePlatform must be used within a PlatformProvider");return t}function vc({children:t}){const{user:s,hasPermission:a,isExecutive:r}=as(),[n,l]=d.useState({currentModule:"urjasanyojak",navigationHistory:["urjasanyojak"],breadcrumbs:[{label:"Dashboard",url:"/",module:"urjasanyojak"}]}),[o,c]=d.useState({theme:"light",language:"en",timezone:"Asia/Kolkata",autoSave:!0,sessionTimeout:r()?240:480,notifications:{enabled:!0,desktop:!0,email:r(),categories:["alerts","reports","updates"]}}),[u,j]=d.useState({totalSessions:1,activeModules:["urjasanyojak"],averageSessionDuration:0,lastActivity:new Date,moduleUsageStats:{urjasanyojak:1,"shuddhi-doot":0,"urja-vyapar":0,"urja-neta":0}}),[N]=d.useState(yc),x=(T,y=!0)=>{const m=N.find(h=>h.id===T);!m||!S(T)||(l(h=>({currentModule:T,previousModule:y?h.currentModule:void 0,navigationHistory:[...h.navigationHistory.slice(-10),T],breadcrumbs:[{label:m.displayName,url:m.url,module:T}]})),D(T),window.location.pathname!==m.url&&window.history.pushState(null,"",m.url))},i=T=>{l(y=>({...y,breadcrumbs:T}))},g=()=>{n.previousModule&&x(n.previousModule,!1)},f=T=>{c(y=>{const m={...y,...T};return localStorage.setItem("platformSettings",JSON.stringify(m)),m})},w=()=>s?N.filter(T=>T.status==="active"&&T.requiredRoles.includes(s.role)&&a(T.id,"view")):[],S=T=>{if(!s)return!1;const y=N.find(m=>m.id===T);return!y||y.status!=="active"?!1:y.requiredRoles.includes(s.role)&&a(y.id,"view")},D=T=>{j(y=>({...y,lastActivity:new Date,activeModules:Array.from(new Set([...y.activeModules,T])),moduleUsageStats:{...y.moduleUsageStats,[T]:(y.moduleUsageStats[T]||0)+1}}))},b=()=>({...u,averageSessionDuration:Date.now()-u.lastActivity.getTime()});d.useEffect(()=>{const T=localStorage.getItem("platformSettings");if(T)try{const y=JSON.parse(T);c(m=>({...m,...y}))}catch{}},[]),d.useEffect(()=>{const T=window.location.pathname,y=N.find(m=>m.url===T);y&&S(y.id)&&l(m=>({...m,currentModule:y.id}))},[N,s]),d.useEffect(()=>{s&&r()&&f({sessionTimeout:240,notifications:{...o.notifications,email:!0,categories:["alerts","reports","updates","urgent"]}})},[s,r]);const v={modules:N,navigationState:n,platformSettings:o,sessionMetrics:u,navigateToModule:x,updateBreadcrumbs:i,goBack:g,updatePlatformSettings:f,getAccessibleModules:w,isModuleAccessible:S,trackModuleUsage:D,getSessionSummary:b};return e.jsx(pi.Provider,{value:v,children:t})}function bc(t){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}const Nc=t=>{switch(t){case"success":return Cc;case"info":return kc;case"warning":return Dc;case"error":return Ic;default:return null}},wc=Array(12).fill(0),Sc=({visible:t,className:s})=>B.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":t},B.createElement("div",{className:"sonner-spinner"},wc.map((a,r)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Cc=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Dc=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kc=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ic=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Tc=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ac=()=>{const[t,s]=B.useState(document.hidden);return B.useEffect(()=>{const a=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),t};let Cr=1;class Pc{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{const a=this.subscribers.indexOf(s);this.subscribers.splice(a,1)}),this.publish=s=>{this.subscribers.forEach(a=>a(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var a;const{message:r,...n}=s,l=typeof s?.id=="number"||((a=s.id)==null?void 0:a.length)>0?s.id:Cr++,o=this.toasts.find(u=>u.id===l),c=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),o?this.toasts=this.toasts.map(u=>u.id===l?(this.publish({...u,...s,id:l,title:r}),{...u,...s,id:l,dismissible:c,title:r}):u):this.addToast({title:r,...n,dismissible:c,id:l}),l},this.dismiss=s=>(s?(this.dismissedToasts.add(s),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:s,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(r=>r({id:a.id,dismiss:!0}))}),s),this.message=(s,a)=>this.create({...a,message:s}),this.error=(s,a)=>this.create({...a,message:s,type:"error"}),this.success=(s,a)=>this.create({...a,type:"success",message:s}),this.info=(s,a)=>this.create({...a,type:"info",message:s}),this.warning=(s,a)=>this.create({...a,type:"warning",message:s}),this.loading=(s,a)=>this.create({...a,type:"loading",message:s}),this.promise=(s,a)=>{if(!a)return;let r;a.loading!==void 0&&(r=this.create({...a,promise:s,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const n=Promise.resolve(s instanceof Function?s():s);let l=r!==void 0,o;const c=n.then(async j=>{if(o=["resolve",j],B.isValidElement(j))l=!1,this.create({id:r,type:"default",message:j});else if(Mc(j)&&!j.ok){l=!1;const x=typeof a.error=="function"?await a.error(`HTTP error! status: ${j.status}`):a.error,i=typeof a.description=="function"?await a.description(`HTTP error! status: ${j.status}`):a.description,f=typeof x=="object"&&!B.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:i,...f})}else if(j instanceof Error){l=!1;const x=typeof a.error=="function"?await a.error(j):a.error,i=typeof a.description=="function"?await a.description(j):a.description,f=typeof x=="object"&&!B.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:i,...f})}else if(a.success!==void 0){l=!1;const x=typeof a.success=="function"?await a.success(j):a.success,i=typeof a.description=="function"?await a.description(j):a.description,f=typeof x=="object"&&!B.isValidElement(x)?x:{message:x};this.create({id:r,type:"success",description:i,...f})}}).catch(async j=>{if(o=["reject",j],a.error!==void 0){l=!1;const N=typeof a.error=="function"?await a.error(j):a.error,x=typeof a.description=="function"?await a.description(j):a.description,g=typeof N=="object"&&!B.isValidElement(N)?N:{message:N};this.create({id:r,type:"error",description:x,...g})}}).finally(()=>{l&&(this.dismiss(r),r=void 0),a.finally==null||a.finally.call(a)}),u=()=>new Promise((j,N)=>c.then(()=>o[0]==="reject"?N(o[1]):j(o[1])).catch(N));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(s,a)=>{const r=a?.id||Cr++;return this.create({jsx:s(r),id:r,...a}),r},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Tt=new Pc,Ec=(t,s)=>{const a=s?.id||Cr++;return Tt.addToast({title:t,...s,id:a}),a},Mc=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Rc=Ec,Oc=()=>Tt.toasts,Fc=()=>Tt.getActiveToasts(),Zt=Object.assign(Rc,{success:Tt.success,info:Tt.info,warning:Tt.warning,error:Tt.error,custom:Tt.custom,message:Tt.message,promise:Tt.promise,dismiss:Tt.dismiss,loading:Tt.loading},{getHistory:Oc,getToasts:Fc});bc("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function La(t){return t.label!==void 0}const Lc=3,_c="24px",$c="16px",ln=4e3,Bc=356,qc=14,Uc=45,Hc=200;function ls(...t){return t.filter(Boolean).join(" ")}function Gc(t){const[s,a]=t.split("-"),r=[];return s&&r.push(s),a&&r.push(a),r}const Vc=t=>{var s,a,r,n,l,o,c,u,j;const{invert:N,toast:x,unstyled:i,interacting:g,setHeights:f,visibleToasts:w,heights:S,index:D,toasts:b,expanded:v,removeToast:T,defaultRichColors:y,closeButton:m,style:h,cancelButtonStyle:k,actionButtonStyle:p,className:M="",descriptionClassName:A="",duration:F,position:L,gap:C,expandByDefault:I,classNames:U,icons:W,closeButtonAriaLabel:z="Close toast"}=t,[Z,H]=B.useState(null),[he,X]=B.useState(null),[R,ae]=B.useState(!1),[G,re]=B.useState(!1),[ke,ge]=B.useState(!1),[le,de]=B.useState(!1),[ze,xt]=B.useState(!1),[Je,Pt]=B.useState(0),[se,ws]=B.useState(0),Yt=B.useRef(x.duration||F||ln),rs=B.useRef(null),ne=B.useRef(null),ye=D===0,He=D+1<=w,oe=x.type,Ye=x.dismissible!==!1,at=x.className||"",yt=x.descriptionClassName||"",Ss=B.useMemo(()=>S.findIndex(je=>je.toastId===x.id)||0,[S,x.id]),la=B.useMemo(()=>{var je;return(je=x.closeButton)!=null?je:m},[x.closeButton,m]),Gs=B.useMemo(()=>x.duration||F||ln,[x.duration,F]),Ms=B.useRef(0),ns=B.useRef(0),Rs=B.useRef(0),is=B.useRef(null),[ca,Os]=L.split("-"),Fs=B.useMemo(()=>S.reduce((je,Ue,Qe)=>Qe>=Ss?je:je+Ue.height,0),[S,Ss]),Dt=Ac(),oa=x.invert||N,O=oe==="loading";ns.current=B.useMemo(()=>Ss*C+Fs,[Ss,Fs]),B.useEffect(()=>{Yt.current=Gs},[Gs]),B.useEffect(()=>{ae(!0)},[]),B.useEffect(()=>{const je=ne.current;if(je){const Ue=je.getBoundingClientRect().height;return ws(Ue),f(Qe=>[{toastId:x.id,height:Ue,position:x.position},...Qe]),()=>f(Qe=>Qe.filter(Xe=>Xe.toastId!==x.id))}},[f,x.id]),B.useLayoutEffect(()=>{if(!R)return;const je=ne.current,Ue=je.style.height;je.style.height="auto";const Qe=je.getBoundingClientRect().height;je.style.height=Ue,ws(Qe),f(Xe=>Xe.find(et=>et.toastId===x.id)?Xe.map(et=>et.toastId===x.id?{...et,height:Qe}:et):[{toastId:x.id,height:Qe,position:x.position},...Xe])},[R,x.title,x.description,f,x.id,x.jsx,x.action,x.cancel]);const Y=B.useCallback(()=>{re(!0),Pt(ns.current),f(je=>je.filter(Ue=>Ue.toastId!==x.id)),setTimeout(()=>{T(x)},Hc)},[x,T,f,ns]);B.useEffect(()=>{if(x.promise&&oe==="loading"||x.duration===1/0||x.type==="loading")return;let je;return v||g||Dt?(()=>{if(Rs.current<Ms.current){const Xe=new Date().getTime()-Ms.current;Yt.current=Yt.current-Xe}Rs.current=new Date().getTime()})():(()=>{Yt.current!==1/0&&(Ms.current=new Date().getTime(),je=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),Y()},Yt.current))})(),()=>clearTimeout(je)},[v,g,x,oe,Dt,Y]),B.useEffect(()=>{x.delete&&(Y(),x.onDismiss==null||x.onDismiss.call(x,x))},[Y,x.delete]);function K(){var je;if(W?.loading){var Ue;return B.createElement("div",{className:ls(U?.loader,x==null||(Ue=x.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":oe==="loading"},W.loading)}return B.createElement(Sc,{className:ls(U?.loader,x==null||(je=x.classNames)==null?void 0:je.loader),visible:oe==="loading"})}const pe=x.icon||W?.[oe]||Nc(oe);var Pe,Ne;return B.createElement("li",{tabIndex:0,ref:ne,className:ls(M,at,U?.toast,x==null||(s=x.classNames)==null?void 0:s.toast,U?.default,U?.[oe],x==null||(a=x.classNames)==null?void 0:a[oe]),"data-sonner-toast":"","data-rich-colors":(Pe=x.richColors)!=null?Pe:y,"data-styled":!(x.jsx||x.unstyled||i),"data-mounted":R,"data-promise":!!x.promise,"data-swiped":ze,"data-removed":G,"data-visible":He,"data-y-position":ca,"data-x-position":Os,"data-index":D,"data-front":ye,"data-swiping":ke,"data-dismissible":Ye,"data-type":oe,"data-invert":oa,"data-swipe-out":le,"data-swipe-direction":he,"data-expanded":!!(v||I&&R),"data-testid":x.testId,style:{"--index":D,"--toasts-before":D,"--z-index":b.length-D,"--offset":`${G?Je:ns.current}px`,"--initial-height":I?"auto":`${se}px`,...h,...x.style},onDragEnd:()=>{ge(!1),H(null),is.current=null},onPointerDown:je=>{je.button!==2&&(O||!Ye||(rs.current=new Date,Pt(ns.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(ge(!0),is.current={x:je.clientX,y:je.clientY})))},onPointerUp:()=>{var je,Ue,Qe;if(le||!Ye)return;is.current=null;const Xe=Number(((je=ne.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qt=Number(((Ue=ne.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),et=new Date().getTime()-((Qe=rs.current)==null?void 0:Qe.getTime()),kt=Z==="x"?Xe:Qt,Et=Math.abs(kt)/et;if(Math.abs(kt)>=Uc||Et>.11){Pt(ns.current),x.onDismiss==null||x.onDismiss.call(x,x),X(Z==="x"?Xe>0?"right":"left":Qt>0?"down":"up"),Y(),de(!0);return}else{var ht,It;(ht=ne.current)==null||ht.style.setProperty("--swipe-amount-x","0px"),(It=ne.current)==null||It.style.setProperty("--swipe-amount-y","0px")}xt(!1),ge(!1),H(null)},onPointerMove:je=>{var Ue,Qe,Xe;if(!is.current||!Ye||((Ue=window.getSelection())==null?void 0:Ue.toString().length)>0)return;const et=je.clientY-is.current.y,kt=je.clientX-is.current.x;var Et;const ht=(Et=t.swipeDirections)!=null?Et:Gc(L);!Z&&(Math.abs(kt)>1||Math.abs(et)>1)&&H(Math.abs(kt)>Math.abs(et)?"x":"y");let It={x:0,y:0};const Yr=Ls=>1/(1.5+Math.abs(Ls)/20);if(Z==="y"){if(ht.includes("top")||ht.includes("bottom"))if(ht.includes("top")&&et<0||ht.includes("bottom")&&et>0)It.y=et;else{const Ls=et*Yr(et);It.y=Math.abs(Ls)<Math.abs(et)?Ls:et}}else if(Z==="x"&&(ht.includes("left")||ht.includes("right")))if(ht.includes("left")&&kt<0||ht.includes("right")&&kt>0)It.x=kt;else{const Ls=kt*Yr(kt);It.x=Math.abs(Ls)<Math.abs(kt)?Ls:kt}(Math.abs(It.x)>0||Math.abs(It.y)>0)&&xt(!0),(Qe=ne.current)==null||Qe.style.setProperty("--swipe-amount-x",`${It.x}px`),(Xe=ne.current)==null||Xe.style.setProperty("--swipe-amount-y",`${It.y}px`)}},la&&!x.jsx&&oe!=="loading"?B.createElement("button",{"aria-label":z,"data-disabled":O,"data-close-button":!0,onClick:O||!Ye?()=>{}:()=>{Y(),x.onDismiss==null||x.onDismiss.call(x,x)},className:ls(U?.closeButton,x==null||(r=x.classNames)==null?void 0:r.closeButton)},(Ne=W?.close)!=null?Ne:Tc):null,(oe||x.icon||x.promise)&&x.icon!==null&&(W?.[oe]!==null||x.icon)?B.createElement("div",{"data-icon":"",className:ls(U?.icon,x==null||(n=x.classNames)==null?void 0:n.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||K():null,x.type!=="loading"?pe:null):null,B.createElement("div",{"data-content":"",className:ls(U?.content,x==null||(l=x.classNames)==null?void 0:l.content)},B.createElement("div",{"data-title":"",className:ls(U?.title,x==null||(o=x.classNames)==null?void 0:o.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?B.createElement("div",{"data-description":"",className:ls(A,yt,U?.description,x==null||(c=x.classNames)==null?void 0:c.description)},typeof x.description=="function"?x.description():x.description):null),B.isValidElement(x.cancel)?x.cancel:x.cancel&&La(x.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||k,onClick:je=>{La(x.cancel)&&Ye&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,je),Y())},className:ls(U?.cancelButton,x==null||(u=x.classNames)==null?void 0:u.cancelButton)},x.cancel.label):null,B.isValidElement(x.action)?x.action:x.action&&La(x.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||p,onClick:je=>{La(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,je),!je.defaultPrevented&&Y())},className:ls(U?.actionButton,x==null||(j=x.classNames)==null?void 0:j.actionButton)},x.action.label):null)};function cn(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Wc(t,s){const a={};return[t,s].forEach((r,n)=>{const l=n===1,o=l?"--mobile-offset":"--offset",c=l?$c:_c;function u(j){["top","right","bottom","left"].forEach(N=>{a[`${o}-${N}`]=typeof j=="number"?`${j}px`:j})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(j=>{r[j]===void 0?a[`${o}-${j}`]=c:a[`${o}-${j}`]=typeof r[j]=="number"?`${r[j]}px`:r[j]}):u(c)}),a}const fi=B.forwardRef(function(s,a){const{id:r,invert:n,position:l="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:u,className:j,offset:N,mobileOffset:x,theme:i="light",richColors:g,duration:f,style:w,visibleToasts:S=Lc,toastOptions:D,dir:b=cn(),gap:v=qc,icons:T,containerAriaLabel:y="Notifications"}=s,[m,h]=B.useState([]),k=B.useMemo(()=>r?m.filter(R=>R.toasterId===r):m.filter(R=>!R.toasterId),[m,r]),p=B.useMemo(()=>Array.from(new Set([l].concat(k.filter(R=>R.position).map(R=>R.position)))),[k,l]),[M,A]=B.useState([]),[F,L]=B.useState(!1),[C,I]=B.useState(!1),[U,W]=B.useState(i!=="system"?i:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=B.useRef(null),Z=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=B.useRef(null),he=B.useRef(!1),X=B.useCallback(R=>{h(ae=>{var G;return(G=ae.find(re=>re.id===R.id))!=null&&G.delete||Tt.dismiss(R.id),ae.filter(({id:re})=>re!==R.id)})},[]);return B.useEffect(()=>Tt.subscribe(R=>{if(R.dismiss){requestAnimationFrame(()=>{h(ae=>ae.map(G=>G.id===R.id?{...G,delete:!0}:G))});return}setTimeout(()=>{Zl.flushSync(()=>{h(ae=>{const G=ae.findIndex(re=>re.id===R.id);return G!==-1?[...ae.slice(0,G),{...ae[G],...R},...ae.slice(G+1)]:[R,...ae]})})})}),[m]),B.useEffect(()=>{if(i!=="system"){W(i);return}if(i==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;const R=window.matchMedia("(prefers-color-scheme: dark)");try{R.addEventListener("change",({matches:ae})=>{W(ae?"dark":"light")})}catch{R.addListener(({matches:G})=>{try{W(G?"dark":"light")}catch{}})}},[i]),B.useEffect(()=>{m.length<=1&&L(!1)},[m]),B.useEffect(()=>{const R=ae=>{var G;if(o.every(ge=>ae[ge]||ae.code===ge)){var ke;L(!0),(ke=z.current)==null||ke.focus()}ae.code==="Escape"&&(document.activeElement===z.current||(G=z.current)!=null&&G.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[o]),B.useEffect(()=>{if(z.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,he.current=!1)}},[z.current]),B.createElement("section",{ref:a,"aria-label":`${y} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},p.map((R,ae)=>{var G;const[re,ke]=R.split("-");return k.length?B.createElement("ol",{key:R,dir:b==="auto"?cn():b,tabIndex:-1,ref:z,className:j,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":re,"data-x-position":ke,style:{"--front-toast-height":`${((G=M[0])==null?void 0:G.height)||0}px`,"--width":`${Bc}px`,"--gap":`${v}px`,...w,...Wc(N,x)},onBlur:ge=>{he.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(he.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||he.current||(he.current=!0,H.current=ge.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{C||L(!1)},onDragEnd:()=>L(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},k.filter(ge=>!ge.position&&ae===0||ge.position===R).map((ge,le)=>{var de,ze;return B.createElement(Vc,{key:ge.id,icons:T,index:le,toast:ge,defaultRichColors:g,duration:(de=D?.duration)!=null?de:f,className:D?.className,descriptionClassName:D?.descriptionClassName,invert:n,visibleToasts:S,closeButton:(ze=D?.closeButton)!=null?ze:u,interacting:C,position:R,style:D?.style,unstyled:D?.unstyled,classNames:D?.classNames,cancelButtonStyle:D?.cancelButtonStyle,actionButtonStyle:D?.actionButtonStyle,closeButtonAriaLabel:D?.closeButtonAriaLabel,removeToast:X,toasts:k.filter(xt=>xt.position==ge.position),heights:M.filter(xt=>xt.position==ge.position),setHeights:A,expandByDefault:c,gap:v,expanded:F,swipeDirections:s.swipeDirections})})):null}))}),ji=Object.freeze(Object.defineProperty({__proto__:null,Toaster:fi,toast:Zt},Symbol.toStringTag,{value:"Module"}));function zc(){const[t,s]=d.useState(""),[a,r]=d.useState(""),[n,l]=d.useState(!1),[o,c]=d.useState(!1),[u,j]=d.useState("en"),{login:N}=as(),x=ve(),i=async w=>{w.preventDefault(),c(!0);try{await N(t,a),x("/")}catch{}finally{c(!1)}},f={en:{title:"SAUBHAGYA",subtitle:"Biogas Management & Rural Energy Distribution",phone:"Phone Number",password:"Password",login:"Login",loading:"Logging in...",phonePlaceholder:"Enter your phone number",passwordPlaceholder:"Enter your password"},hi:{title:"",subtitle:"     ",phone:" ",password:"",login:"",loading:"   ...",phonePlaceholder:"    ",passwordPlaceholder:"   "}}[u];return e.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transform scale-105",style:{backgroundImage:'url("https://images.unsplash.com/photo-1574943320219-553eb213f72d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2560&q=80"), url("https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=2560&q=80"), url("https://images.unsplash.com/photo-1595058542840-20d2ce4e77f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=2560&q=80"), linear-gradient(135deg, #22c55e 0%, #059669 100%)'}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/75 via-blue-900/70 to-emerald-900/75 z-10"}),e.jsx("div",{className:"absolute inset-0 opacity-20 z-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 left-1/6 w-32 h-32 bg-blue-400/10 rounded-full blur-2xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/3 right-1/5 w-48 h-48 bg-slate-400/8 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-2/3 left-1/2 w-24 h-24 bg-teal-400/12 rounded-full blur-xl animate-pulse",style:{animationDelay:"4s"}}),e.jsx("div",{className:"absolute top-1/6 right-1/3 w-40 h-40 bg-cyan-400/8 rounded-full blur-2xl animate-pulse",style:{animationDelay:"6s"}}),e.jsx("div",{className:"absolute top-1/5 left-3/4 w-2 h-2 bg-white/30 rounded-full animate-bounce",style:{animationDelay:"1s",animationDuration:"3s"}}),e.jsx("div",{className:"absolute bottom-1/4 left-1/5 w-1 h-1 bg-blue-300/40 rounded-full animate-bounce",style:{animationDelay:"3s",animationDuration:"4s"}}),e.jsx("div",{className:"absolute top-1/2 right-1/6 w-1.5 h-1.5 bg-teal-300/35 rounded-full animate-bounce",style:{animationDelay:"5s",animationDuration:"3.5s"}})]}),e.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}})]}),e.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-20 animate-in fade-in slide-in-from-bottom-4 duration-1000",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>j(u==="en"?"hi":"en"),className:"px-4 py-2 text-sm bg-white/10 backdrop-blur-sm rounded-lg shadow-lg border border-white/20 hover:bg-white/20 text-white transition-all duration-300",children:u==="en"?"":"English"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-28 h-28 bg-white/95 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-2xl transform hover:scale-110 transition-all duration-300 border border-white/30 p-1",children:e.jsx("img",{src:"/images/dhanush_group_logo.jpg",alt:"Dhanush Group Logo",className:"w-full h-full object-contain rounded-xl"})}),e.jsx("div",{className:"absolute inset-0 w-28 h-28 border-2 border-white/20 rounded-2xl animate-ping"}),e.jsx("div",{className:"absolute inset-2 w-24 h-24 border border-white/10 rounded-xl animate-pulse"})]})}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-4 drop-shadow-lg",children:f.title}),e.jsx("p",{className:"text-white/90 text-lg mb-8 drop-shadow",children:f.subtitle})]}),e.jsxs("form",{onSubmit:i,className:"bg-white/10 backdrop-blur-md p-8 rounded-2xl shadow-2xl border border-white/20 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-white mb-2",children:f.phone}),e.jsxs("div",{className:"relative",children:[e.jsx(Tr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/70 h-5 w-5"}),e.jsx("input",{id:"phone",type:"tel",value:t,onChange:w=>s(w.target.value),placeholder:f.phonePlaceholder,className:"w-full pl-10 pr-3 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/70 transition-all duration-300",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:f.password}),e.jsxs("div",{className:"relative",children:[e.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/70 h-5 w-5"}),e.jsx("input",{id:"password",type:n?"text":"password",value:a,onChange:w=>r(w.target.value),placeholder:f.passwordPlaceholder,className:"w-full pl-10 pr-12 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/70 transition-all duration-300",required:!0}),e.jsx("button",{type:"button",onClick:()=>l(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-white transition-colors duration-200",children:n?e.jsx(Hn,{className:"h-5 w-5"}):e.jsx(jt,{className:"h-5 w-5"})})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 px-6 rounded-lg hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:o?f.loading:f.login})]})]})]})}function te(...t){return ec(tc(t))}const Dr=sc("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=d.forwardRef(({className:t,variant:s,size:a,...r},n)=>e.jsx("button",{className:te(Dr({variant:s,size:a,className:t})),ref:n,...r}));q.displayName="Button";function V({className:t,variant:s="default",...a}){return e.jsx("div",{className:te("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{"border-transparent bg-primary text-primary-foreground hover:bg-primary/80":s==="default","border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80":s==="secondary","border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80":s==="destructive","text-foreground":s==="outline"},t),...a})}const Js=d.forwardRef(({className:t,orientation:s="horizontal",decorative:a=!0,...r},n)=>e.jsx("div",{ref:n,role:a?"none":"separator","aria-orientation":s,className:te("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Js.displayName="Separator";const Wt=ll,yi=cl,Yc=nl,vi=d.forwardRef(({className:t,...s},a)=>e.jsx(Gn,{ref:a,className:te("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));vi.displayName=Gn.displayName;const Ot=d.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(Yc,{children:[e.jsx(vi,{}),e.jsxs(Vn,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(il,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(bt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ot.displayName=Vn.displayName;const Ft=({className:t,...s})=>e.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Ft.displayName="DialogHeader";const Ps=({className:t,...s})=>e.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Ps.displayName="DialogFooter";const Lt=d.forwardRef(({className:t,...s},a)=>e.jsx(Wn,{ref:a,className:te("text-lg font-semibold leading-none tracking-tight",t),...s}));Lt.displayName=Wn.displayName;const _t=d.forwardRef(({className:t,...s},a)=>e.jsx(zn,{ref:a,className:te("text-sm text-muted-foreground",t),...s}));_t.displayName=zn.displayName;const bi={"auth-service":{name:"Authentication Service",baseUrl:"http://localhost:8081",port:8081,endpoints:["/auth/api/v1/login","/auth/api/v1/register","/auth/api/v1/cattle/list","/auth/api/v1/cattle/store","/auth/oauth2/token","/auth/api/auth/users","/auth/api/auth/users/{id}","/auth/api/auth/users/{id}/toggle-status","/auth/api/auth/users/{id}/permissions","/auth/api/auth/profile","/auth/api/auth/logout"],status:"active"},"iot-service":{name:"IoT Device Management Service",baseUrl:"http://localhost:8080",port:8080,endpoints:["/iot/api/v1/devices","/iot/api/v1/rfid-tags","/iot/api/v1/sensors"],status:"active"},"biogas-service":{name:"Biogas Contribution Service",baseUrl:"http://localhost:8082",port:8082,endpoints:["/api/v1/contributions","/api/v1/contributions/farmer","/api/v1/contributions/analytics"],status:"active"},"transaction-service":{name:"Biogas Transaction Service",baseUrl:"http://localhost:8082",port:8082,endpoints:["/api/v1/transactions","/api/v1/biogas-production","/api/v1/contributions"],status:"active"},"sales-service":{name:"Commerce & Sales Service",baseUrl:"http://localhost:8083",port:8083,endpoints:["/api/commerce/sales","/api/commerce/orders","/api/commerce/contributions"],status:"active"},"reporting-service":{name:"Analytics & Reporting Service",baseUrl:"http://localhost:8084",port:8084,endpoints:["/api/v1/analytics","/api/v1/reports","/api/v1/dashboard","/system/metrics","/system/services","/system/performance","/audit/logs","/audit/export","/audit/stats/by-module","/audit/stats/by-action"],status:"active"},"government-service":{name:"Government Dashboard Service",baseUrl:"http://localhost:8085",port:8085,endpoints:["/government/api/v1/dashboard","/government/api/v1/schemes","/government/api/v1/compliance"],status:"active"}};class Ni{serviceRegistry=bi;getService(s){return this.serviceRegistry[s]||null}handle401Error(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("saubhagya_jwt_token"),localStorage.removeItem("user"),localStorage.removeItem("sessionStart");const s=window.location.pathname+window.location.search,a=s!=="/"?`?redirect=${encodeURIComponent(s)}`:"";nt(async()=>{const{toast:r}=await Promise.resolve().then(()=>ji);return{toast:r}},void 0).then(({toast:r})=>{r.error("Session expired. Please login again.")}),window.location.href=`/login${a}`}async callService(s,a,r={}){const n=this.getService(s);if(!n)throw new Error(`Service '${s}' not found in registry`);if(n.status!=="active")throw new Error(`Service '${s}' is currently ${n.status}`);const l=`${n.baseUrl}${a}`,o=localStorage.getItem("saubhagya_jwt_token"),c={"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`},...r.headers},u=await fetch(l,{...r,headers:c});if(u.status===401)throw this.handle401Error(),new Error("Unauthorized - Session expired");return u}getActiveServices(){return Object.values(this.serviceRegistry).filter(s=>s.status==="active")}async healthCheck(){const s={};for(const[a,r]of Object.entries(this.serviceRegistry))try{const n=await fetch(`${r.baseUrl}/actuator/health`,{method:"GET",timeout:5e3});s[a]=n.ok}catch{s[a]=!1}return s}}const vt=new Ni,or={async recordContribution(t){try{const s=await fetch("http://localhost:8082/api/v1/contributions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return s.ok?await s.json():{success:!0,id:`COW_DUNG_TXN_${Date.now()}`,message:"Transaction recorded successfully (fallback mode)",...t}}catch{return{success:!0,id:`COW_DUNG_TXN_${Date.now()}`,message:"Transaction recorded successfully (fallback mode)",...t}}},async getAllContributions(t=0,s=100){try{const a=await fetch("http://localhost:8082/api/v1/contributions",{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok)return await a.json()||[];throw new Error(`HTTP error! status: ${a.status}`)}catch{return nt(async()=>{const{toast:r}=await Promise.resolve().then(()=>ji);return{toast:r}},void 0).then(({toast:r})=>{r.error("Unable to fetch biogas contributions. Please check if the Biogas service is running.")}),[]}},async getFarmerContributions(t,s=0,a=20){return(await vt.callService("biogas-service",`/api/v1/contributions/farmer/${t}?page=${s}&size=${a}`)).json()},async getContribution(t){return(await vt.callService("biogas-service",`/api/v1/contributions/${t}`)).json()},async processPayment(t,s){return(await vt.callService("biogas-service",`/api/v1/contributions/${t}/payment`,{method:"POST",body:JSON.stringify(s)})).json()},async getContributionAnalytics(t,s,a){return(await vt.callService("biogas-service",`/api/v1/contributions/analytics?clusterId=${t}&fromDate=${s}&toDate=${a}`)).json()}},Qc=Object.freeze(Object.defineProperty({__proto__:null,BiogasServiceClient:or,MicroservicesClient:Ni,SERVICE_REGISTRY:bi,microservicesClient:vt},Symbol.toStringTag,{value:"Module"})),Kc={error:(...t)=>{},warn:(...t)=>{},info:(...t)=>{},debug:(...t)=>{}};class Zc{SERVICE_NAME="auth-service";async getProfile(){try{const s=await vt.callService(this.SERVICE_NAME,"/auth/api/auth/profile",{method:"GET"});if(!s.ok){const r=await s.text();throw new Error(`Failed to fetch profile: ${s.status} - ${r}`)}return await s.json()}catch(s){throw new Error(s instanceof Error?`Unable to fetch profile: ${s.message}`:"Unable to fetch profile. Please check your connection.")}}async updateProfile(s){try{const a=await vt.callService(this.SERVICE_NAME,"/auth/api/auth/profile",{method:"PUT",body:JSON.stringify(s)});if(!a.ok){const n=await a.text();throw new Error(`Failed to update profile: ${a.status} - ${n}`)}return await a.json()}catch(a){throw new Error(a instanceof Error?`Unable to update profile: ${a.message}`:"Unable to update profile. Please try again.")}}async logout(){try{const s=await vt.callService(this.SERVICE_NAME,"/auth/api/auth/logout",{method:"POST"});s.ok||Kc.warn("Server logout returned non-OK status:",s.status),localStorage.removeItem("saubhagya_jwt_token"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("sessionStart")}catch(s){throw localStorage.removeItem("saubhagya_jwt_token"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("sessionStart"),new Error(s instanceof Error?`Logout completed locally, but server error: ${s.message}`:"Logout completed locally.")}}}const kr=new Zc;function aa({moduleName:t,navigationItems:s,children:a,moduleSubtitle:r,userInfo:n,breadcrumbs:l,contentClassName:o}){const[c,u]=d.useState(!1),[j,N]=d.useState(!1),[x,i]=d.useState(!1),{logout:g}=as(),f=ve(),w=()=>{N(!0)},S=async()=>{try{i(!0),await kr.logout(),await g(),Zt.success("Logged out successfully"),f("/login")}catch(b){const v=b instanceof Error?b.message:"Logout failed";Zt.error(v),f("/login")}finally{i(!1),N(!1)}},D=()=>{N(!1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>u(!1)}),e.jsx("aside",{className:`fixed left-0 top-0 w-56 h-screen bg-white border-r border-gray-200 z-50 transform transition-transform duration-300 ease-in-out ${c?"translate-x-0":"-translate-x-full"} xl:translate-x-0`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"h-16 bg-white border-b border-gray-200 flex items-center px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{variant:"ghost",size:"sm",className:"lg:hidden mr-2 p-1",onClick:()=>u(!c),children:e.jsx(Qr,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:t})]})}),e.jsxs("div",{className:"lg:hidden flex justify-between items-center p-4 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Menu"}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>u(!1),className:"p-1",children:e.jsx(bt,{className:"h-5 w-5"})})]}),r&&e.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:e.jsx("p",{className:"text-xs text-gray-600",children:r})}),e.jsx("nav",{className:"flex-1 p-3",children:e.jsx("div",{className:"space-y-2",children:s.map(b=>e.jsxs(q,{onClick:()=>{b.onClick(),u(!1)},variant:b.isActive?"default":"ghost",className:`w-full justify-start h-10 font-medium text-sm transition-all duration-200 ${b.isActive?"bg-blue-600 text-white hover:bg-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx("span",{className:`mr-3 flex-shrink-0 ${b.isActive?"text-white":"text-gray-500"}`,children:b.icon}),e.jsx("span",{className:"flex-1 text-left",children:b.label}),b.badge&&e.jsx(V,{variant:b.isActive?"outline":"secondary",className:`ml-auto text-xs ${b.isActive?"border-white/30 text-white bg-white/10":"bg-gray-200 text-gray-600"}`,children:b.badge})]},b.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"System Online"]})})]})}),e.jsxs("div",{className:"xl:ml-56 min-h-screen",children:[e.jsxs("header",{className:"fixed top-0 left-0 right-0 xl:left-56 h-16 bg-white border-b border-gray-200 z-40 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{variant:"ghost",size:"sm",className:"lg:hidden mr-2 p-1",onClick:()=>u(!c),children:e.jsx(Qr,{className:"h-5 w-5"})}),e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"S"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SAUBHAGYA"}),e.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Unified Platform"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(q,{variant:"ghost",size:"sm",children:[e.jsx(dt,{className:"w-4 h-4"}),e.jsx("span",{className:"sr-only",children:"Search"})]}),e.jsxs(q,{variant:"ghost",size:"sm",className:"relative",children:[e.jsx(Pa,{className:"w-4 h-4"}),e.jsx(V,{variant:"destructive",className:"absolute -top-1 -right-1 h-2 w-2 p-0 text-[10px] flex items-center justify-center",children:"2"}),e.jsx("span",{className:"sr-only",children:"Notifications"})]}),e.jsx(q,{variant:"ghost",size:"sm",children:e.jsx("span",{className:"text-sm font-medium",children:""})}),e.jsx(Js,{orientation:"vertical",className:"h-6"}),n&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right text-sm hidden md:block",children:[e.jsx("div",{className:"font-medium text-gray-900",children:n.name}),e.jsx("div",{className:"text-xs text-gray-500",children:n.role})]}),e.jsx("div",{className:"h-8 w-8 bg-blue-600 rounded-full flex items-center justify-center",children:n.avatar?e.jsx("img",{src:n.avatar,alt:n.name,className:"h-8 w-8 rounded-full object-cover"}):e.jsx("span",{className:"text-white text-xs font-medium",children:n.name.charAt(0).toUpperCase()})}),e.jsxs(q,{variant:"ghost",size:"sm",onClick:w,className:"text-gray-600 hover:text-red-600 hover:bg-red-50",title:"Logout",children:[e.jsx(za,{className:"w-4 h-4"}),e.jsx("span",{className:"sr-only",children:"Logout"})]})]})]})]}),l&&l.length>0&&e.jsx("div",{className:"fixed top-16 left-0 right-0 xl:left-56 h-12 bg-gray-50 border-b border-gray-200 z-30 flex items-center px-6",children:e.jsx("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",children:l.map((b,v)=>e.jsxs("div",{className:"flex items-center",children:[v>0&&e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),b.onClick||b.url?e.jsx("button",{onClick:b.onClick,className:"hover:text-blue-600 transition-colors font-medium hover:underline",children:b.label}):e.jsx("span",{className:v===l.length-1?"text-gray-900 font-medium":"",children:b.label})]},v))})}),e.jsx("main",{className:te("pt-20 min-h-screen w-full p-6",l&&l.length>0?"pt-20 mt-12":"pt-20",o),children:a})]}),e.jsx(Wt,{open:j,onOpenChange:N,children:e.jsxs(Ot,{children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:"Confirm Logout"}),e.jsx(_t,{children:"Are you sure you want to logout? You will need to login again to access your account."})]}),e.jsxs(Ps,{children:[e.jsx(q,{variant:"outline",onClick:D,disabled:x,children:"Cancel"}),e.jsx(q,{variant:"destructive",onClick:S,disabled:x,children:x?e.jsxs(e.Fragment,{children:[e.jsx(Ya,{className:"w-4 h-4 mr-2 animate-spin"}),"Logging out..."]}):e.jsxs(e.Fragment,{children:[e.jsx(za,{className:"w-4 h-4 mr-2"}),"Logout"]})})]})]})})]})}const P=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));P.displayName="Card";const _=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:te("flex flex-col space-y-1.5 p-6",t),...s}));_.displayName="CardHeader";const $=d.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:te("text-2xl font-semibold leading-none tracking-tight",t),...s}));$.displayName="CardTitle";const De=d.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:te("text-sm text-muted-foreground",t),...s}));De.displayName="CardDescription";const E=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:te("p-6 pt-0",t),...s}));E.displayName="CardContent";const Jc=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:te("flex items-center p-6 pt-0",t),...s}));Jc.displayName="CardFooter";const Ma=({icon:t,title:s,message:a,missingEndpoints:r})=>e.jsx(P,{className:"border-2 border-dashed",children:e.jsxs(E,{className:"flex flex-col items-center justify-center py-16 px-6",children:[e.jsx("div",{className:"rounded-full bg-muted p-6 mb-6",children:e.jsx(t,{className:"h-12 w-12 text-muted-foreground"})}),e.jsxs("div",{className:"text-center space-y-3 mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-foreground",children:s}),e.jsx("p",{className:"text-muted-foreground max-w-md",children:a})]}),e.jsx(V,{variant:"secondary",className:"mb-6",children:"Coming Soon"}),r&&r.length>0&&e.jsx("div",{className:"w-full max-w-2xl",children:e.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-sm font-semibold mb-4 text-foreground",children:"Required Backend Endpoints:"}),e.jsx("ul",{className:"space-y-2",children:r.map((n,l)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm font-mono",children:[e.jsx("span",{className:"text-muted-foreground mt-0.5",children:""}),e.jsx("span",{className:"text-foreground",children:n})]},l))})]})})]})}),Xc=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Platform overview and system health monitoring"})]}),e.jsx(Ma,{icon:Ze,title:"Dashboard Metrics Not Available",message:"System metrics require the Reporting Service to be fully implemented.",missingEndpoints:["GET /system/metrics - System health metrics","GET /system/services - Microservices status","GET /system/performance - Performance data"]})]});class eo{SERVICE_NAME="auth-service";async getUsers(s=0,a=20,r,n="createdAt",l="desc"){try{const o=new URLSearchParams({page:s.toString(),size:a.toString(),sortBy:n,sortDir:l});r&&o.append("search",r);const c=await vt.callService(this.SERVICE_NAME,`/auth/api/auth/users?${o.toString()}`,{method:"GET"});if(!c.ok){const u=await c.json();throw new Error(u.message||"Failed to fetch users")}return await c.json()}catch(o){throw new Error(o instanceof Error?o.message:"Failed to fetch users")}}async getUserById(s){try{const a=await vt.callService(this.SERVICE_NAME,`/auth/api/auth/users/${s}`,{method:"GET"});if(!a.ok){const r=await a.json();throw new Error(r.message||"Failed to fetch user")}return await a.json()}catch(a){throw new Error(a instanceof Error?a.message:"Failed to fetch user")}}async createUser(s){try{const a=await vt.callService(this.SERVICE_NAME,"/auth/api/auth/users",{method:"POST",body:JSON.stringify(s)});if(!a.ok){const r=await a.json();throw new Error(r.message||"Failed to create user")}return await a.json()}catch(a){throw new Error(a instanceof Error?a.message:"Failed to create user")}}async updateUser(s,a){try{const r=await vt.callService(this.SERVICE_NAME,`/auth/api/auth/users/${s}`,{method:"PUT",body:JSON.stringify(a)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to update user")}return await r.json()}catch(r){throw new Error(r instanceof Error?r.message:"Failed to update user")}}async deleteUser(s){try{const a=await vt.callService(this.SERVICE_NAME,`/auth/api/auth/users/${s}`,{method:"DELETE"});if(!a.ok){const r=await a.json();throw new Error(r.message||"Failed to delete user")}}catch(a){throw new Error(a instanceof Error?a.message:"Failed to delete user")}}async toggleUserStatus(s){try{const a=await vt.callService(this.SERVICE_NAME,`/auth/api/auth/users/${s}/toggle-status`,{method:"PUT"});if(!a.ok){const r=await a.json();throw new Error(r.message||"Failed to toggle user status")}return await a.json()}catch(a){throw new Error(a instanceof Error?a.message:"Failed to toggle user status")}}async updateUserPermissions(s,a){try{const r=await vt.callService(this.SERVICE_NAME,`/auth/api/auth/users/${s}/permissions`,{method:"PUT",body:JSON.stringify(a)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to update permissions")}return await r.json()}catch(r){throw new Error(r instanceof Error?r.message:"Failed to update permissions")}}}const ur=new eo,fe=d.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a}));fe.displayName="Input";const to=()=>{const[t,s]=d.useState([]),[a,r]=d.useState(!0),[n,l]=d.useState(""),[o,c]=d.useState(0),[u,j]=d.useState(0),[N,x]=d.useState(0),i=10;d.useEffect(()=>{g()},[o,n]);const g=async()=>{try{r(!0);const D=await ur.getUsers(o,i,n||void 0);s(D.users),j(D.totalPages),x(D.totalElements)}catch(D){Zt.error("Failed to load users",{description:D instanceof Error?D.message:"Unknown error occurred"})}finally{r(!1)}},f=async D=>{try{await ur.toggleUserStatus(D),Zt.success("User status updated"),g()}catch(b){Zt.error("Failed to update user status",{description:b instanceof Error?b.message:"Unknown error occurred"})}},w=async(D,b)=>{if(window.confirm(`Are you sure you want to delete user "${b}"?`))try{await ur.deleteUser(D),Zt.success("User deleted successfully"),g()}catch(v){Zt.error("Failed to delete user",{description:v instanceof Error?v.message:"Unknown error occurred"})}},S=D=>{D.preventDefault(),c(0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage users, roles, and permissions across the platform"})]}),e.jsxs(q,{className:"gap-2",children:[e.jsx(mt,{className:"h-4 w-4"}),"Add User"]})]}),e.jsx(P,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("form",{onSubmit:S,className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(fe,{placeholder:"Search by name, phone, or email...",value:n,onChange:D=>l(D.target.value),className:"pl-10"})]}),e.jsx(q,{type:"submit",children:"Search"})]})})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(st,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold",children:N})})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Active Users"}),e.jsx(Kr,{className:"h-4 w-4 text-green-600"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold",children:t.filter(D=>D.isActive).length})})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Current Page"}),e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsxs("div",{className:"text-2xl font-bold",children:[o+1," / ",u||1]})})]})]}),e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:"Users"}),e.jsx(De,{children:a?"Loading...":`Showing ${t.length} users`})]}),e.jsxs(E,{children:[a?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No users found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Phone"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Email"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Roles"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(D=>e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:D.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",D.externalId]})]})}),e.jsx("td",{className:"py-3 px-4",children:D.phone}),e.jsx("td",{className:"py-3 px-4",children:D.email||"-"}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:D.roles.map(b=>e.jsx(V,{variant:"secondary",className:"text-xs",children:b},b))})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(V,{variant:D.isActive?"default":"secondary",className:D.isActive?"bg-green-600":"",children:D.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{variant:"ghost",size:"icon",onClick:()=>f(D.id),title:"Toggle Status",children:D.isActive?e.jsx(Kr,{className:"h-4 w-4"}):e.jsx(ol,{className:"h-4 w-4"})}),e.jsx(q,{variant:"ghost",size:"icon",title:"Edit User",children:e.jsx(We,{className:"h-4 w-4"})}),e.jsx(q,{variant:"ghost",size:"icon",onClick:()=>w(D.id,D.name),title:"Delete User",className:"text-destructive hover:text-destructive",children:e.jsx(wt,{className:"h-4 w-4"})})]})})]},D.id))})]})}),!a&&u>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",o*i+1," to"," ",Math.min((o+1)*i,N)," of ",N," users"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{variant:"outline",size:"sm",onClick:()=>c(o-1),disabled:o===0,children:"Previous"}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>c(o+1),disabled:o>=u-1,children:"Next"})]})]})]})]})]})},so=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Device Registry"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage IoT devices, RFID readers, sensors, and tracking units"})]}),e.jsx(Ma,{icon:va,title:"Device Registry Not Available",message:"Device management requires the IoT Service to be operational.",missingEndpoints:["GET /devices - List all devices","POST /devices/provision - Provision new device","GET /devices/:id/status - Get device status"]})]}),ao=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Audit Logs"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive audit trail of all system activities and user actions"})]}),e.jsx(Ma,{icon:Be,title:"Audit Logs Not Available",message:"Audit logs require the Reporting Service audit endpoints.",missingEndpoints:["GET /audit/logs - Fetch audit logs","POST /audit/export - Export audit logs"]})]}),ro=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Revenue & Carbon Reports"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive financial and environmental impact reporting"})]}),e.jsx(Ma,{icon:Ge,title:"Reports Not Available",message:"Revenue and operational reports require Reporting Service endpoints.",missingEndpoints:["GET /reports/revenue - Revenue reports","GET /reports/operations - Operational metrics"]})]}),no=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"System Configuration"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage platform settings, integrations, and security policies"})]}),e.jsx(Ma,{icon:$t,title:"Configuration Not Available",message:"System configuration requires the Government Service endpoints.",missingEndpoints:["GET /config - Get system configuration","PUT /config - Update system configuration"]})]}),ee=d.forwardRef(({className:t,...s},a)=>e.jsx("label",{ref:a,className:te("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...s}));ee.displayName="Label";const hs=d.forwardRef(({className:t,variant:s="default",...a},r)=>e.jsx("div",{ref:r,role:"alert",className:te("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{"bg-background text-foreground":s==="default","border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive":s==="destructive"},t),...a}));hs.displayName="Alert";const io=d.forwardRef(({className:t,...s},a)=>e.jsx("h5",{ref:a,className:te("mb-1 font-medium leading-none tracking-tight",t),...s}));io.displayName="AlertTitle";const Ns=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:te("text-sm [&_p]:leading-relaxed",t),...s}));Ns.displayName="AlertDescription";const lo=({isEditing:t,editedName:s,editedLocale:a,saving:r,profileName:n,profileLocale:l,onNameChange:o,onLocaleChange:c,onSave:u,onCancel:j})=>e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-4",children:"Editable Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(ee,{htmlFor:"name",className:"flex items-center gap-2 mb-2",children:[e.jsx(zt,{className:"w-4 h-4"}),"Full Name"]}),t?e.jsx(fe,{id:"name",value:s,onChange:N=>o(N.target.value),placeholder:"Enter your name",disabled:r}):e.jsx("p",{className:"text-sm font-medium py-2",children:n})]}),e.jsxs("div",{children:[e.jsxs(ee,{htmlFor:"locale",className:"flex items-center gap-2 mb-2",children:[e.jsx(bs,{className:"w-4 h-4"}),"Language/Locale"]}),t?e.jsxs("select",{id:"locale",value:a,onChange:N=>c(N.target.value),disabled:r,className:"w-full px-3 py-2 border border-input rounded-md bg-background text-sm",children:[e.jsx("option",{value:"en",children:"English (en)"}),e.jsx("option",{value:"hi",children:" (hi)"}),e.jsx("option",{value:"gu",children:" (gu)"}),e.jsx("option",{value:"mr",children:" (mr)"}),e.jsx("option",{value:"pa",children:" (pa)"})]}):e.jsx("p",{className:"text-sm font-medium py-2",children:l})]})]}),t&&e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(q,{onClick:u,disabled:r,className:"flex-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(Ya,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ut,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),e.jsxs(q,{onClick:j,disabled:r,variant:"outline",children:[e.jsx(bt,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}),co=()=>{const[t,s]=d.useState(null),[a,r]=d.useState(!0),[n,l]=d.useState(null),[o,c]=d.useState(!1),[u,j]=d.useState(!1),[N,x]=d.useState(""),[i,g]=d.useState("");d.useEffect(()=>{f()},[]);const f=async()=>{try{r(!0),l(null);const T=await kr.getProfile();s(T),x(T.name),g(T.locale)}catch(T){const y=T instanceof Error?T.message:"Failed to load profile";l(y),Zt.error(y)}finally{r(!1)}},w=()=>{t&&(x(t.name),g(t.locale),c(!0))},S=()=>{t&&(x(t.name),g(t.locale),c(!1))},D=async()=>{try{j(!0);const T=await kr.updateProfile({name:N,locale:i});s(T),c(!1),Zt.success("Profile updated successfully!")}catch(T){const y=T instanceof Error?T.message:"Failed to update profile";Zt.error(y)}finally{j(!1)}},b=T=>{if(!T)return"N/A";try{return new Date(T).toLocaleString()}catch{return T}},v=T=>{switch(T.toUpperCase()){case"VERIFIED":case"APPROVED":return"bg-green-500";case"PENDING":return"bg-yellow-500";case"REJECTED":return"bg-red-500";default:return"bg-gray-500"}};return a?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ya,{className:"w-12 h-12 animate-spin text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):n&&!t?e.jsxs("div",{className:"max-w-2xl mx-auto mt-8",children:[e.jsxs(hs,{variant:"destructive",className:"mb-4",children:[e.jsx(Le,{className:"h-4 w-4"}),e.jsxs("div",{className:"ml-2",children:[e.jsx("h3",{className:"font-semibold",children:"Error Loading Profile"}),e.jsx("p",{className:"text-sm mt-1",children:n})]})]}),e.jsxs(q,{onClick:f,className:"w-full",children:[e.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Retry"]})]}):e.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"User Profile"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account information and preferences"})]}),e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(zt,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:t?.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?.phone})]})]}),!o&&e.jsxs(q,{onClick:w,variant:"outline",children:[e.jsx(dl,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(lo,{isEditing:o,editedName:N,editedLocale:i,saving:u,profileName:t?.name,profileLocale:t?.locale,onNameChange:x,onLocaleChange:g,onSave:D,onCancel:S}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-4",children:"Account Information (Read-Only)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(ee,{className:"flex items-center gap-2 mb-2",children:[e.jsx(ba,{className:"w-4 h-4"}),"Phone Number"]}),e.jsx("p",{className:"text-sm font-medium",children:t?.phone})]}),e.jsxs("div",{children:[e.jsxs(ee,{className:"flex items-center gap-2 mb-2",children:[e.jsx(Tr,{className:"w-4 h-4"}),"Email Address"]}),e.jsx("p",{className:"text-sm font-medium",children:t?.email||"Not provided"})]}),e.jsxs("div",{children:[e.jsxs(ee,{className:"flex items-center gap-2 mb-2",children:[e.jsx(Be,{className:"w-4 h-4"}),"User ID"]}),e.jsx("p",{className:"text-sm font-mono text-muted-foreground",children:t?.id})]}),e.jsxs("div",{children:[e.jsxs(ee,{className:"flex items-center gap-2 mb-2",children:[e.jsx(Be,{className:"w-4 h-4"}),"External ID"]}),e.jsx("p",{className:"text-sm font-mono text-muted-foreground",children:t?.externalId})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"mb-2 block",children:"KYC Status"}),e.jsx(V,{className:v(t?.kycStatus||""),children:t?.kycStatus})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"mb-2 block",children:"Account Status"}),e.jsx(V,{variant:t?.isActive?"default":"destructive",children:t?.isActive?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsxs(ee,{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ie,{className:"w-4 h-4"}),"Last Login"]}),e.jsx("p",{className:"text-sm font-medium",children:b(t?.lastLogin)})]}),e.jsxs("div",{children:[e.jsxs(ee,{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ie,{className:"w-4 h-4"}),"Account Created"]}),e.jsx("p",{className:"text-sm font-medium",children:b(t?.createdAt)})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"mb-2 block",children:"Roles"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t?.roles&&t.roles.length>0?t.roles.map((T,y)=>e.jsx(V,{variant:"secondary",children:T},y)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No roles assigned"})})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"mb-2 block",children:"Permissions"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t?.permissions&&t.permissions.length>0?t.permissions.map((T,y)=>e.jsx(V,{variant:"outline",children:T},y)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No permissions assigned"})})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"mb-2 block",children:"Government Access"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t?.governmentAccess&&t.governmentAccess.length>0?t.governmentAccess.map((T,y)=>e.jsx(V,{variant:"outline",className:"bg-purple-50",children:T},y)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No government access"})})]})]})]})]})},oo=()=>{const t=ve(),s=Hs(),{user:a}=as(),r=[{id:"dashboard",label:"Dashboard",icon:e.jsx(Ar,{className:"w-5 h-5"}),onClick:()=>t("/admin"),isActive:s.pathname==="/admin"||s.pathname==="/admin/"},{id:"users",label:"User Management",icon:e.jsx(st,{className:"w-5 h-5"}),onClick:()=>t("/admin/users"),isActive:s.pathname==="/admin/users"},{id:"devices",label:"Device Registry",icon:e.jsx(ml,{className:"w-5 h-5"}),onClick:()=>t("/admin/devices"),isActive:s.pathname==="/admin/devices"},{id:"audit",label:"Audit Logs",icon:e.jsx(Ge,{className:"w-5 h-5"}),onClick:()=>t("/admin/audit"),isActive:s.pathname==="/admin/audit"},{id:"reports",label:"Reports",icon:e.jsx(Ze,{className:"w-5 h-5"}),onClick:()=>t("/admin/reports"),isActive:s.pathname==="/admin/reports"},{id:"config",label:"Configuration",icon:e.jsx($t,{className:"w-5 h-5"}),onClick:()=>t("/admin/config"),isActive:s.pathname==="/admin/config"},{id:"profile",label:"Profile",icon:e.jsx(ul,{className:"w-5 h-5"}),onClick:()=>t("/admin/profile"),isActive:s.pathname==="/admin/profile"}];return e.jsx(aa,{moduleName:"Admin",moduleSubtitle:"Platform Management",navigationItems:r,userInfo:a?{name:a.name,role:a.department||"User",avatar:void 0}:void 0,children:e.jsxs(ta,{children:[e.jsx(J,{path:"/",element:e.jsx(Xc,{})}),e.jsx(J,{path:"/users",element:e.jsx(to,{})}),e.jsx(J,{path:"/devices",element:e.jsx(so,{})}),e.jsx(J,{path:"/audit",element:e.jsx(ao,{})}),e.jsx(J,{path:"/reports",element:e.jsx(ro,{})}),e.jsx(J,{path:"/config",element:e.jsx(no,{})}),e.jsx(J,{path:"/profile",element:e.jsx(co,{})})]})})};function mo(){const[t,s]=d.useState([]),[a,r]=d.useState([]),[n,l]=d.useState({cpu:0,memory:0,disk:0,network:0,database:"healthy",uptime:0,activeUsers:0,lastBackup:new Date}),[o,c]=d.useState([]),[u,j]=d.useState(""),[N,x]=d.useState("all"),[i,g]=d.useState("all"),[f,w]=d.useState("en"),[S,D]=d.useState("dashboard"),v={en:{title:"System Administration Dashboard",subtitle:"User management, system monitoring, and security controls",users:"Users",auditLogs:"Audit Logs",systemHealth:"System Health",alerts:"Alerts",searchUsers:"Search users...",filterByRole:"Filter by role",filterByStatus:"Filter by status",all:"All",active:"Active",inactive:"Inactive",suspended:"Suspended",addUser:"Add User",exportData:"Export Data",name:"Name",email:"Email",role:"Role",status:"Status",lastLogin:"Last Login",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",systemMetrics:"System Metrics",cpu:"CPU",memory:"Memory",disk:"Disk",network:"Network",database:"Database",uptime:"Uptime",activeUsers:"Active Users",lastBackup:"Last Backup",healthy:"Healthy",warning:"Warning",critical:"Critical",security:"Security",performance:"Performance",system:"System",user:"User",low:"Low",medium:"Medium",high:"High",open:"Open",acknowledged:"Acknowledged",resolved:"Resolved",assign:"Assign",acknowledge:"Acknowledge",resolve:"Resolve",noActiveAlerts:"No active alerts",systemStatus:"System Status",diskUsage:"Disk Usage",userManagement:"User Management",timestamp:"Timestamp",resource:"Resource",ipAddress:"IP Address",success:"Success",failure:"Failure",quickActions:"Quick Actions",addUserDescription:"Create new user account",securitySettings:"Security Settings",securitySettingsDescription:"Configure security policies",backupManagement:"Backup Management",backupManagementDescription:"Backup schedule and recovery",systemConfiguration:"System Configuration",systemConfigurationDescription:"Configure system settings",gauSakhi:"GauSakhi",biogasSangh:"BiogasSangh",shuddhiDoot:"ShuddhiDoot",urjaVyapar:"UrjaVyapar",urjaNeta:"UrjaNeta",admin:"Admin"},hi:{title:"  ",subtitle:" ,     ",users:"",auditLogs:" ",systemHealth:" ",alerts:"",searchUsers:"  ...",filterByRole:"    ",filterByStatus:"    ",all:"",active:"",inactive:"",suspended:"",addUser:" ",exportData:"  ",name:"",email:"",role:"",status:"",lastLogin:" ",actions:"",view:"",edit:" ",delete:"",systemMetrics:" ",cpu:"",memory:"",disk:"",network:"",database:"",uptime:"",activeUsers:" ",lastBackup:" ",healthy:"",warning:"",critical:"",security:"",performance:"",system:"",user:"",low:"",medium:"",high:"",open:"",acknowledged:"",resolved:"",assign:" ",acknowledge:" ",resolve:" ",noActiveAlerts:"   ",systemStatus:" ",diskUsage:" ",userManagement:" ",timestamp:"",resource:"",ipAddress:"IP ",success:"",failure:"",quickActions:" ",addUserDescription:"   ",securitySettings:" ",securitySettingsDescription:"    ",backupManagement:" ",backupManagementDescription:"   ",systemConfiguration:" ",systemConfigurationDescription:"    ",gauSakhi:"",biogasSangh:" ",shuddhiDoot:"",urjaVyapar:" ",urjaNeta:" ",admin:""}}[f];d.useEffect(()=>{const A=[{id:"1",name:"Rajesh Kumar",email:"rajesh@saubhagya.com",role:"GauSakhi",status:"active",lastLogin:new Date(Date.now()-72e5),permissions:["cattle:read","cattle:write","location:read"],createdAt:new Date(Date.now()-2592e6)},{id:"2",name:"Priya Sharma",email:"priya@saubhagya.com",role:"BiogasSangh",status:"active",lastLogin:new Date(Date.now()-36e5),permissions:["cluster:read","cluster:write","iot:read","reports:read"],createdAt:new Date(Date.now()-216e7)},{id:"3",name:"Amit Singh",email:"amit@saubhagya.com",role:"ShuddhiDoot",status:"active",lastLogin:new Date(Date.now()-18e5),permissions:["purification:read","purification:write","maintenance:read"],createdAt:new Date(Date.now()-1728e6)},{id:"4",name:"Sita Devi",email:"sita@saubhagya.com",role:"UrjaVyapar",status:"active",lastLogin:new Date(Date.now()-27e5),permissions:["sales:read","sales:write","inventory:read","customers:read"],createdAt:new Date(Date.now()-1296e6)},{id:"5",name:"Vikram Patel",email:"vikram@saubhagya.com",role:"UrjaNeta",status:"active",lastLogin:new Date(Date.now()-108e5),permissions:["dashboard:read","reports:read","analytics:read"],createdAt:new Date(Date.now()-864e6)}];s(A)},[]),d.useEffect(()=>{const A=[{id:"1",user:"Rajesh Kumar",action:"LOGIN",resource:"Authentication",timestamp:new Date(Date.now()-72e5),ipAddress:"192.168.1.100",status:"success",details:"User logged in successfully"},{id:"2",user:"Priya Sharma",action:"UPDATE",resource:"Cluster Data",timestamp:new Date(Date.now()-36e5),ipAddress:"192.168.1.101",status:"success",details:"Updated cluster performance metrics"},{id:"3",user:"Amit Singh",action:"CREATE",resource:"Maintenance Schedule",timestamp:new Date(Date.now()-18e5),ipAddress:"192.168.1.102",status:"success",details:"Created new maintenance schedule for Compressor Unit A"},{id:"4",user:"Unknown",action:"LOGIN",resource:"Authentication",timestamp:new Date(Date.now()-9e5),ipAddress:"203.45.67.89",status:"failure",details:"Failed login attempt with invalid credentials"}];r(A)},[]),d.useEffect(()=>{const A=()=>{l({cpu:Math.random()*30+20,memory:Math.random()*40+30,disk:Math.random()*20+15,network:Math.random()*25+10,database:Math.random()>.8?"warning":"healthy",uptime:1296e6+Math.random()*60*60*1e3,activeUsers:Math.floor(Math.random()*20)+15,lastBackup:new Date(Date.now()-216e5)})};A();const F=setInterval(A,1e4);return()=>clearInterval(F)},[]),d.useEffect(()=>{const A=[{id:"1",type:"security",severity:"medium",message:"Multiple failed login attempts detected from IP 203.45.67.89",timestamp:new Date(Date.now()-9e5),status:"open"},{id:"2",type:"performance",severity:"low",message:"Database query response time increased by 15%",timestamp:new Date(Date.now()-27e5),status:"acknowledged",assignedTo:"System Admin"},{id:"3",type:"system",severity:"low",message:"Backup completed successfully",timestamp:new Date(Date.now()-216e5),status:"resolved"}];c(A)},[]);const T=A=>{switch(A){case"GauSakhi":return"bg-blue-100 text-blue-800";case"BiogasSangh":return"bg-green-100 text-green-800";case"ShuddhiDoot":return"bg-purple-100 text-purple-800";case"UrjaVyapar":return"bg-orange-100 text-orange-800";case"UrjaNeta":return"bg-indigo-100 text-indigo-800";case"Admin":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=A=>{switch(A){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=A=>{switch(A){case"low":return"bg-blue-100 text-blue-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=A=>{switch(A){case"security":return e.jsx(Be,{className:"h-4 w-4"});case"performance":return e.jsx($e,{className:"h-4 w-4"});case"system":return e.jsx(zs,{className:"h-4 w-4"});case"user":return e.jsx(st,{className:"h-4 w-4"});default:return e.jsx(we,{className:"h-4 w-4"})}},k=A=>{alert(`${A.toUpperCase()} export initiated for admin data`)},p=t.filter(A=>(N==="all"||A.role===N)&&(i==="all"||A.status===i)&&(A.name.toLowerCase().includes(u.toLowerCase())||A.email.toLowerCase().includes(u.toLowerCase()))),M=A=>{const F=Math.floor(A/864e5),L=Math.floor(A%(24*60*60*1e3)/(60*60*1e3));return`${F}d ${L}h`};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:v.title}),e.jsx("p",{className:"text-gray-600",children:v.subtitle})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>w(f==="en"?"hi":"en"),className:"px-3 py-1 text-sm bg-white rounded-md shadow-sm border border-gray-200 hover:bg-gray-50",children:f==="en"?"":"English"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(mt,{className:"h-4 w-4 inline mr-2"}),v.addUser]}),e.jsxs("button",{onClick:()=>k("pdf"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(lt,{className:"h-4 w-4 inline mr-2"}),v.exportData]}),e.jsxs("button",{onClick:()=>k("excel"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[e.jsx(lt,{className:"h-4 w-4 inline mr-2"}),"Excel"]})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>D("dashboard"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${S==="dashboard"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx($e,{className:"h-4 w-4 inline mr-2"}),"Dashboard"]}),e.jsxs("button",{onClick:()=>D("users"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${S==="users"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(st,{className:"h-4 w-4 inline mr-2"}),"Users"]}),e.jsxs("button",{onClick:()=>D("security"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${S==="security"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Be,{className:"h-4 w-4 inline mr-2"}),"Security"]}),e.jsxs("button",{onClick:()=>D("system"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${S==="system"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx($t,{className:"h-4 w-4 inline mr-2"}),"System"]}),e.jsxs("button",{onClick:()=>D("logs"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${S==="logs"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(zs,{className:"h-4 w-4 inline mr-2"}),"Audit Logs"]})]})}),S==="dashboard"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($e,{className:"h-6 w-6 text-blue-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:v.cpu}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.cpu.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(zs,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:v.memory}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.memory.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Be,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:v.activeUsers}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:n.activeUsers})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ae,{className:"h-6 w-6 text-orange-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:v.uptime}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:M(n.uptime)})]})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:v.alerts}),e.jsxs("div",{className:"space-y-3",children:[o.filter(A=>A.status!=="resolved").map(A=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:h(A.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.message}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(A.severity)}`,children:A.severity})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[A.timestamp.toLocaleString("hi-IN"),"  ",A.type]}),A.assignedTo&&e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[v.assign," to: ",A.assignedTo]})]})]},A.id)),o.filter(A=>A.status!=="resolved").length===0&&e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(be,{className:"h-8 w-8 mx-auto text-green-400 mb-2"}),e.jsx("p",{children:v.noActiveAlerts})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:v.systemStatus}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:v.database}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n.database==="healthy"?"bg-green-100 text-green-800":n.database==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.database==="healthy"?v.healthy:n.database==="warning"?v.warning:v.critical})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:v.diskUsage}),e.jsxs("span",{className:"text-sm font-medium",children:[n.disk.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:v.network}),e.jsxs("span",{className:"text-sm font-medium",children:[n.network.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:v.lastBackup}),e.jsx("span",{className:"text-sm font-medium",children:n.lastBackup.toLocaleString("hi-IN")})]})]})]})})]})]}),S==="users"&&e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:v.userManagement}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:v.searchUsers,value:u,onChange:A=>j(A.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:N,onChange:A=>x(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:v.all}),e.jsx("option",{value:"GauSakhi",children:v.gauSakhi}),e.jsx("option",{value:"BiogasSangh",children:v.biogasSangh}),e.jsx("option",{value:"ShuddhiDoot",children:v.shuddhiDoot}),e.jsx("option",{value:"UrjaVyapar",children:v.urjaVyapar}),e.jsx("option",{value:"UrjaNeta",children:v.urjaNeta}),e.jsx("option",{value:"Admin",children:v.admin})]}),e.jsxs("select",{value:i,onChange:A=>g(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:v.all}),e.jsx("option",{value:"active",children:v.active}),e.jsx("option",{value:"inactive",children:v.inactive}),e.jsx("option",{value:"suspended",children:v.suspended})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.user}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.role}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.lastLogin}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.actions})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(A=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),e.jsx("div",{className:"text-sm text-gray-500",children:A.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T(A.role)}`,children:A.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(A.status)}`,children:A.status==="active"?v.active:A.status==="inactive"?v.inactive:v.suspended})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.lastLogin.toLocaleString("hi-IN")}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:e.jsx(jt,{className:"h-4 w-4 inline"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900 mr-3",children:e.jsx(We,{className:"h-4 w-4 inline"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(wt,{className:"h-4 w-4 inline"})})]})]},A.id))})]})})]})}),S==="security"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:v.alerts}),e.jsxs("div",{className:"space-y-3",children:[o.filter(A=>A.status!=="resolved").map(A=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:h(A.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.message}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(A.severity)}`,children:A.severity})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[A.timestamp.toLocaleString("hi-IN"),"  ",A.type]}),A.assignedTo&&e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[v.assign," to: ",A.assignedTo]})]})]},A.id)),o.filter(A=>A.status!=="resolved").length===0&&e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(be,{className:"h-8 w-8 mx-auto text-green-400 mb-2"}),e.jsx("p",{children:v.noActiveAlerts})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:v.securitySettings}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:e.jsx(Be,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Two-Factor Authentication"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Secure user accounts with 2FA"})]})]}),e.jsxs("div",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:e.jsx(st,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Access Controls"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Manage role-based permissions"})]})]}),e.jsxs("div",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-red-50 text-red-700 ring-4 ring-white",children:e.jsx(we,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Threat Detection"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Monitor suspicious activities"})]})]})]})]})})]}),S==="system"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($e,{className:"h-6 w-6 text-blue-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:v.cpu}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.cpu.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(zs,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:v.memory}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[n.memory.toFixed(1),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Be,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:v.activeUsers}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:n.activeUsers})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ae,{className:"h-6 w-6 text-orange-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:v.uptime}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:M(n.uptime)})]})})]})})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:v.systemStatus}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:v.database}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n.database==="healthy"?"bg-green-100 text-green-800":n.database==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.database==="healthy"?v.healthy:n.database==="warning"?v.warning:v.critical})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:v.diskUsage}),e.jsxs("span",{className:"text-sm font-medium",children:[n.disk.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:v.network}),e.jsxs("span",{className:"text-sm font-medium",children:[n.network.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:v.lastBackup}),e.jsx("span",{className:"text-sm font-medium",children:n.lastBackup.toLocaleString("hi-IN")})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:v.quickActions}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:e.jsx(st,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),v.addUser]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:v.addUserDescription})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:e.jsx(Be,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),v.securitySettings]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:v.securitySettingsDescription})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-purple-50 text-purple-700 ring-4 ring-white",children:e.jsx(zs,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),v.backupManagement]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:v.backupManagementDescription})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-orange-50 text-orange-700 ring-4 ring-white",children:e.jsx($t,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),v.systemConfiguration]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:v.systemConfigurationDescription})]})]})]})]})})]}),S==="logs"&&e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:v.auditLogs}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.timestamp}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.user}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.action}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.resource}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.ipAddress}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.status})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(A=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.timestamp.toLocaleString("hi-IN")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.user}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.action}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.resource}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.ipAddress}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${A.status==="success"?"bg-green-100 text-green-800":A.status==="failure"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:A.status==="success"?v.success:A.status==="failure"?v.failure:v.warning})})]},A.id))})]})})]})})]})}const on="http://localhost:8080",_a="http://localhost:8081/auth/api";function uo(){const{trackModuleUsage:t,updateBreadcrumbs:s}=sa(),{user:a}=as(),[r,n]=d.useState([]),[l,o]=d.useState([]),[c,u]=d.useState([]),[j,N]=d.useState("feasibility"),[x,i]=d.useState(!0);d.useEffect(()=>{t("urjasanyojak","view"),s([{label:"UrjaSanyojak Dashboard",url:"/urjasanyojak",module:"business-dev"}]),g()},[]);const g=async()=>{i(!0);try{await Promise.all([f(),w(),S()])}catch{}i(!1)},f=async()=>{try{const m=await fetch(`${on}/api/iot/analytics/feasibility/projects`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(m.ok){const h=await m.json();n(h)}else n([])}catch{n([])}},w=async()=>{try{const m=await fetch(`${_a}/subsidies/applications`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(m.ok){const h=await m.json();o(h)}else o([])}catch{o([])}},S=async()=>{try{const m=await fetch(`${_a}/business/leads`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(m.ok){const h=await m.json();u(h)}else u([])}catch{u([])}},D=async(m,h)=>{try{const k=await fetch(`${on}/api/iot/analytics/feasibility/calculate`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({farmerId:m,cattleCount:h,location:"default",userId:a?.id})});if(k.ok){const p=await k.json();return await f(),p}}catch{}},b=async m=>{try{const h=await fetch(`${_a}/subsidies/apply`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({...m,submittedBy:a?.id,submissionDate:new Date})});if(h.ok){const k=await h.json();return await w(),alert(`Subsidy application ${k.applicationNumber} submitted successfully!`),k}}catch{alert("Error submitting application. Please try again.")}},v=async(m,h)=>{try{(await fetch(`${_a}/business/leads/${m}/update`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({stage:h,updatedBy:a?.id,lastContact:new Date})})).ok&&await S()}catch{}},T=m=>{switch(m){case"approved":case"completed":case"disbursed":case"conversion":return"bg-green-100 text-green-800 border-green-200";case"in_progress":case"under_review":case"assessment":case"negotiation":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},y=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(m);return x?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading business development dashboard..."})]})}):e.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(Te,{className:"text-green-600"}),"UrjaSanyojak Dashboard"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Business Development & Project Pipeline Management"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Business Development Officer"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a?.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Active Projects"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.length})]}),e.jsx(Qa,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Subsidy Applications"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.length})]}),e.jsx(Zr,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Business Leads"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.length})]}),e.jsx(st,{className:"h-8 w-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Conversion Rate"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"65%"})]}),e.jsx(Vt,{className:"h-8 w-8 text-orange-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"feasibility",label:"Feasibility Projects",icon:Qa},{id:"subsidies",label:"Subsidy Applications",icon:Zr},{id:"pipeline",label:"Business Pipeline",icon:Te}].map(({id:m,label:h,icon:k})=>e.jsxs("button",{onClick:()=>N(m),className:`py-4 px-2 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors ${j===m?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(k,{className:"h-4 w-4"}),h]},m))})}),e.jsxs("div",{className:"p-6",children:[j==="feasibility"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Feasibility Assessment Projects"}),e.jsxs("button",{onClick:()=>D("new-farmer",25),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Jr,{className:"h-4 w-4"}),"New Assessment"]})]}),e.jsx("div",{className:"space-y-4",children:r.map(m=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:m.farmerName}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${T(m.status)}`,children:m.status.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),m.location]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Cattle:"})," ",m.cattleCount]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Production:"})," ",m.estimatedProduction," m/day"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ROI:"})," ",m.roiMonths," months"]})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Investment Required:"})," ",y(m.investmentRequired)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Subsidy Amount:"})," ",y(m.subsidyAmount)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>D(m.farmerId,m.cattleCount),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Recalculate"}),e.jsx("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"View Details"})]})]})},m.id))})]}),j==="subsidies"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Subsidy Applications"}),e.jsxs("button",{onClick:()=>b({farmerId:"FARM-NEW",farmerName:"New Farmer",subsidyType:"central",amount:5e5}),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4"}),"New Application"]})]}),e.jsx("div",{className:"space-y-4",children:l.map(m=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:m.farmerName}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${T(m.status)}`,children:m.status.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Application #:"})," ",m.applicationNumber]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",m.subsidyType.toUpperCase()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Amount:"})," ",y(m.amount)]})]}),m.remarks&&e.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Remarks:"})," ",m.remarks]})]}),e.jsxs("div",{className:"text-right text-sm text-gray-500",children:["Applied: ",m.applicationDate.toLocaleDateString()]})]})},m.id))})]}),j==="pipeline"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Business Pipeline"}),e.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Jr,{className:"h-4 w-4"}),"Add Lead"]})]}),e.jsx("div",{className:"space-y-4",children:c.map(m=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:m.farmerName}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${T(m.stage)}`,children:m.stage.replace("_"," ").toUpperCase()}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.interest==="high"?"bg-red-100 text-red-800":m.interest==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[m.interest.toUpperCase()," INTEREST"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ba,{className:"h-4 w-4"}),m.phone]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),m.location]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Cattle:"})," ",m.cattleCount]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Assigned:"})," ",m.assignedTo]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ae,{className:"h-4 w-4"}),"Last Contact: ",m.lastContact.toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"h-4 w-4"}),"Next Follow-up: ",m.nextFollowUp.toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:m.stage,onChange:h=>v(m.id,h.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[e.jsx("option",{value:"contact",children:"Contact"}),e.jsx("option",{value:"assessment",children:"Assessment"}),e.jsx("option",{value:"proposal",children:"Proposal"}),e.jsx("option",{value:"negotiation",children:"Negotiation"}),e.jsx("option",{value:"conversion",children:"Conversion"})]}),e.jsx("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"Contact"})]})]})},m.id))})]})]})]})]})}const xo="http://localhost:8080",dn="http://localhost:8080",ho="http://localhost:8083";function go(){const{user:t}=as(),{trackModuleUsage:s,updateBreadcrumbs:a}=sa(),[r,n]=d.useState([]),[l,o]=d.useState([]),[c,u]=d.useState({totalBiogas:0,dailyProduction:0,efficiency:0,activePlants:0,alerts:0}),[j,N]=d.useState(!1),[x,i]=d.useState(!1),[g,f]=d.useState(""),[w,S]=d.useState([]),[D,b]=d.useState(null),[v,T]=d.useState("en"),m={en:{title:"Biogas Cluster Management Dashboard",subtitle:"Real-time monitoring and management of biogas operations",clusterOverview:"Cluster Overview",totalGaushalas:"Total Gaushalas",activeDigesters:"Active Digesters",totalBiogas:"Total Biogas (m)",todayCollection:"Today's Collection",pickupSchedule:"Pickup Schedule",alerts:"Alerts",alertManagement:"Alert Management",voiceSummary:"Voice Summary",speaking:"Speaking...",speakCommand:"Speak a command",startListening:"Start Listening",stopListening:"Stop Listening",exportData:"Export Data",exportPDF:"Export PDF",exportExcel:"Export Excel",recentActivity:"Recent Activity",systemHealth:"System Health",performance:"Performance",revenue:"Revenue",carbonCredits:"Carbon Credits",totalBiogasLabel:"Total Biogas",dailyProduction:"Daily Production",efficiency:"Efficiency",activePlants:"Active Plants",alertsLabel:"Alerts",ch4Level:"CH4 Level (Methane)",pressure:"Pressure",temperature:"Temperature",pickupScheduleLabel:"Pickup Schedule",cluster:"Cluster",time:"Time",truck:"Truck",quantity:"Quantity",status:"Status",action:"Action",scheduled:"Scheduled",edit:"Edit",newSchedule:"New Schedule",quickActions:"Quick Actions",pickupScheduleAction:"Pickup Schedule",clusterAnalysis:"Cluster Analysis",alertManagementLabel:"Alert Management",maintenance:"Maintenance"},hi:{title:"   ",subtitle:"   -   ",clusterOverview:" ",totalGaushalas:" ",activeDigesters:" ",totalBiogas:"  (m)",todayCollection:"  ",pickupSchedule:" ",alerts:"",alertManagement:" ",voiceSummary:" ",speaking:"  ...",speakCommand:"  ",startListening:"  ",stopListening:"  ",exportData:"  ",exportPDF:"PDF  ",exportExcel:"Excel  ",recentActivity:"  ",systemHealth:" ",performance:"",revenue:"",carbonCredits:" ",totalBiogasLabel:" ",dailyProduction:" ",efficiency:"",activePlants:" ",alertsLabel:"",ch4Level:"CH4  ()",pressure:"",temperature:"",pickupScheduleLabel:" ",cluster:"",time:"",truck:"",quantity:"",status:"",action:"",scheduled:"",edit:" ",newSchedule:" ",quickActions:" ",pickupScheduleAction:" ",clusterAnalysis:" ",alertManagementLabel:" ",maintenance:""}}[v];d.useEffect(()=>{s("urjasanyojak"),a([{label:"UrjaSanyojak",url:"/",module:"urjasanyojak"},{label:"Dashboard",url:"/",module:"urjasanyojak"}])},[]);const h=async()=>{try{const C=localStorage.getItem("token");if(!C)return;const I=await fetch(`${xo}/api/iot/devices?type=biogas_digester&gaushalaId=${t?.id}&status=ONLINE`,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}});if(I.ok){const U=await I.json();if(U.length>0){const W=U[0],z={ch4:W.ch4Concentration||0,pressure:W.pressure||0,temperature:W.temperature||0,timestamp:new Date(W.lastUpdate||Date.now())};n(Z=>[z,...Z.slice(0,19)])}}}catch{}};d.useEffect(()=>{h();const C=setInterval(h,1e4);return()=>clearInterval(C)},[t]);const k=async()=>{try{const C=localStorage.getItem("token");if(!C)return;const I=await fetch(`${ho}/sales/schedules?gaushalaId=${t?.id}&type=pickup`,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}});if(I.ok){const W=(await I.json()).map(z=>({id:z.id,clusterId:z.clusterId||t?.clusterId,scheduledTime:new Date(z.scheduledTime),truckId:z.vehicleId||z.truckId,status:z.status?.toLowerCase()||"scheduled",estimatedVolume:z.estimatedVolume||z.quantity}));o(W)}}catch{o([])}};d.useEffect(()=>{k()},[t]);const p=async()=>{try{const C=localStorage.getItem("token");if(!C)return;const I=await fetch(`${dn}/production/metrics?gaushalaId=${t?.id}&timeframe=daily`,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}});if(I.ok){const U=await I.json();u({totalBiogas:U.totalBiogas||0,dailyProduction:U.dailyProduction||0,efficiency:U.efficiency||r[0]?.ch4||0,activePlants:U.activePlants||0,alerts:U.alerts||0})}}catch{if(r.length>0){const I=r[0];u(U=>({...U,efficiency:I.ch4,alerts:I.pressure>2.5||I.temperature>40?2:0}))}}};d.useEffect(()=>{p();const C=setInterval(p,6e4);return()=>clearInterval(C)},[t,r]);const M=()=>{if("speechSynthesis"in window){N(!0);const C=new SpeechSynthesisUtterance(` :   ${Math.round(c.totalBiogas)}  ,   ${Math.round(c.dailyProduction)}  ,  ${Math.round(c.efficiency)} ,   ${c.activePlants},  ${c.alerts}`);C.lang="hi-IN",C.onend=()=>N(!1),speechSynthesis.speak(C)}},A=C=>{try{const I=localStorage.getItem("token");if(!I)return;const U=fetch(`${dn}/production/export?gaushalaId=${t?.id}&format=${C}`,{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});alert(`${C.toUpperCase()} export initiated for cluster data`)}catch{alert("Export failed. Please try again.")}},F=C=>{switch(C){case"scheduled":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=C=>{switch(C){case"scheduled":return"";case"in-progress":return" ";case"completed":return"";case"cancelled":return"";default:return""}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:m.title}),e.jsx("p",{className:"text-gray-600",children:"BiogasSangh Cluster Manager Dashboard"})]}),e.jsx("button",{onClick:()=>T(v==="en"?"hi":"en"),className:"px-3 py-1 text-sm bg-white rounded-md shadow-sm border border-gray-200 hover:bg-gray-50",children:v==="en"?"":"English"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:M,disabled:j,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[e.jsx(ea,{className:"h-4 w-4"}),j?m.speaking:m.voiceSummary]}),e.jsxs("button",{onClick:()=>A("pdf"),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(lt,{className:"h-4 w-4"}),"PDF"]}),e.jsxs("button",{onClick:()=>A("excel"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[e.jsx(lt,{className:"h-4 w-4"}),"Excel"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ks,{className:"h-6 w-6 text-blue-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:m.totalBiogasLabel}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[Math.round(c.totalBiogas)," m"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Te,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:m.dailyProduction}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[Math.round(c.dailyProduction)," m"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ze,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:m.efficiency}),e.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[Math.round(c.efficiency),"%"]})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(zs,{className:"h-6 w-6 text-orange-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:m.activePlants}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:c.activePlants})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(we,{className:"h-6 w-6 text-red-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:m.alertsLabel}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:c.alerts})]})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:m.ch4Level}),e.jsx("div",{className:"space-y-3",children:r.slice(0,10).map((C,I)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:C.timestamp.toLocaleTimeString("hi-IN")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:[C.ch4.toFixed(1),"%"]}),e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${C.ch4}%`}})})]})]},I))})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:[m.pressure,"  ",m.temperature]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Na,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:m.pressure})]}),e.jsxs("span",{className:"text-lg font-medium",children:[r[0]?.pressure.toFixed(2)," bar"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Xa,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:m.temperature})]}),e.jsxs("span",{className:"text-lg font-medium",children:[r[0]?.temperature.toFixed(1),"C"]})]})]})]})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:m.pickupScheduleLabel}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:m.newSchedule})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m.cluster}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m.time}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m.truck}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m.quantity}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m.action})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(C=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.clusterId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.scheduledTime.toLocaleString("hi-IN")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.truckId}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[C.estimatedVolume," m"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(C.status)}`,children:L(C.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:m.edit})})]},C.id))})]})})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:m.quickActions}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-blue-50 text-blue-700 ring-4 ring-white",children:e.jsx(Xt,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),m.pickupScheduleAction]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"   "})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-green-50 text-green-700 ring-4 ring-white",children:e.jsx(Ze,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),m.clusterAnalysis]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"  "})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-purple-50 text-purple-700 ring-4 ring-white",children:e.jsx(we,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),m.alertManagementLabel]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"   "})]})]}),e.jsxs("button",{className:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg border border-gray-200 hover:border-gray-300",children:[e.jsx("div",{children:e.jsx("span",{className:"rounded-lg inline-flex p-3 bg-orange-50 text-orange-700 ring-4 ring-white",children:e.jsx(Ie,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[e.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),m.maintenance]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"  "})]})]})]})]})})]})}const wi=d.createContext(void 0),ra=()=>{const t=d.useContext(wi);if(!t)throw new Error("useExecutiveAnalytics must be used within ExecutiveAnalyticsProvider");return t},Si=({children:t})=>{const[s,a]=d.useState([{id:"revenue",name:"Monthly Revenue",value:125e6,unit:"",change:15.8,trend:"up",target:15e7,confidence:.92,category:"financial",priority:"high"},{id:"production",name:"Biogas Production",value:12500,unit:"m/day",change:12.5,trend:"up",target:15e3,confidence:.89,category:"operational",priority:"high"},{id:"carbon_credits",name:"Carbon Credits",value:450,unit:"tons CO2",change:22.1,trend:"up",target:500,confidence:.85,category:"environmental",priority:"high"},{id:"market_share",name:"Market Share",value:18.5,unit:"%",change:3.2,trend:"up",target:25,confidence:.78,category:"strategic",priority:"medium"},{id:"efficiency",name:"Operational Efficiency",value:87.3,unit:"%",change:5.1,trend:"up",target:90,confidence:.91,category:"operational",priority:"medium"},{id:"customer_satisfaction",name:"Customer Satisfaction",value:4.6,unit:"/5",change:-2.1,trend:"down",target:4.8,confidence:.83,category:"strategic",priority:"high"}]),[r,n]=d.useState([{id:"revenue_forecast",title:"Revenue Growth Acceleration",description:"Current trajectory suggests 18% quarterly growth, exceeding targets by 25Cr",impact:"positive",confidence:.87,category:"financial",actionRequired:!1,timeline:"Next Quarter",estimatedValue:25e6},{id:"carbon_opportunity",title:"Carbon Credit Market Expansion",description:"International markets showing 35% price premium - opportunity for 8Cr additional revenue",impact:"positive",confidence:.74,category:"environmental",actionRequired:!0,timeline:"3-6 months",estimatedValue:8e7},{id:"efficiency_risk",title:"Production Efficiency Plateau",description:"Three plants showing declining efficiency - risk of 12Cr revenue impact",impact:"negative",confidence:.82,category:"operational",actionRequired:!0,timeline:"Immediate",estimatedValue:-12e7}]),[l,o]=d.useState([{id:"market_expansion",name:"Regional Market Expansion",description:"Expand operations to 5 new high-potential regions with focus on rural communities",status:"in-progress",progress:65,budget:5e8,spent:32e7,roi:240,timeline:{start:"2024-01-01",end:"2024-12-31",milestones:[{name:"Site Selection",date:"2024-03-15",completed:!0},{name:"Regulatory Approval",date:"2024-06-30",completed:!0},{name:"Construction Phase",date:"2024-10-15",completed:!1},{name:"Operations Launch",date:"2024-12-31",completed:!1}]},riskLevel:"medium",owner:"Regional Development Team",category:"market-expansion",businessValue:"Increase market presence and revenue base",kpis:[{name:"New Regions",target:5,current:3,unit:"regions"},{name:"Revenue Increase",target:25,current:18,unit:"%"}]},{id:"ai_optimization",name:"AI-Driven Production Optimization",description:"Implement ML algorithms for biogas production efficiency and predictive maintenance",status:"planning",progress:25,budget:2e8,spent:5e7,roi:380,timeline:{start:"2024-06-01",end:"2024-11-30",milestones:[{name:"Algorithm Development",date:"2024-07-15",completed:!1},{name:"Pilot Testing",date:"2024-09-30",completed:!1},{name:"Full Deployment",date:"2024-11-30",completed:!1}]},riskLevel:"low",owner:"Technology Innovation Team",category:"technology",businessValue:"Improve operational efficiency and reduce costs",kpis:[{name:"Efficiency Gain",target:20,current:5,unit:"%"},{name:"Cost Reduction",target:15,current:0,unit:"%"}]},{id:"carbon_trading",name:"Carbon Credit Trading Platform",description:"Develop integrated platform for carbon credit generation and trading",status:"in-progress",progress:45,budget:15e7,spent:68e6,roi:450,timeline:{start:"2024-03-01",end:"2025-01-31",milestones:[{name:"Platform Design",date:"2024-05-15",completed:!0},{name:"Compliance Setup",date:"2024-08-30",completed:!0},{name:"Market Integration",date:"2024-12-15",completed:!1},{name:"Full Launch",date:"2025-01-31",completed:!1}]},riskLevel:"medium",owner:"Environmental Strategy Team",category:"strategic",businessValue:"Create new revenue stream from carbon credits",kpis:[{name:"Credits Generated",target:2e3,current:850,unit:"tons"},{name:"Revenue from Credits",target:80,current:35,unit:"Cr"}]},{id:"rural_digitization",name:"Rural Digitization Initiative",description:"Digital transformation of rural operations and farmer engagement",status:"planning",progress:15,budget:12e7,spent:18e6,roi:280,timeline:{start:"2024-08-01",end:"2025-06-30",milestones:[{name:"Technology Assessment",date:"2024-09-15",completed:!1},{name:"Pilot Implementation",date:"2024-12-31",completed:!1},{name:"Scale-up Phase",date:"2025-04-30",completed:!1},{name:"Full Deployment",date:"2025-06-30",completed:!1}]},riskLevel:"high",owner:"Digital Innovation Team",category:"operational",businessValue:"Improve farmer engagement and operational transparency",kpis:[{name:"Farmers Onboarded",target:1e4,current:1500,unit:"farmers"},{name:"Process Efficiency",target:30,current:8,unit:"%"}]}]),[c,u]=d.useState({creditsGenerated:450,creditsTarget:500,marketValue:675e5,projectedRevenue:85e6,co2Reduced:2250,certifications:["Gold Standard","VCS","CDM"],marketTrends:{currentPrice:15e4,projectedPrice:185e3,volatility:.12},esgRating:"A",environmentalScore:87,socialScore:82,governanceScore:88,totalCreditsIssued:420,averagePricePerCredit:165e3,complianceFrameworks:4,creditsRetired:380,creditsPending:70}),[j,N]=d.useState({marketShare:18.5,ranking:3,competitorCount:15,strengthScore:85,weaknessAreas:["Brand Recognition","Scale Limitations"],opportunities:["Government Policy Support","Carbon Market Growth","Technology Integration"],threats:["New Market Entrants","Regulatory Changes","Technology Disruption"],benchmarks:{efficiency:87,revenue:92,growth:85},highThreatCompetitors:2,keyOpportunities:3,overallCompetitiveStrength:85,marketGrowthRate:15.2,competitiveTrends:{innovation:82,customerSatisfaction:88,marketPresence:78}}),[x,i]=d.useState([]),[g,f]=d.useState(!1),[w,S]=d.useState(!1);d.useEffect(()=>{const p=setInterval(()=>{a(M=>M.map(A=>({...A,value:A.value+(Math.random()-.5)*(A.value*.01),change:A.change+(Math.random()-.5)*2})))},3e4);return()=>clearInterval(p)},[]);const D=async()=>{S(!0);try{await new Promise(M=>setTimeout(M,1500));const p=[{id:"market_trend_"+Date.now(),title:"Emerging Market Opportunity",description:`New government incentives in ${["Maharashtra","Gujarat","Punjab"][Math.floor(Math.random()*3)]} creating 25% growth potential`,impact:"positive",confidence:.76,category:"strategic",actionRequired:!0,timeline:"2-4 months",estimatedValue:35e6}];n(M=>[...p,...M.slice(0,2)])}finally{S(!1)}},b=p=>{i(M=>[p,...M.slice(0,19)])},v=(p,M)=>{a(A=>A.map(F=>F.id===p?{...F,...M}:F))},T=(p,M)=>{o(A=>A.map(F=>F.id===p?{...F,...M}:F))},y=Math.round(s.reduce((p,M)=>p+M.value/M.target*100,0)/s.length),m=r.filter(p=>p.impact==="negative"&&p.actionRequired&&p.confidence>.7),h=r.filter(p=>p.impact==="positive"&&p.confidence>.7).sort((p,M)=>(M.estimatedValue||0)-(p.estimatedValue||0)),k={kpis:s,insights:r,initiatives:l,carbonMetrics:c,competitiveData:j,voiceHistory:x,loading:g,refreshing:w,refreshData:D,addVoiceQuery:b,updateKPI:v,updateInitiative:T,overallPerformanceScore:y,criticalAlerts:m,topOpportunities:h};return e.jsx(wi.Provider,{value:k,children:t})},$r=d.createContext({value:"",onValueChange:()=>{}}),St=d.forwardRef(({className:t,value:s,onValueChange:a,defaultValue:r,children:n,...l},o)=>{const[c,u]=d.useState(r||""),j=s!==void 0?s:c,N=a||u;return e.jsx($r.Provider,{value:{value:j,onValueChange:N},children:e.jsx("div",{ref:o,className:te("w-full",t),...l,children:n})})});St.displayName="Tabs";const Ct=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Ct.displayName="TabsList";const xe=d.forwardRef(({className:t,value:s,children:a,...r},n)=>{const{value:l,onValueChange:o}=d.useContext($r);return e.jsx("button",{ref:n,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",l===s&&"bg-background text-foreground shadow-sm",t),onClick:()=>o(s),...r,children:a})});xe.displayName="TabsTrigger";const ce=d.forwardRef(({className:t,value:s,children:a,...r},n)=>{const{value:l}=d.useContext($r);return l!==s?null:e.jsx("div",{ref:n,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r,children:a})});ce.displayName="TabsContent";const po=()=>{const{user:t,isExecutive:s}=as(),{navigationState:a,sessionMetrics:r,navigateToModule:n}=sa(),{kpis:l}=ra(),[o,c]=d.useState([{id:"unified-revenue",name:"Total Platform Revenue",value:1875e4,unit:"",change:22.5,trend:"up",modules:["urjasanyojak","shuddhi-doot","urja-vyapar"],priority:"high",lastUpdated:new Date},{id:"operational-efficiency",name:"Cross-Platform Efficiency",value:91.2,unit:"%",change:8.3,trend:"up",modules:["urjasanyojak","shuddhi-doot"],priority:"high",lastUpdated:new Date},{id:"executive-decisions",name:"Strategic Decisions This Week",value:12,unit:"decisions",change:-15.2,trend:"down",modules:["urja-neta"],priority:"medium",lastUpdated:new Date}]),[u,j]=d.useState([{id:"cross-platform-synergy",title:"Cross-Platform Operational Synergy",description:"UrjaSanyojak and ShuddhiDoot integration showing 15% efficiency gain in biogas quality control",impact:"positive",confidence:94,actionRequired:!1,modules:["urjasanyojak","shuddhi-doot"],value:"+2.3Cr",timeframe:"Q1 2025"},{id:"sales-production-gap",title:"Sales-Production Alignment Gap",description:"UrjaVyapar sales commitments exceeding UrjaSanyojak production capacity by 12%",impact:"negative",confidence:87,actionRequired:!0,modules:["urjasanyojak","urja-vyapar"],value:"Risk: 1.8Cr",timeframe:"Immediate"},{id:"quality-premium-opportunity",title:"Premium Quality Market Opportunity",description:"ShuddhiDoot purity levels enabling 25% premium pricing in international markets",impact:"positive",confidence:82,actionRequired:!0,modules:["shuddhi-doot","urja-vyapar"],value:"+4.2Cr",timeframe:"6 months"}]),[N,x]=d.useState([{id:"weekly-exec-review",title:"Weekly Executive Review",participants:["Dr. Rajesh Kumar","Priya Sharma","Amit Patel"],status:"scheduled",startTime:new Date(Date.now()+2*60*60*1e3),duration:60,modules:["urjasanyojak","shuddhi-doot","urja-vyapar","urja-neta"]},{id:"production-sales-sync",title:"Production-Sales Alignment",participants:["Operations Team","Sales Team"],status:"active",startTime:new Date(Date.now()-30*60*1e3),duration:90,modules:["urjasanyojak","urja-vyapar"]}]),[i,g]=d.useState(!1),f=D=>D>=1e7?`${(D/1e7).toFixed(1)}Cr`:D>=1e5?`${(D/1e5).toFixed(1)}L`:`${D.toLocaleString()}`,w=async()=>{g(!0),await new Promise(D=>setTimeout(D,2e3)),c(D=>D.map(b=>({...b,lastUpdated:new Date}))),g(!1)},S=D=>{n(D)};return s()?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Executive Command Center"}),e.jsx("p",{className:"text-gray-600",children:"Unified platform oversight and strategic decision support"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(V,{variant:"default",className:"bg-gold-100 text-gold-800 border-gold-300",children:"Executive Access"}),e.jsxs(q,{onClick:w,disabled:i,variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(us,{className:`h-4 w-4 ${i?"animate-spin":""}`}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsxs(St,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(Ct,{className:"grid w-full grid-cols-5",children:[e.jsx(xe,{value:"overview",children:"Platform Overview"}),e.jsx(xe,{value:"insights",children:"Strategic Insights"}),e.jsx(xe,{value:"collaboration",children:"Collaboration"}),e.jsx(xe,{value:"performance",children:"Performance"}),e.jsx(xe,{value:"reports",children:"Executive Reports"})]}),e.jsxs(ce,{value:"overview",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(D=>e.jsxs(P,{className:"relative",children:[e.jsx(_,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($,{className:"text-sm font-medium",children:D.name}),e.jsx(V,{variant:D.priority==="high"?"default":"secondary",className:"text-xs",children:D.priority})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:D.unit===""?f(D.value):`${D.value}${D.unit}`}),e.jsxs("div",{className:`flex items-center text-sm ${D.trend==="up"?"text-green-600":"text-red-600"}`,children:[e.jsx(Te,{className:`h-4 w-4 mr-1 ${D.trend==="down"?"rotate-180":""}`}),Math.abs(D.change),"%"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Source Modules:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:D.modules.map(b=>e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>S(b),className:"h-6 px-2 text-xs bg-blue-50 hover:bg-blue-100 text-blue-700",children:b.replace("-","")},b))})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Updated: ",D.lastUpdated.toLocaleTimeString()]})]})})]},D.id))}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center space-x-2",children:[e.jsx(bs,{className:"h-5 w-5"}),e.jsx("span",{children:"Platform Module Status"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(er,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-900",children:"UrjaSanyojak"}),e.jsx("div",{className:"text-sm text-green-700",children:"Active"})]})]}),e.jsx(V,{variant:"default",className:"bg-green-100 text-green-800 border-green-300",children:"99.2%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Us,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-900",children:"ShuddhiDoot"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Active"})]})]}),e.jsx(V,{variant:"default",className:"bg-blue-100 text-blue-800 border-blue-300",children:"98.7%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-purple-900",children:"UrjaVyapar"}),e.jsx("div",{className:"text-sm text-purple-700",children:"Active"})]})]}),e.jsx(V,{variant:"default",className:"bg-purple-100 text-purple-800 border-purple-300",children:"97.9%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gold-50 rounded-lg border border-gold-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(wa,{className:"h-8 w-8 text-gold-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gold-900",children:"UrjaNeta"}),e.jsx("div",{className:"text-sm text-gold-700",children:"Executive"})]})]}),e.jsx(V,{variant:"default",className:"bg-gold-100 text-gold-800 border-gold-300",children:"100%"})]})]})})]})]}),e.jsx(ce,{value:"insights",className:"space-y-6",children:e.jsx("div",{className:"space-y-4",children:u.map(D=>e.jsxs(P,{className:`border-l-4 ${D.impact==="positive"?"border-l-green-500 bg-green-50":D.impact==="negative"?"border-l-red-500 bg-red-50":"border-l-blue-500 bg-blue-50"}`,children:[e.jsx(_,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx($,{className:"text-lg",children:D.title}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(V,{variant:"outline",className:"text-xs",children:["Confidence: ",D.confidence,"%"]}),e.jsx(V,{variant:"secondary",className:"text-xs",children:D.timeframe}),D.value&&e.jsx(V,{variant:D.impact==="positive"?"default":"destructive",className:"text-xs",children:D.value})]})]}),D.actionRequired&&e.jsxs(q,{variant:"outline",size:"sm",children:[e.jsx(Vt,{className:"h-4 w-4 mr-1"}),"Action Required"]})]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-700 mb-4",children:D.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:D.modules.map(b=>e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>S(b),className:"h-6 px-2 text-xs",children:b},b))}),e.jsxs(q,{variant:"outline",size:"sm",children:[e.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Generate Report"]})]})]})]},D.id))})}),e.jsx(ce,{value:"collaboration",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center space-x-2",children:[e.jsx(mr,{className:"h-5 w-5"}),e.jsx("span",{children:"Active Sessions"})]})}),e.jsxs(E,{className:"space-y-4",children:[N.filter(D=>D.status==="active").map(D=>e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-green-900",children:D.title}),e.jsx(V,{variant:"default",className:"bg-green-100 text-green-800",children:"Live"})]}),e.jsxs("p",{className:"text-sm text-green-700 mb-2",children:["Participants: ",D.participants.join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-green-600",children:["Started: ",Math.floor((Date.now()-D.startTime.getTime())/6e4),"m ago"]}),e.jsxs(q,{variant:"outline",size:"sm",children:[e.jsx(mr,{className:"h-4 w-4 mr-1"}),"Join"]})]})]},D.id)),N.filter(D=>D.status==="scheduled").map(D=>e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-blue-900",children:D.title}),e.jsx(V,{variant:"secondary",children:"Scheduled"})]}),e.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:["Participants: ",D.participants.join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-blue-600",children:["Starts: ",D.startTime.toLocaleTimeString()]}),e.jsxs(q,{variant:"outline",size:"sm",children:[e.jsx(Ie,{className:"h-4 w-4 mr-1"}),"Add to Calendar"]})]})]},D.id))]})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center space-x-2",children:[e.jsx(Yn,{className:"h-5 w-5"}),e.jsx("span",{children:"Executive Actions"})]})}),e.jsxs(E,{className:"space-y-3",children:[e.jsxs(q,{variant:"outline",className:"w-full justify-start",children:[e.jsx(mr,{className:"h-4 w-4 mr-2"}),"Start Executive Meeting"]}),e.jsxs(q,{variant:"outline",className:"w-full justify-start",children:[e.jsx(xl,{className:"h-4 w-4 mr-2"}),"Share Cross-Module Insights"]}),e.jsxs(q,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Create Strategic Document"]}),e.jsxs(q,{variant:"outline",className:"w-full justify-start",children:[e.jsx(lt,{className:"h-4 w-4 mr-2"}),"Export Unified Report"]})]})]})]})}),e.jsx(ce,{value:"performance",className:"space-y-6",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),e.jsx("span",{children:"Platform Performance Metrics"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1.2s"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Avg Load Time"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.8%"}),e.jsx("div",{className:"text-sm text-green-700",children:"Platform Uptime"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"2.1s"}),e.jsx("div",{className:"text-sm text-purple-700",children:"SSO Response"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"94.2%"}),e.jsx("div",{className:"text-sm text-orange-700",children:"User Satisfaction"})]})]})})]})}),e.jsx(ce,{value:"reports",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(q,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(Ge,{className:"h-6 w-6"}),e.jsx("span",{children:"Weekly Executive Summary"})]}),e.jsxs(q,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(Ze,{className:"h-6 w-6"}),e.jsx("span",{children:"Cross-Module Analytics"})]}),e.jsxs(q,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(Vt,{className:"h-6 w-6"}),e.jsx("span",{children:"Strategic Planning Report"})]}),e.jsxs(q,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(Qs,{className:"h-6 w-6"}),e.jsx("span",{children:"Performance Review"})]}),e.jsxs(q,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(Bt,{className:"h-6 w-6"}),e.jsx("span",{children:"Financial Overview"})]}),e.jsxs(q,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[e.jsx(st,{className:"h-6 w-6"}),e.jsx("span",{children:"Team Productivity"})]})]})})]})]}):e.jsxs(hs,{className:"m-6",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsx(Ns,{children:"Executive Command Center requires executive-level access."})]})},fo=()=>{const{trackModuleUsage:t,updateBreadcrumbs:s}=sa();return d.useEffect(()=>{t("urja-neta"),s([{label:"Executive",url:"/executive",module:"urja-neta"},{label:"Command Center",url:"/executive",module:"urja-neta"}])},[]),e.jsx(Si,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Executive Command Center"}),e.jsx("p",{className:"text-gray-600",children:"Unified platform analytics and cross-module insights for senior leadership"})]})}),e.jsx(po,{})]})})},jo={},Ci=jo?.VITE_API_URL||"http://localhost:8086/gaushala-service",tt="http://localhost:8086/gaushala-service",Se={breeds:null,species:null,genders:null,colors:null,locations:null,cacheTimestamp:{breeds:0,species:0,genders:0,colors:0,locations:0},CACHE_DURATION:5*60*1e3};function Di(t){const s=new Date,a=s.getFullYear()-t;return new Date(a,s.getMonth(),s.getDate()).toISOString()}function Br(t){const s=new Date(t),a=new Date;let r=a.getFullYear()-s.getFullYear();const n=a.getMonth()-s.getMonth();return(n<0||n===0&&a.getDate()<s.getDate())&&r--,r}async function ie(t,s={}){try{const a=localStorage.getItem("saubhagya_jwt_token"),r={"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...s.headers},n=await fetch(`${Ci}${t}`,{...s,headers:r}),l=await n.json();return n.ok?{success:!0,data:l}:{success:!1,error:l.message||`HTTP error! status: ${n.status}`}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}}const yo={async getStats(){return ie("/api/dashboard/stats")},async getRecentCollections(t=10){return ie(`/api/dashboard/recent-collections?limit=${t}`)},async getTopPerformers(t=5){return ie(`/api/dashboard/top-performers?limit=${t}`)}},ds={async getAllCattle(t=0,s=100){return ie(`/api/v1/gaushala/cattle?page=${t}&size=${s}`)},async getCattleById(t){return ie(`/api/v1/gaushala/cattle/${t}`)},async getCattleByRfid(t){return ie(`/api/v1/cattle/rfid/${encodeURIComponent(t)}`)},async createCattle(t){return ie("/api/v1/gaushala/cattle",{method:"POST",body:JSON.stringify(t)})},async updateCattle(t,s){return ie(`/api/v1/gaushala/cattle/${t}`,{method:"PUT",body:JSON.stringify(s)})},async deleteCattle(t){return ie(`/api/v1/gaushala/cattle/${t}`,{method:"DELETE"})},async scanRfid(){return new Promise(t=>{setTimeout(()=>{t({success:!0,data:{rfidTag:`RFID-${Date.now()}`}})},2e3)})},async updateHealth(t,s,a){const r={health:s};return this.updateCattle(t,r)},async addMedicalRecord(t,s){return ie(`/api/v1/cattle/${t}/medical-records`,{method:"POST",body:JSON.stringify(s)})},async uploadPhoto(t,s){const a=new FormData;a.append("photo",s);try{const r=localStorage.getItem("saubhagya_jwt_token"),n=await fetch(`${Ci}/api/v1/cattle/${t}/photo`,{method:"POST",headers:{...r&&{Authorization:`Bearer ${r}`}},body:a}),l=await n.json();return n.ok?{success:!0,data:l}:{success:!1,error:l.message||`HTTP error! status: ${n.status}`}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}},vo={async getAllTransactions(){return ie("/api/v1/transactions")},async getTransactionById(t){return ie(`/api/v1/transactions/${t}`)},async createTransaction(t){try{const{BiogasServiceClient:s}=await nt(async()=>{const{BiogasServiceClient:r}=await Promise.resolve().then(()=>Qc);return{BiogasServiceClient:r}},void 0),a=await s.recordContribution({cattleId:t.cattleId,dungWeight:t.dungWeight,dungQuality:t.dungQuality,workerId:t.worker,notes:t.notes,digestorId:t.digestorId});return{success:a.success||!0,data:a.data||a}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async updateTransaction(t,s){return ie(`/api/v1/transactions/${t}`,{method:"PUT",body:JSON.stringify(s)})},async processPayment(t,s){return ie(`/api/v1/transactions/${t}/payment`,{method:"POST",body:JSON.stringify({paymentMethod:s})})},async getTransactionsByDigestor(t){return ie(`/api/v1/transactions/digestor/${t}`)},async getTransactionsByWorker(t){return ie(`/api/v1/transactions/worker/${t}`)},async getTransactionsByCattle(t){return ie(`/api/v1/transactions/cattle/${t}`)}},Is={async getAllMedicines(t=0,s=20){try{const a=await fetch(`${tt}/api/v1/gaushala/medicines?page=${t}&size=${s}`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});return a.ok?{success:!0,data:await a.json()}:{success:!1,error:(await a.json()).message||`HTTP error! status: ${a.status}`}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}},async getMedicineById(t){try{const s=await fetch(`${tt}/api/v1/gaushala/medicines/${t}`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});return s.ok?{success:!0,data:await s.json()}:{success:!1,error:(await s.json()).message||`HTTP error! status: ${s.status}`}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async searchMedicines(t,s=0,a=20){try{const r=await fetch(`${tt}/api/v1/gaushala/medicines/search?name=${encodeURIComponent(t)}&page=${s}&size=${a}`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});return r.ok?{success:!0,data:await r.json()}:{success:!1,error:(await r.json()).message||`HTTP error! status: ${r.status}`}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}},async getExpiredMedicines(){try{const t=await fetch(`${tt}/api/v1/gaushala/medicines/expired`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});return t.ok?{success:!0,data:await t.json()}:{success:!1,error:(await t.json()).message||`HTTP error! status: ${t.status}`}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},async getLowStockMedicines(t=10){try{const s=await fetch(`${tt}/api/v1/gaushala/medicines/low-stock?threshold=${t}`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});return s.ok?{success:!0,data:await s.json()}:{success:!1,error:(await s.json()).message||`HTTP error! status: ${s.status}`}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async createMedicine(t){try{const s=await fetch(`${tt}/api/v1/gaushala/medicines`,{method:"POST",headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}},body:JSON.stringify(t)});return s.ok?{success:!0,data:await s.json()}:{success:!1,error:(await s.json()).message||`HTTP error! status: ${s.status}`}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async updateMedicine(t,s){try{const a=await fetch(`${tt}/api/v1/gaushala/medicines/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}},body:JSON.stringify(s)});return a.ok?{success:!0,data:await a.json()}:{success:!1,error:(await a.json()).message||`HTTP error! status: ${a.status}`}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}},async deleteMedicine(t){try{const s=await fetch(`${tt}/api/v1/gaushala/medicines/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});return s.ok?{success:!0}:{success:!1,error:(await s.json()).message||`HTTP error! status: ${s.status}`}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}}},Ts={async getAllFoodHistory(t=0,s=20){try{const a=await fetch(`${tt}/api/v1/gaushala/food-history?page=${t}&size=${s}`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});return a.ok?{success:!0,data:await a.json()}:{success:!1,error:(await a.json()).message||`HTTP error! status: ${a.status}`}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}},async getFoodHistoryById(t){try{const s=await fetch(`${tt}/api/v1/gaushala/food-history/${t}`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});return s.ok?{success:!0,data:await s.json()}:{success:!1,error:(await s.json()).message||`HTTP error! status: ${s.status}`}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async getFoodHistoryByLivestock(t,s=0,a=20){try{const r=await fetch(`${tt}/api/v1/gaushala/food-history/livestock/${t}?page=${s}&size=${a}`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});return r.ok?{success:!0,data:await r.json()}:{success:!1,error:(await r.json()).message||`HTTP error! status: ${r.status}`}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}},async getFoodHistoryByShed(t,s=0,a=20){try{const r=await fetch(`${tt}/api/v1/gaushala/food-history/shed/${t}?page=${s}&size=${a}`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});return r.ok?{success:!0,data:await r.json()}:{success:!1,error:(await r.json()).message||`HTTP error! status: ${r.status}`}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}},async createFoodHistory(t){try{const s=await fetch(`${tt}/api/v1/gaushala/food-history`,{method:"POST",headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}},body:JSON.stringify(t)});return s.ok?{success:!0,data:await s.json()}:{success:!1,error:(await s.json()).message||`HTTP error! status: ${s.status}`}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async updateFoodHistory(t,s){try{const a=await fetch(`${tt}/api/v1/gaushala/food-history/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}},body:JSON.stringify(s)});return a.ok?{success:!0,data:await a.json()}:{success:!1,error:(await a.json()).message||`HTTP error! status: ${a.status}`}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}},async deleteFoodHistory(t){try{const s=await fetch(`${tt}/api/v1/gaushala/food-history/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});return s.ok?{success:!0}:{success:!1,error:(await s.json()).message||`HTTP error! status: ${s.status}`}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}}},ft={async getAllBreeds(t=!1){try{const s=Date.now();if(!t&&Se.breeds&&s-Se.cacheTimestamp.breeds<Se.CACHE_DURATION)return{success:!0,data:Se.breeds};const a=await fetch(`${tt}/api/v1/gaushala/master/breeds`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});if(!a.ok)return{success:!1,error:(await a.json()).message||`HTTP error! status: ${a.status}`};const r=await a.json();return Se.breeds=r,Se.cacheTimestamp.breeds=s,{success:!0,data:r}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async getAllSpecies(t=!1){try{const s=Date.now();if(!t&&Se.species&&s-Se.cacheTimestamp.species<Se.CACHE_DURATION)return{success:!0,data:Se.species};const a=await fetch(`${tt}/api/v1/gaushala/master/species`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});if(!a.ok)return{success:!1,error:(await a.json()).message||`HTTP error! status: ${a.status}`};const r=await a.json();return Se.species=r,Se.cacheTimestamp.species=s,{success:!0,data:r}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async getAllGenders(t=!1){try{const s=Date.now();if(!t&&Se.genders&&s-Se.cacheTimestamp.genders<Se.CACHE_DURATION)return{success:!0,data:Se.genders};const a=await fetch(`${tt}/api/v1/gaushala/master/genders`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});if(!a.ok)return{success:!1,error:(await a.json()).message||`HTTP error! status: ${a.status}`};const r=await a.json();return Se.genders=r,Se.cacheTimestamp.genders=s,{success:!0,data:r}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async getAllColors(t=!1){try{const s=Date.now();if(!t&&Se.colors&&s-Se.cacheTimestamp.colors<Se.CACHE_DURATION)return{success:!0,data:Se.colors};const a=await fetch(`${tt}/api/v1/gaushala/master/colors`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});if(!a.ok)return{success:!1,error:(await a.json()).message||`HTTP error! status: ${a.status}`};const r=await a.json();return Se.colors=r,Se.cacheTimestamp.colors=s,{success:!0,data:r}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},async getAllLocations(t=!1){try{const s=Date.now();if(!t&&Se.locations&&s-Se.cacheTimestamp.locations<Se.CACHE_DURATION)return{success:!0,data:Se.locations};const a=await fetch(`${tt}/api/v1/gaushala/master/villages`,{headers:{"Content-Type":"application/json",...localStorage.getItem("saubhagya_jwt_token")&&{Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}}});if(!a.ok)return{success:!1,error:(await a.json()).message||`HTTP error! status: ${a.status}`};const r=await a.json();return Se.locations=r,Se.cacheTimestamp.locations=s,{success:!0,data:r}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}},clearCache(){Se.breeds=null,Se.species=null,Se.genders=null,Se.colors=null,Se.locations=null,Se.cacheTimestamp={breeds:0,species:0,genders:0,colors:0,locations:0}},async preloadAll(){await Promise.all([this.getAllBreeds(),this.getAllSpecies(),this.getAllGenders(),this.getAllColors(),this.getAllLocations()])}},At={async getAllInventory(t=0,s=20){return ie(`/api/v1/gaushala/inventory?page=${t}&size=${s}`)},async getInventoryById(t){return ie(`/api/v1/gaushala/inventory/${t}`)},async createInventory(t){return ie("/api/v1/gaushala/inventory",{method:"POST",body:JSON.stringify(t)})},async updateInventory(t,s){return ie(`/api/v1/gaushala/inventory/${t}`,{method:"PUT",body:JSON.stringify(s)})},async deleteInventory(t){return ie(`/api/v1/gaushala/inventory/${t}`,{method:"DELETE"})},async searchInventory(t){return ie(`/api/v1/gaushala/inventory/search?itemName=${encodeURIComponent(t)}`)},async getStockHistory(t){return ie(`/api/v1/gaushala/inventory/${t}/stock-history`)},async createStockTransaction(t){return ie("/api/v1/gaushala/inventory/stock-transaction",{method:"POST",body:JSON.stringify(t)})},async getInventoryTypes(){return ie("/api/v1/gaushala/master/inventory-types")},async getInventoryUnits(){return ie("/api/v1/gaushala/inventory/units")}},As={async getAllSheds(t=0,s=20){return ie(`/api/v1/gaushala/sheds?page=${t}&size=${s}`)},async getShedById(t){return ie(`/api/v1/gaushala/sheds/${t}`)},async createShed(t){return ie("/api/v1/gaushala/sheds",{method:"POST",body:JSON.stringify(t)})},async updateShed(t,s){return ie(`/api/v1/gaushala/sheds/${t}`,{method:"PUT",body:JSON.stringify(s)})},async deleteShed(t){return ie(`/api/v1/gaushala/sheds/${t}`,{method:"DELETE"})},async getShedsByGaushala(t){return ie(`/api/v1/gaushala/sheds/gaushala/${t}`)},async getShedsByStatus(t){return ie(`/api/v1/gaushala/sheds/by-status?status=${t}`)},async getAvailableCapacity(t){return ie(`/api/v1/gaushala/sheds/gaushala/${t}/available-capacity`)}},ka={async getAllMilkRecords(t=0,s=20){return ie(`/api/v1/gaushala/milk-records?page=${t}&size=${s}`)},async getMilkRecordById(t){return ie(`/api/v1/gaushala/milk-records/${t}`)},async getMilkRecordsByCow(t,s=0,a=20){return ie(`/api/v1/gaushala/milk-records/cow/${t}?page=${s}&size=${a}`)},async createMilkRecord(t){return ie("/api/v1/gaushala/milk-records",{method:"POST",body:JSON.stringify(t)})},async updateMilkRecord(t,s){return ie(`/api/v1/gaushala/milk-records/${t}`,{method:"PUT",body:JSON.stringify(s)})},async deleteMilkRecord(t){return ie(`/api/v1/gaushala/milk-records/${t}`,{method:"DELETE"})},async getTotalMilkQuantity(t,s){return ie(`/api/v1/gaushala/milk-records/total-quantity?startDate=${t}&endDate=${s}`)},async getAverageFatPercentage(t){return ie(`/api/v1/gaushala/milk-records/cow/${t}/avg-fat`)},async getMilkRecordsByDateRange(t,s,a=0,r=20){return ie(`/api/v1/gaushala/milk-records/range?startDate=${t}&endDate=${s}&page=${a}&size=${r}`)},async getMilkProductionStats(t,s,a){let r=`/api/v1/gaushala/milk-records/stats?gaushalaId=${t}`;return s&&(r+=`&startDate=${s}`),a&&(r+=`&endDate=${a}`),ie(r)}},ya={async getAllHealthRecords(t=0,s=20){return ie(`/api/v1/gaushala/health-records?page=${t}&size=${s}`)},async getHealthRecordById(t){return ie(`/api/v1/gaushala/health-records/${t}`)},async getHealthRecordsByCattle(t){return ie(`/api/v1/gaushala/health-records/cattle/${t}`)},async createHealthRecord(t){return ie("/api/v1/gaushala/health-records",{method:"POST",body:JSON.stringify(t)})},async updateHealthRecord(t,s){return ie(`/api/v1/gaushala/health-records/${t}`,{method:"PUT",body:JSON.stringify(s)})},async deleteHealthRecord(t){return ie(`/api/v1/gaushala/health-records/${t}`,{method:"DELETE"})},async getPendingVaccinations(){return ie("/api/v1/gaushala/health-records/vaccinations/pending")},async getUpcomingCheckups(){return ie("/api/v1/gaushala/health-records/checkups/upcoming")},async getHealthRecordsByDateRange(t,s){return ie(`/api/v1/gaushala/health-records/range?startDate=${t}&endDate=${s}`)}},qs={async getAllScans(t=0,s=20){return ie(`/api/v1/gaushala/rfid/scans?page=${t}&size=${s}`)},async getScanById(t){return ie(`/api/v1/gaushala/rfid/scans/${t}`)},async getScansByTag(t,s=0,a=20){return ie(`/api/v1/gaushala/rfid/scans/tag/${t}?page=${s}&size=${a}`)},async getScansByDateRange(t,s,a=0,r=20){return ie(`/api/v1/gaushala/rfid/scans/range?startDate=${t}&endDate=${s}&page=${a}&size=${r}`)},async getLatestScanByTag(t){return ie(`/api/v1/gaushala/rfid/scans/tag/${t}/latest`)},async getScanCountByTag(t){return ie(`/api/v1/gaushala/rfid/scans/tag/${t}/count`)},async getScanStats(t,s,a){let r=`/api/v1/gaushala/rfid/scans/stats?gaushalaId=${t}`;return s&&(r+=`&startDate=${s}`),a&&(r+=`&endDate=${a}`),ie(r)},async createScan(t){return ie("/api/v1/gaushala/rfid/scans",{method:"POST",body:JSON.stringify(t)})}},gt={cattle:ds,dashboard:yo,transactions:vo,medicine:Is,foodHistory:Ts,inventory:At,sheds:As,milkProduction:ka,healthRecords:ya,rfid:qs,masterData:ft},bo={en:{dashboard:"Dashboard",totalCows:"Total Cattle",cowsIn:"Cattle In",cowsOut:"Cattle Out",dungToday:"Dung Today",dungMonth:"Dung This Month",revenue:"Revenue",avgQuality:"Avg Quality",healthyHead:"Healthy",sickHead:"Sick",recentCollections:"Recent Collections",topPerformers:"Top Performers",quickActions:"Quick Actions",addCattle:"Add Cattle",viewReports:"View Reports",createTransaction:"Record Dung Collection",systemHealth:"System Health",kg:"kg",collections:"collections",worker:"Worker",quality:"Quality",status:"Status",completed:"Completed",processing:"Processing",failed:"Failed",digestor:"Digestor",timeAgo:"ago",minutes:"min",hours:"h",days:"d",createTransactionTitle:"Record Dung Collection",selectCattle:"Select Cattle",enterWeight:"Enter Weight (kg)",addNotes:"Add Notes (Optional)",cancel:"Cancel",submit:"Submit",required:"This field is required"},hi:{dashboard:"",totalCows:" ",cowsIn:"  ",cowsOut:"  ",dungToday:"  ",dungMonth:"   ",revenue:"",avgQuality:" ",healthyHead:"",sickHead:"",recentCollections:"  ",topPerformers:" ",quickActions:" ",addCattle:" ",viewReports:" ",createTransaction:"   ",systemHealth:" ",kg:"",collections:"",worker:"",quality:"",status:"",completed:"",processing:" ",failed:"",digestor:"",timeAgo:"",minutes:"",hours:"",days:"",createTransactionTitle:"   ",selectCattle:" ",enterWeight:"   ()",addNotes:"  ()",cancel:" ",submit:" ",required:"   "}};function mn({languageContext:t}){const{language:s,t:a}=t,r=ve(),[n,l]=d.useState({totalCows:0,cowsIn:0,cowsOut:0,dungCollectionToday:0,dungCollectionMonth:0,totalRevenue:0,averageQuality:0,activeWorkers:0,healthyCows:0,sickCows:0,recentCollections:[],topPerformers:[]}),[o,c]=d.useState(!0),[u,j]=d.useState(!1),[N,x]=d.useState({cattleId:"",weight:"",notes:""}),[i,g]=d.useState(!1),f=v=>bo[s][v]||v;d.useEffect(()=>{w()},[]);const w=async()=>{try{c(!0);const v=await gt.dashboard.getStats();v.success&&v.data&&l(v.data)}catch{}finally{c(!1)}},S=v=>{const y=Date.now()-v,m=Math.floor(y/(1e3*60)),h=Math.floor(y/(1e3*60*60)),k=Math.floor(y/(1e3*60*60*24));return k>0?`${k} ${f("days")} ${f("timeAgo")}`:h>0?`${h} ${f("hours")} ${f("timeAgo")}`:`${m} ${f("minutes")} ${f("timeAgo")}`},D=v=>{switch(v){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=async v=>{if(v.preventDefault(),!N.cattleId||!N.weight){alert(f("required"));return}g(!0);try{const T={cattleId:N.cattleId,weight:parseFloat(N.weight),notes:N.notes,type:"dung_collection",timestamp:new Date().toISOString()},y=await gt.transactions.createTransaction(T);if(y.success)x({cattleId:"",weight:"",notes:""}),j(!1),w(),alert("Transaction recorded successfully!");else throw new Error(y.error||"Failed to create transaction")}catch{alert("Failed to record transaction. Please try again.")}finally{g(!1)}};return o?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"px-4 py-3 space-y-3 bg-gray-50 min-h-full",children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monitor your cattle management and collection metrics"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300 hover:scale-[1.02] overflow-hidden",children:[e.jsx("div",{className:"h-1 bg-gradient-to-r from-blue-500 to-blue-600"}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-blue-700",children:f("totalCows")}),e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:""})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-3",children:n.totalCows}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-emerald-600",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),e.jsxs("span",{className:"font-medium",children:[n.cowsIn," In Today"]})]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(Te,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"+8%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),e.jsxs("span",{className:"font-medium",children:[n.cowsOut," Out Today"]})]}),e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx(xs,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"-3%"})]})]})]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300 hover:scale-[1.02] overflow-hidden",children:[e.jsx("div",{className:"h-1 bg-gradient-to-r from-green-500 to-green-600"}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-green-700",children:f("dungToday")}),e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(es,{className:"h-5 w-5 text-green-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:n.dungCollectionToday}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"kg collected today"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["This month: ",n.dungCollectionMonth," kg"]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(Te,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"+15%"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(n.dungCollectionToday/100*100,100)}%`}})})]})]})})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:f("revenue")}),e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(Bt,{className:"h-5 w-5 text-blue-600"})})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:["",n.totalRevenue.toLocaleString("hi-IN")]}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"total revenue"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"vs last month"}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(Te,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"+12.5%"})]})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),e.jsx("span",{children:"Above target by 2,340"})]})]})]})})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:f("avgQuality")}),e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx($e,{className:"h-5 w-5 text-purple-600"})})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:[n.averageQuality,e.jsx("span",{className:"text-lg text-gray-500",children:"/10"})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"average quality score"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-emerald-600",children:[e.jsx(be,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{className:"font-medium",children:[n.healthyCows," Healthy"]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"95%"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{className:"font-medium",children:[n.sickCows," Need Care"]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"5%"})]})]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f("quickActions")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Fast access to common tasks"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>r("/gaushala/cattle/add"),className:"flex items-center p-5 bg-gradient-to-r from-blue-50 to-blue-100/50 rounded-xl hover:from-blue-100 hover:to-blue-150 transition-all duration-200 group border border-blue-200/50",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-xl group-hover:bg-blue-700 transition-colors shadow-sm",children:e.jsx(mt,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-blue-900",children:f("addCattle")}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Register new cattle with RFID"})]})]}),e.jsxs("button",{onClick:()=>r("/gaushala/cattle"),className:"flex items-center p-5 bg-gradient-to-r from-emerald-50 to-emerald-100/50 rounded-xl hover:from-emerald-100 hover:to-emerald-150 transition-all duration-200 group border border-emerald-200/50",children:[e.jsx("div",{className:"p-3 bg-emerald-600 rounded-xl group-hover:bg-emerald-700 transition-colors shadow-sm",children:e.jsx(jt,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-emerald-900",children:f("viewReports")}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Analytics and performance reports"})]})]}),e.jsxs("button",{onClick:()=>r("/gaushala/transactions/create"),className:"flex items-center p-5 bg-gradient-to-r from-orange-50 to-orange-100/50 rounded-xl hover:from-orange-100 hover:to-orange-150 transition-all duration-200 group border border-orange-200/50",children:[e.jsx("div",{className:"p-3 bg-orange-600 rounded-xl group-hover:bg-orange-700 transition-colors shadow-sm",children:e.jsx(es,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-orange-900",children:f("createTransaction")}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Record new dung collection transaction"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f("recentCollections")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Latest dung collection activities"})]}),e.jsx("button",{className:"px-3 py-1.5 text-blue-600 hover:bg-blue-50 rounded-lg text-sm font-medium transition-colors",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:n.recentCollections.length===0?e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx($e,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"No recent collections"})]}):n.recentCollections.map(v=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:v.cattleName}),e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${D(v.status)}`,children:f(v.status)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(es,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),e.jsxs("span",{className:"font-medium",children:[v.weight," kg"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx($e,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),e.jsxs("span",{children:["Quality: ",v.quality,"/10"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Worker: ",v.worker]}),e.jsx("span",{children:S(v.timestamp)})]})]})})},v.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f("topPerformers")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Best performing workers this month"})]}),e.jsx("button",{className:"px-3 py-1.5 text-blue-600 hover:bg-blue-50 rounded-lg text-sm font-medium transition-colors",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:n.topPerformers.length===0?e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(st,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"No performance data yet"})]}):n.topPerformers.map((v,T)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsxs("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-bold text-sm ${T===0?"bg-gradient-to-r from-green-400 to-green-500":T===1?"bg-gradient-to-r from-gray-400 to-gray-600":T===2?"bg-gradient-to-r from-purple-600 to-purple-700":"bg-gradient-to-r from-blue-500 to-blue-600"}`,children:["#",T+1]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:v.name}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Collections"}),e.jsx("span",{className:"font-semibold",children:v.collections})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Total Weight"}),e.jsxs("span",{className:"font-semibold",children:[v.totalWeight," kg"]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Avg Quality"}),e.jsxs("span",{className:"font-semibold",children:[v.avgQuality,"/10"]})]})]})]})]})},v.name))})]})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f("createTransactionTitle")}),e.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(bt,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[f("selectCattle")," *"]}),e.jsxs("select",{value:N.cattleId,onChange:v=>x(T=>({...T,cattleId:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:f("selectCattle")}),e.jsx("option",{value:"cattle-001",children:"Ganga (RFID: RF001)"}),e.jsx("option",{value:"cattle-002",children:"Yamuna (RFID: RF002)"}),e.jsx("option",{value:"cattle-003",children:"Saraswati (RFID: RF003)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[f("enterWeight")," *"]}),e.jsx("input",{type:"number",step:"0.1",min:"0",value:N.weight,onChange:v=>x(T=>({...T,weight:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("addNotes")}),e.jsx("textarea",{value:N.notes,onChange:v=>x(T=>({...T,notes:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Optional notes about the collection..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",disabled:i,children:f("cancel")}),e.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center",disabled:i,children:[i?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(ut,{className:"h-4 w-4 mr-2"}),f("submit")]})]})]})]})})]})}const No="saubhagya_jwt_token";function wo(t){try{const s=t.split(".");if(s.length!==3)return null;const a=s[1],r=atob(a),n=JSON.parse(r),l=Math.floor(Date.now()/1e3);return n.exp&&n.exp<l?null:n}catch{return null}}function So(){try{return localStorage.getItem(No)}catch{return null}}function ki(){const t=So();if(!t)return{userId:"",phone:"",name:"",roles:[],permissions:[],locale:"en",kycStatus:"PENDING",gaushalaId:null,isAuthenticated:!1};const s=wo(t);return s?{userId:s.user_id,phone:s.phone,name:s.name,roles:s.roles||[],permissions:s.permissions||[],locale:s.locale||"en",kycStatus:s.kyc_status||"PENDING",gaushalaId:s.gaushalaId||null,isAuthenticated:!0}:{userId:"",phone:"",name:"",roles:[],permissions:[],locale:"en",kycStatus:"PENDING",gaushalaId:null,isAuthenticated:!1}}function Es(){return ki().gaushalaId}const da={PREMIUM:15,STANDARD:12,BASIC:8},Co={en:{title:"Record Cow Dung Collection",subtitle:"Add new contribution to biogas production",farmerInfo:"Farmer Information",farmerName:"Farmer Name",farmerId:"Farmer ID",collectionDetails:"Collection Details",weight:"Weight (kg)",qualityGrade:"Quality Grade",premium:"Premium",standard:"Standard",basic:"Basic",moistureContent:"Moisture Content (%)",location:"Collection Location",latitude:"Latitude",longitude:"Longitude",getCurrentLocation:"Get Current Location",paymentDetails:"Payment Details",ratePerKg:"Rate per kg ()",totalAmount:"Total Amount ()",paymentMethod:"Payment Method",additionalInfo:"Additional Information",deviceId:"Device Reading ID",notes:"Notes",recordTransaction:"Record Transaction",cancel:"Cancel",processing:"Processing...",success:"Transaction recorded successfully!",error:"Failed to record transaction. Please try again.",requiredField:"This field is required",invalidWeight:"Weight must be greater than 0",invalidRate:"Rate must be greater than 0"},hi:{title:"   ",subtitle:"     ",farmerInfo:"  ",farmerName:"  ",farmerId:" ID",collectionDetails:" ",weight:" ()",qualityGrade:" ",premium:"",standard:"",basic:"",moistureContent:"   (%)",location:" ",latitude:"",longitude:"",getCurrentLocation:"  ",paymentDetails:" ",ratePerKg:"   ()",totalAmount:"  ()",paymentMethod:" ",additionalInfo:" ",deviceId:"  ID",notes:"",recordTransaction:"  ",cancel:" ",processing:"...",success:"   !",error:"        ",requiredField:"   ",invalidWeight:" 0    ",invalidRate:" 0    "}};function Do({cattle:t,onClose:s,onSuccess:a}){const[r]=d.useState("en"),[n,l]=d.useState({cattleId:t?.id||"",farmerId:t?.ownerId||"",farmerName:t?.owner||"",weightKg:"",ratePerKg:da.STANDARD.toString(),totalAmount:"0.00",paymentMethod:"UPI",qualityGrade:"STANDARD",moistureContent:"65",gpsLatitude:"",gpsLongitude:"",deviceReadingId:"",notes:""}),[o,c]=d.useState(!1),[u,j]=d.useState({}),[N,x]=d.useState("idle"),i=b=>Co[r][b]||b;d.useEffect(()=>{const b=parseFloat(n.weightKg),v=parseFloat(n.ratePerKg);if(!isNaN(b)&&!isNaN(v)&&b>0&&v>0){const T=(b*v).toFixed(2);l(y=>({...y,totalAmount:T}))}else l(T=>({...T,totalAmount:"0.00"}))},[n.weightKg,n.ratePerKg]),d.useEffect(()=>{const b=da[n.qualityGrade].toString();l(v=>({...v,ratePerKg:b}))},[n.qualityGrade]);const g=(b,v)=>{l(T=>({...T,[b]:v})),u[b]&&j(T=>({...T,[b]:""}))},f=()=>{if(x("loading"),!navigator.geolocation){x("error"),alert("Geolocation is not supported by this browser.");return}navigator.geolocation.getCurrentPosition(b=>{l(v=>({...v,gpsLatitude:b.coords.latitude.toFixed(6),gpsLongitude:b.coords.longitude.toFixed(6)})),x("success")},b=>{x("error"),alert("Unable to get current location. Please enter manually.")})},w=()=>{const b={};n.farmerName.trim()||(b.farmerName=i("requiredField")),n.farmerId.trim()||(b.farmerId=i("requiredField"));const v=parseFloat(n.weightKg);(!n.weightKg||isNaN(v)||v<=0)&&(b.weightKg=i("invalidWeight"));const T=parseFloat(n.ratePerKg);return(!n.ratePerKg||isNaN(T)||T<=0)&&(b.ratePerKg=i("invalidRate")),j(b),Object.keys(b).length===0},S=async()=>{if(w()){c(!0);try{const b={externalId:`CONTRIB-${Date.now()}`,farmerId:n.farmerId,farmerName:n.farmerName,cattleId:n.cattleId,deviceReadingId:n.deviceReadingId||null,contributionDate:new Date().toISOString(),weightKg:parseFloat(n.weightKg),ratePerKg:parseFloat(n.ratePerKg),totalAmount:parseFloat(n.totalAmount),paymentMethod:n.paymentMethod,qualityGrade:n.qualityGrade,moistureContent:parseFloat(n.moistureContent),gpsLatitude:n.gpsLatitude?parseFloat(n.gpsLatitude):null,gpsLongitude:n.gpsLongitude?parseFloat(n.gpsLongitude):null,notes:n.notes||null,isSubsidyEligible:!0,carbonCreditEligible:!0},v=await or.recordContribution(b);if(v.success!==!1)alert(i("success")),a(v),s();else throw new Error(v.message||"Failed to record contribution")}catch{alert(i("error"))}finally{c(!1)}}},D=b=>{switch(b){case"PREMIUM":return"bg-green-100 text-green-800 border-green-200";case"STANDARD":return"bg-blue-100 text-blue-800 border-blue-200";case"BASIC":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:i("title")}),e.jsx("p",{className:"text-gray-600",children:i("subtitle")}),t&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Cattle: ",t.name," (ID: ",t.rfidTag,")"]})]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100",children:e.jsx(bt,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(zt,{className:"h-5 w-5 mr-2 text-blue-600"}),i("farmerInfo")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i("farmerName")," *"]}),e.jsx("input",{type:"text",value:n.farmerName,onChange:b=>g("farmerName",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.farmerName?"border-red-300":"border-gray-300"}`}),u.farmerName&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:u.farmerName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i("farmerId")," *"]}),e.jsx("input",{type:"text",value:n.farmerId,onChange:b=>g("farmerId",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.farmerId?"border-red-300":"border-gray-300"}`}),u.farmerId&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:u.farmerId})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(es,{className:"h-5 w-5 mr-2 text-green-600"}),i("collectionDetails")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i("weight")," *"]}),e.jsx("input",{type:"number",step:"0.1",min:"0",value:n.weightKg,onChange:b=>g("weightKg",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.weightKg?"border-red-300":"border-gray-300"}`}),u.weightKg&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:u.weightKg})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("qualityGrade")}),e.jsxs("select",{value:n.qualityGrade,onChange:b=>g("qualityGrade",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("option",{value:"PREMIUM",children:[i("premium")," (",da.PREMIUM,"/kg)"]}),e.jsxs("option",{value:"STANDARD",children:[i("standard")," (",da.STANDARD,"/kg)"]}),e.jsxs("option",{value:"BASIC",children:[i("basic")," (",da.BASIC,"/kg)"]})]}),e.jsxs("div",{className:`mt-2 px-2 py-1 rounded text-xs border ${D(n.qualityGrade)}`,children:[e.jsx(Pr,{className:"h-3 w-3 inline mr-1"}),n.qualityGrade," Quality"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("moistureContent")}),e.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:n.moistureContent,onChange:b=>g("moistureContent",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Rt,{className:"h-5 w-5 mr-2 text-red-600"}),i("location")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("latitude")}),e.jsx("input",{type:"number",step:"any",value:n.gpsLatitude,onChange:b=>g("gpsLatitude",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("longitude")}),e.jsx("input",{type:"number",step:"any",value:n.gpsLongitude,onChange:b=>g("gpsLongitude",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{type:"button",onClick:f,disabled:N==="loading",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:[N==="loading"?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):e.jsx(Rt,{className:"h-4 w-4 mr-2"}),i("getCurrentLocation")]})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(tr,{className:"h-5 w-5 mr-2 text-purple-600"}),i("paymentDetails")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i("ratePerKg")," *"]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:n.ratePerKg,onChange:b=>g("ratePerKg",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.ratePerKg?"border-red-300":"border-gray-300"}`}),u.ratePerKg&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:u.ratePerKg})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("totalAmount")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:`${n.totalAmount}`,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 font-semibold text-green-600"}),e.jsx(Er,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-green-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("paymentMethod")}),e.jsxs("select",{value:n.paymentMethod,onChange:b=>g("paymentMethod",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"NEFT",children:"NEFT"}),e.jsx("option",{value:"AEPS",children:"AEPS"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Te,{className:"h-5 w-5 mr-2 text-orange-600"}),i("additionalInfo")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("deviceId")}),e.jsx("input",{type:"text",value:n.deviceReadingId,onChange:b=>g("deviceReadingId",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional device reading ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("notes")}),e.jsx("textarea",{value:n.notes,onChange:b=>g("notes",b.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional notes about the collection"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:s,disabled:o,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:i("cancel")}),e.jsx("button",{onClick:S,disabled:o,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),i("processing")]}):e.jsxs(e.Fragment,{children:[e.jsx(ut,{className:"h-4 w-4"}),i("recordTransaction")]})})]})]})]})})}const ko={en:{title:"Transaction History",subtitle:"Complete contribution and payment history",summary:"Summary",totalContributions:"Total Contributions",totalWeight:"Total Weight",totalValue:"Total Value",avgQuality:"Average Quality",searchPlaceholder:"Search by transaction ID or notes...",filterByPayment:"Filter by Payment",filterByQuality:"Filter by Quality",allPayments:"All Payments",allQualities:"All Qualities",date:"Date",transactionId:"Transaction ID",weight:"Weight (kg)",quality:"Quality",amount:"Amount ()",paymentMethod:"Payment",status:"Status",actions:"Actions",view:"View Details",premium:"Premium",standard:"Standard",basic:"Basic",pending:"Pending",processing:"Processing",completed:"Completed",failed:"Failed",exportData:"Export Data",noTransactions:"No transactions found",kg:"kg",close:"Close",viewDetails:"View Details",location:"Location",moistureContent:"Moisture Content",notes:"Notes",workflowStatus:"Workflow Status",validationStatus:"Validation Status"},hi:{title:" ",subtitle:"    ",summary:"",totalContributions:" ",totalWeight:" ",totalValue:" ",avgQuality:" ",searchPlaceholder:" ID    ...",filterByPayment:"    ",filterByQuality:"    ",allPayments:" ",allQualities:" ",date:"",transactionId:" ID",weight:" ()",quality:"",amount:" ()",paymentMethod:"",status:"",actions:"",view:" ",premium:"",standard:"",basic:"",pending:"",processing:"",completed:"",failed:"",exportData:"  ",noTransactions:"   ",kg:"",close:" ",viewDetails:" ",location:"",moistureContent:"  ",notes:"",workflowStatus:" ",validationStatus:" "}};function Io({farmerId:t,farmerName:s,onClose:a}){const[r]=d.useState("en"),[n,l]=d.useState([]),[o,c]=d.useState([]),[u,j]=d.useState(!0),[N,x]=d.useState(""),[i,g]=d.useState(""),[f,w]=d.useState(""),[S,D]=d.useState(null),[b,v]=d.useState(!1),T=C=>ko[r][C]||C;d.useEffect(()=>{y()},[t]),d.useEffect(()=>{m()},[n,N,i,f]);const y=async()=>{try{j(!0);const C=await or.getFarmerContributions(t,0,100);C&&Array.isArray(C)?l(C):l([])}catch{l([])}finally{j(!1)}},m=()=>{let C=[...n];N&&(C=C.filter(I=>I.externalId.toLowerCase().includes(N.toLowerCase())||I.notes&&I.notes.toLowerCase().includes(N.toLowerCase()))),i&&(C=C.filter(I=>I.paymentMethod===i)),f&&(C=C.filter(I=>I.qualityGrade===f)),c(C)},h=()=>{const C=n.length,I=n.reduce((H,he)=>H+he.weightKg,0),U=n.reduce((H,he)=>H+he.totalAmount,0),W=n.reduce((H,he)=>(H[he.qualityGrade]=(H[he.qualityGrade]||0)+1,H),{}),z=Object.keys(W),Z=z.length>0?z.reduce((H,he)=>W[H]>W[he]?H:he):"STANDARD";return{totalContributions:C,totalWeight:I.toFixed(1),totalValue:U.toFixed(2),avgQuality:Z}},k=C=>new Date(C).toLocaleDateString(r==="hi"?"hi-IN":"en-IN"),p=C=>{switch(C){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"PROCESSING":return"bg-blue-100 text-blue-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=C=>{switch(C){case"PREMIUM":return"bg-green-100 text-green-800";case"STANDARD":return"bg-blue-100 text-blue-800";case"BASIC":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},A=C=>{D(C),v(!0)},F=()=>{const C=n.map(Z=>({"Transaction ID":Z.externalId,Date:k(Z.contributionDate),"Weight (kg)":Z.weightKg,Quality:Z.qualityGrade,"Rate (/kg)":Z.ratePerKg,"Total Amount ()":Z.totalAmount,"Payment Method":Z.paymentMethod,"Payment Status":Z.paymentStatus,Location:Z.gpsLatitude&&Z.gpsLongitude?`${Z.gpsLatitude}, ${Z.gpsLongitude}`:"N/A",Notes:Z.notes||"N/A"})),I=[Object.keys(C[0]||{}).join(","),...C.map(Z=>Object.values(Z).join(","))].join(`
`),U=new Blob([I],{type:"text/csv"}),W=window.URL.createObjectURL(U),z=document.createElement("a");z.href=W,z.download=`farmer-${t}-contributions.csv`,z.click(),window.URL.revokeObjectURL(W)},L=h();return u?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-center mt-4",children:"Loading transaction history..."})]})}):e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-blue-50 to-green-50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:T("title")}),e.jsx("p",{className:"text-gray-600",children:T("subtitle")}),e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Farmer: ",s," (ID: ",t,")"]})]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100",children:e.jsx(bt,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ze,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:T("totalContributions")}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:L.totalContributions})]})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(es,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:T("totalWeight")}),e.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[L.totalWeight," ",T("kg")]})]})]})}),e.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Er,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:T("totalValue")}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:["",L.totalValue]})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pr,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:T("avgQuality")}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:T(L.avgQuality.toLowerCase())})]})]})})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:T("searchPlaceholder"),value:N,onChange:C=>x(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("select",{value:i,onChange:C=>g(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:T("allPayments")}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"NEFT",children:"NEFT"}),e.jsx("option",{value:"AEPS",children:"AEPS"})]}),e.jsxs("select",{value:f,onChange:C=>w(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:T("allQualities")}),e.jsx("option",{value:"PREMIUM",children:T("premium")}),e.jsx("option",{value:"STANDARD",children:T("standard")}),e.jsx("option",{value:"BASIC",children:T("basic")})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(lt,{className:"h-4 w-4"}),T("exportData")]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("date")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("transactionId")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("weight")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("quality")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("amount")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("paymentMethod")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T("actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(C=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ie,{className:"h-4 w-4 text-gray-400 mr-2"}),k(C.contributionDate)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:C.externalId}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[C.weightKg," ",T("kg")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${M(C.qualityGrade)}`,children:T(C.qualityGrade.toLowerCase())})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:["",C.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.paymentMethod}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(C.paymentStatus)}`,children:T(C.paymentStatus.toLowerCase())})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>A(C),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:T("viewDetails"),children:e.jsx(Ae,{className:"h-4 w-4"})})})]},C.id))})]})}),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(es,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:T("noTransactions")})]})]})]}),b&&S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Transaction Details"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(bt,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Transaction ID"}),e.jsx("p",{className:"text-lg font-mono",children:S.externalId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date"}),e.jsx("p",{className:"text-lg",children:k(S.contributionDate)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Weight"}),e.jsxs("p",{className:"text-lg",children:[S.weightKg," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Rate per kg"}),e.jsxs("p",{className:"text-lg",children:["",S.ratePerKg]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),e.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["",S.totalAmount]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Method"}),e.jsx("p",{className:"text-lg",children:S.paymentMethod})]}),S.moistureContent&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Moisture Content"}),e.jsxs("p",{className:"text-lg",children:[S.moistureContent,"%"]})]}),S.gpsLatitude&&S.gpsLongitude&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Location"}),e.jsxs("p",{className:"text-lg",children:[S.gpsLatitude,", ",S.gpsLongitude]})]})]}),S.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("p",{className:"text-lg",children:S.notes})]})]})]})})]})})}const To={en:{title:"Cattle Management",subtitle:"Manage cattle records with RFID tracking",addCattle:"Add Cattle",searchPlaceholder:"Search by name, RFID, or owner...",filterBy:"Filter",allHealth:"All Health",healthy:"Healthy",sick:"Sick",recovering:"Recovering",vaccinationDue:"Vaccination Due",allBreeds:"All Breeds",allOwners:"All Owners",active:"Active",inactive:"Inactive",name:"Name",rfidTag:"RFID Tag",breed:"Breed",age:"Age",weight:"Weight",health:"Health",status:"Status",statusIn:"Inside",statusOut:"Outside",statusUnknown:"Unknown",allStatus:"All Status",owner:"Owner",lastCollection:"Last Collection",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",recordTransaction:"Record Dung Collection",viewHistory:"View Transaction History",scanRFID:"Scan RFID",addPhoto:"Add Photo",saveChanges:"Save Changes",cancel:"Cancel",cattleDetails:"Cattle Details",basicInfo:"Basic Information",locationInfo:"Location Information",collectionStats:"Collection Statistics",medicalHistory:"Medical History",latitude:"Latitude",longitude:"Longitude",address:"Address",totalCollected:"Total Collected",avgQuality:"Average Quality",lastCheckup:"Last Checkup",nextCheckup:"Next Checkup",kg:"kg",years:"years",never:"Never",editCattle:"Edit Cattle",deleteCattle:"Delete Cattle",confirmDelete:"Are you sure you want to delete this cattle record?",yes:"Yes",no:"No",attendance:"Attendance",viewAttendance:"View Attendance",attendanceLogs:"Attendance Logs",dailyAttendance:"Daily Attendance",firstIn:"First In",lastOut:"Last Out",totalEntries:"Total Entries",viewLogs:"View Logs",timeIn:"Time In",timeOut:"Time Out",noAttendanceData:"No attendance data available",today:"Today",close:"Close",selectDate:"Select Date",last7Days:"Last 7 Days",last30Days:"Last 30 Days",attendanceHistory:"Attendance History",noDataForDate:"No attendance data for this date",present:"Present",absent:"Absent",dayView:"Day View"},hi:{title:" ",subtitle:"RFID      ",addCattle:" ",searchPlaceholder:", RFID,    ...",filterBy:"",allHealth:" ",healthy:"",sick:"",recovering:"  ",vaccinationDue:" ",allBreeds:" ",allOwners:" ",active:"",inactive:"",name:"",rfidTag:"RFID ",breed:"",age:"",weight:"",health:"",owner:"",lastCollection:" ",actions:"",view:"",edit:" ",delete:"",recordTransaction:"   ",viewHistory:"  ",scanRFID:"RFID  ",addPhoto:" ",saveChanges:"  ",cancel:" ",cattleDetails:" ",basicInfo:" ",locationInfo:"  ",collectionStats:" ",medicalHistory:" ",latitude:"",longitude:"",address:"",totalCollected:" ",avgQuality:" ",lastCheckup:" ",nextCheckup:" ",kg:"",years:"",never:" ",editCattle:"  ",deleteCattle:" ",confirmDelete:"         ?",yes:"",no:"",attendance:"",viewAttendance:" ",attendanceLogs:" ",dailyAttendance:" ",firstIn:" ",lastOut:" ",totalEntries:" ",viewLogs:" ",timeIn:" ",timeOut:" ",noAttendanceData:"    ",today:"",close:" ",selectDate:" ",last7Days:" 7 ",last30Days:" 30 ",attendanceHistory:" ",noDataForDate:"       ",present:"",absent:"",dayView:" "}};function Ao({languageContext:t}){const{language:s}=t,a=ve();ki();const r=Es(),[n,l]=d.useState([]),[o,c]=d.useState([]),[u,j]=d.useState(!0),[N,x]=d.useState([]),[i,g]=d.useState([]),[f,w]=d.useState([]),[S,D]=d.useState([]),[b,v]=d.useState([]),[T,y]=d.useState(!1),[m,h]=d.useState(!1),[k,p]=d.useState(!1),[M,A]=d.useState(!1),[F,L]=d.useState(!1),[C,I]=d.useState(!1),[U,W]=d.useState(null),[z,Z]=d.useState(null),[H,he]=d.useState(new Date().toISOString().split("T")[0]),[X,R]=d.useState([]),[ae,G]=d.useState(1),[re,ke]=d.useState(""),ge=8,[le,de]=d.useState({}),[ze,xt]=d.useState(!1),[Je,Pt]=d.useState({search:"",health:"",breed:"",owner:"",status:"",isActive:null,gaushalaId:void 0}),se=O=>To[s][O]||O;d.useEffect(()=>{ws(),Yt()},[]),d.useEffect(()=>{ye()},[n,Je]);const ws=async()=>{try{j(!0);const O=await ds.getAllCattle(0,1e4);if(O.success&&O.data){const Y=O.data.content||[],K=r?Y.filter(pe=>pe.gaushalaId===r):Y;l(K)}else l([])}catch{l([])}finally{j(!1)}},Yt=async()=>{try{const[O,Y,K,pe,Pe]=await Promise.all([ft.getAllBreeds(),ft.getAllSpecies(),ft.getAllGenders(),ft.getAllColors(),ft.getAllLocations()]);O.success&&O.data&&x(O.data),Y.success&&Y.data&&g(Y.data),K.success&&K.data&&w(K.data),pe.success&&pe.data&&D(pe.data),Pe.success&&Pe.data&&v(Pe.data)}catch{}},rs=O=>N.find(K=>K.id===O)?.name||`Breed #${O}`,ne=O=>b.find(K=>K.id===O)?.name||`Gaushala #${O}`,ye=()=>{let O=[...n];if(Je.search){const Y=Je.search.toLowerCase();O=O.filter(K=>K.name.toLowerCase().includes(Y)||K.rfidTagNo&&K.rfidTagNo.toLowerCase().includes(Y)||K.uniqueAnimalId.toLowerCase().includes(Y)||rs(K.breedId).toLowerCase().includes(Y))}Je.health&&(O=O.filter(Y=>Y.healthStatus===Je.health)),Je.breed&&(O=O.filter(Y=>rs(Y.breedId)===Je.breed)),Je.isActive!==null&&(O=O.filter(Y=>Y.isActive===Je.isActive)),Je.gaushalaId&&(O=O.filter(Y=>Y.gaushalaId===parseInt(Je.gaushalaId))),c(O)},He=O=>{switch(O){case"healthy":return"bg-green-100 text-green-800";case"sick":return"bg-red-100 text-red-800";case"recovering":return"bg-yellow-100 text-yellow-800";case"vaccination_due":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},oe=O=>new Date(O).toLocaleDateString(s==="hi"?"hi-IN":"en-IN"),Ye=O=>{a(`/gaushala/cattle/view/${O.id}`)},at=O=>{a(`/gaushala/cattle/edit/${O.id}`)},yt=(O,Y)=>{if(O.startsWith("location.")){const K=O.split(".")[1];de(pe=>({...pe,location:{...pe.location,[K]:Y}}))}else de(K=>({...K,[O]:Y}))},Ss=async()=>{if(U){xt(!0);try{const O={...le,age:parseInt(le.age),weight:parseFloat(le.weight),location:{latitude:parseFloat(le.location.latitude),longitude:parseFloat(le.location.longitude),address:le.location.address,timestamp:Date.now()}},Y=await gauShalaApi.cattle.updateCattle(U.id,O);Y.success?(l(K=>K.map(pe=>pe.id===U.id?{...pe,...O,updatedAt:Date.now()}:pe)),h(!1),W(null),de({}),alert("Cattle updated successfully!")):alert("Failed to update cattle: "+(Y.error||"Unknown error"))}catch{alert("Failed to update cattle. Please try again.")}finally{xt(!1)}}},la=async O=>{if(confirm(se("confirmDelete")))try{(await gauShalaApi.cattle.deleteCattle(O.id)).success?l(K=>K.filter(pe=>pe.id!==O.id)):alert("Failed to delete cattle. Please try again.")}catch{alert("Error deleting cattle. Please try again.")}},Gs=O=>{l(Y=>Y.map(K=>K.id===U?.id?{...K,totalDungCollected:K.totalDungCollected+parseFloat(O.weightKg||"0"),lastDungCollection:Date.now()}:K))},Ms=O=>{const Y=[],K=new Date;for(let pe=0;pe<30;pe++){const Pe=new Date(K);Pe.setDate(K.getDate()-pe);const Ne=Pe.toISOString().split("T")[0];if(Math.random()>.15){const Ue=[],Qe=new Date(Pe);Qe.setHours(6+Math.floor(Math.random()*2),Math.floor(Math.random()*60),0,0);const Xe=new Date(Pe);Xe.setHours(17+Math.floor(Math.random()*2),Math.floor(Math.random()*60),0,0);const Qt={id:`${O}-in-${Pe.getTime()}-${pe}`,cattleId:O,timestamp:Qe.getTime(),type:"IN",location:"Main Gate",rfidScanned:!0},et={id:`${O}-out-${Pe.getTime()}-${pe}`,cattleId:O,timestamp:Xe.getTime(),type:"OUT",location:"Main Gate",rfidScanned:!0},kt=2+Math.floor(Math.random()*4);for(let Et=0;Et<kt;Et++){const ht=new Date(Pe);ht.setHours(9+Et*2,Math.floor(Math.random()*60),0,0);const It=["Feeding Area","Water Point","Milking Shed","Rest Area","Medical Check"];Ue.push({id:`${O}-${Et}-${Pe.getTime()}-${pe}`,cattleId:O,timestamp:ht.getTime(),type:Et%2===0?"OUT":"IN",location:It[Et%It.length],rfidScanned:Math.random()>.1})}Ue.push(Qt,et),Ue.sort((Et,ht)=>Et.timestamp-ht.timestamp),Y.push({date:Ne,firstIn:Qt,lastOut:et,totalLogs:Ue})}else Y.push({date:Ne,firstIn:void 0,lastOut:void 0,totalLogs:[]})}return{cattleId:O,days:Y.reverse(),selectedDate:K.toISOString().split("T")[0]}},ns=async O=>{W(O);const Y=Ms(O.id);Z(Y),he(Y.selectedDate),L(!0)},Rs=O=>{he(O)},is=()=>{if(z&&H){const O=z.days.find(Y=>Y.date===H);O&&(R(O.totalLogs),G(1),ke(""),I(!0))}},ca=()=>z&&H&&z.days.find(O=>O.date===H)||null,Os=()=>re.trim()?X.filter(O=>O.type.toLowerCase().includes(re.toLowerCase())||O.location?.toLowerCase().includes(re.toLowerCase())||new Date(O.timestamp).toLocaleTimeString().includes(re)):X,Fs=()=>{const O=Os(),Y=(ae-1)*ge,K=Y+ge;return O.slice(Y,K)},Dt=()=>Math.ceil(Os().length/ge),oa=async()=>{try{const O=await gauShalaApi.cattle.scanRfid();if(O.success&&O.data){const{rfidTag:Y,cattleInfo:K}=O.data;alert(K?`RFID Scanned: ${Y}
Cattle Found: ${K.name}`:`RFID Scanned: ${Y}
No cattle found with this tag.`)}else alert("Failed to scan RFID. Please try again.")}catch{alert("Error scanning RFID. Please try again.")}};return u?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:se("title")}),e.jsx("p",{className:"text-gray-600",children:se("subtitle")})]}),e.jsxs("button",{onClick:()=>a("/gaushala/cattle/add"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(mt,{className:"h-4 w-4"}),se("addCattle")]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:se("searchPlaceholder"),value:Je.search,onChange:O=>Pt(Y=>({...Y,search:O.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("select",{value:Je.health,onChange:O=>Pt(Y=>({...Y,health:O.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:se("allHealth")}),e.jsx("option",{value:"healthy",children:se("healthy")}),e.jsx("option",{value:"sick",children:se("sick")}),e.jsx("option",{value:"recovering",children:se("recovering")}),e.jsx("option",{value:"vaccination_due",children:se("vaccinationDue")})]}),e.jsxs("select",{value:Je.breed,onChange:O=>Pt(Y=>({...Y,breed:O.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:se("allBreeds")}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""})]}),e.jsxs("button",{onClick:oa,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(sr,{className:"h-4 w-4"}),se("scanRFID")]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se("name")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se("rfidTag")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se("breed")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se("age")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se("weight")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se("health")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se("owner")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se("actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(O=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:O.photoUrl?e.jsx("img",{src:O.photoUrl,alt:O.name,className:"h-10 w-10 rounded-full object-cover"}):e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",O.uniqueAnimalId]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(va,{className:"h-4 w-4 text-blue-500 mr-2"}),e.jsx("span",{className:"text-sm font-mono text-gray-900",children:O.rfidTagNo||"No RFID"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:rs(O.breedId)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Br(O.dob)," ",se("years")]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[O.weight||"N/A"," ",O.weight?se("kg"):""]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${He(O.healthStatus||"unknown")}`,children:se(O.healthStatus||"unknown")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ne(O.gaushalaId)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Ye(O),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:se("view"),children:e.jsx(jt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>at(O),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:se("edit"),children:e.jsx(We,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ns(O),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded hover:bg-indigo-50",title:se("viewAttendance"),children:e.jsx(Ae,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>la(O),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:se("delete"),children:e.jsx(wt,{className:"h-4 w-4"})})]})})]},O.id))})]})}),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("span",{className:"text-6xl mx-auto mb-4 block",children:""}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No cattle found matching your filters"})]})]}),T&&U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsxs("h3",{className:"text-xl font-semibold",children:[se("cattleDetails")," - ",U.name]}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(bt,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:se("basicInfo")}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("name"),":"]}),e.jsx("span",{className:"font-medium",children:U.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("rfidTag"),":"]}),e.jsx("span",{className:"font-mono font-medium",children:U.rfidTag})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("breed"),":"]}),e.jsx("span",{className:"font-medium",children:U.breed})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("age"),":"]}),e.jsxs("span",{className:"font-medium",children:[U.age," ",se("years")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("weight"),":"]}),e.jsxs("span",{className:"font-medium",children:[U.weight," ",se("kg")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("health"),":"]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${He(U.health)}`,children:se(U.health)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("owner"),":"]}),e.jsx("span",{className:"font-medium",children:U.owner})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:se("locationInfo")}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("latitude"),":"]}),e.jsx("span",{className:"font-medium",children:U.location.latitude.toFixed(6)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("longitude"),":"]}),e.jsx("span",{className:"font-medium",children:U.location.longitude.toFixed(6)})]}),U.location.address&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("address"),":"]}),e.jsx("span",{className:"font-medium text-right",children:U.location.address})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:se("collectionStats")}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("totalCollected"),":"]}),e.jsxs("span",{className:"font-medium",children:[U.totalDungCollected," ",se("kg")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[se("lastCollection"),":"]}),e.jsx("span",{className:"font-medium",children:U.lastDungCollection?oe(U.lastDungCollection):se("never")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:se("medicalHistory")}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:U.medicalHistory.map(O=>e.jsx("div",{className:"border-l-4 border-blue-500 pl-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:O.description}),e.jsx("p",{className:"text-sm text-gray-600",children:O.veterinarian}),O.medication&&e.jsx("p",{className:"text-xs text-gray-500",children:O.medication})]}),e.jsx("span",{className:"text-sm text-gray-500",children:oe(O.date)})]})},O.id))})]})]})]})}),m&&U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsxs("h3",{className:"text-xl font-semibold",children:[se("editCattle")," - ",U.name]}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(bt,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cattle Name *"}),e.jsx("input",{type:"text",value:le.name||"",onChange:O=>yt("name",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RFID Tag *"}),e.jsx("input",{type:"text",value:le.rfidTag||"",onChange:O=>yt("rfidTag",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Breed *"}),e.jsxs("select",{value:le.breed||"",onChange:O=>yt("breed",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Breed"}),e.jsx("option",{value:"gir",children:"Gir"}),e.jsx("option",{value:"sahiwal",children:"Sahiwal"}),e.jsx("option",{value:"sindhi",children:"Red Sindhi"}),e.jsx("option",{value:"tharparkar",children:"Tharparkar"}),e.jsx("option",{value:"holstein",children:"Holstein Friesian"}),e.jsx("option",{value:"jersey",children:"Jersey"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Health Status"}),e.jsxs("select",{value:le.health||"",onChange:O=>yt("health",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"healthy",children:"Healthy"}),e.jsx("option",{value:"sick",children:"Sick"}),e.jsx("option",{value:"recovering",children:"Recovering"}),e.jsx("option",{value:"vaccination_due",children:"Vaccination Due"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age (months)"}),e.jsx("input",{type:"number",value:le.age||"",onChange:O=>yt("age",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight (kg)"}),e.jsx("input",{type:"number",value:le.weight||"",onChange:O=>yt("weight",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.1"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Owner Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Name *"}),e.jsx("input",{type:"text",value:le.owner||"",onChange:O=>yt("owner",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner ID/Phone"}),e.jsx("input",{type:"text",value:le.ownerId||"",onChange:O=>yt("ownerId",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:le.location?.address||"",onChange:O=>yt("location.address",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),e.jsx("input",{type:"number",value:le.location?.latitude||"",onChange:O=>yt("location.latitude",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"any"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),e.jsx("input",{type:"number",value:le.location?.longitude||"",onChange:O=>yt("location.longitude",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"any"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:()=>{h(!1),de({})},disabled:ze,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{onClick:Ss,disabled:ze||!le.name||!le.rfidTag,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[ze&&e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),ze?"Updating...":"Update Cattle"]})]})]})]})}),k&&U&&e.jsx(Do,{cattle:U,onClose:()=>{p(!1),W(null)},onSuccess:Gs}),M&&U&&e.jsx(Io,{farmerId:U.ownerId,farmerName:U.owner,onClose:()=>{A(!1),W(null)}}),F&&U&&z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-5xl w-full h-[85vh] flex flex-col shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ae,{className:"h-5 w-5 text-blue-600"})}),se("attendanceHistory")]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[U.name," - ",se("last30Days")]})]}),e.jsx("button",{onClick:()=>{L(!1),W(null),Z(null)},className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(bt,{className:"h-5 w-5"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200 flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5 text-blue-600"})," ",se("selectDate")]}),e.jsx("input",{type:"date",value:H,onChange:O=>Rs(O.target.value),max:new Date().toISOString().split("T")[0],min:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400"})]}),(()=>{const O=ca();return!O||O.totalLogs.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:se("noDataForDate")}),e.jsx("p",{className:"text-gray-600 mb-4",children:H===new Date().toISOString().split("T")[0]?se("today"):new Date(H).toLocaleDateString()}),e.jsx("div",{className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-800 text-sm font-medium rounded-full",children:se("absent")})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200 flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5 text-blue-600"})," ",se("dayView")]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx(Xr,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-600",children:se("firstIn")}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:O.firstIn?new Date(O.firstIn.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx(za,{className:"h-5 w-5 text-orange-600 mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-600",children:se("lastOut")}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:O.lastOut?new Date(O.lastOut.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx($e,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-600",children:se("totalEntries")}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:O.totalLogs.length})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200 flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5 text-blue-600"})," ",new Date(H).toLocaleDateString(),H===new Date().toISOString().split("T")[0]&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full ml-2",children:se("today")})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:[se("firstIn")," Details"]}),e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:O.firstIn?new Date(O.firstIn.timestamp).toLocaleTimeString():"--"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:[se("lastOut")," Details"]}),e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:O.lastOut?new Date(O.lastOut.timestamp).toLocaleTimeString():"--"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{className:"text-sm text-gray-900 font-medium",children:se("present")})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Duration"}),e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:O.firstIn&&O.lastOut?`${Math.round((O.lastOut.timestamp-O.firstIn.timestamp)/(1e3*60*60))}h`:"--"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200 flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5 text-blue-600"})," ",se("last7Days")]}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:z.days.slice(0,7).map((Y,K)=>e.jsxs("div",{className:`p-3 rounded-lg text-center cursor-pointer transition-colors border ${Y.date===H?"bg-blue-100 border-blue-200 text-blue-800":Y.totalLogs.length>0?"bg-white border-green-200 hover:bg-green-50":"bg-white border-red-200 hover:bg-red-50"}`,onClick:()=>Rs(Y.date),children:[e.jsx("div",{className:"text-xs font-medium text-gray-600",children:new Date(Y.date).toLocaleDateString([],{weekday:"short"})}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:new Date(Y.date).getDate()}),e.jsx("div",{className:"text-xs mt-1",children:Y.totalLogs.length>0?e.jsx("span",{className:"text-green-600",children:""}):e.jsx("span",{className:"text-red-600",children:""})})]},Y.date))})]}),e.jsxs("div",{className:"flex justify-start gap-4 pt-4 border-t border-gray-100",children:[e.jsxs("button",{onClick:is,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(jt,{className:"h-4 w-4"}),se("viewLogs")," (",O.totalLogs.length,")"]}),e.jsx("button",{onClick:()=>{L(!1),W(null),Z(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:se("close")})]})]})})()]})]})}),C&&X.length>0&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full h-[85vh] flex flex-col shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ea,{className:"h-5 w-5 text-blue-600"})}),se("attendanceLogs")]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[U?.name," - ",new Date(H).toLocaleDateString()]})]}),e.jsx("button",{onClick:()=>{I(!1),R([])},className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(bt,{className:"h-5 w-5"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(dt,{className:"h-4 w-4 text-blue-600"}),"Search Logs (",Os().length," entries)"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",ae," of ",Dt()]})]}),e.jsx("input",{type:"text",placeholder:"Search by location, type, or time...",value:re,onChange:O=>{ke(O.target.value),G(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Fs().length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(dt,{className:"h-6 w-6 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No logs found"}),e.jsx("p",{className:"text-gray-500",children:re?"Try adjusting your search terms":"No attendance logs for this date"}),re&&e.jsx("button",{onClick:()=>{ke(""),G(1)},className:"mt-3 text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Clear search"})]}):e.jsx("div",{className:"space-y-3",children:Fs().map((O,Y)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-xs font-bold text-gray-600",children:(ae-1)*ge+Y+1}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${O.type==="IN"?"bg-green-100":"bg-orange-100"}`,children:O.type==="IN"?e.jsx(Xr,{className:"h-4 w-4 text-green-600"}):e.jsx(za,{className:"h-4 w-4 text-orange-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${O.type==="IN"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:O.type}),e.jsx("span",{className:"text-sm text-gray-600",children:O.location})]}),O.rfidScanned&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600 mt-1",children:[e.jsx(va,{className:"h-3 w-3"}),"RFID Scanned"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-mono text-sm font-medium text-gray-900",children:new Date(O.timestamp).toLocaleTimeString()}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(O.timestamp).toLocaleDateString()})]})]},O.id))})]}),e.jsx("div",{className:"p-6 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>{I(!1),R([]),G(1),ke("")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:se("close")}),Dt()>1&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>G(Math.max(1,ae-1)),disabled:ae===1,className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Dt())},(O,Y)=>{let K;return Dt()<=5||ae<=3?K=Y+1:ae>=Dt()-2?K=Dt()-4+Y:K=ae-2+Y,e.jsx("button",{onClick:()=>G(K),className:`px-3 py-2 text-sm rounded-lg transition-colors ${ae===K?"bg-blue-600 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:K},K)})}),e.jsx("button",{onClick:()=>G(Math.min(Dt(),ae+1)),disabled:ae===Dt(),className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]})})]})}const Ke=({label:t,value:s,onChange:a,type:r="text",placeholder:n,required:l=!1,error:o,className:c="",...u})=>e.jsxs("div",{className:`space-y-2 ${c}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[t," ",l&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:r,value:s,onChange:j=>a(j.target.value),placeholder:n,className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${o?"border-red-300 bg-red-50":"border-gray-300"}`,...u}),o&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Le,{className:"h-4 w-4"}),o]})]}),cs=({label:t,value:s,onChange:a,options:r,placeholder:n,required:l=!1,error:o,className:c=""})=>e.jsxs("div",{className:`space-y-2 ${c}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[t," ",l&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:s,onChange:u=>a(u.target.value),className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${o?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:n}),r.map(u=>e.jsx("option",{value:u.value,children:u.label},u.value))]}),o&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Le,{className:"h-4 w-4"}),o]})]}),un=({label:t,value:s,onChange:a,placeholder:r,rows:n=3,className:l=""})=>e.jsxs("div",{className:`space-y-2 ${l}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800",children:t}),e.jsx("textarea",{value:s,onChange:o=>a(o.target.value),placeholder:r,rows:n,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 resize-none"})]}),$a=({label:t,value:s,onChange:a,accept:r,className:n=""})=>e.jsxs("div",{className:`space-y-2 ${n}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800",children:t}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:r,onChange:l=>a(l.target.files?.[0]||null),className:"hidden",id:t.replace(/\s+/g,"-").toLowerCase()}),e.jsx("label",{htmlFor:t.replace(/\s+/g,"-").toLowerCase(),className:"flex items-center justify-center w-full px-3 py-2 bg-white border-2 border-dashed border-gray-300 rounded-lg transition-all duration-200 cursor-pointer hover:border-blue-400 hover:bg-blue-50 group",children:e.jsxs("div",{className:"flex items-center gap-3 text-gray-600 group-hover:text-blue-600",children:[e.jsx(ar,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:s?s.name:`Choose ${t.toLowerCase()}`})]})}),s&&e.jsx("button",{type:"button",onClick:()=>a(null),className:"absolute top-2 right-2 p-1 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors",children:e.jsx(bt,{className:"h-4 w-4"})})]})]});function Po({languageContext:t}){const s=ve(),[a,r]=d.useState([]),[n,l]=d.useState([]),[o,c]=d.useState([]),[u,j]=d.useState([]),[N,x]=d.useState(!0),[i,g]=d.useState({uniqueAnimalId:"",name:"",breedId:0,speciesId:0,genderId:0,colorId:0,ageYears:0,dateOfEntry:new Date().toISOString().split("T")[0],vaccinationStatus:"",disability:"",veterinarianName:"",dewormingSchedule:"",lastHealthCheckup:"",veterinarianContact:"",medicalHistory:"",weight:"",hornStatus:"",rfidTagNo:"",height:"",earTagNumber:"",microchipNumber:"",milkingStatus:"",milkYieldPerDay:"",numberOfCalves:"",lactationNumber:"",lastCalvingDate:"",pregnancyStatus:"",sourceOfAcquisition:"",previousOwner:"",dateOfAcquisition:"",ownershipStatus:"",shedNumber:"",typeOfFeed:"",feedingSchedule:"",photoFile:null,healthCertificate:null,vaccinationRecord:null,purchaseDocument:null}),[f,w]=d.useState(!1),[S,D]=d.useState(!1),[b,v]=d.useState(null),[T,y]=d.useState({}),[m,h]=d.useState(0);d.useEffect(()=>{(async()=>{x(!0);try{const[U,W,z,Z]=await Promise.all([gt.masterData.getAllBreeds(),gt.masterData.getAllSpecies(),gt.masterData.getAllGenders(),gt.masterData.getAllColors()]);U.success&&U.data&&r(U.data),W.success&&W.data&&l(W.data),z.success&&z.data&&c(z.data),Z.success&&Z.data&&j(Z.data)}catch{v({type:"error",text:"Failed to load reference data. Please refresh the page."})}finally{x(!1)}})()},[]);const k=d.useCallback((I,U)=>{g(W=>({...W,[I]:U})),y(W=>{if(W[I]){const z={...W};return delete z[I],z}return W}),v(null)},[]),p=async()=>{D(!0);try{const I=await gt.cattle.scanRfid();I.success&&I.data&&(k("rfidTagNo",I.data.rfidTag),I.data.cattleInfo?v({type:"warning",text:"RFID tag already exists for another cattle"}):v({type:"success",text:"RFID tag scanned successfully"}))}catch{v({type:"error",text:"Failed to scan RFID tag"})}finally{D(!1)}},M=()=>{const I={};return i.uniqueAnimalId.trim()||(I.uniqueAnimalId="Unique Animal ID is required"),i.breedId===0&&(I.breedId="Breed is required"),i.speciesId===0&&(I.speciesId="Species is required"),i.genderId===0&&(I.genderId="Gender is required"),i.dateOfEntry||(I.dateOfEntry="Date of Entry is required"),i.rfidTagNo.trim()||(I.rfidTagNo="RFID Tag Number is required"),y(I),Object.keys(I).length===0},A=I=>{if(!(!I||I.trim()===""))return I.includes("T")?I:`${I}T00:00:00`},F=async I=>{if(I.preventDefault(),!M()){v({type:"error",text:"Please fill in all required fields"});return}w(!0),v(null);try{const U={uniqueAnimalId:i.uniqueAnimalId,name:i.name||void 0,breedId:i.breedId,speciesId:i.speciesId,genderId:i.genderId,colorId:i.colorId,dob:i.ageYears>0?Di(i.ageYears):new Date().toISOString(),weight:i.weight?parseFloat(i.weight):void 0,height:i.height?parseFloat(i.height):void 0,hornStatus:i.hornStatus||void 0,rfidTagNo:i.rfidTagNo,earTagNo:i.earTagNumber||void 0,microchipNo:i.microchipNumber||void 0,shedNumber:i.shedNumber||void 0,vaccinationStatus:i.vaccinationStatus||void 0,disability:i.disability||void 0,dewormingSchedule:i.dewormingSchedule||void 0,medicalHistory:i.medicalHistory||void 0,lastHealthCheckupDate:i.lastHealthCheckup?A(i.lastHealthCheckup):void 0,vetName:i.veterinarianName||void 0,vetContact:i.veterinarianContact||void 0,milkingStatus:i.milkingStatus||void 0,lactationNumber:i.lactationNumber?parseInt(i.lactationNumber):void 0,milkYieldPerDay:i.milkYieldPerDay?parseFloat(i.milkYieldPerDay):void 0,lastCalvingDate:i.lastCalvingDate?A(i.lastCalvingDate):void 0,calvesCount:i.numberOfCalves?parseInt(i.numberOfCalves):void 0,pregnancyStatus:i.pregnancyStatus||void 0,sourceId:i.sourceOfAcquisition?parseInt(i.sourceOfAcquisition):void 0,dateOfAcquisition:i.dateOfAcquisition?A(i.dateOfAcquisition):void 0,previousOwner:i.previousOwner||void 0,ownershipId:i.ownershipStatus?parseInt(i.ownershipStatus):void 0,feedingSchedule:i.feedingSchedule||void 0,feedTypeId:i.typeOfFeed?parseInt(i.typeOfFeed):void 0,dateOfEntry:A(i.dateOfEntry),isActive:!0,totalDungCollected:0,lastDungCollection:0},W=await gt.cattle.createCattle(U);if(W.success&&W.data){const z=[];if(i.photoFile&&z.push(gt.cattle.uploadPhoto(W.data.id,i.photoFile)),i.healthCertificate&&z.push(gt.cattle.uploadDocument(W.data.id,i.healthCertificate,"health_certificate")),i.vaccinationRecord&&z.push(gt.cattle.uploadDocument(W.data.id,i.vaccinationRecord,"vaccination_record")),i.purchaseDocument&&z.push(gt.cattle.uploadDocument(W.data.id,i.purchaseDocument,"purchase_document")),z.length>0)try{await Promise.all(z)}catch{}v({type:"success",text:"Cattle registered successfully!"}),setTimeout(()=>{s("/gaushala/cattle")},2e3)}else throw new Error(W.error||"Failed to create cattle")}catch{v({type:"error",text:"Failed to register cattle. Please try again."})}finally{w(!1)}},L=()=>{s("/gaushala/cattle")},C=[{id:"basic",title:"Basic Identification",icon:zt,color:"from-blue-500 to-indigo-600",progress:0},{id:"physical",title:"Physical Characteristics",icon:Sa,color:"from-purple-500 to-violet-600",progress:0},{id:"health",title:"Health & Medical",icon:$e,color:"from-red-500 to-pink-600",progress:0},{id:"reproductive",title:"Reproductive Details",icon:Ka,color:"from-pink-500 to-rose-600",progress:0},{id:"origin",title:"Origin & Ownership",icon:bs,color:"from-emerald-500 to-teal-600",progress:0},{id:"shelter",title:"Shelter & Feeding",icon:$t,color:"from-amber-500 to-yellow-600",progress:0}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsx("div",{className:"h-8 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Register New Cattle"}),e.jsx("p",{className:"text-gray-600",children:"Complete cattle registration with comprehensive details"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"cattle-form",disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[e.jsx(ut,{className:"h-4 w-4"}),f?"Saving...":"Save Cattle"]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:e.jsx("div",{className:"flex items-center justify-between overflow-x-auto",children:C.map((I,U)=>{const W=I.icon;return e.jsxs("div",{className:"flex items-center flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-blue-100 text-blue-600",children:e.jsx(W,{className:"h-4 w-4"})}),e.jsx("div",{className:"ml-2",children:e.jsx("p",{className:"text-xs font-medium text-gray-700",children:I.title})}),U<C.length-1&&e.jsx("div",{className:"w-8 h-px bg-gray-300 mx-3"})]},I.id)})})}),b&&e.jsx("div",{className:`p-4 rounded-lg border-l-4 ${b.type==="success"?"bg-green-50 border-green-400 text-green-800":b.type==="warning"?"bg-yellow-50 border-yellow-400 text-yellow-800":"bg-red-50 border-red-400 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[b.type==="success"?e.jsx(be,{className:"h-5 w-5"}):b.type==="warning"?e.jsx(Ae,{className:"h-5 w-5"}):e.jsx(Le,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:b.text})]})}),e.jsx("form",{id:"cattle-form",onSubmit:F,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(zt,{className:"h-5 w-5 text-blue-600"})})," Basic Identification"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(Ke,{label:"Unique Animal ID",value:i.uniqueAnimalId,onChange:I=>k("uniqueAnimalId",I),placeholder:"Enter unique animal ID",required:!0,error:T.uniqueAnimalId}),e.jsx(Ke,{label:"Name (Optional)",value:i.name,onChange:I=>k("name",I),placeholder:"Enter cattle name"}),e.jsx(cs,{label:"Breed",value:i.breedId,onChange:I=>k("breedId",parseInt(I)||0),placeholder:N?"Loading breeds...":"Select Breed",required:!0,error:T.breedId,options:a.filter(I=>I&&I.id&&I.name).map(I=>({value:I.id.toString(),label:I.name}))}),e.jsx(cs,{label:"Species",value:i.speciesId,onChange:I=>k("speciesId",parseInt(I)||0),placeholder:N?"Loading species...":"Select Species",required:!0,error:T.speciesId,options:n.filter(I=>I&&I.id&&I.name).map(I=>({value:I.id.toString(),label:I.name}))}),e.jsx(cs,{label:"Gender",value:i.genderId,onChange:I=>k("genderId",parseInt(I)||0),placeholder:N?"Loading genders...":"Select Gender",required:!0,error:T.genderId,options:o.filter(I=>I&&I.id&&I.name).map(I=>({value:I.id.toString(),label:I.name}))}),e.jsx(cs,{label:"Color",value:i.colorId,onChange:I=>k("colorId",parseInt(I)||0),placeholder:N?"Loading colors...":"Select Color",error:T.colorId,options:u.filter(I=>I&&I.id&&I.name).map(I=>({value:I.id.toString(),label:I.name}))}),e.jsx(Ke,{label:"Age (Years)",value:i.ageYears,onChange:I=>k("ageYears",parseInt(I)||0),type:"number",min:"0",placeholder:"Enter age in years"}),e.jsx(Ke,{label:"Date of Entry",value:i.dateOfEntry,onChange:I=>k("dateOfEntry",I),type:"date",required:!0,error:T.dateOfEntry})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Sa,{className:"h-5 w-5 text-purple-600"})})," Physical Characteristics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(Ke,{label:"Weight (kg)",value:i.weight,onChange:I=>k("weight",I),type:"number",step:"0.1",placeholder:"Weight in kilograms"}),e.jsx(Ke,{label:"Height (cm)",value:i.height,onChange:I=>k("height",I),type:"number",placeholder:"Height in centimeters"}),e.jsx(cs,{label:"Horn Status",value:i.hornStatus,onChange:I=>k("hornStatus",I),placeholder:"Select Status",options:[{value:"horned",label:"Horned"},{value:"dehorned",label:"Dehorned"},{value:"polled",label:"Polled (Naturally hornless)"}]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:["RFID Tag Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:i.rfidTagNo,onChange:I=>k("rfidTagNo",I.target.value),placeholder:"Scan or enter RFID tag",className:`flex-1 px-4 py-3.5 bg-white border-2 rounded-xl transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 hover:border-gray-300 ${T.rfidTagNo?"border-red-300 bg-red-50":"border-gray-200"}`,required:!0}),e.jsxs("button",{type:"button",onClick:p,disabled:S,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[e.jsx(sr,{className:"h-5 w-5"}),S?"Scanning...":"Scan"]})]}),T.rfidTagNo&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 mt-2",children:[e.jsx(Le,{className:"h-4 w-4"}),T.rfidTagNo]})]}),e.jsx(Ke,{label:"Ear Tag Number",value:i.earTagNumber,onChange:I=>k("earTagNumber",I),placeholder:"Ear tag number"}),e.jsx(Ke,{label:"Microchip Number",value:i.microchipNumber,onChange:I=>k("microchipNumber",I),placeholder:"Microchip number"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"h-5 w-5 text-blue-600"})})," Health & Medical Records"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(Ke,{label:"Vaccination Status",value:i.vaccinationStatus,onChange:I=>k("vaccinationStatus",I),placeholder:"e.g., FMD, HS completed"}),e.jsx(Ke,{label:"Disability / Injury",value:i.disability,onChange:I=>k("disability",I),placeholder:"Any disabilities or injuries"}),e.jsx(Ke,{label:"Veterinarian Name",value:i.veterinarianName,onChange:I=>k("veterinarianName",I),placeholder:"Name of attending veterinarian"}),e.jsx(Ke,{label:"Veterinarian Contact",value:i.veterinarianContact,onChange:I=>k("veterinarianContact",I),type:"tel",placeholder:"Phone number"}),e.jsx(Ke,{label:"Last Health Check-up",value:i.lastHealthCheckup,onChange:I=>k("lastHealthCheckup",I),type:"date"}),e.jsx(Ke,{label:"Deworming Schedule",value:i.dewormingSchedule,onChange:I=>k("dewormingSchedule",I),placeholder:"e.g., Every 6 months"}),e.jsx(un,{label:"Medical History",value:i.medicalHistory,onChange:I=>k("medicalHistory",I),placeholder:"Previous medical treatments, surgeries, etc.",className:"lg:col-span-3"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.find(I=>I.name&&I.name.toLowerCase()==="female"&&I.id===i.genderId)&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ka,{className:"h-5 w-5 text-blue-600"})})," Reproductive Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(cs,{label:"Milking Status",value:i.milkingStatus,onChange:I=>k("milkingStatus",I),placeholder:"Select Status",options:[{value:"lactating",label:"Lactating"},{value:"dry",label:"Dry"},{value:"pregnant",label:"Pregnant"},{value:"not_breeding",label:"Not for Breeding"}]}),e.jsx(Ke,{label:"Milk Yield Per Day (Liters)",value:i.milkYieldPerDay,onChange:I=>k("milkYieldPerDay",I),type:"number",step:"0.1",placeholder:"Daily milk yield"}),e.jsx(Ke,{label:"Number of Calves",value:i.numberOfCalves,onChange:I=>k("numberOfCalves",I),type:"number",placeholder:"Total calves born"}),e.jsx(Ke,{label:"Lactation Number",value:i.lactationNumber,onChange:I=>k("lactationNumber",I),type:"number",placeholder:"Current lactation number"}),e.jsx(Ke,{label:"Last Calving Date",value:i.lastCalvingDate,onChange:I=>k("lastCalvingDate",I),type:"date"}),e.jsx(cs,{label:"Pregnancy Status",value:i.pregnancyStatus,onChange:I=>k("pregnancyStatus",I),placeholder:"Select Status",options:[{value:"pregnant",label:"Pregnant"},{value:"not_pregnant",label:"Not Pregnant"},{value:"unknown",label:"Unknown"}]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(bs,{className:"h-5 w-5 text-blue-600"})})," Origin & Ownership"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(cs,{label:"Source of Acquisition",value:i.sourceOfAcquisition,onChange:I=>k("sourceOfAcquisition",I),placeholder:"Select Source",options:[{value:"purchase",label:"Purchase"},{value:"donation",label:"Donation"},{value:"rescue",label:"Rescue"},{value:"transfer",label:"Transfer"},{value:"born_here",label:"Born Here"}]}),e.jsx(Ke,{label:"Previous Owner",value:i.previousOwner,onChange:I=>k("previousOwner",I),placeholder:"Name of previous owner"}),e.jsx(Ke,{label:"Date of Acquisition",value:i.dateOfAcquisition,onChange:I=>k("dateOfAcquisition",I),type:"date"}),e.jsx(cs,{label:"Ownership Status",value:i.ownershipStatus,onChange:I=>k("ownershipStatus",I),placeholder:"Select Status",options:[{value:"owned",label:"Owned by Gaushala"},{value:"fostered",label:"Fostered"},{value:"temporary",label:"Temporary Care"},{value:"sponsored",label:"Sponsored"}]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx($t,{className:"h-5 w-5 text-blue-600"})})," Shelter & Feeding"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Ke,{label:"Shed Number",value:i.shedNumber,onChange:I=>k("shedNumber",I),placeholder:"Assigned shed number"}),e.jsx(cs,{label:"Type of Feed",value:i.typeOfFeed,onChange:I=>k("typeOfFeed",I),placeholder:"Select Feed Type",options:[{value:"grass",label:"Grass"},{value:"hay",label:"Hay"},{value:"silage",label:"Silage"},{value:"concentrate",label:"Concentrate"},{value:"mixed",label:"Mixed Feed"}]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(un,{label:"Feeding Schedule",value:i.feedingSchedule,onChange:I=>k("feedingSchedule",I),placeholder:"Feeding times and quantities"})})]})]})]})]}),e.jsx("div",{className:"xl:col-span-1 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 sticky top-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ge,{className:"h-5 w-5 text-blue-600"})})," Documents"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx($a,{label:"Photo",value:i.photoFile,onChange:I=>k("photoFile",I),accept:"image/*"}),e.jsx($a,{label:"Health Certificate",value:i.healthCertificate,onChange:I=>k("healthCertificate",I),accept:".pdf"}),e.jsx($a,{label:"Vaccination Record",value:i.vaccinationRecord,onChange:I=>k("vaccinationRecord",I),accept:".pdf"}),e.jsx($a,{label:"Purchase/Donation Document",value:i.purchaseDocument,onChange:I=>k("purchaseDocument",I),accept:".pdf"})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Form Progress"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Required Fields"}),e.jsx("span",{className:"font-medium text-gray-900",children:Object.keys(T).length===0?" Complete":`${Object.keys(T).length} missing`})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Documents"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[[i.photoFile,i.healthCertificate,i.vaccinationRecord,i.purchaseDocument].filter(Boolean).length,"/4"]})]})]})]})]})})]})})]})}const me={en:{title:"Cattle Details",subtitle:"View and manage cattle information",edit:"Edit",save:"Save Changes",cancel:"Cancel",delete:"Delete Cattle",confirmDelete:"Are you sure you want to delete this cattle record?",basicInfo:"Basic Information",name:"Name",rfidTag:"RFID Tag",breed:"Breed",age:"Age",weight:"Weight",health:"Health Status",owner:"Owner",ownerId:"Owner ID",locationInfo:"Location Information",address:"Address",coordinates:"Coordinates",medicalHistory:"Medical History",addMedicalRecord:"Add Medical Record",collectionHistory:"Collection History",totalCollected:"Total Dung Collected",lastCollection:"Last Collection",photo:"Photo",changePhoto:"Change Photo",loading:"Loading...",saving:"Saving...",success:"Cattle updated successfully!",error:"Failed to update cattle",notFound:"Cattle not found",medicalRecordType:"Type",medicalRecordDate:"Date",medicalRecordDescription:"Description",medicalRecordVet:"Veterinarian",medicalRecordMedication:"Medication",medicalRecordNextCheckup:"Next Checkup",recordTypes:{checkup:"Checkup",vaccination:"Vaccination",treatment:"Treatment",surgery:"Surgery"},healthStatus:{healthy:"Healthy",sick:"Sick",recovering:"Recovering",vaccination_due:"Vaccination Due"},breeds:{gir:"Gir",sindhi:"Red Sindhi",holstein:"Holstein Friesian",jersey:"Jersey",sahiwal:"Sahiwal",tharparkar:"Tharparkar"}},hi:{title:" ",subtitle:"      ",edit:" ",save:" ",cancel:" ",delete:" ",confirmDelete:"         ?",basicInfo:" ",name:"",rfidTag:"RFID ",breed:"",age:"",weight:"",health:" ",owner:"",ownerId:" ID",locationInfo:"  ",address:"",coordinates:"",medicalHistory:" ",addMedicalRecord:"  ",collectionHistory:" ",totalCollected:"  ",lastCollection:" ",photo:"",changePhoto:" ",loading:"   ...",saving:"   ...",success:"    !",error:"    ",notFound:"  ",medicalRecordType:"",medicalRecordDate:"",medicalRecordDescription:"",medicalRecordVet:" ",medicalRecordMedication:"",medicalRecordNextCheckup:" ",recordTypes:{checkup:"",vaccination:"",treatment:"",surgery:""},healthStatus:{healthy:"",sick:"",recovering:"  ",vaccination_due:" "},breeds:{gir:"",sindhi:" ",holstein:" ",jersey:"",sahiwal:"",tharparkar:""}}};function Eo({languageContext:t}){const{id:s}=ss(),a=ve(),{t:r}=t,[n,l]=d.useState(null),[o,c]=d.useState(!0),[u,j]=d.useState(!1),[N,x]=d.useState(!1),[i,g]=d.useState({}),[f,w]=d.useState(!1),[S,D]=d.useState(null),[b,v]=d.useState({type:"checkup",date:"",description:"",veterinarian:"",medication:"",nextCheckup:""}),[T,y]=d.useState(!1);d.useEffect(()=>{s&&m()},[s]);const m=async()=>{try{const C=await gt.cattle.getCattleById(s);C.success&&C.data?(l(C.data),g(C.data)):D({type:"error",text:me[t.language].notFound})}catch{D({type:"error",text:me[t.language].error})}finally{c(!1)}},h=()=>{j(!0),D(null)},k=()=>{j(!1),g(n||{}),D(null)},p=async()=>{if(!(!n||!s)){x(!0);try{const C=await gt.cattle.updateCattle(s,i);if(C.success&&C.data)l(C.data),j(!1),D({type:"success",text:me[t.language].success});else throw new Error(C.error)}catch{D({type:"error",text:me[t.language].error})}finally{x(!1)}}},M=async()=>{if(s){try{const C=await gt.cattle.deleteCattle(s);if(C.success)a("/gaushala/cattle");else throw new Error(C.error)}catch{D({type:"error",text:me[t.language].error})}w(!1)}},A=async()=>{if(!(!n||!s))try{const C={...b,date:new Date(b.date).getTime(),nextCheckup:b.nextCheckup?new Date(b.nextCheckup).getTime():void 0};(await gt.cattle.addMedicalRecord(s,C)).success&&(await m(),y(!1),v({type:"checkup",date:"",description:"",veterinarian:"",medication:"",nextCheckup:""}))}catch{D({type:"error",text:"Failed to add medical record"})}},F=C=>new Date(C).toLocaleDateString(),L=C=>{switch(C){case"healthy":return"text-green-600 bg-green-100";case"sick":return"text-red-600 bg-red-100";case"recovering":return"text-yellow-600 bg-yellow-100";case"vaccination_due":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}};return o?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:me[t.language].loading})]})}):n?e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsxs("button",{onClick:()=>a("/gaushala/cattle"),className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back to Cattle List"]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-xl",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),e.jsxs("p",{className:"text-gray-600",children:["RFID: ",n.rfidTag]})]})]}),e.jsx("div",{className:"flex gap-3",children:u?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:k,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:me[t.language].cancel}),e.jsxs("button",{onClick:p,disabled:N,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[e.jsx(ut,{className:"h-4 w-4"}),N?me[t.language].saving:me[t.language].save]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(We,{className:"h-4 w-4"}),me[t.language].edit]}),e.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(wt,{className:"h-4 w-4"}),me[t.language].delete]})]})})]})]}),S&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${S.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:S.text}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),me[t.language].basicInfo]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].name}),u?e.jsx("input",{type:"text",value:i.name||"",onChange:C=>g(I=>({...I,name:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:n.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].rfidTag}),e.jsx("p",{className:"text-gray-900 font-mono",children:n.rfidTag})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].breed}),u?e.jsxs("select",{value:i.breed||"",onChange:C=>g(I=>({...I,breed:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"gir",children:me[t.language].breeds.gir}),e.jsx("option",{value:"sindhi",children:me[t.language].breeds.sindhi}),e.jsx("option",{value:"holstein",children:me[t.language].breeds.holstein}),e.jsx("option",{value:"jersey",children:me[t.language].breeds.jersey})]}):e.jsx("p",{className:"text-gray-900",children:me[t.language].breeds[n.breed]||n.breed})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].health}),u?e.jsxs("select",{value:i.health||"",onChange:C=>g(I=>({...I,health:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"healthy",children:me[t.language].healthStatus.healthy}),e.jsx("option",{value:"sick",children:me[t.language].healthStatus.sick}),e.jsx("option",{value:"recovering",children:me[t.language].healthStatus.recovering}),e.jsx("option",{value:"vaccination_due",children:me[t.language].healthStatus.vaccination_due})]}):e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${L(n.health)}`,children:me[t.language].healthStatus[n.health]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].age}),u?e.jsx("input",{type:"number",value:i.age||"",onChange:C=>g(I=>({...I,age:parseInt(C.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("p",{className:"text-gray-900",children:[n.age," months"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].weight}),u?e.jsx("input",{type:"number",step:"0.1",value:i.weight||"",onChange:C=>g(I=>({...I,weight:parseFloat(C.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsxs("p",{className:"text-gray-900",children:[n.weight," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].owner}),u?e.jsx("input",{type:"text",value:i.owner||"",onChange:C=>g(I=>({...I,owner:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:n.owner})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].ownerId}),e.jsx("p",{className:"text-gray-900",children:n.ownerId})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Rt,{className:"h-5 w-5 text-blue-600"}),me[t.language].locationInfo]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].address}),e.jsx("p",{className:"text-gray-900",children:n.location.address||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].coordinates}),e.jsxs("p",{className:"text-gray-900",children:[n.location.latitude,", ",n.location.longitude]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),me[t.language].medicalHistory]}),e.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[e.jsx(Ge,{className:"h-4 w-4"}),me[t.language].addMedicalRecord]})]}),n.medicalHistory.length>0?e.jsx("div",{className:"space-y-4",children:n.medicalHistory.map((C,I)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:me[t.language].recordTypes[C.type]}),e.jsx("span",{className:"text-sm text-gray-500",children:F(C.date)})]}),e.jsx("p",{className:"text-gray-700 mb-2",children:C.description}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Veterinarian: ",C.veterinarian]}),C.medication&&e.jsxs("p",{children:["Medication: ",C.medication]}),C.nextCheckup&&e.jsxs("p",{children:["Next Checkup: ",F(C.nextCheckup)]})]})]},I))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No medical records found"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Za,{className:"h-5 w-5 text-blue-600"}),me[t.language].photo]}),e.jsxs("div",{className:"text-center",children:[n.photoUrl?e.jsx("img",{src:n.photoUrl,alt:n.name,className:"w-full h-48 object-cover rounded-lg mb-4"}):e.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-6xl",children:""})}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:me[t.language].changePhoto})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5 text-blue-600"}),me[t.language].collectionHistory]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].totalCollected}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n.totalDungCollected," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:me[t.language].lastCollection}),e.jsx("p",{className:"text-gray-900",children:n.lastDungCollection?F(n.lastDungCollection):"No collections yet"})]})]})]})]})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(we,{className:"h-6 w-6 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:me[t.language].delete})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:me[t.language].confirmDelete}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:me[t.language].cancel}),e.jsx("button",{onClick:M,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:me[t.language].delete})]})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:me[t.language].addMedicalRecord}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me[t.language].medicalRecordType}),e.jsxs("select",{value:b.type,onChange:C=>v(I=>({...I,type:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"checkup",children:me[t.language].recordTypes.checkup}),e.jsx("option",{value:"vaccination",children:me[t.language].recordTypes.vaccination}),e.jsx("option",{value:"treatment",children:me[t.language].recordTypes.treatment}),e.jsx("option",{value:"surgery",children:me[t.language].recordTypes.surgery})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me[t.language].medicalRecordDate}),e.jsx("input",{type:"date",value:b.date,onChange:C=>v(I=>({...I,date:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me[t.language].medicalRecordDescription}),e.jsx("textarea",{value:b.description,onChange:C=>v(I=>({...I,description:C.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me[t.language].medicalRecordVet}),e.jsx("input",{type:"text",value:b.veterinarian,onChange:C=>v(I=>({...I,veterinarian:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:me[t.language].cancel}),e.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Record"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(we,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:me[t.language].notFound})]})})}const Mo={en:{title:"All Field Worker Transactions",subtitle:"Comprehensive transaction history across all field workers",summary:"Summary",totalTransactions:"Total Transactions",totalWeight:"Total Weight",totalValue:"Total Value",activeWorkers:"Active Workers",searchPlaceholder:"Search by transaction ID, farmer, or field worker...",filterByPayment:"Filter by Payment",filterByQuality:"Filter by Quality",filterByWorker:"Filter by Field Worker",allPayments:"All Payments",allQualities:"All Qualities",allWorkers:"All Field Workers",date:"Date",transactionId:"Transaction ID",farmer:"Farmer",fieldWorker:"Field Worker",weight:"Weight (kg)",quality:"Quality",amount:"Amount ()",paymentMethod:"Payment",status:"Status",actions:"Actions",view:"View Details",premium:"Premium",standard:"Standard",basic:"Basic",pending:"Pending",processing:"Processing",completed:"Completed",failed:"Failed",exportData:"Export Data",noTransactions:"No transactions found",kg:"kg",close:"Close",viewDetails:"View Details",location:"Location",moistureContent:"Moisture Content",notes:"Notes",workflowStatus:"Workflow Status",validationStatus:"Validation Status"}};function xn({onClose:t}){const[s]=d.useState("en"),[a,r]=d.useState([]),[n,l]=d.useState([]),[o,c]=d.useState(!0),[u,j]=d.useState(""),[N,x]=d.useState(""),[i,g]=d.useState(""),[f,w]=d.useState(""),[S,D]=d.useState(null),[b,v]=d.useState(!1),[T,y]=d.useState(20),[m,h]=d.useState(1),k=G=>Mo[s][G]||G;d.useEffect(()=>{C()},[]),d.useEffect(()=>{I()},[a,u,N,i,f]);const p=n.length,M=Math.ceil(p/T),A=(m-1)*T,F=Math.min(A+T,p),L=n.slice(A,F),C=async()=>{try{c(!0);const G=await or.getAllContributions();G&&Array.isArray(G)?r(G):r([])}catch{r([])}finally{c(!1)}},I=()=>{let G=[...a];u&&(G=G.filter(re=>re.externalId.toLowerCase().includes(u.toLowerCase())||re.farmer?.name&&re.farmer.name.toLowerCase().includes(u.toLowerCase())||re.operatorName&&re.operatorName.toLowerCase().includes(u.toLowerCase())||re.notes&&re.notes.toLowerCase().includes(u.toLowerCase()))),N&&(G=G.filter(re=>re.paymentMethod===N)),i&&(G=G.filter(re=>re.qualityGrade===i)),f&&(G=G.filter(re=>re.operatorUserId===f)),l(G),h(1)},U=()=>{const G=a.length,re=a.reduce((le,de)=>le+de.weightKg,0),ke=a.reduce((le,de)=>le+de.totalAmount,0),ge=new Set(a.map(le=>le.operatorUserId).filter(Boolean));return{totalTransactions:G,totalWeight:re.toFixed(1),totalValue:ke.toFixed(2),activeWorkers:ge.size}},W=()=>{const G=new Map;return a.forEach(re=>{re.operatorUserId&&re.operatorName&&G.set(re.operatorUserId,re.operatorName)}),Array.from(G.entries()).map(([re,ke])=>({id:re,name:ke}))},z=G=>new Date(G).toLocaleDateString("en-IN"),Z=G=>{switch(G){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"PROCESSING":return"bg-blue-100 text-blue-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=G=>{switch(G){case"PREMIUM":return"bg-green-100 text-green-800";case"STANDARD":return"bg-blue-100 text-blue-800";case"BASIC":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},he=G=>{D(G),v(!0)},X=()=>{const G=a.map(de=>({"Transaction ID":de.externalId,Date:z(de.contributionDate),Farmer:de.farmer?.name||"Unknown","Field Worker":de.operatorName||"Unknown",Phone:de.operatorPhone||"N/A","Weight (kg)":de.weightKg,Quality:de.qualityGrade,"Rate (/kg)":de.ratePerKg,"Total Amount ()":de.totalAmount,"Payment Method":de.paymentMethod,"Payment Status":de.paymentStatus,Location:de.gpsLatitude&&de.gpsLongitude?`${de.gpsLatitude}, ${de.gpsLongitude}`:"N/A",Notes:de.notes||"N/A"})),re=[Object.keys(G[0]||{}).join(","),...G.map(de=>Object.values(de).join(","))].join(`
`),ke=new Blob([re],{type:"text/csv"}),ge=window.URL.createObjectURL(ke),le=document.createElement("a");le.href=ge,le.download=`field-worker-transactions-${new Date().toISOString().split("T")[0]}.csv`,le.click(),window.URL.revokeObjectURL(ge)},R=U(),ae=W();return o?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-center mt-4",children:"Loading transactions..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:k("title")}),e.jsx("p",{className:"text-gray-600 mt-1",children:k("subtitle")})]}),t&&e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100",children:e.jsx(bt,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ze,{className:"h-10 w-10 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:k("totalTransactions")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R.totalTransactions})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(es,{className:"h-10 w-10 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:k("totalWeight")}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[R.totalWeight," ",k("kg")]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Er,{className:"h-10 w-10 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:k("totalValue")}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",R.totalValue]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(st,{className:"h-10 w-10 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:k("activeWorkers")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R.activeWorkers})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:k("searchPlaceholder"),value:u,onChange:G=>j(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("select",{value:f,onChange:G=>w(G.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:k("allWorkers")}),ae.map(G=>e.jsx("option",{value:G.id,children:G.name},G.id))]}),e.jsxs("select",{value:N,onChange:G=>x(G.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:k("allPayments")}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"NEFT",children:"NEFT"}),e.jsx("option",{value:"AEPS",children:"AEPS"})]}),e.jsxs("select",{value:i,onChange:G=>g(G.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:k("allQualities")}),e.jsx("option",{value:"PREMIUM",children:k("premium")}),e.jsx("option",{value:"STANDARD",children:k("standard")}),e.jsx("option",{value:"BASIC",children:k("basic")})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(lt,{className:"h-4 w-4"}),k("exportData")]})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Show"}),e.jsxs("select",{value:T,onChange:G=>{y(Number(G.target.value)),h(1)},className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{className:"text-sm text-gray-600",children:"entries"})]})})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("date")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("transactionId")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("farmer")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("fieldWorker")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("weight")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("quality")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("amount")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("paymentMethod")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(G=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ie,{className:"h-4 w-4 text-gray-400 mr-2"}),z(G.contributionDate)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:G.externalId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:G.farmer?.name||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:G.farmer?.externalId})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(zt,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:G.operatorName||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:G.operatorPhone})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[G.weightKg," ",k("kg")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${H(G.qualityGrade)}`,children:k(G.qualityGrade.toLowerCase())})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:["",G.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G.paymentMethod}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(G.paymentStatus)}`,children:k(G.paymentStatus.toLowerCase())})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>he(G),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:k("viewDetails"),children:e.jsx(Ae,{className:"h-4 w-4"})})})]},G.id))})]})}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",A+1," to ",F," of ",p," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(Math.max(1,m-1)),disabled:m===1,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("span",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded",children:m}),e.jsx("button",{onClick:()=>h(Math.min(M,m+1)),disabled:m===M,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})}),n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(es,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:k("noTransactions")})]})]}),b&&S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Transaction Details"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(bt,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Transaction ID"}),e.jsx("p",{className:"text-lg font-mono",children:S.externalId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date"}),e.jsx("p",{className:"text-lg",children:z(S.contributionDate)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Farmer"}),e.jsx("p",{className:"text-lg",children:S.farmer?.name||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-500",children:S.farmer?.externalId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Field Worker"}),e.jsx("p",{className:"text-lg",children:S.operatorName||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-500",children:S.operatorPhone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Weight"}),e.jsxs("p",{className:"text-lg",children:[S.weightKg," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Rate per kg"}),e.jsxs("p",{className:"text-lg",children:["",S.ratePerKg]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),e.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["",S.totalAmount]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Method"}),e.jsx("p",{className:"text-lg",children:S.paymentMethod})]}),S.moistureContent&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Moisture Content"}),e.jsxs("p",{className:"text-lg",children:[S.moistureContent,"%"]})]}),S.gpsLatitude&&S.gpsLongitude&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Location"}),e.jsxs("p",{className:"text-lg",children:[S.gpsLatitude,", ",S.gpsLongitude]})]})]}),S.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("p",{className:"text-lg",children:S.notes})]})]})]})})]})})}function Ro(){const t=ve(),[s,a]=d.useState([]),[r,n]=d.useState([]),[l,o]=d.useState(!0),[c,u]=d.useState(null),[j,N]=d.useState(""),[x,i]=d.useState(20),[g,f]=d.useState(1),[w,S]=d.useState(1),[D,b]=d.useState(0),[v,T]=d.useState(!1),[y,m]=d.useState(""),[h,k]=d.useState(""),[p,M]=d.useState(""),[A,F]=d.useState("");d.useEffect(()=>{L()},[g,x]);const L=async()=>{o(!0),u(null);try{const H=await Ts.getAllFoodHistory(g-1,x);H.success&&H.data?(a(H.data.content||[]),n(H.data.content||[]),S(H.data.totalPages||1),b(H.data.totalElements||0)):(u(H.error||"Failed to load food history"),a([]),n([]))}catch{u("Failed to load food history"),a([]),n([])}finally{o(!1)}};d.useEffect(()=>{let H=s;j&&(H=H.filter(he=>he.livestockId.toString().includes(j)||he.shedId.toString().includes(j)||he.inventoryId.toString().includes(j)||he.duration.toLowerCase().includes(j.toLowerCase()))),y&&(H=H.filter(he=>he.livestockId.toString().includes(y))),h&&(H=H.filter(he=>he.shedId.toString().includes(h))),p&&(H=H.filter(he=>he.inventoryId.toString().includes(p))),A&&(H=H.filter(he=>he.duration.toLowerCase().includes(A.toLowerCase()))),n(H)},[j,y,h,p,A,s]);const C=H=>{t(`/gaushala/food-history/view/${H}`)},I=H=>{t(`/gaushala/food-history/edit/${H}`)},U=async H=>{if(window.confirm("Are you sure you want to delete this food history record?"))try{const he=await Ts.deleteFoodHistory(H);he.success?L():alert(he.error||"Failed to delete food history record")}catch{alert("Failed to delete food history record")}},W=H=>{if(!H)return"-";try{return new Date(H).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return H}},z=(g-1)*x,Z=Math.min(z+r.length,D);return l&&s.length===0?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading food history..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Food History"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Food consumption history and records"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(lt,{className:"h-4 w-4"}),"Export"]}),e.jsxs("button",{onClick:()=>t("/gaushala/food-history/add"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(mt,{className:"h-4 w-4"}),"Add Food Entry"]})]})]}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx("span",{className:"text-red-500",children:""}),c]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Show"}),e.jsxs("select",{value:x,onChange:H=>{i(Number(H.target.value)),f(1)},className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{className:"text-sm text-gray-600",children:"entries"})]}),e.jsxs("button",{onClick:()=>T(!v),className:"flex items-center gap-2 px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors",children:[e.jsx(Us,{className:"h-4 w-4"}),"Filter Box"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:j,onChange:H=>N(H.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),v&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Filter by Livestock ID",value:y,onChange:H=>m(H.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{type:"text",placeholder:"Filter by Shed ID",value:h,onChange:H=>k(H.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{type:"text",placeholder:"Filter by Inventory ID",value:p,onChange:H=>M(H.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{type:"text",placeholder:"Filter by Duration",value:A,onChange:H=>F(H.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SL."}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Livestock ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shed ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inventory ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Consume Quantity (kg)"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:l?"Loading...":"No food history records found"})}):r.map((H,he)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:z+he+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:H.livestockId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:H.shedId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:H.inventoryId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:H.consumeQuantity}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:H.duration}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:W(H.date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>C(H.id),className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"View",children:e.jsx(jt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>I(H.id),className:"p-1 text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors",title:"Edit",children:e.jsx(We,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>U(H.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors",title:"Delete",children:e.jsx(wt,{className:"h-4 w-4"})})]})})]},H.id))})]})}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",r.length>0?z+1:0," to ",Z," of ",D," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(Math.max(1,g-1)),disabled:g===1,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("span",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded",children:g}),e.jsxs("span",{className:"text-sm text-gray-500",children:["of ",w]}),e.jsx("button",{onClick:()=>f(Math.min(w,g+1)),disabled:g===w,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})})]})]})}function Oo(){const t=ve(),[s,a]=d.useState(!1),[r,n]=d.useState(null),[l,o]=d.useState([]),[c,u]=d.useState([]),[j,N]=d.useState([]),[x,i]=d.useState({livestockId:0,shedId:0,inventoryId:0,consumeQuantity:0,duration:"",date:"",comments:""}),[g,f]=d.useState({});d.useEffect(()=>{o([{id:1,name:"Cow 001 - Ganga"},{id:2,name:"Cow 002 - Yamuna"},{id:3,name:"Cow 003 - Saraswati"}]),u([{id:1,name:"Shed 1"},{id:2,name:"Shed 2"},{id:3,name:"Shed 3"},{id:4,name:"Shed 4"},{id:5,name:"Shed 5"}]),N([{id:1,name:"Green Fodder"},{id:2,name:"Dry Fodder"},{id:3,name:"Concentrate Feed"},{id:4,name:"Mineral Mixture"},{id:5,name:"Water"}])},[]);const w=(m,h)=>{i(k=>({...k,[m]:h})),g[m]&&f(k=>({...k,[m]:""}))},S=()=>{const m={};return x.livestockId===0&&(m.livestockId="Livestock is required"),x.shedId===0&&(m.shedId="Shed is required"),x.inventoryId===0&&(m.inventoryId="Food Type is required"),x.date.trim()||(m.date="Date is required"),x.consumeQuantity<=0&&(m.consumeQuantity="Consume Quantity must be greater than 0"),x.duration.trim()||(m.duration="Duration is required"),f(m),Object.keys(m).length===0},D=async m=>{if(m.preventDefault(),!S()){n({type:"error",text:"Please fill in all required fields."});return}a(!0),n(null);try{const h={livestockId:x.livestockId,shedId:x.shedId,inventoryId:x.inventoryId,consumeQuantity:x.consumeQuantity,duration:x.duration,date:new Date(x.date).toISOString(),comments:x.comments||void 0},k=await Ts.createFoodHistory(h);k.success?(n({type:"success",text:"Food history entry created successfully!"}),setTimeout(()=>{t("/gaushala/food-history")},2e3)):n({type:"error",text:k.error||"Failed to create food history entry."})}catch{n({type:"error",text:"Failed to create food history entry. Please try again."})}finally{a(!1)}},b=()=>{t("/gaushala/food-history")},v=({label:m,value:h,onChange:k,placeholder:p,required:M=!1,error:A,options:F,className:L=""})=>e.jsxs("div",{className:`space-y-2 ${L}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[m," ",M&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:h,onChange:C=>k(Number(C.target.value)||C.target.value),className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${A?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:0,children:p}),F.map(C=>e.jsx("option",{value:C.id,children:C.name},C.id))]}),A&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),A]})]}),T=({label:m,value:h,onChange:k,type:p="text",placeholder:M,required:A=!1,error:F,className:L="",...C})=>e.jsxs("div",{className:`space-y-2 ${L}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[m," ",A&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:p,value:h,onChange:I=>k(p==="number"?Number(I.target.value):I.target.value),placeholder:M,className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${F?"border-red-300 bg-red-50":"border-gray-300"}`,...C}),F&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),F]})]}),y=({label:m,value:h,onChange:k,placeholder:p,required:M=!1,error:A,rows:F=3,className:L=""})=>e.jsxs("div",{className:`space-y-2 ${L}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[m," ",M&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:h,onChange:C=>k(C.target.value),placeholder:p,rows:F,className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 resize-vertical ${A?"border-red-300 bg-red-50":"border-gray-300"}`}),A&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),A]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Food History"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Record new food consumption entry"})]}),e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back"]})]}),r&&e.jsx("div",{className:`p-4 rounded-lg border ${r.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="success"?e.jsx("span",{className:"text-green-500",children:""}):e.jsx("span",{className:"text-red-500",children:""}),r.text]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ge,{className:"h-5 w-5 text-blue-600"})}),"Create New Food History"]})}),e.jsxs("form",{onSubmit:D,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(v,{label:"Livestock (Cattle)",value:x.livestockId,onChange:m=>w("livestockId",m),placeholder:"Select cattle",required:!0,error:g.livestockId,options:l}),e.jsx(v,{label:"Shed",value:x.shedId,onChange:m=>w("shedId",m),placeholder:"Select shed",required:!0,error:g.shedId,options:c}),e.jsx(v,{label:"Food Type",value:x.inventoryId,onChange:m=>w("inventoryId",m),placeholder:"Select food type",required:!0,error:g.inventoryId,options:j}),e.jsx(T,{label:"Consume Quantity (kg)",value:x.consumeQuantity,onChange:m=>w("consumeQuantity",m),type:"number",placeholder:"Enter quantity",required:!0,error:g.consumeQuantity,min:"0",step:"0.1"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:x.date,onChange:m=>w("date",m.target.value),className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${g.date?"border-red-300 bg-red-50":"border-gray-300"}`}),e.jsx(Ie,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),g.date&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),g.date]})]}),e.jsx(v,{label:"Duration",value:x.duration,onChange:m=>w("duration",m),placeholder:"Select duration",required:!0,error:g.duration,options:[{id:"morning",name:"Morning"},{id:"afternoon",name:"Afternoon"},{id:"evening",name:"Evening"},{id:"1st half",name:"1st Half"},{id:"Last Half of the day",name:"Last Half of the day"},{id:"full day",name:"Full Day"}]}),e.jsx(y,{label:"Comments",value:x.comments,onChange:m=>w("comments",m),placeholder:"Enter any additional comments or notes",className:"md:col-span-2"})]}),e.jsxs("div",{className:"flex justify-start gap-4 mt-8 pt-6 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:b,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(ut,{className:"h-4 w-4"}),s?"Creating...":"Create Food History"]})]})]})]})]})}function Fo(){const t=ve(),{id:s}=ss(),[a,r]=d.useState(null),[n,l]=d.useState(!0),[o,c]=d.useState(null);d.useEffect(()=>{(async()=>{if(s){l(!0),c(null);try{const w=await Ts.getFoodHistoryById(parseInt(s));w.success&&w.data?r(w.data):c(w.error||"Food history record not found")}catch{c("Failed to load food history details")}finally{l(!1)}}})()},[s]);const u=()=>{t(`/gaushala/food-history/edit/${s}`)},j=async()=>{if(!(!s||!window.confirm("Are you sure you want to delete this food history record?")))try{const f=await Ts.deleteFoodHistory(parseInt(s));f.success?t("/gaushala/food-history"):alert(f.error||"Failed to delete food history record")}catch{alert("Failed to delete food history record")}},N=()=>{t("/gaushala/food-history")},x=f=>{if(!f)return"-";try{return new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return f}},i=f=>{if(!f)return"-";try{return new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return f}},g=({label:f,value:w,className:S=""})=>e.jsxs("div",{className:`space-y-1 ${S}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:f}),e.jsx("div",{className:"text-gray-900 font-medium",children:w||"-"})]});return n?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading food history details..."})}):o||!a?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Food History Not Found"}),e.jsx("p",{className:"text-gray-600 mt-1",children:o||"The requested food history record could not be found."})]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back to List"]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Food History Details"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Record #",a.id]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(We,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(wt,{className:"h-4 w-4"}),"Delete"]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ge,{className:"h-5 w-5 text-blue-600"})}),"Food History Information"]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(g,{label:"Livestock ID",value:a.livestockId}),e.jsx(g,{label:"Shed ID",value:a.shedId}),e.jsx(g,{label:"Inventory ID",value:a.inventoryId})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Consumption Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(g,{label:"Consume Quantity (kg)",value:a.consumeQuantity}),e.jsx(g,{label:"Duration",value:a.duration}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Feeding Date"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 font-medium",children:[e.jsx(Ie,{className:"h-4 w-4 text-gray-400"}),i(a.date)]})]})]})]}),a.comments&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Comments & Notes"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-900 leading-relaxed",children:a.comments})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Record Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.id&&e.jsx(g,{label:"Record ID",value:a.id}),a.createdAt&&e.jsx(g,{label:"Record Created",value:x(a.createdAt)}),a.updatedAt&&e.jsx(g,{label:"Last Updated",value:x(a.updatedAt)})]})]})]})]}),e.jsxs("div",{className:"flex justify-start gap-4",children:[e.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(We,{className:"h-4 w-4"}),"Edit Record"]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back to List"]})]})]})}function Lo(){const t=ve(),{id:s}=ss(),[a,r]=d.useState(!1),[n,l]=d.useState(!0),[o,c]=d.useState(null),[u,j]=d.useState([]),[N,x]=d.useState([]),[i,g]=d.useState([]),[f,w]=d.useState({livestockId:0,shedId:0,inventoryId:0,consumeQuantity:0,duration:"",date:"",comments:""}),[S,D]=d.useState({});d.useEffect(()=>{j([{id:1,name:"Cow 001 - Ganga"},{id:2,name:"Cow 002 - Yamuna"},{id:3,name:"Cow 003 - Saraswati"}]),x([{id:1,name:"Shed 1"},{id:2,name:"Shed 2"},{id:3,name:"Shed 3"},{id:4,name:"Shed 4"},{id:5,name:"Shed 5"}]),g([{id:1,name:"Green Fodder"},{id:2,name:"Dry Fodder"},{id:3,name:"Concentrate Feed"},{id:4,name:"Mineral Mixture"},{id:5,name:"Water"}])},[]),d.useEffect(()=>{(async()=>{if(s){l(!0);try{const M=await Ts.getFoodHistoryById(parseInt(s));if(M.success&&M.data){const A=M.data,L=new Date(A.date).toISOString().split("T")[0];w({livestockId:A.livestockId,shedId:A.shedId,inventoryId:A.inventoryId,consumeQuantity:A.consumeQuantity,duration:A.duration,date:L,comments:A.comments||""})}else c({type:"error",text:M.error||"Failed to load food history record."})}catch{c({type:"error",text:"Failed to load food history record."})}finally{l(!1)}}})()},[s]);const b=(p,M)=>{w(A=>({...A,[p]:M})),S[p]&&D(A=>({...A,[p]:""}))},v=()=>{const p={};return f.livestockId===0&&(p.livestockId="Livestock is required"),f.shedId===0&&(p.shedId="Shed is required"),f.inventoryId===0&&(p.inventoryId="Food Type is required"),f.date.trim()||(p.date="Date is required"),f.consumeQuantity<=0&&(p.consumeQuantity="Consume Quantity must be greater than 0"),f.duration.trim()||(p.duration="Duration is required"),D(p),Object.keys(p).length===0},T=async p=>{if(p.preventDefault(),!v()){c({type:"error",text:"Please fill in all required fields."});return}if(!s){c({type:"error",text:"Invalid food history ID."});return}r(!0),c(null);try{const M={livestockId:f.livestockId,shedId:f.shedId,inventoryId:f.inventoryId,consumeQuantity:f.consumeQuantity,duration:f.duration,date:new Date(f.date).toISOString(),comments:f.comments||void 0},A=await Ts.updateFoodHistory(parseInt(s),M);A.success?(c({type:"success",text:"Food history entry updated successfully!"}),setTimeout(()=>{t("/gaushala/food-history")},2e3)):c({type:"error",text:A.error||"Failed to update food history entry."})}catch{c({type:"error",text:"Failed to update food history entry. Please try again."})}finally{r(!1)}},y=()=>{t("/gaushala/food-history")},m=({label:p,value:M,onChange:A,placeholder:F,required:L=!1,error:C,options:I,className:U=""})=>e.jsxs("div",{className:`space-y-2 ${U}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[p," ",L&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:M,onChange:W=>A(Number(W.target.value)||W.target.value),className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${C?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:0,children:F}),I.map(W=>e.jsx("option",{value:W.id,children:W.name},W.id))]}),C&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),C]})]}),h=({label:p,value:M,onChange:A,type:F="text",placeholder:L,required:C=!1,error:I,className:U="",...W})=>e.jsxs("div",{className:`space-y-2 ${U}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[p," ",C&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:F,value:M,onChange:z=>A(F==="number"?Number(z.target.value):z.target.value),placeholder:L,className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${I?"border-red-300 bg-red-50":"border-gray-300"}`,...W}),I&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),I]})]}),k=({label:p,value:M,onChange:A,placeholder:F,required:L=!1,error:C,rows:I=3,className:U=""})=>e.jsxs("div",{className:`space-y-2 ${U}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[p," ",L&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:M,onChange:W=>A(W.target.value),placeholder:F,rows:I,className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 resize-vertical ${C?"border-red-300 bg-red-50":"border-gray-300"}`}),C&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),C]})]});return n?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading food history record..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Food History"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Update food history record #",s]})]}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back"]})]}),o&&e.jsx("div",{className:`p-4 rounded-lg border ${o.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[o.type==="success"?e.jsx("span",{className:"text-green-500",children:""}):e.jsx("span",{className:"text-red-500",children:""}),o.text]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ge,{className:"h-5 w-5 text-blue-600"})}),"Edit Food History Information"]})}),e.jsxs("form",{onSubmit:T,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Livestock (Cattle)",value:f.livestockId,onChange:p=>b("livestockId",p),placeholder:"Select cattle",required:!0,error:S.livestockId,options:u}),e.jsx(m,{label:"Shed",value:f.shedId,onChange:p=>b("shedId",p),placeholder:"Select shed",required:!0,error:S.shedId,options:N}),e.jsx(m,{label:"Food Type",value:f.inventoryId,onChange:p=>b("inventoryId",p),placeholder:"Select food type",required:!0,error:S.inventoryId,options:i}),e.jsx(h,{label:"Consume Quantity (kg)",value:f.consumeQuantity,onChange:p=>b("consumeQuantity",p),type:"number",placeholder:"Enter quantity",required:!0,error:S.consumeQuantity,min:"0",step:"0.1"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:f.date,onChange:p=>b("date",p.target.value),className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${S.date?"border-red-300 bg-red-50":"border-gray-300"}`}),e.jsx(Ie,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),S.date&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),S.date]})]}),e.jsx(m,{label:"Duration",value:f.duration,onChange:p=>b("duration",p),placeholder:"Select duration",required:!0,error:S.duration,options:[{id:"morning",name:"Morning"},{id:"afternoon",name:"Afternoon"},{id:"evening",name:"Evening"},{id:"1st half",name:"1st Half"},{id:"Last Half of the day",name:"Last Half of the day"},{id:"full day",name:"Full Day"}]}),e.jsx(k,{label:"Comments",value:f.comments,onChange:p=>b("comments",p),placeholder:"Enter any additional comments or notes",className:"md:col-span-2"})]}),e.jsxs("div",{className:"flex justify-start gap-4 mt-8 pt-6 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(ut,{className:"h-4 w-4"}),a?"Updating...":"Update Food History"]})]})]})]})]})}const hn=[{id:1,batchName:"Batch-04",type:"",shedNo:"Shed_1",doctor:"Mr. User",identifyDate:"Apr 17, 2025",startDate:"Apr 17, 2025",endDate:"Apr 18, 2025",nextFollowUpDate:"Apr 27, 2025"},{id:2,batchName:"Batch-07",type:"",shedNo:"",doctor:"Mr. User",identifyDate:"Apr 02, 2025",startDate:"Apr 02, 2025",endDate:"Apr 04, 2025",nextFollowUpDate:"Apr 12, 2025"},{id:3,batchName:"Batch-06",type:"",shedNo:"Shed_1",doctor:"Mr. User",identifyDate:"Mar 14, 2025",startDate:"Mar 04, 2025",endDate:"Mar 04, 2025",nextFollowUpDate:"Mar 20, 2025"}];function _o(){const t=ve(),[s,a]=d.useState(hn),[r,n]=d.useState(hn),[l,o]=d.useState(""),[c,u]=d.useState(10),[j,N]=d.useState(1),[x,i]=d.useState(!1),[g,f]=d.useState(""),[w,S]=d.useState(""),[D,b]=d.useState(""),[v,T]=d.useState(""),[y,m]=d.useState("");d.useEffect(()=>{let F=s;l&&(F=F.filter(L=>L.batchName.toLowerCase().includes(l.toLowerCase())||L.type.toLowerCase().includes(l.toLowerCase())||L.shedNo.toLowerCase().includes(l.toLowerCase())||L.doctor.toLowerCase().includes(l.toLowerCase())||L.identifyDate.toLowerCase().includes(l.toLowerCase())||L.nextFollowUpDate.toLowerCase().includes(l.toLowerCase()))),g&&g!=="all"&&(F=F.filter(L=>L.batchName.toLowerCase().includes(g.toLowerCase()))),w&&w!=="all"&&(F=F.filter(L=>L.type.toLowerCase().includes(w.toLowerCase()))),D&&D!=="all"&&(F=F.filter(L=>L.doctor.toLowerCase().includes(D.toLowerCase()))),v&&(F=F.filter(L=>L.identifyDate.toLowerCase().includes(v.toLowerCase()))),y&&(F=F.filter(L=>L.nextFollowUpDate.toLowerCase().includes(y.toLowerCase()))),n(F),N(1)},[l,g,w,D,v,y,s]);const h=r.length,k=Math.ceil(h/c),p=(j-1)*c,M=Math.min(p+c,h),A=r.slice(p,M);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Health History"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Health History Listing"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(lt,{className:"h-4 w-4"}),"Export"]}),e.jsxs("button",{onClick:()=>t("/gaushala/health-history/add"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(mt,{className:"h-4 w-4"}),"Add Medicine"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Show"}),e.jsxs("select",{value:c,onChange:F=>u(Number(F.target.value)),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{className:"text-sm text-gray-600",children:"entries"})]}),e.jsxs("button",{onClick:()=>i(!x),className:"flex items-center gap-2 px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors",children:[e.jsx(Us,{className:"h-4 w-4"}),"Filter Box"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:l,onChange:F=>o(F.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),x&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Batch Name"}),e.jsxs("select",{value:g,onChange:F=>f(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"------ All ------"}),e.jsx("option",{value:"Batch-04",children:"Batch-04"}),e.jsx("option",{value:"Batch-06",children:"Batch-06"}),e.jsx("option",{value:"Batch-07",children:"Batch-07"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Type"}),e.jsxs("select",{value:w,onChange:F=>S(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"------ All ------"}),e.jsx("option",{value:"checkup",children:"Check-up"}),e.jsx("option",{value:"vaccination",children:"Vaccination"}),e.jsx("option",{value:"treatment",children:"Treatment"}),e.jsx("option",{value:"surgery",children:"Surgery"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Identify Date"}),e.jsx("input",{type:"date",value:v,onChange:F=>T(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Doctor"}),e.jsxs("select",{value:D,onChange:F=>b(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"------ All ------"}),e.jsx("option",{value:"Mr. User",children:"Mr. User"}),e.jsx("option",{value:"Dr. Smith",children:"Dr. Smith"}),e.jsx("option",{value:"Dr. Johnson",children:"Dr. Johnson"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Next Follow Up Date"}),e.jsx("input",{type:"date",value:y,onChange:F=>m(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SL."}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shed No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Doctor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Identify Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Follow Up Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:A.map((F,L)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p+L+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:F.batchName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.type}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.shedNo}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.doctor}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.identifyDate}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.startDate}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.endDate}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.nextFollowUpDate}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"View",children:e.jsx(jt,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors",title:"Edit",children:e.jsx(We,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors",title:"Delete",children:e.jsx(wt,{className:"h-4 w-4"})})]})})]},F.id))})]})}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",p+1," to ",M," of ",h," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>N(Math.max(1,j-1)),disabled:j===1,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("span",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded",children:j}),e.jsx("button",{onClick:()=>N(Math.min(k,j+1)),disabled:j===k,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})})]})]})}function gn(){const t=ve(),[s,a]=d.useState(!1),[r,n]=d.useState(null),[l,o]=d.useState({name:"",description:"",dosage:"",unit:"mg",quantity:0,expiryDate:"",manufacturer:"",batchNumber:"",purpose:""}),[c,u]=d.useState({}),j=(S,D)=>{o(b=>({...b,[S]:D})),c[S]&&u(b=>({...b,[S]:""}))},N=()=>{const S={};if(l.name.trim()||(S.name="Medicine Name is required"),l.dosage.trim()||(S.dosage="Dosage is required"),l.unit.trim()||(S.unit="Unit is required"),l.quantity<=0&&(S.quantity="Quantity must be greater than 0"),l.expiryDate.trim()||(S.expiryDate="Expiry Date is required"),l.expiryDate){const D=new Date(l.expiryDate),b=new Date;b.setHours(0,0,0,0),D<b&&(S.expiryDate="Expiry Date should be in the future")}return u(S),Object.keys(S).length===0},x=async S=>{if(S.preventDefault(),!N()){n({type:"error",text:"Please fill in all required fields and fix validation errors."});return}a(!0),n(null);try{const D={name:l.name,description:l.description||void 0,dosage:l.dosage,unit:l.unit,quantity:l.quantity,expiryDate:new Date(l.expiryDate).toISOString(),manufacturer:l.manufacturer||void 0,batchNumber:l.batchNumber||void 0,purpose:l.purpose||void 0},b=await Is.createMedicine(D);b.success?(n({type:"success",text:"Medicine record created successfully!"}),setTimeout(()=>{t("/gaushala/health-history")},2e3)):n({type:"error",text:b.error||"Failed to create medicine record."})}catch{n({type:"error",text:"Failed to create medicine record. Please try again."})}finally{a(!1)}},i=()=>{t("/gaushala/health-history")},g=({label:S,value:D,onChange:b,type:v="text",placeholder:T,required:y=!1,error:m,className:h="",...k})=>e.jsxs("div",{className:`space-y-2 ${h}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[S," ",y&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:v,value:D,onChange:p=>b(v==="number"?Number(p.target.value):p.target.value),placeholder:T,className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${m?"border-red-300 bg-red-50":"border-gray-300"}`,...k}),m&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),m]})]}),f=({label:S,value:D,onChange:b,placeholder:v,required:T=!1,error:y,options:m,className:h=""})=>e.jsxs("div",{className:`space-y-2 ${h}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[S," ",T&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:D,onChange:k=>b(k.target.value),className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${y?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:v}),m.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value))]}),y&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),y]})]}),w=({label:S,value:D,onChange:b,placeholder:v,required:T=!1,error:y,rows:m=3,className:h=""})=>e.jsxs("div",{className:`space-y-2 ${h}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[S," ",T&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:D,onChange:k=>b(k.target.value),placeholder:v,rows:m,className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 resize-vertical ${y?"border-red-300 bg-red-50":"border-gray-300"}`}),y&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),y]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Medicine"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create new medicine inventory record"})]}),e.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back"]})]}),r&&e.jsx("div",{className:`p-4 rounded-lg border ${r.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="success"?e.jsx("span",{className:"text-green-500",children:""}):e.jsx("span",{className:"text-red-500",children:""}),r.text]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Mr,{className:"h-5 w-5 text-blue-600"})}),"Medicine Information"]})}),e.jsxs("form",{onSubmit:x,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Medicine Name",value:l.name,onChange:S=>j("name",S),placeholder:"Enter medicine name",required:!0,error:c.name}),e.jsx(g,{label:"Batch Number",value:l.batchNumber,onChange:S=>j("batchNumber",S),placeholder:"Enter batch number",error:c.batchNumber}),e.jsx(g,{label:"Dosage",value:l.dosage,onChange:S=>j("dosage",S),placeholder:"e.g., 500mg twice daily",required:!0,error:c.dosage}),e.jsx(f,{label:"Unit",value:l.unit,onChange:S=>j("unit",S),placeholder:"Select unit",required:!0,error:c.unit,options:[{value:"mg",label:"Milligrams (mg)"},{value:"ml",label:"Milliliters (ml)"},{value:"g",label:"Grams (g)"},{value:"tablets",label:"Tablets"},{value:"capsules",label:"Capsules"},{value:"units",label:"Units"}]}),e.jsx(g,{label:"Quantity",type:"number",value:l.quantity,onChange:S=>j("quantity",S),placeholder:"Enter quantity in stock",required:!0,error:c.quantity,min:"0"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:["Expiry Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:l.expiryDate,onChange:S=>j("expiryDate",S.target.value),className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${c.expiryDate?"border-red-300 bg-red-50":"border-gray-300"}`}),e.jsx(Ie,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),c.expiryDate&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),c.expiryDate]})]}),e.jsx(g,{label:"Manufacturer",value:l.manufacturer,onChange:S=>j("manufacturer",S),placeholder:"Enter manufacturer name",error:c.manufacturer}),e.jsx(w,{label:"Purpose",value:l.purpose,onChange:S=>j("purpose",S),placeholder:"Enter purpose or indication for use",className:"md:col-span-2",rows:2}),e.jsx(w,{label:"Description",value:l.description,onChange:S=>j("description",S),placeholder:"Enter additional details about the medicine",className:"md:col-span-2",rows:3})]}),e.jsxs("div",{className:"flex justify-start gap-4 mt-8 pt-6 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:i,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(ut,{className:"h-4 w-4"}),s?"Creating...":"Create Medicine"]})]})]})]})]})}function $o(){const t=ve(),{id:s}=ss(),[a,r]=d.useState(null),[n,l]=d.useState(!0),[o,c]=d.useState(null),[u,j]=d.useState([]),[N,x]=d.useState([]),[i,g]=d.useState([]),[f,w]=d.useState([]),[S,D]=d.useState([]),b=C=>u.find(U=>U.id===C)?.name||`Breed #${C}`,v=C=>N.find(U=>U.id===C)?.name||`Species #${C}`,T=C=>i.find(U=>U.id===C)?.name||`Gender #${C}`,y=C=>f.find(U=>U.id===C)?.name||`Color #${C}`,m=C=>S.find(U=>U.id===C)?.name||`Gaushala #${C}`;d.useEffect(()=>{(async()=>{if(s){l(!0),c(null);try{const[I,U,W,z,Z,H]=await Promise.all([ft.getAllBreeds(),ft.getAllSpecies(),ft.getAllGenders(),ft.getAllColors(),ft.getAllLocations(),ds.getCattleById(parseInt(s))]);I.success&&I.data&&j(I.data),U.success&&U.data&&x(U.data),W.success&&W.data&&g(W.data),z.success&&z.data&&w(z.data),Z.success&&Z.data&&D(Z.data),H.success&&H.data?r(H.data):c(H.error||"Cattle record not found")}catch{c("Failed to load cattle details")}finally{l(!1)}}})()},[s]);const h=()=>{t(`/gaushala/cattle/edit/${s}`)},k=async()=>{if(!(!s||!window.confirm("Are you sure you want to delete this cattle record?")))try{const C=await ds.deleteCattle(parseInt(s));C.success?t("/gaushala/cattle"):alert(C.error||"Failed to delete cattle record")}catch{alert("Failed to delete cattle record")}},p=()=>{t("/gaushala/cattle")},M=C=>{if(!C)return"-";try{return new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return C}},A=C=>{if(!C)return"-";try{return new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return C}};if(n)return e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading cattle details..."})});if(o||!a)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cattle Not Found"}),e.jsx("p",{className:"text-gray-600 mt-1",children:o||"The requested cattle record could not be found."})]}),e.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back to Cattle List"]})]})});const F=({label:C,value:I,className:U=""})=>e.jsxs("div",{className:`space-y-1 ${U}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:C}),e.jsx("div",{className:"text-gray-900 font-medium",children:I||"-"})]}),L=i.find(C=>C.name.toLowerCase()==="female"&&C.id===a.genderId);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cattle Details"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[a.name||"No Name"," - ",a.uniqueAnimalId]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(We,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(wt,{className:"h-4 w-4"}),"Delete"]}),e.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ge,{className:"h-5 w-5 text-blue-600"})}),"Cattle Information"]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200 flex items-center gap-2",children:[e.jsx(zt,{className:"h-5 w-5 text-blue-600"})," Basic Identification"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(F,{label:"Unique Animal ID",value:a.uniqueAnimalId}),e.jsx(F,{label:"Name",value:a.name||"-"}),e.jsx(F,{label:"Breed",value:b(a.breedId)}),e.jsx(F,{label:"Species",value:v(a.speciesId)}),e.jsx(F,{label:"Gender",value:T(a.genderId)}),e.jsx(F,{label:"Color",value:y(a.colorId)}),e.jsx(F,{label:"Date of Birth",value:M(a.dob)}),e.jsx(F,{label:"Age",value:`${Br(a.dob)} years`})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200 flex items-center gap-2",children:[e.jsx(ts,{className:"h-5 w-5 text-green-600"})," Gaushala Assignment"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(F,{label:"Assigned Gaushala",value:m(a.gaushalaId)}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 ${a.isActive?"bg-green-500":"bg-gray-500"} rounded-full`}),e.jsx("span",{className:"text-gray-900 font-medium",children:a.isActive?"Active":"Inactive"})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200 flex items-center gap-2",children:[e.jsx(Sa,{className:"h-5 w-5 text-purple-600"})," Physical Characteristics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(F,{label:"Weight",value:a.weight?`${a.weight} kg`:"-"}),e.jsx(F,{label:"Height",value:a.height?`${a.height} cm`:"-"}),e.jsx(F,{label:"Horn Status",value:a.hornStatus||"-"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"RFID Tag Number"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 font-medium font-mono bg-gray-50 p-2 rounded",children:[e.jsx(sr,{className:"h-4 w-4 text-gray-400"}),a.rfidTagNo||"-"]})]}),e.jsx(F,{label:"Ear Tag Number",value:a.earTagNo||"-"}),e.jsx(F,{label:"Microchip Number",value:a.microchipNo||"-"}),e.jsx(F,{label:"Shed Number",value:a.shedNumber||"-"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200 flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5 text-red-600"})," Health & Medical Records"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(F,{label:"Vaccination Status",value:a.vaccinationStatus||"-",className:"md:col-span-2 lg:col-span-3"}),e.jsx(F,{label:"Disability",value:a.disability||"-",className:"md:col-span-2 lg:col-span-3"}),e.jsx(F,{label:"Medical History",value:a.medicalHistory||"-",className:"md:col-span-2 lg:col-span-3"}),e.jsx(F,{label:"Deworming Schedule",value:a.dewormingSchedule||"-"}),e.jsx(F,{label:"Last Health Checkup",value:M(a.lastHealthCheckupDate)}),e.jsx(F,{label:"Health Status",value:a.healthStatus||"-"}),e.jsx(F,{label:"Veterinarian Name",value:a.vetName||"-"}),e.jsx(F,{label:"Veterinarian Contact",value:a.vetContact||"-"})]})]}),L&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200 flex items-center gap-2",children:[e.jsx(rr,{className:"h-5 w-5 text-pink-600"})," Reproductive Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(F,{label:"Pregnancy Status",value:a.pregnancyStatus||"-"}),e.jsx(F,{label:"Milking Status",value:a.milkingStatus||"-"}),e.jsx(F,{label:"Milk Yield Per Day",value:a.milkYieldPerDay?`${a.milkYieldPerDay} L`:"-"}),e.jsx(F,{label:"Lactation Number",value:a.lactationNumber||"-"}),e.jsx(F,{label:"Last Calving Date",value:M(a.lastCalvingDate)}),e.jsx(F,{label:"Number of Calves",value:a.calvesCount||"-"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200 flex items-center gap-2",children:[e.jsx(bs,{className:"h-5 w-5 text-indigo-600"})," Origin & Ownership"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(F,{label:"Source of Acquisition",value:a.sourceId?`Source #${a.sourceId}`:"-"}),e.jsx(F,{label:"Date of Acquisition",value:M(a.dateOfAcquisition)}),e.jsx(F,{label:"Previous Owner",value:a.previousOwner||"-"}),e.jsx(F,{label:"Ownership Status",value:a.ownershipId?`Ownership #${a.ownershipId}`:"-"}),e.jsx(F,{label:"Date of Entry",value:M(a.dateOfEntry)})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200 flex items-center gap-2",children:[e.jsx(hl,{className:"h-5 w-5 text-orange-600"})," Feeding Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(F,{label:"Feeding Schedule",value:a.feedingSchedule||"-",className:"md:col-span-2 lg:col-span-3"}),e.jsx(F,{label:"Feed Type",value:a.feedTypeId?`Feed Type #${a.feedTypeId}`:"-"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Dung Collection Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(F,{label:"Total Dung Collected",value:a.totalDungCollected?`${a.totalDungCollected} kg`:"-"}),e.jsx(F,{label:"Last Dung Collection",value:a.lastDungCollection?`${a.lastDungCollection} kg`:"-"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Record Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.id&&e.jsx(F,{label:"Record ID",value:a.id}),a.createdAt&&e.jsx(F,{label:"Record Created",value:A(a.createdAt)}),a.updatedAt&&e.jsx(F,{label:"Last Updated",value:A(a.updatedAt)})]})]}),a.photoUrl&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Cattle Photo"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 max-w-md",children:e.jsx("img",{src:a.photoUrl,alt:"Cattle Photo",className:"max-h-64 max-w-full object-cover rounded"})})]})]})]}),e.jsxs("div",{className:"flex justify-start gap-4",children:[e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(We,{className:"h-4 w-4"}),"Edit Record"]}),e.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back to List"]})]})]})}function Bo({languageContext:t}){const s=ve(),{id:a}=ss(),[r,n]=d.useState([]),[l,o]=d.useState([]),[c,u]=d.useState([]),[j,N]=d.useState([]),[x,i]=d.useState([]),[g,f]=d.useState(!0),[w,S]=d.useState({uniqueAnimalId:"",name:"",breedId:0,speciesId:0,genderId:0,colorId:0,ageYears:0,dateOfEntry:new Date().toISOString().split("T")[0],gaushalaId:0,vaccinationStatus:"",disability:"",veterinarianName:"",dewormingSchedule:"",lastHealthCheckup:"",veterinarianContact:"",medicalHistory:"",weight:"",hornStatus:"",rfidTagNo:"",height:"",earTagNumber:"",microchipNumber:"",milkingStatus:"",milkYieldPerDay:"",numberOfCalves:"",lactationNumber:"",lastCalvingDate:"",pregnancyStatus:"",sourceOfAcquisition:"",previousOwner:"",dateOfAcquisition:"",ownershipStatus:"",shedNumber:"",typeOfFeed:"",feedingSchedule:"",photoFile:null,healthCertificate:null,vaccinationRecord:null,purchaseDocument:null}),[D,b]=d.useState(!1),[v,T]=d.useState(!0),[y,m]=d.useState(!1),[h,k]=d.useState(null),[p,M]=d.useState({}),[A,F]=d.useState(0);d.useEffect(()=>{(async()=>{if(!a){k({type:"error",text:"Invalid cattle ID"}),T(!1);return}T(!0);try{const[ae,G,re,ke,ge,le]=await Promise.all([ft.getAllBreeds(),ft.getAllSpecies(),ft.getAllGenders(),ft.getAllColors(),ft.getAllLocations(),ds.getCattleById(parseInt(a))]);if(ae.success&&ae.data&&n(ae.data),G.success&&G.data&&o(G.data),re.success&&re.data&&u(re.data),ke.success&&ke.data&&N(ke.data),ge.success&&ge.data&&i(ge.data),le.success&&le.data){const de=le.data;S({uniqueAnimalId:de.uniqueAnimalId,name:de.name||"",breedId:de.breedId,speciesId:de.speciesId,genderId:de.genderId,colorId:de.colorId,ageYears:Br(de.dob),dateOfEntry:new Date().toISOString().split("T")[0],gaushalaId:de.gaushalaId,vaccinationStatus:"",disability:"",veterinarianName:de.vetName||"",dewormingSchedule:"",lastHealthCheckup:"",veterinarianContact:de.vetContact||"",medicalHistory:de.healthStatus||"",weight:de.weight?.toString()||"",hornStatus:"",rfidTagNo:de.rfidTagNo||"",height:de.height?.toString()||"",earTagNumber:"",microchipNumber:"",milkingStatus:"",milkYieldPerDay:"",numberOfCalves:"",lactationNumber:"",lastCalvingDate:"",pregnancyStatus:"",sourceOfAcquisition:"",previousOwner:"",dateOfAcquisition:"",ownershipStatus:"",shedNumber:de.shedNumber||"",typeOfFeed:"",feedingSchedule:"",photoFile:null,healthCertificate:null,vaccinationRecord:null,purchaseDocument:null})}else k({type:"error",text:le.error||"Failed to load cattle record."})}catch{k({type:"error",text:"Failed to load cattle record. Please try again."})}finally{T(!1),f(!1)}})()},[a]);const L=d.useCallback((R,ae)=>{S(G=>({...G,[R]:ae})),p[R]&&M(G=>({...G,[R]:""})),k(null)},[p]),C=async()=>{m(!0);try{const R=await ds.scanRfid();R.success&&R.data&&(L("rfidTagNo",R.data.rfidTag),R.data.cattleInfo?k({type:"warning",text:"RFID tag already exists for another cattle"}):k({type:"success",text:"RFID tag scanned successfully"}))}catch{k({type:"error",text:"Failed to scan RFID tag"})}finally{m(!1)}},I=()=>{const R={};return w.uniqueAnimalId.trim()||(R.uniqueAnimalId="Unique Animal ID is required"),w.breedId===0&&(R.breedId="Breed is required"),w.speciesId===0&&(R.speciesId="Species is required"),w.genderId===0&&(R.genderId="Gender is required"),w.dateOfEntry||(R.dateOfEntry="Date of Entry is required"),w.gaushalaId===0&&(R.gaushalaId="Gaushala selection is required"),w.rfidTagNo.trim()||(R.rfidTagNo="RFID Tag Number is required"),M(R),Object.keys(R).length===0},U=async R=>{if(R.preventDefault(),!I()){k({type:"error",text:"Please fill in all required fields"});return}if(!a){k({type:"error",text:"Invalid cattle ID"});return}b(!0),k(null);try{const ae={uniqueAnimalId:w.uniqueAnimalId,name:w.name,breedId:w.breedId,speciesId:w.speciesId,genderId:w.genderId,colorId:w.colorId,dob:w.ageYears>0?Di(w.ageYears):new Date().toISOString(),weight:w.weight?parseFloat(w.weight):void 0,height:w.height?parseFloat(w.height):void 0,rfidTagNo:w.rfidTagNo,gaushalaId:w.gaushalaId,shedNumber:w.shedNumber||void 0,healthStatus:w.medicalHistory||void 0,vetName:w.veterinarianName||void 0,vetContact:w.veterinarianContact||void 0,isActive:!0,totalDungCollected:0,lastDungCollection:0},G=await ds.updateCattle(parseInt(a),ae);if(G.success&&G.data){const re=[];if(w.photoFile&&re.push(ds.uploadPhoto(G.data.id,w.photoFile)),w.healthCertificate,w.vaccinationRecord,w.purchaseDocument,re.length>0)try{await Promise.all(re)}catch{}k({type:"success",text:"Cattle updated successfully!"}),setTimeout(()=>{s("/gaushala/cattle")},2e3)}else throw new Error(G.error||"Failed to update cattle")}catch{k({type:"error",text:"Failed to update cattle. Please try again."})}finally{b(!1)}},W=()=>{s("/gaushala/cattle")},z=[{id:"basic",title:"Basic Identification",icon:zt,color:"from-blue-500 to-indigo-600",progress:0},{id:"gaushala",title:"Gaushala",icon:ts,color:"from-green-500 to-teal-600",progress:0},{id:"physical",title:"Physical Characteristics",icon:Sa,color:"from-purple-500 to-violet-600",progress:0},{id:"health",title:"Health & Medical",icon:$e,color:"from-red-500 to-pink-600",progress:0},{id:"reproductive",title:"Reproductive Details",icon:Ka,color:"from-pink-500 to-rose-600",progress:0},{id:"origin",title:"Origin & Ownership",icon:bs,color:"from-emerald-500 to-teal-600",progress:0},{id:"shelter",title:"Shelter & Feeding",icon:$t,color:"from-amber-500 to-yellow-600",progress:0}],Z=({label:R,value:ae,onChange:G,type:re="text",placeholder:ke,required:ge=!1,error:le,className:de="",...ze})=>e.jsxs("div",{className:`space-y-2 ${de}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[R," ",ge&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:re,value:ae,onChange:xt=>G(re==="number"?Number(xt.target.value):xt.target.value),placeholder:ke,className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${le?"border-red-300 bg-red-50":"border-gray-300"}`,...ze}),le&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Le,{className:"h-4 w-4"}),le]})]}),H=({label:R,value:ae,onChange:G,options:re,placeholder:ke,required:ge=!1,error:le,className:de=""})=>e.jsxs("div",{className:`space-y-2 ${de}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[R," ",ge&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:ae,onChange:ze=>G(ze.target.value),className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${le?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:ke}),re.map(ze=>e.jsx("option",{value:ze.value,children:ze.label},ze.value))]}),le&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Le,{className:"h-4 w-4"}),le]})]}),he=({label:R,value:ae,onChange:G,placeholder:re,rows:ke=3,className:ge=""})=>e.jsxs("div",{className:`space-y-2 ${ge}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800",children:R}),e.jsx("textarea",{value:ae,onChange:le=>G(le.target.value),placeholder:re,rows:ke,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 resize-none"})]}),X=({label:R,value:ae,onChange:G,accept:re,className:ke=""})=>e.jsxs("div",{className:`space-y-2 ${ke}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-800",children:R}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:re,onChange:ge=>G(ge.target.files?.[0]||null),className:"hidden",id:R.replace(/\s+/g,"-").toLowerCase()}),e.jsx("label",{htmlFor:R.replace(/\s+/g,"-").toLowerCase(),className:"flex items-center justify-center w-full px-3 py-2 bg-white border-2 border-dashed border-gray-300 rounded-lg transition-all duration-200 cursor-pointer hover:border-blue-400 hover:bg-blue-50 group",children:e.jsxs("div",{className:"flex items-center gap-3 text-gray-600 group-hover:text-blue-600",children:[e.jsx(ar,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:ae?ae.name:`Choose ${R.toLowerCase()}`})]})}),ae&&e.jsx("button",{type:"button",onClick:()=>G(null),className:"absolute top-2 right-2 p-1 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors",children:e.jsx(bt,{className:"h-4 w-4"})})]})]});return v?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading cattle record..."})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsx("div",{className:"h-8 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Cattle Record"}),e.jsxs("p",{className:"text-gray-600",children:["Update cattle information - ID #",a]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:W,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"cattle-form",disabled:D,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[e.jsx(ut,{className:"h-4 w-4"}),D?"Updating...":"Update Cattle"]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:e.jsx("div",{className:"flex items-center justify-between overflow-x-auto",children:z.map((R,ae)=>{const G=R.icon;return e.jsxs("div",{className:"flex items-center flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-blue-100 text-blue-600",children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx("div",{className:"ml-2",children:e.jsx("p",{className:"text-xs font-medium text-gray-700",children:R.title})}),ae<z.length-1&&e.jsx("div",{className:"w-8 h-px bg-gray-300 mx-3"})]},R.id)})})}),h&&e.jsx("div",{className:`p-4 rounded-lg border-l-4 ${h.type==="success"?"bg-green-50 border-green-400 text-green-800":h.type==="warning"?"bg-yellow-50 border-yellow-400 text-yellow-800":"bg-red-50 border-red-400 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[h.type==="success"?e.jsx(be,{className:"h-5 w-5"}):h.type==="warning"?e.jsx(Ae,{className:"h-5 w-5"}):e.jsx(Le,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:h.text})]})}),e.jsx("form",{id:"cattle-form",onSubmit:U,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(zt,{className:"h-5 w-5 text-blue-600"})})," Basic Identification"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(Z,{label:"Unique Animal ID",value:w.uniqueAnimalId,onChange:R=>L("uniqueAnimalId",R),placeholder:"Enter unique animal ID",required:!0,error:p.uniqueAnimalId}),e.jsx(Z,{label:"Name (Optional)",value:w.name,onChange:R=>L("name",R),placeholder:"Enter cattle name"}),e.jsx(H,{label:"Breed",value:w.breedId,onChange:R=>L("breedId",parseInt(R)||0),placeholder:g?"Loading breeds...":"Select Breed",required:!0,error:p.breedId,options:r.map(R=>({value:R.id.toString(),label:R.name}))}),e.jsx(H,{label:"Species",value:w.speciesId,onChange:R=>L("speciesId",parseInt(R)||0),placeholder:g?"Loading species...":"Select Species",required:!0,error:p.speciesId,options:l.map(R=>({value:R.id.toString(),label:R.name}))}),e.jsx(H,{label:"Gender",value:w.genderId,onChange:R=>L("genderId",parseInt(R)||0),placeholder:g?"Loading genders...":"Select Gender",required:!0,error:p.genderId,options:c.map(R=>({value:R.id.toString(),label:R.name}))}),e.jsx(H,{label:"Color",value:w.colorId,onChange:R=>L("colorId",parseInt(R)||0),placeholder:g?"Loading colors...":"Select Color",error:p.colorId,options:j.map(R=>({value:R.id.toString(),label:R.name}))}),e.jsx(Z,{label:"Age (Years)",value:w.ageYears,onChange:R=>L("ageYears",R),type:"number",min:"0",placeholder:"Enter age in years"}),e.jsx(Z,{label:"Date of Entry",value:w.dateOfEntry,onChange:R=>L("dateOfEntry",R),type:"date",required:!0,error:p.dateOfEntry})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ts,{className:"h-5 w-5 text-blue-600"})})," Gaushala"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(H,{label:"Select Gaushala",value:w.gaushalaId,onChange:R=>L("gaushalaId",parseInt(R)||0),placeholder:g?"Loading locations...":"Select Gaushala",required:!0,error:p.gaushalaId,options:x.map(R=>({value:R.id.toString(),label:R.name}))})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Sa,{className:"h-5 w-5 text-purple-600"})})," Physical Characteristics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(Z,{label:"Weight (kg)",value:w.weight,onChange:R=>L("weight",R),type:"number",step:"0.1",placeholder:"Weight in kilograms"}),e.jsx(Z,{label:"Height (cm)",value:w.height,onChange:R=>L("height",R),type:"number",placeholder:"Height in centimeters"}),e.jsx(H,{label:"Horn Status",value:w.hornStatus,onChange:R=>L("hornStatus",R),placeholder:"Select Status",options:[{value:"horned",label:"Horned"},{value:"dehorned",label:"Dehorned"},{value:"polled",label:"Polled (Naturally hornless)"}]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:["RFID Tag Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:w.rfidTagNo,onChange:R=>L("rfidTagNo",R.target.value),placeholder:"Scan or enter RFID tag",className:`flex-1 px-4 py-3.5 bg-white border-2 rounded-xl transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 hover:border-gray-300 ${p.rfidTagNo?"border-red-300 bg-red-50":"border-gray-200"}`,required:!0}),e.jsxs("button",{type:"button",onClick:C,disabled:y,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[e.jsx(sr,{className:"h-5 w-5"}),y?"Scanning...":"Scan"]})]}),p.rfidTagNo&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 mt-2",children:[e.jsx(Le,{className:"h-4 w-4"}),p.rfidTagNo]})]}),e.jsx(Z,{label:"Ear Tag Number",value:w.earTagNumber,onChange:R=>L("earTagNumber",R),placeholder:"Ear tag number"}),e.jsx(Z,{label:"Microchip Number",value:w.microchipNumber,onChange:R=>L("microchipNumber",R),placeholder:"Microchip number"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"h-5 w-5 text-blue-600"})})," Health & Medical Records"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(Z,{label:"Vaccination Status",value:w.vaccinationStatus,onChange:R=>L("vaccinationStatus",R),placeholder:"e.g., FMD, HS completed"}),e.jsx(Z,{label:"Disability / Injury",value:w.disability,onChange:R=>L("disability",R),placeholder:"Any disabilities or injuries"}),e.jsx(Z,{label:"Veterinarian Name",value:w.veterinarianName,onChange:R=>L("veterinarianName",R),placeholder:"Name of attending veterinarian"}),e.jsx(Z,{label:"Veterinarian Contact",value:w.veterinarianContact,onChange:R=>L("veterinarianContact",R),type:"tel",placeholder:"Phone number"}),e.jsx(Z,{label:"Last Health Check-up",value:w.lastHealthCheckup,onChange:R=>L("lastHealthCheckup",R),type:"date"}),e.jsx(Z,{label:"Deworming Schedule",value:w.dewormingSchedule,onChange:R=>L("dewormingSchedule",R),placeholder:"e.g., Every 6 months"}),e.jsx(he,{label:"Medical History",value:w.medicalHistory,onChange:R=>L("medicalHistory",R),placeholder:"Previous medical treatments, surgeries, etc.",className:"lg:col-span-3"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.find(R=>R.name.toLowerCase()==="female"&&R.id===w.genderId)&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ka,{className:"h-5 w-5 text-blue-600"})})," Reproductive Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(H,{label:"Milking Status",value:w.milkingStatus,onChange:R=>L("milkingStatus",R),placeholder:"Select Status",options:[{value:"lactating",label:"Lactating"},{value:"dry",label:"Dry"},{value:"pregnant",label:"Pregnant"},{value:"not_breeding",label:"Not for Breeding"}]}),e.jsx(Z,{label:"Milk Yield Per Day (Liters)",value:w.milkYieldPerDay,onChange:R=>L("milkYieldPerDay",R),type:"number",step:"0.1",placeholder:"Daily milk yield"}),e.jsx(Z,{label:"Number of Calves",value:w.numberOfCalves,onChange:R=>L("numberOfCalves",R),type:"number",placeholder:"Total calves born"}),e.jsx(Z,{label:"Lactation Number",value:w.lactationNumber,onChange:R=>L("lactationNumber",R),type:"number",placeholder:"Current lactation number"}),e.jsx(Z,{label:"Last Calving Date",value:w.lastCalvingDate,onChange:R=>L("lastCalvingDate",R),type:"date"}),e.jsx(H,{label:"Pregnancy Status",value:w.pregnancyStatus,onChange:R=>L("pregnancyStatus",R),placeholder:"Select Status",options:[{value:"pregnant",label:"Pregnant"},{value:"not_pregnant",label:"Not Pregnant"},{value:"unknown",label:"Unknown"}]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(bs,{className:"h-5 w-5 text-blue-600"})})," Origin & Ownership"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(H,{label:"Source of Acquisition",value:w.sourceOfAcquisition,onChange:R=>L("sourceOfAcquisition",R),placeholder:"Select Source",options:[{value:"purchase",label:"Purchase"},{value:"donation",label:"Donation"},{value:"rescue",label:"Rescue"},{value:"transfer",label:"Transfer"},{value:"born_here",label:"Born Here"}]}),e.jsx(Z,{label:"Previous Owner",value:w.previousOwner,onChange:R=>L("previousOwner",R),placeholder:"Name of previous owner"}),e.jsx(Z,{label:"Date of Acquisition",value:w.dateOfAcquisition,onChange:R=>L("dateOfAcquisition",R),type:"date"}),e.jsx(H,{label:"Ownership Status",value:w.ownershipStatus,onChange:R=>L("ownershipStatus",R),placeholder:"Select Status",options:[{value:"owned",label:"Owned by Gaushala"},{value:"fostered",label:"Fostered"},{value:"temporary",label:"Temporary Care"},{value:"sponsored",label:"Sponsored"}]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx($t,{className:"h-5 w-5 text-blue-600"})})," Shelter & Feeding"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Z,{label:"Shed Number",value:w.shedNumber,onChange:R=>L("shedNumber",R),placeholder:"Assigned shed number"}),e.jsx(H,{label:"Type of Feed",value:w.typeOfFeed,onChange:R=>L("typeOfFeed",R),placeholder:"Select Feed Type",options:[{value:"grass",label:"Grass"},{value:"hay",label:"Hay"},{value:"silage",label:"Silage"},{value:"concentrate",label:"Concentrate"},{value:"mixed",label:"Mixed Feed"}]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(he,{label:"Feeding Schedule",value:w.feedingSchedule,onChange:R=>L("feedingSchedule",R),placeholder:"Feeding times and quantities"})})]})]})]})]}),e.jsx("div",{className:"xl:col-span-1 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 sticky top-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ge,{className:"h-5 w-5 text-blue-600"})})," Documents"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(X,{label:"Photo",value:w.photoFile,onChange:R=>L("photoFile",R),accept:"image/*"}),e.jsx(X,{label:"Health Certificate",value:w.healthCertificate,onChange:R=>L("healthCertificate",R),accept:".pdf"}),e.jsx(X,{label:"Vaccination Record",value:w.vaccinationRecord,onChange:R=>L("vaccinationRecord",R),accept:".pdf"}),e.jsx(X,{label:"Purchase/Donation Document",value:w.purchaseDocument,onChange:R=>L("purchaseDocument",R),accept:".pdf"})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Form Progress"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Required Fields"}),e.jsx("span",{className:"font-medium text-gray-900",children:Object.keys(p).length===0?" Complete":`${Object.keys(p).length} missing`})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Documents"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[[w.photoFile,w.healthCertificate,w.vaccinationRecord,w.purchaseDocument].filter(Boolean).length,"/4"]})]})]})]})]})})]})})]})}function pn(){const t=ve(),{id:s}=ss(),[a,r]=d.useState(null),[n,l]=d.useState(!0),[o,c]=d.useState(null);d.useEffect(()=>{(async()=>{if(s){l(!0),c(null);try{const v=await Is.getMedicineById(parseInt(s));v.success&&v.data?r(v.data):c(v.error||"Medicine not found")}catch{c("Failed to load medicine details")}finally{l(!1)}}})()},[s]);const u=()=>{t(`/gaushala/health-history/edit/${s}`)},j=async()=>{if(!(!s||!window.confirm("Are you sure you want to delete this medicine record?")))try{const b=await Is.deleteMedicine(parseInt(s));b.success?t("/gaushala/health-history"):alert(b.error||"Failed to delete medicine")}catch{alert("Failed to delete medicine")}},N=()=>{t("/gaushala/health-history")},x=b=>{if(!b)return"-";try{return new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return b}},i=b=>{if(!b)return"-";try{return new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return b}},g=b=>{if(!b)return!1;try{const v=new Date(b),T=new Date;return T.setHours(0,0,0,0),v<T}catch{return!1}},f=b=>{if(!b)return!1;try{const v=new Date(b),T=new Date,y=new Date;return y.setDate(T.getDate()+30),v>=T&&v<=y}catch{return!1}},w=({label:b,value:v,className:T=""})=>e.jsxs("div",{className:`space-y-1 ${T}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:b}),e.jsx("div",{className:"text-gray-900 font-medium",children:v||"-"})]});if(n)return e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading medicine details..."})});if(o||!a)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medicine Not Found"}),e.jsx("p",{className:"text-gray-600 mt-1",children:o||"The requested medicine record could not be found."})]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back to List"]})]})});const S=g(a.expiryDate),D=f(a.expiryDate);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medicine Details"}),e.jsx("p",{className:"text-gray-600 mt-1",children:a.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(We,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(wt,{className:"h-4 w-4"}),"Delete"]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back"]})]})]}),S&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx(Le,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Medicine Expired"})]}),e.jsx("p",{className:"text-red-700 text-sm mt-1",children:"This medicine has expired and should not be used."})]}),D&&!S&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[e.jsx(Le,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Expiring Soon"})]}),e.jsx("p",{className:"text-amber-700 text-sm mt-1",children:"This medicine will expire within 30 days."})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Mr,{className:"h-5 w-5 text-blue-600"})}),"Medicine Information"]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(w,{label:"Medicine Name",value:a.name}),e.jsx(w,{label:"Batch Number",value:a.batchNumber||"-"}),e.jsx(w,{label:"Manufacturer",value:a.manufacturer||"-"}),e.jsx(w,{label:"Dosage",value:a.dosage}),e.jsx(w,{label:"Unit",value:a.unit}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Stock Quantity"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:`text-gray-900 font-medium ${a.quantity<10?"text-red-600":""}`,children:[a.quantity," ",a.unit]}),a.quantity<10&&e.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded",children:"Low Stock"})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Expiry Information"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Expiry Date"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:`h-4 w-4 ${S?"text-red-400":D?"text-amber-400":"text-gray-400"}`}),e.jsx("span",{className:`font-medium ${S?"text-red-600":D?"text-amber-600":"text-gray-900"}`,children:i(a.expiryDate)}),S&&e.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded",children:"Expired"}),D&&!S&&e.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded",children:"Expiring Soon"})]})]})})]}),a.purpose&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Purpose & Usage"}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsx("p",{className:"text-blue-900",children:a.purpose})})]}),a.description&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Description"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-900 leading-relaxed",children:a.description})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Record Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.id&&e.jsx(w,{label:"Medicine ID",value:a.id}),a.createdAt&&e.jsx(w,{label:"Record Created",value:x(a.createdAt)}),a.updatedAt&&e.jsx(w,{label:"Last Updated",value:x(a.updatedAt)})]})]})]})]}),e.jsxs("div",{className:"flex justify-start gap-4",children:[e.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(We,{className:"h-4 w-4"}),"Edit Medicine"]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back to List"]})]})]})}function fn(){const t=ve(),{id:s}=ss(),[a,r]=d.useState(!1),[n,l]=d.useState(!0),[o,c]=d.useState(null),[u,j]=d.useState({name:"",description:"",dosage:"",unit:"mg",quantity:0,expiryDate:"",manufacturer:"",batchNumber:"",purpose:""}),[N,x]=d.useState({});d.useEffect(()=>{(async()=>{if(s){l(!0);try{const T=await Is.getMedicineById(parseInt(s));if(T.success&&T.data){const y=T.data,h=new Date(y.expiryDate).toISOString().split("T")[0];j({name:y.name,description:y.description||"",dosage:y.dosage,unit:y.unit,quantity:y.quantity,expiryDate:h,manufacturer:y.manufacturer||"",batchNumber:y.batchNumber||"",purpose:y.purpose||""})}else c({type:"error",text:T.error||"Failed to load medicine record."})}catch{c({type:"error",text:"Failed to load medicine record."})}finally{l(!1)}}})()},[s]);const i=(v,T)=>{j(y=>({...y,[v]:T})),N[v]&&x(y=>({...y,[v]:""}))},g=()=>{const v={};if(u.name.trim()||(v.name="Medicine Name is required"),u.dosage.trim()||(v.dosage="Dosage is required"),u.unit.trim()||(v.unit="Unit is required"),u.quantity<=0&&(v.quantity="Quantity must be greater than 0"),u.expiryDate.trim()||(v.expiryDate="Expiry Date is required"),u.expiryDate){const T=new Date(u.expiryDate),y=new Date;y.setHours(0,0,0,0),T<y&&(v.expiryDate="Expiry Date should be in the future")}return x(v),Object.keys(v).length===0},f=async v=>{if(v.preventDefault(),!g()){c({type:"error",text:"Please fill in all required fields and fix validation errors."});return}if(!s){c({type:"error",text:"Invalid medicine ID."});return}r(!0),c(null);try{const T={name:u.name,description:u.description||void 0,dosage:u.dosage,unit:u.unit,quantity:u.quantity,expiryDate:new Date(u.expiryDate).toISOString(),manufacturer:u.manufacturer||void 0,batchNumber:u.batchNumber||void 0,purpose:u.purpose||void 0},y=await Is.updateMedicine(parseInt(s),T);y.success?(c({type:"success",text:"Medicine record updated successfully!"}),setTimeout(()=>{t("/gaushala/medicine")},2e3)):c({type:"error",text:y.error||"Failed to update medicine record."})}catch{c({type:"error",text:"Failed to update medicine record. Please try again."})}finally{r(!1)}},w=()=>{t("/gaushala/medicine")},S=({label:v,value:T,onChange:y,type:m="text",placeholder:h,required:k=!1,error:p,className:M="",...A})=>e.jsxs("div",{className:`space-y-2 ${M}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[v," ",k&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:m,value:T,onChange:F=>y(m==="number"?Number(F.target.value):F.target.value),placeholder:h,className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${p?"border-red-300 bg-red-50":"border-gray-300"}`,...A}),p&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),p]})]}),D=({label:v,value:T,onChange:y,placeholder:m,required:h=!1,error:k,options:p,className:M=""})=>e.jsxs("div",{className:`space-y-2 ${M}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[v," ",h&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:T,onChange:A=>y(A.target.value),className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${k?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:m}),p.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))]}),k&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),k]})]}),b=({label:v,value:T,onChange:y,placeholder:m,required:h=!1,error:k,rows:p=3,className:M=""})=>e.jsxs("div",{className:`space-y-2 ${M}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:[v," ",h&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:T,onChange:A=>y(A.target.value),placeholder:m,rows:p,className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 resize-vertical ${k?"border-red-300 bg-red-50":"border-gray-300"}`}),k&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),k]})]});return n?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading medicine record..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Medicine"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Update medicine inventory record #",s]})]}),e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(qe,{className:"h-4 w-4"}),"Back"]})]}),o&&e.jsx("div",{className:`p-4 rounded-lg border ${o.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[o.type==="success"?e.jsx("span",{className:"text-green-500",children:""}):e.jsx("span",{className:"text-red-500",children:""}),o.text]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Mr,{className:"h-5 w-5 text-blue-600"})}),"Edit Medicine Information"]})}),e.jsxs("form",{onSubmit:f,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(S,{label:"Medicine Name",value:u.name,onChange:v=>i("name",v),placeholder:"Enter medicine name",required:!0,error:N.name}),e.jsx(S,{label:"Batch Number",value:u.batchNumber,onChange:v=>i("batchNumber",v),placeholder:"Enter batch number",error:N.batchNumber}),e.jsx(S,{label:"Dosage",value:u.dosage,onChange:v=>i("dosage",v),placeholder:"e.g., 500mg twice daily",required:!0,error:N.dosage}),e.jsx(D,{label:"Unit",value:u.unit,onChange:v=>i("unit",v),placeholder:"Select unit",required:!0,error:N.unit,options:[{value:"mg",label:"Milligrams (mg)"},{value:"ml",label:"Milliliters (ml)"},{value:"g",label:"Grams (g)"},{value:"tablets",label:"Tablets"},{value:"capsules",label:"Capsules"},{value:"units",label:"Units"}]}),e.jsx(S,{label:"Quantity",type:"number",value:u.quantity,onChange:v=>i("quantity",v),placeholder:"Enter quantity in stock",required:!0,error:N.quantity,min:"0"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-800",children:["Expiry Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:u.expiryDate,onChange:v=>i("expiryDate",v.target.value),className:`w-full px-3 py-2 bg-white border rounded-lg transition-all duration-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-gray-400 ${N.expiryDate?"border-red-300 bg-red-50":"border-gray-300"}`}),e.jsx(Ie,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),N.expiryDate&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("span",{className:"text-red-500",children:""}),N.expiryDate]})]}),e.jsx(S,{label:"Manufacturer",value:u.manufacturer,onChange:v=>i("manufacturer",v),placeholder:"Enter manufacturer name",error:N.manufacturer}),e.jsx(b,{label:"Purpose",value:u.purpose,onChange:v=>i("purpose",v),placeholder:"Enter purpose or indication for use",className:"md:col-span-2",rows:2}),e.jsx(b,{label:"Description",value:u.description,onChange:v=>i("description",v),placeholder:"Enter additional details about the medicine",className:"md:col-span-2",rows:3})]}),e.jsxs("div",{className:"flex justify-start gap-4 mt-8 pt-6 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:w,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(ut,{className:"h-4 w-4"}),a?"Updating...":"Update Medicine"]})]})]})]})]})}function qo(){const t=ve(),[s,a]=d.useState([]),[r,n]=d.useState([]),[l,o]=d.useState(!0),[c,u]=d.useState(null),[j,N]=d.useState(""),[x,i]=d.useState(20),[g,f]=d.useState(1),[w,S]=d.useState(1),[D,b]=d.useState(0),[v,T]=d.useState(!1),[y,m]=d.useState(""),[h,k]=d.useState(""),[p,M]=d.useState(""),[A,F]=d.useState("all");d.useEffect(()=>{L()},[g,x]);const L=async()=>{o(!0),u(null);try{const X=await Is.getAllMedicines(g-1,x);X.success&&X.data?(a(X.data.content||[]),n(X.data.content||[]),S(X.data.totalPages||1),b(X.data.totalElements||0)):(u(X.error||"Failed to load medicines"),a([]),n([]))}catch{u("Failed to load medicines"),a([]),n([])}finally{o(!1)}},C=X=>{if(!X)return!1;try{const R=new Date(X),ae=new Date;return ae.setHours(0,0,0,0),R<ae}catch{return!1}},I=X=>{if(!X)return!1;try{const R=new Date(X),ae=new Date,G=new Date;return G.setDate(ae.getDate()+30),R>=ae&&R<=G}catch{return!1}};d.useEffect(()=>{let X=s;j&&(X=X.filter(R=>R.name.toLowerCase().includes(j.toLowerCase())||R.manufacturer&&R.manufacturer.toLowerCase().includes(j.toLowerCase())||R.batchNumber&&R.batchNumber.toLowerCase().includes(j.toLowerCase()))),y&&(X=X.filter(R=>R.name.toLowerCase().includes(y.toLowerCase()))),h&&(X=X.filter(R=>R.manufacturer&&R.manufacturer.toLowerCase().includes(h.toLowerCase()))),p&&(X=X.filter(R=>R.unit.toLowerCase()===p.toLowerCase())),A!=="all"&&(X=X.filter(R=>A==="expired"?C(R.expiryDate):A==="expiring_soon"?I(R.expiryDate)&&!C(R.expiryDate):A==="valid"?!C(R.expiryDate)&&!I(R.expiryDate):!0)),n(X)},[j,y,h,p,A,s]);const U=X=>{t(`/gaushala/medicine/view/${X}`)},W=X=>{t(`/gaushala/medicine/edit/${X}`)},z=async X=>{if(window.confirm("Are you sure you want to delete this medicine record?"))try{const R=await Is.deleteMedicine(X);R.success?L():alert(R.error||"Failed to delete medicine record")}catch{alert("Failed to delete medicine record")}},Z=X=>{if(!X)return"-";try{return new Date(X).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return X}},H=(g-1)*x,he=Math.min(H+r.length,D);return l&&s.length===0?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading medicines..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medicine Inventory"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage medicine stock and inventory"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(lt,{className:"h-4 w-4"}),"Export"]}),e.jsxs("button",{onClick:()=>t("/gaushala/medicine/add"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(mt,{className:"h-4 w-4"}),"Add Medicine"]})]})]}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx("span",{className:"text-red-500",children:""}),c]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Show"}),e.jsxs("select",{value:x,onChange:X=>{i(Number(X.target.value)),f(1)},className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{className:"text-sm text-gray-600",children:"entries"})]}),e.jsxs("button",{onClick:()=>T(!v),className:"flex items-center gap-2 px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors",children:[e.jsx(Us,{className:"h-4 w-4"}),"Filter Box"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search medicines...",value:j,onChange:X=>N(X.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),v&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Filter by Medicine Name",value:y,onChange:X=>m(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{type:"text",placeholder:"Filter by Manufacturer",value:h,onChange:X=>k(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("select",{value:p,onChange:X=>M(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Units"}),e.jsx("option",{value:"mg",children:"Milligrams (mg)"}),e.jsx("option",{value:"ml",children:"Milliliters (ml)"}),e.jsx("option",{value:"g",children:"Grams (g)"}),e.jsx("option",{value:"tablets",children:"Tablets"}),e.jsx("option",{value:"capsules",children:"Capsules"}),e.jsx("option",{value:"units",children:"Units"})]}),e.jsxs("select",{value:A,onChange:X=>F(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Medicines"}),e.jsx("option",{value:"expired",children:"Expired Only"}),e.jsx("option",{value:"expiring_soon",children:"Expiring Soon (30 days)"}),e.jsx("option",{value:"valid",children:"Valid Only"})]})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SL."}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicine Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dosage"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Quantity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiry Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Manufacturer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:l?"Loading...":"No medicine records found"})}):r.map((X,R)=>{const ae=C(X.expiryDate),G=I(X.expiryDate),re=X.quantity<10;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:H+R+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:X.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.dosage}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:re?"text-red-600 font-semibold":"text-gray-900",children:[X.quantity," ",X.unit]}),re&&e.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded",children:"Low"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:ae?"text-red-600 font-semibold":G?"text-amber-600 font-semibold":"text-gray-900",children:Z(X.expiryDate)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.manufacturer||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:ae?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium",children:[e.jsx(Le,{className:"h-3 w-3"}),"Expired"]}):G?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-medium",children:[e.jsx(Le,{className:"h-3 w-3"}),"Expiring Soon"]}):e.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:" Valid"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>U(X.id),className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"View",children:e.jsx(jt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>W(X.id),className:"p-1 text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors",title:"Edit",children:e.jsx(We,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>z(X.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors",title:"Delete",children:e.jsx(wt,{className:"h-4 w-4"})})]})})]},X.id)})})]})}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",r.length>0?H+1:0," to ",he," of ",D," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(Math.max(1,g-1)),disabled:g===1,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("span",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded",children:g}),e.jsxs("span",{className:"text-sm text-gray-500",children:["of ",w]}),e.jsx("button",{onClick:()=>f(Math.min(w,g+1)),disabled:g===w,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})})]})]})}function Uo(){const t=ve(),[s,a]=d.useState([]),[r,n]=d.useState(!0),[l,o]=d.useState(0),[c,u]=d.useState(0);d.useEffect(()=>{j()},[l]);const j=async()=>{n(!0);try{const g=await As.getAllSheds(l,20);g.success&&g.data&&(a(g.data.content),u(g.data.totalPages))}catch{}finally{n(!1)}},N=async g=>{if(confirm("Delete this shed?"))try{(await As.deleteShed(g)).success&&j()}catch{}},x=g=>g.capacity===0?0:g.currentOccupancy/g.capacity*100,i=g=>g>=90?"text-red-600 bg-red-100":g>=70?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100";return r?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Shed Management"}),e.jsxs("button",{onClick:()=>t("/gaushala/sheds/add"),className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:[e.jsx(mt,{size:20}),"Add Shed"]})]}),s.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx(ts,{className:"mx-auto text-gray-400",size:48}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No sheds found"})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(g=>{const f=x(g);return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-2",children:e.jsx(ts,{className:"text-blue-600",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:g.shedName}),e.jsx("p",{className:"text-sm text-gray-500",children:g.shedNumber})]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g.status})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Capacity:"}),e.jsx("span",{className:"font-medium",children:g.capacity})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Occupancy:"}),e.jsx("span",{className:"font-medium",children:g.currentOccupancy})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Utilization:"}),e.jsxs("span",{className:`font-medium px-2 py-0.5 rounded ${i(f)}`,children:[f.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${f>=90?"bg-red-600":f>=70?"bg-yellow-600":"bg-green-600"}`,style:{width:`${Math.min(f,100)}%`}})})]})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs("button",{onClick:()=>t(`/gaushala/sheds/edit/${g.id}`),className:"flex-1 flex items-center justify-center gap-2 rounded-lg bg-gray-100 px-3 py-2 text-sm hover:bg-gray-200",children:[e.jsx(We,{size:16}),"Edit"]}),e.jsx("button",{onClick:()=>g.id&&N(g.id),className:"flex items-center justify-center rounded-lg bg-red-100 px-3 py-2 text-red-600 hover:bg-red-200",children:e.jsx(wt,{size:16})})]})]},g.id)})}),c>1&&e.jsxs("div",{className:"mt-6 flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>o(Math.max(0,l-1)),disabled:l===0,className:"px-4 py-2 border rounded disabled:opacity-50",children:"Previous"}),e.jsxs("span",{className:"px-4 py-2",children:["Page ",l+1," of ",c]}),e.jsx("button",{onClick:()=>o(Math.min(c-1,l+1)),disabled:l>=c-1,className:"px-4 py-2 border rounded disabled:opacity-50",children:"Next"})]})]})}function Ho(){const t=ve(),[s,a]=d.useState(!1),[r,n]=d.useState({gaushalaId:0,shedName:"",shedNumber:"",capacity:0,currentOccupancy:0,shedType:"",areaSqFt:0,ventilationType:"",flooringType:"",waterFacility:!1,feedingFacility:!1,status:"ACTIVE",notes:""});d.useEffect(()=>{const c=Es();c&&n(u=>({...u,gaushalaId:c}))},[]);const l=async c=>{if(c.preventDefault(),!r.shedName.trim()||!r.shedNumber.trim()){alert("Please enter shed name and number");return}if(r.capacity<=0){alert("Capacity must be greater than 0");return}a(!0);try{const u=await As.createShed(r);u.success?(alert("Shed created successfully!"),t("/gaushala/sheds")):alert("Failed to create shed: "+u.error)}catch{alert("Error creating shed")}finally{a(!1)}},o=(c,u)=>{n(j=>({...j,[c]:u}))};return e.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[e.jsxs("button",{onClick:()=>t("/gaushala/sheds"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(qe,{size:20}),"Back to Sheds"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(ts,{className:"text-blue-600",size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Add New Shed"})]}),e.jsxs("form",{onSubmit:l,className:"bg-white rounded-lg shadow p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shed Name *"}),e.jsx("input",{type:"text",value:r.shedName,onChange:c=>o("shedName",c.target.value),className:"w-full rounded-lg border px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shed Number *"}),e.jsx("input",{type:"text",value:r.shedNumber,onChange:c=>o("shedNumber",c.target.value),className:"w-full rounded-lg border px-4 py-2",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity *"}),e.jsx("input",{type:"number",min:"1",value:r.capacity,onChange:c=>o("capacity",parseInt(c.target.value)||0),className:"w-full rounded-lg border px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Occupancy"}),e.jsx("input",{type:"number",min:"0",value:r.currentOccupancy,onChange:c=>o("currentOccupancy",parseInt(c.target.value)||0),className:"w-full rounded-lg border px-4 py-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shed Type"}),e.jsxs("select",{value:r.shedType,onChange:c=>o("shedType",c.target.value),className:"w-full rounded-lg border px-4 py-2",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"OPEN",children:"Open"}),e.jsx("option",{value:"COVERED",children:"Covered"}),e.jsx("option",{value:"SEMI_COVERED",children:"Semi-Covered"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area (sq ft)"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:r.areaSqFt,onChange:c=>o("areaSqFt",parseFloat(c.target.value)||0),className:"w-full rounded-lg border px-4 py-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ventilation Type"}),e.jsx("input",{type:"text",value:r.ventilationType,onChange:c=>o("ventilationType",c.target.value),className:"w-full rounded-lg border px-4 py-2",placeholder:"e.g., Natural, Mechanical"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Flooring Type"}),e.jsx("input",{type:"text",value:r.flooringType,onChange:c=>o("flooringType",c.target.value),className:"w-full rounded-lg border px-4 py-2",placeholder:"e.g., Concrete, Earthen"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"waterFacility",checked:r.waterFacility,onChange:c=>o("waterFacility",c.target.checked),className:"rounded"}),e.jsx("label",{htmlFor:"waterFacility",className:"text-sm font-medium text-gray-700",children:"Water Facility"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"feedingFacility",checked:r.feedingFacility,onChange:c=>o("feedingFacility",c.target.checked),className:"rounded"}),e.jsx("label",{htmlFor:"feedingFacility",className:"text-sm font-medium text-gray-700",children:"Feeding Facility"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:r.status,onChange:c=>o("status",c.target.value),className:"w-full rounded-lg border px-4 py-2",children:[e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:r.notes,onChange:c=>o("notes",c.target.value),className:"w-full rounded-lg border px-4 py-2",rows:3,placeholder:"Additional notes..."})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:s,className:"flex-1 flex items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-50",children:s?"Creating...":e.jsxs(e.Fragment,{children:[e.jsx(ut,{size:20}),"Create Shed"]})}),e.jsx("button",{type:"button",onClick:()=>t("/gaushala/sheds"),className:"px-6 py-2 border rounded-lg",children:"Cancel"})]})]})]})}function Go(){const{id:t}=ss(),s=ve(),[a,r]=d.useState(!0),[n,l]=d.useState(!1),[o,c]=d.useState({});d.useEffect(()=>{t&&u()},[t]);const u=async()=>{if(t){r(!0);try{const x=await As.getShedById(parseInt(t));x.success&&x.data&&c(x.data)}catch{}finally{r(!1)}}},j=async x=>{if(x.preventDefault(),!!t){l(!0);try{const i=await As.updateShed(parseInt(t),o);i.success?(alert("Shed updated successfully!"),s("/gaushala/sheds")):alert("Failed to update shed: "+i.error)}catch{alert("Error updating shed")}finally{l(!1)}}},N=(x,i)=>{c(g=>({...g,[x]:i}))};return a?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[e.jsxs("button",{onClick:()=>s("/gaushala/sheds"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(qe,{size:20}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(ts,{className:"text-blue-600",size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Shed"})]}),e.jsxs("form",{onSubmit:j,className:"bg-white rounded-lg shadow p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shed Name *"}),e.jsx("input",{type:"text",value:o.shedName||"",onChange:x=>N("shedName",x.target.value),className:"w-full rounded-lg border px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shed Number *"}),e.jsx("input",{type:"text",value:o.shedNumber||"",onChange:x=>N("shedNumber",x.target.value),className:"w-full rounded-lg border px-4 py-2",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity *"}),e.jsx("input",{type:"number",min:"1",value:o.capacity||0,onChange:x=>N("capacity",parseInt(x.target.value)),className:"w-full rounded-lg border px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Occupancy"}),e.jsx("input",{type:"number",min:"0",value:o.currentOccupancy||0,onChange:x=>N("currentOccupancy",parseInt(x.target.value)),className:"w-full rounded-lg border px-4 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:o.status||"ACTIVE",onChange:x=>N("status",x.target.value),className:"w-full rounded-lg border px-4 py-2",children:[e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:o.notes||"",onChange:x=>N("notes",x.target.value),className:"w-full rounded-lg border px-4 py-2",rows:3})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs("button",{type:"submit",disabled:n,className:"flex-1 flex items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(ut,{size:20}),n?"Saving...":"Save Changes"]}),e.jsx("button",{type:"button",onClick:()=>s("/gaushala/sheds"),className:"px-6 py-2 border rounded-lg",children:"Cancel"})]})]})]})}function Vo(){const t=ve(),[s,a]=d.useState([]),[r,n]=d.useState(null),[l,o]=d.useState(!0);d.useEffect(()=>{c()},[]);const c=async()=>{o(!0);try{const i=Es();if(!i)return;const[g,f]=await Promise.all([As.getAllSheds(0,100),As.getAvailableCapacity(i)]);g.success&&g.data&&a(g.data.content),f.success&&f.data&&n(f.data)}catch{}finally{o(!1)}},u=i=>i.capacity===0?0:i.currentOccupancy/i.capacity*100,j=i=>i>=90?{color:"bg-red-500",label:"Critical"}:i>=70?{color:"bg-yellow-500",label:"High"}:i>=50?{color:"bg-blue-500",label:"Moderate"}:{color:"bg-green-500",label:"Low"},N=s.filter(i=>u(i)>=90),x=s.filter(i=>{const g=u(i);return g>=70&&g<90});return l?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("button",{onClick:()=>t("/gaushala/sheds"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(qe,{size:20}),"Back to Sheds"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(ts,{className:"text-blue-600",size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Shed Capacity Analytics"})]}),r&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Capacity"}),e.jsx("p",{className:"text-2xl font-bold",children:r.totalCapacity})]}),e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(ts,{className:"text-blue-600",size:20})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Current Occupancy"}),e.jsx("p",{className:"text-2xl font-bold",children:r.totalOccupancy})]}),e.jsx("div",{className:"rounded-full bg-green-100 p-3",children:e.jsx(Te,{className:"text-green-600",size:20})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Available Space"}),e.jsx("p",{className:"text-2xl font-bold",children:r.availableCapacity})]}),e.jsx("div",{className:"rounded-full bg-purple-100 p-3",children:e.jsx(xs,{className:"text-purple-600",size:20})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Utilization Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[r.utilizationPercentage.toFixed(1),"%"]})]}),e.jsx("div",{className:`rounded-full p-3 ${r.utilizationPercentage>=90?"bg-red-100":r.utilizationPercentage>=70?"bg-yellow-100":"bg-green-100"}`,children:e.jsx(Le,{className:r.utilizationPercentage>=90?"text-red-600":r.utilizationPercentage>=70?"text-yellow-600":"text-green-600",size:20})})]})})]}),N.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Le,{className:"text-red-600",size:20}),e.jsxs("h3",{className:"font-semibold text-red-900",children:["Overcrowded Sheds (",N.length,")"]})]}),e.jsx("div",{className:"space-y-2",children:N.map(i=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-red-800",children:[i.shedName," (",i.shedNumber,")"]}),e.jsxs("span",{className:"font-medium text-red-900",children:[u(i).toFixed(1),"% - ",i.currentOccupancy,"/",i.capacity]})]},i.id))})]}),x.length>0&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Le,{className:"text-yellow-600",size:20}),e.jsxs("h3",{className:"font-semibold text-yellow-900",children:["High Utilization Sheds (",x.length,")"]})]}),e.jsx("div",{className:"space-y-2",children:x.map(i=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-yellow-800",children:[i.shedName," (",i.shedNumber,")"]}),e.jsxs("span",{className:"font-medium text-yellow-900",children:[u(i).toFixed(1),"% - ",i.currentOccupancy,"/",i.capacity]})]},i.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Shed Utilization Breakdown"}),s.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-600",children:[e.jsx(ts,{className:"mx-auto text-gray-400 mb-4",size:48}),e.jsx("p",{children:"No sheds found"})]}):e.jsx("div",{className:"space-y-4",children:s.map(i=>{const g=u(i),f=j(g);return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:i.shedName}),e.jsx("p",{className:"text-sm text-gray-600",children:i.shedNumber})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Occupancy"}),e.jsxs("p",{className:"font-semibold",children:[i.currentOccupancy," / ",i.capacity]})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Utilization"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${g>=90?"bg-red-100 text-red-800":g>=70?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.label}),e.jsxs("span",{className:"font-medium",children:[g.toFixed(1),"%"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all ${f.color}`,style:{width:`${Math.min(g,100)}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm mt-3 pt-3 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Type"}),e.jsx("p",{className:"font-medium",children:i.shedType||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Area"}),e.jsx("p",{className:"font-medium",children:i.areaSqFt?`${i.areaSqFt} sq ft`:"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Status"}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${i.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i.status})]})]})]},i.id)})})]})]})}function Wo(){const t=ve(),[s,a]=d.useState([]),[r,n]=d.useState([]),[l,o]=d.useState(!0),[c,u]=d.useState(""),[j,N]=d.useState(0),[x]=d.useState(20),[i,g]=d.useState(0),[f,w]=d.useState(0);d.useEffect(()=>{S()},[j]),d.useEffect(()=>{D()},[]);const S=async()=>{o(!0);try{const m=await At.getAllInventory(j,x);m.success&&m.data?(a(m.data.content),g(m.data.totalPages),w(m.data.totalElements)):a([])}catch{a([])}finally{o(!1)}},D=async()=>{try{const m=await At.getInventoryTypes();m.success&&m.data&&n(m.data)}catch{}},b=async()=>{if(!c.trim()){S();return}o(!0);try{const m=await At.searchInventory(c);m.success&&m.data&&(a(m.data),g(1),w(m.data.length))}catch{}finally{o(!1)}},v=async m=>{if(confirm("Are you sure you want to delete this inventory item?"))try{const h=await At.deleteInventory(m);h.success?S():alert("Failed to delete inventory item: "+h.error)}catch{alert("Error deleting inventory item")}},T=m=>{const h=r.find(k=>k.id===m);return h?h.name:`Type ${m}`},y=m=>m.quantity<=m.minimumStockLevel||0;return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, stock levels, and reorder points"})]}),e.jsxs("button",{onClick:()=>t("/gaushala/inventory/add"),className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:[e.jsx(mt,{size:20}),"Add Item"]})]}),e.jsx("div",{className:"mb-6 flex gap-4",children:e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Search by item name...",value:c,onChange:m=>u(m.target.value),onKeyPress:m=>m.key==="Enter"&&b(),className:"flex-1 rounded-lg border border-gray-300 px-4 py-2"}),e.jsxs("button",{onClick:b,className:"flex items-center gap-2 rounded-lg bg-gray-100 px-4 py-2 hover:bg-gray-200",children:[e.jsx(dt,{size:20}),"Search"]})]})}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"rounded-lg bg-white p-4 shadow border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(rt,{className:"text-blue-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold",children:f})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-4 shadow border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-red-100 p-3",children:e.jsx(xs,{className:"text-red-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Low Stock Items"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(y).length})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-4 shadow border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-green-100 p-3",children:e.jsx(rt,{className:"text-green-600",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"In Stock"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(m=>!y(m)).length})]})]})})]}),l?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx(rt,{className:"mx-auto text-gray-400",size:48}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No inventory items found"}),e.jsx("button",{onClick:()=>t("/gaushala/inventory/add"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Add your first item"})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reorder Level"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(m=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.itemName||m.description||`Item #${m.id}`}),m.supplier&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Supplier: ",m.supplier]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:T(m.inventoryTypeId)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:m.quantity||0})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:m.minimumStockLevel||0})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(m)?e.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[e.jsx(we,{size:16}),"Low Stock"]}):e.jsx("span",{className:"text-green-600",children:"In Stock"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>t(`/gaushala/inventory/${m.id}/history`),className:"text-gray-600 hover:text-gray-900",title:"View Stock History",children:e.jsx(Ea,{size:18})}),e.jsx("button",{onClick:()=>t(`/gaushala/inventory/edit/${m.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:e.jsx(We,{size:18})}),e.jsx("button",{onClick:()=>m.id&&v(m.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:e.jsx(wt,{size:18})})]})})]},m.id))})]}),e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>N(Math.max(0,j-1)),disabled:j===0,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>N(Math.min(i-1,j+1)),disabled:j>=i-1,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:j*x+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((j+1)*x,f)})," ","of ",e.jsx("span",{className:"font-medium",children:f})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>N(Math.max(0,j-1)),disabled:j===0,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:e.jsx(Qn,{size:20})}),e.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:["Page ",j+1," of ",i]}),e.jsx("button",{onClick:()=>N(Math.min(i-1,j+1)),disabled:j>=i-1,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:e.jsx(Kn,{size:20})})]})})]})]})]})]})}function zo(){const t=ve(),[s,a]=d.useState([]),[r,n]=d.useState([]),[l,o]=d.useState(!1),[c,u]=d.useState({itemName:"",inventoryTypeId:0,inventoryUnitId:0,quantity:0,minimumStockLevel:0,supplier:"",gaushalaId:1});d.useEffect(()=>{j(),N()},[]);const j=async()=>{try{const[g,f]=await Promise.all([At.getInventoryTypes(),At.getInventoryUnits()]);g.success&&g.data&&a(g.data),f.success&&f.data&&n(f.data)}catch{}},N=()=>{const g=Es();u(f=>({...f,gaushalaId:g||1}))},x=async g=>{if(g.preventDefault(),!c.itemName.trim()){alert("Please enter item name");return}if(c.inventoryTypeId===0){alert("Please select inventory type");return}if(c.inventoryUnitId===0){alert("Please select unit");return}o(!0);try{const f=await At.createInventory(c);f.success?(alert("Inventory item created successfully!"),t("/gaushala/inventory")):alert("Failed to create inventory item: "+f.error)}catch{alert("Error creating inventory item")}finally{o(!1)}},i=(g,f)=>{u(w=>({...w,[g]:f}))};return e.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>t("/gaushala/inventory"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(qe,{size:20}),"Back to Inventory"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(rt,{className:"text-blue-600",size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add Inventory Item"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Create a new inventory item"})]})]})]}),e.jsxs("form",{onSubmit:x,className:"bg-white rounded-lg shadow p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Item Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:c.itemName,onChange:g=>i("itemName",g.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter item name",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Inventory Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),s.length===0?e.jsx("div",{className:"text-sm text-gray-500",children:"Loading types..."}):e.jsxs("select",{value:c.inventoryTypeId,onChange:g=>i("inventoryTypeId",parseInt(g.target.value)),className:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:0,children:"Select inventory type"}),s.map(g=>e.jsx("option",{value:g.id,children:g.name},g.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Unit ",e.jsx("span",{className:"text-red-500",children:"*"})]}),r.length===0?e.jsx("div",{className:"text-sm text-gray-500",children:"Loading units..."}):e.jsxs("select",{value:c.inventoryUnitId,onChange:g=>i("inventoryUnitId",parseInt(g.target.value)),className:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:0,children:"Select unit"}),r.map(g=>e.jsxs("option",{value:g.id,children:[g.unitName," ",g.unitSymbol?`(${g.unitSymbol})`:""]},g.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Initial Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:c.quantity,onChange:g=>i("quantity",parseFloat(g.target.value)||0),className:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter quantity",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reorder Level ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:c.minimumStockLevel,onChange:g=>i("minimumStockLevel",parseFloat(g.target.value)||0),className:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter reorder level",required:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Alert will be shown when quantity falls below this level"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier"}),e.jsx("input",{type:"text",value:c.supplier,onChange:g=>i("supplier",g.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter supplier name (optional)"})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:l,className:"flex-1 flex items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-50",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ut,{size:20}),"Create Inventory Item"]})}),e.jsx("button",{type:"button",onClick:()=>t("/gaushala/inventory"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})]})}function Yo(){const{id:t}=ss(),s=ve(),[a,r]=d.useState([]),[n,l]=d.useState([]),[o,c]=d.useState(!0),[u,j]=d.useState(!1),[N,x]=d.useState({});d.useEffect(()=>{i()},[t]);const i=async()=>{if(t){c(!0);try{const[w,S,D]=await Promise.all([At.getInventoryById(parseInt(t)),At.getInventoryTypes(),At.getInventoryUnits()]);w.success&&w.data&&x(w.data),S.success&&S.data&&r(S.data),D.success&&D.data&&l(D.data)}catch{}finally{c(!1)}}},g=async w=>{if(w.preventDefault(),!!t){j(!0);try{const S=await At.updateInventory(parseInt(t),N);S.success?(alert("Inventory updated successfully!"),s("/gaushala/inventory")):alert("Failed to update inventory: "+S.error)}catch{alert("Error updating inventory")}finally{j(!1)}}},f=(w,S)=>{x(D=>({...D,[w]:S}))};return o?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[e.jsxs("button",{onClick:()=>s("/gaushala/inventory"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(qe,{size:20}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(rt,{className:"text-blue-600",size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Inventory"})]}),e.jsxs("form",{onSubmit:g,className:"bg-white rounded-lg shadow p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Name *"}),e.jsx("input",{type:"text",value:N.itemName||"",onChange:w=>f("itemName",w.target.value),className:"w-full rounded-lg border px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),e.jsx("select",{value:N.inventoryTypeId||0,onChange:w=>f("inventoryTypeId",parseInt(w.target.value)),className:"w-full rounded-lg border px-4 py-2",required:!0,children:a.map(w=>e.jsx("option",{value:w.id,children:w.typeName},w.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit *"}),e.jsx("select",{value:N.inventoryUnitId||0,onChange:w=>f("inventoryUnitId",parseInt(w.target.value)),className:"w-full rounded-lg border px-4 py-2",required:!0,children:n.map(w=>e.jsx("option",{value:w.id,children:w.unitName},w.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),e.jsx("input",{type:"number",min:"0",value:N.quantity||0,onChange:w=>f("quantity",parseFloat(w.target.value)),className:"w-full rounded-lg border px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reorder Level *"}),e.jsx("input",{type:"number",min:"0",value:N.reorderLevel||0,onChange:w=>f("reorderLevel",parseFloat(w.target.value)),className:"w-full rounded-lg border px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier"}),e.jsx("input",{type:"text",value:N.supplier||"",onChange:w=>f("supplier",w.target.value),className:"w-full rounded-lg border px-4 py-2"})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs("button",{type:"submit",disabled:u,className:"flex-1 flex items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(ut,{size:20}),u?"Saving...":"Save Changes"]}),e.jsx("button",{type:"button",onClick:()=>s("/gaushala/inventory"),className:"px-6 py-2 border rounded-lg",children:"Cancel"})]})]})]})}function Qo(){const{id:t}=ss(),s=ve(),[a,r]=d.useState(null),[n,l]=d.useState([]),[o,c]=d.useState(!0);d.useEffect(()=>{u()},[t]);const u=async()=>{if(t){c(!0);try{const[j,N]=await Promise.all([At.getInventoryById(parseInt(t)),At.getStockHistory(parseInt(t))]);j.success&&j.data&&r(j.data),N.success&&N.data&&l(N.data)}catch{}finally{c(!1)}}};return o?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("button",{onClick:()=>s("/gaushala/inventory"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(qe,{size:20}),"Back to Inventory"]}),a&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:a.itemName}),e.jsx("p",{className:"text-gray-600",children:"Stock Transaction History"}),e.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Current Stock: ",e.jsx("span",{className:"font-semibold",children:a.quantity})]})]}),n.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx(Ie,{className:"mx-auto text-gray-400",size:48}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No transactions found"})]}):e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Performed By"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Notes"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map((j,N)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(j.transactionDate).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center gap-2",children:j.transactionType==="IN"?e.jsxs(e.Fragment,{children:[e.jsx(Te,{className:"text-green-600",size:18}),e.jsx("span",{className:"text-green-600 font-medium",children:"Stock In"})]}):e.jsxs(e.Fragment,{children:[e.jsx(xs,{className:"text-red-600",size:18}),e.jsx("span",{className:"text-red-600 font-medium",children:"Stock Out"})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.quantity}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j.performedBy||"N/A"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:j.notes||"-"})]},N))})]})})]})}function jn(){const t=ve(),[s,a]=d.useState([]),[r,n]=d.useState(!0),[l,o]=d.useState(0),[c,u]=d.useState(0),[j,N]=d.useState(0),x=20;d.useEffect(()=>{i()},[l]);const i=async()=>{n(!0);try{const S=await ka.getAllMilkRecords(l,x);S.success&&S.data?(a(S.data.content),u(S.data.totalPages),N(S.data.totalElements)):a([])}catch{a([])}finally{n(!1)}},g=async S=>{if(confirm("Delete this milk production record?"))try{const D=await ka.deleteMilkRecord(S);D.success?i():alert("Failed to delete record: "+D.error)}catch{alert("Error deleting record")}},f=S=>{switch(S?.toUpperCase()){case"EXCELLENT":return"bg-green-100 text-green-800";case"GOOD":return"bg-blue-100 text-blue-800";case"AVERAGE":return"bg-yellow-100 text-yellow-800";case"POOR":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=S=>new Date(S).toLocaleDateString("en-IN");return r?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Milk Production Records"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Total: ",j," records"]})]}),e.jsxs("button",{onClick:()=>t("/gaushala/production/record"),className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:[e.jsx(mt,{size:20}),"Record Production"]})]}),s.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx(Rr,{className:"mx-auto text-gray-400",size:48}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No milk production records found"}),e.jsx("button",{onClick:()=>t("/gaushala/production/record"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Record your first production"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cow ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Morning (L)"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Evening (L)"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total (L)"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fat %"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quality"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(S=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.createdAt&&w(S.createdAt)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.cowId?`#${S.cowId}`:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.milkQuantity?(S.milkQuantity/2).toFixed(2):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.milkQuantity?(S.milkQuantity/2).toFixed(2):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.milkQuantity?S.milkQuantity.toFixed(2):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.fatPercentage?`${S.fatPercentage.toFixed(1)}%`:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.status?e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${f(S.status)}`,children:S.status}):e.jsx("span",{className:"text-gray-400 text-sm",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>t(`/gaushala/production/edit/${S.id}`),className:"text-blue-600 hover:text-blue-900",children:e.jsx(We,{size:16})}),e.jsx("button",{onClick:()=>S.id&&g(S.id),className:"text-red-600 hover:text-red-900",children:e.jsx(wt,{size:16})})]})})]},S.id))})]})}),c>1&&e.jsxs("div",{className:"mt-6 flex justify-center items-center gap-4",children:[e.jsx("button",{onClick:()=>o(Math.max(0,l-1)),disabled:l===0,className:"px-4 py-2 border rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),e.jsxs("span",{className:"text-gray-700",children:["Page ",l+1," of ",c]}),e.jsx("button",{onClick:()=>o(Math.min(c-1,l+1)),disabled:l>=c-1,className:"px-4 py-2 border rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})}function Ko(){const t=ve(),[s,a]=d.useState(!1),[r,n]=d.useState([]),[l,o]=d.useState(!0),[c,u]=d.useState({cowId:0,gaushalaId:0,recordDate:new Date().toISOString().split("T")[0],morningQuantity:0,eveningQuantity:0,fatPercentage:0,snfPercentage:0,quality:"GOOD",notes:""});d.useEffect(()=>{const g=Es();g&&(u(f=>({...f,gaushalaId:g})),j())},[]);const j=async()=>{o(!0);try{const g=await ds.getAllCattle(0,100);g.success&&g.data&&n(g.data.content)}catch{}finally{o(!1)}},N=async g=>{if(g.preventDefault(),!c.cowId||c.cowId===0){alert("Please select a cow");return}if(!c.recordDate){alert("Please select a date");return}if(c.morningQuantity<0||c.eveningQuantity<0){alert("Quantities cannot be negative");return}a(!0);try{const f=await ka.createMilkRecord(c);f.success?(alert("Milk production record created successfully!"),t("/gaushala/production")):alert("Failed to create record: "+f.error)}catch{alert("Error creating record")}finally{a(!1)}},x=(g,f)=>{u(w=>({...w,[g]:f}))},i=()=>(c.morningQuantity||0)+(c.eveningQuantity||0);return e.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[e.jsxs("button",{onClick:()=>t("/gaushala/production"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(qe,{size:20}),"Back to Records"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(Rr,{className:"text-blue-600",size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Record Milk Production"})]}),e.jsxs("form",{onSubmit:N,className:"bg-white rounded-lg shadow p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Cow *"}),l?e.jsx("div",{className:"text-sm text-gray-500",children:"Loading cattle..."}):e.jsxs("select",{value:c.cowId,onChange:g=>x("cowId",parseInt(g.target.value)),className:"w-full rounded-lg border px-4 py-2",required:!0,children:[e.jsx("option",{value:0,children:"Select a cow"}),r.map(g=>e.jsxs("option",{value:g.id,children:[g.rfidTagNo," - ",g.name||`Cow #${g.id}`]},g.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Record Date *"}),e.jsx("input",{type:"date",value:c.recordDate,onChange:g=>x("recordDate",g.target.value),className:"w-full rounded-lg border px-4 py-2",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Morning Quantity (Liters) *"}),e.jsx("input",{type:"number",min:"0",step:"0.1",value:c.morningQuantity,onChange:g=>x("morningQuantity",parseFloat(g.target.value)||0),className:"w-full rounded-lg border px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Evening Quantity (Liters) *"}),e.jsx("input",{type:"number",min:"0",step:"0.1",value:c.eveningQuantity,onChange:g=>x("eveningQuantity",parseFloat(g.target.value)||0),className:"w-full rounded-lg border px-4 py-2",required:!0})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Quantity:"}),e.jsxs("span",{className:"text-xl font-bold text-blue-900",children:[i().toFixed(2)," L"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fat Percentage"}),e.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:c.fatPercentage,onChange:g=>x("fatPercentage",parseFloat(g.target.value)||0),className:"w-full rounded-lg border px-4 py-2",placeholder:"e.g., 4.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SNF Percentage"}),e.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:c.snfPercentage,onChange:g=>x("snfPercentage",parseFloat(g.target.value)||0),className:"w-full rounded-lg border px-4 py-2",placeholder:"e.g., 8.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality"}),e.jsxs("select",{value:c.quality,onChange:g=>x("quality",g.target.value),className:"w-full rounded-lg border px-4 py-2",children:[e.jsx("option",{value:"EXCELLENT",children:"Excellent"}),e.jsx("option",{value:"GOOD",children:"Good"}),e.jsx("option",{value:"AVERAGE",children:"Average"}),e.jsx("option",{value:"POOR",children:"Poor"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:c.notes,onChange:g=>x("notes",g.target.value),className:"w-full rounded-lg border px-4 py-2",rows:3,placeholder:"Additional notes about this production record..."})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:s,className:"flex-1 flex items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-50",children:s?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx(ut,{size:20}),"Save Record"]})}),e.jsx("button",{type:"button",onClick:()=>t("/gaushala/production"),className:"px-6 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})]})}function Zo(){const t=ve(),[s,a]=d.useState(!0),[r,n]=d.useState(null),[l,o]=d.useState({startDate:"",endDate:""});d.useEffect(()=>{c()},[l]);const c=async()=>{a(!0);try{const N=Es();if(!N)return;const x=await ka.getMilkProductionStats(N,l.startDate||void 0,l.endDate||void 0);x.success&&x.data?n(x.data):n(null)}catch{n(null)}finally{a(!1)}},u=(N,x)=>{o(i=>({...i,[N]:x}))},j=()=>{o({startDate:"",endDate:""})};return s?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("button",{onClick:()=>t("/gaushala/production"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(qe,{size:20}),"Back to Records"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(Te,{className:"text-blue-600",size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Milk Production Analytics"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(Ie,{className:"text-gray-600",size:20}),e.jsx("h3",{className:"font-semibold",children:"Date Range Filter"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",value:l.startDate,onChange:N=>u("startDate",N.target.value),className:"w-full rounded-lg border px-4 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:l.endDate,onChange:N=>u("endDate",N.target.value),className:"w-full rounded-lg border px-4 py-2"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:j,className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Clear Filter"})})]})]}),r?e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(en,{className:"text-blue-600",size:24})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Production"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.totalQuantity.toFixed(2)," L"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"rounded-full bg-green-100 p-3",children:e.jsx(Te,{className:"text-green-600",size:24})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Average Fat %"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.averageFatPercentage.toFixed(2),"%"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"rounded-full bg-purple-100 p-3",children:e.jsx(Qs,{className:"text-purple-600",size:24})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Average SNF %"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.averageSnfPercentage.toFixed(2),"%"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"rounded-full bg-yellow-100 p-3",children:e.jsx(Ie,{className:"text-yellow-600",size:24})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Records"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.recordCount})]})]})]}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx(en,{className:"mx-auto text-gray-400",size:48}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No production data available"}),(l.startDate||l.endDate)&&e.jsx("button",{onClick:j,className:"mt-4 text-blue-600 hover:text-blue-700",children:"Clear date filter to see all data"})]}),r&&r.recordCount>0&&e.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Production Insights"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Average per Record"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[(r.totalQuantity/r.recordCount).toFixed(2)," L"]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Quality Index"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[((r.averageFatPercentage+r.averageSnfPercentage)/2).toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Combined Fat & SNF average"})]})]})]})]})}function yn(){const{cattleId:t}=ss(),s=ve(),[a,r]=d.useState([]),[n,l]=d.useState([]),[o,c]=d.useState(!0);d.useEffect(()=>{u(),j()},[t]);const u=async()=>{c(!0);try{if(t){const i=await ya.getHealthRecordsByCattle(parseInt(t));i.success&&i.data?r(i.data):r([])}else{const i=await ya.getAllHealthRecords(0,50);i.success&&i.data?r(i.data.content):r([])}}catch{r([])}finally{c(!1)}},j=async()=>{try{const i=await ya.getPendingVaccinations();i.success&&i.data&&l(i.data)}catch{}},N=i=>{switch(i.toUpperCase()){case"VACCINATION":return"bg-blue-100 text-blue-800";case"TREATMENT":return"bg-green-100 text-green-800";case"CHECKUP":return"bg-purple-100 text-purple-800";case"SURGERY":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=i=>new Date(i).toLocaleDateString("en-IN");return o?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Medical Records"}),t&&e.jsxs("p",{className:"text-gray-600 mt-1",children:["Cattle ID: #",t]})]}),e.jsxs("button",{onClick:()=>s("/gaushala/health/add"),className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:[e.jsx(mt,{size:20}),"Add Record"]})]}),n.length>0&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Le,{className:"text-yellow-600",size:20}),e.jsxs("h3",{className:"font-semibold text-yellow-900",children:["Pending Vaccinations (",n.length,")"]})]}),e.jsx("div",{className:"space-y-2",children:n.slice(0,5).map(i=>e.jsxs("div",{className:"flex items-center justify-between text-sm bg-white rounded p-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gl,{className:"text-yellow-600",size:16}),e.jsxs("span",{className:"font-medium",children:["Cattle #",i.cattleId]}),e.jsxs("span",{className:"text-gray-600",children:["- ",i.vaccineName]})]}),e.jsxs("span",{className:"text-yellow-700",children:["Due: ",i.nextVaccinationDate?x(i.nextVaccinationDate):"N/A"]})]},i.id))})]}),a.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx(rr,{className:"mx-auto text-gray-400",size:48}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No medical records found"}),e.jsx("button",{onClick:()=>s("/gaushala/health/add"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Add your first medical record"})]}):e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cattle ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Veterinarian"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Next Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(i=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x(i.recordDate)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["#",i.cattleId]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${N(i.recordType)}`,children:i.recordType})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:i.recordType==="VACCINATION"&&i.vaccineName?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i.vaccineName}),i.vaccineManufacturer&&e.jsx("div",{className:"text-xs text-gray-500",children:i.vaccineManufacturer})]}):e.jsx("div",{className:"max-w-xs truncate",children:i.diagnosis||i.treatment||"-"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:i.veterinarianName||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.nextVaccinationDate?e.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[e.jsx(Ie,{size:14}),e.jsx("span",{children:x(i.nextVaccinationDate)})]}):i.nextCheckupDate?e.jsxs("div",{className:"flex items-center gap-1 text-purple-600",children:[e.jsx(Ie,{size:14}),e.jsx("span",{children:x(i.nextCheckupDate)})]}):"-"})]},i.id))})]})})]})}function Jo(){const t=ve(),[s,a]=d.useState(!1),[r,n]=d.useState([]),[l,o]=d.useState(!0),[c,u]=d.useState({cattleId:0,gaushalaId:0,recordType:"VACCINATION",recordDate:new Date().toISOString().split("T")[0],diagnosis:"",treatment:"",medications:"",vaccineName:"",vaccineManufacturer:"",nextVaccinationDate:"",nextCheckupDate:"",veterinarianName:"",veterinarianContact:"",cost:0,notes:"",status:"COMPLETED"});d.useEffect(()=>{const i=Es();i&&(u(g=>({...g,gaushalaId:i})),j())},[]);const j=async()=>{o(!0);try{const i=await ds.getAllCattle(0,100);i.success&&i.data&&n(i.data.content)}catch{}finally{o(!1)}},N=async i=>{if(i.preventDefault(),!c.cattleId||c.cattleId===0){alert("Please select a cattle");return}if(!c.recordType){alert("Please select a record type");return}a(!0);try{const g=await ya.createHealthRecord(c);g.success?(alert("Medical record created successfully!"),t("/gaushala/health/records")):alert("Failed to create record: "+g.error)}catch{alert("Error creating record")}finally{a(!1)}},x=(i,g)=>{u(f=>({...f,[i]:g}))};return e.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[e.jsxs("button",{onClick:()=>t("/gaushala/health/records"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(qe,{size:20}),"Back to Records"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(rr,{className:"text-blue-600",size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Add Medical Record"})]}),e.jsxs("form",{onSubmit:N,className:"bg-white rounded-lg shadow p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Cattle *"}),l?e.jsx("div",{className:"text-sm text-gray-500",children:"Loading cattle..."}):e.jsxs("select",{value:c.cattleId,onChange:i=>x("cattleId",parseInt(i.target.value)),className:"w-full rounded-lg border px-4 py-2",required:!0,children:[e.jsx("option",{value:0,children:"Select a cattle"}),r.map(i=>e.jsxs("option",{value:i.id,children:[i.rfidTagNo," - ",i.name||`Cattle #${i.id}`]},i.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Record Type *"}),e.jsxs("select",{value:c.recordType,onChange:i=>x("recordType",i.target.value),className:"w-full rounded-lg border px-4 py-2",required:!0,children:[e.jsx("option",{value:"VACCINATION",children:"Vaccination"}),e.jsx("option",{value:"TREATMENT",children:"Treatment"}),e.jsx("option",{value:"CHECKUP",children:"Checkup"}),e.jsx("option",{value:"SURGERY",children:"Surgery"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Record Date *"}),e.jsx("input",{type:"date",value:c.recordDate,onChange:i=>x("recordDate",i.target.value),className:"w-full rounded-lg border px-4 py-2",required:!0})]}),c.recordType==="VACCINATION"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vaccine Name"}),e.jsx("input",{type:"text",value:c.vaccineName,onChange:i=>x("vaccineName",i.target.value),className:"w-full rounded-lg border px-4 py-2",placeholder:"e.g., FMD Vaccine"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manufacturer"}),e.jsx("input",{type:"text",value:c.vaccineManufacturer,onChange:i=>x("vaccineManufacturer",i.target.value),className:"w-full rounded-lg border px-4 py-2"})]})]}),(c.recordType==="TREATMENT"||c.recordType==="CHECKUP"||c.recordType==="SURGERY")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Diagnosis"}),e.jsx("textarea",{value:c.diagnosis,onChange:i=>x("diagnosis",i.target.value),className:"w-full rounded-lg border px-4 py-2",rows:2,placeholder:"Diagnosis details..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Treatment"}),e.jsx("textarea",{value:c.treatment,onChange:i=>x("treatment",i.target.value),className:"w-full rounded-lg border px-4 py-2",rows:2,placeholder:"Treatment provided..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medications"}),e.jsx("input",{type:"text",value:c.medications,onChange:i=>x("medications",i.target.value),className:"w-full rounded-lg border px-4 py-2",placeholder:"Medicines prescribed..."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Veterinarian Name"}),e.jsx("input",{type:"text",value:c.veterinarianName,onChange:i=>x("veterinarianName",i.target.value),className:"w-full rounded-lg border px-4 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Veterinarian Contact"}),e.jsx("input",{type:"text",value:c.veterinarianContact,onChange:i=>x("veterinarianContact",i.target.value),className:"w-full rounded-lg border px-4 py-2",placeholder:"+91XXXXXXXXXX"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Next Vaccination Date"}),e.jsx("input",{type:"date",value:c.nextVaccinationDate,onChange:i=>x("nextVaccinationDate",i.target.value),className:"w-full rounded-lg border px-4 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Next Checkup Date"}),e.jsx("input",{type:"date",value:c.nextCheckupDate,onChange:i=>x("nextCheckupDate",i.target.value),className:"w-full rounded-lg border px-4 py-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cost ()"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:c.cost,onChange:i=>x("cost",parseFloat(i.target.value)||0),className:"w-full rounded-lg border px-4 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:c.status,onChange:i=>x("status",i.target.value),className:"w-full rounded-lg border px-4 py-2",children:[e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"SCHEDULED",children:"Scheduled"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:c.notes,onChange:i=>x("notes",i.target.value),className:"w-full rounded-lg border px-4 py-2",rows:3,placeholder:"Additional notes..."})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:s,className:"flex-1 flex items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-50",children:s?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx(ut,{size:20}),"Save Record"]})}),e.jsx("button",{type:"button",onClick:()=>t("/gaushala/health/records"),className:"px-6 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})]})}function Xo(){const t=ve(),[s,a]=d.useState([]),[r,n]=d.useState(!0),[l,o]=d.useState(0),[c,u]=d.useState(0),[j,N]=d.useState(0),[x,i]=d.useState({startDate:"",endDate:""}),[g,f]=d.useState(""),w=20;d.useEffect(()=>{S()},[l,x]);const S=async()=>{n(!0);try{let m;x.startDate&&x.endDate?m=await qs.getScansByDateRange(x.startDate,x.endDate,l,w):m=await qs.getAllScans(l,w),m.success&&m.data?(a(m.data.content),u(m.data.totalPages),N(m.data.totalElements)):a([])}catch{a([])}finally{n(!1)}},D=(m,h)=>{i(k=>({...k,[m]:h})),o(0)},b=async()=>{if(!g.trim()){alert("Please enter a tag ID");return}n(!0);try{const m=await qs.getScansByTag(g,l,w);m.success&&m.data?(a(m.data.content),u(m.data.totalPages),N(m.data.totalElements)):a([])}catch{}finally{n(!1)}},v=()=>{i({startDate:"",endDate:""}),f(""),o(0),S()},T=m=>new Date(m).toLocaleString("en-IN"),y=m=>m?m>=80?"text-green-600":m>=50?"text-yellow-600":"text-red-600":"text-gray-400";return r?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"RFID Scan History"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Total: ",j," scans"]})]}),e.jsx("button",{onClick:()=>t("/gaushala/rfid/analytics"),className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:"View Analytics"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ie,{className:"text-gray-600",size:16}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date Range"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"date",value:x.startDate,onChange:m=>D("startDate",m.target.value),className:"w-full rounded-lg border px-3 py-2 text-sm",placeholder:"Start Date"}),e.jsx("input",{type:"date",value:x.endDate,onChange:m=>D("endDate",m.target.value),className:"w-full rounded-lg border px-3 py-2 text-sm",placeholder:"End Date"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(dt,{className:"text-gray-600",size:16}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search Tag"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g,onChange:m=>f(m.target.value),onKeyPress:m=>m.key==="Enter"&&b(),className:"flex-1 rounded-lg border px-3 py-2 text-sm",placeholder:"Enter Tag ID"}),e.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Search"})]})]})]}),(x.startDate||x.endDate||g)&&e.jsx("button",{onClick:v,className:"mt-4 text-sm text-blue-600 hover:text-blue-700",children:"Clear all filters"})]}),s.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx(Ca,{className:"mx-auto text-gray-400",size:48}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No RFID scans found"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Timestamp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tag ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cattle ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scanner Device"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Signal Strength"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(m=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T(m.scanTimestamp)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-blue-600",children:m.tagIdHex}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.cattleId?`#${m.cattleId}`:"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.scanLocation||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.scannerDeviceId||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`font-medium ${y(m.signalStrength)}`,children:m.signalStrength?`${m.signalStrength}%`:"-"})})]},m.id))})]})}),c>1&&e.jsxs("div",{className:"mt-6 flex justify-center items-center gap-4",children:[e.jsx("button",{onClick:()=>o(Math.max(0,l-1)),disabled:l===0,className:"px-4 py-2 border rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),e.jsxs("span",{className:"text-gray-700",children:["Page ",l+1," of ",c]}),e.jsx("button",{onClick:()=>o(Math.min(c-1,l+1)),disabled:l>=c-1,className:"px-4 py-2 border rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})}function vn(){const t=ve(),[s,a]=d.useState(!0),[r,n]=d.useState(null),[l,o]=d.useState(""),[c,u]=d.useState(null),[j,N]=d.useState({startDate:"",endDate:""});d.useEffect(()=>{x()},[j]);const x=async()=>{a(!0);try{const S=Es();if(!S)return;const D=await qs.getScanStats(S,j.startDate||void 0,j.endDate||void 0);D.success&&D.data?n(D.data):n(null)}catch{n(null)}finally{a(!1)}},i=async()=>{if(!l.trim()){alert("Please enter a tag ID");return}try{const[S,D]=await Promise.all([qs.getScanCountByTag(l),qs.getLatestScanByTag(l)]);S.success&&D.success&&u({count:S.data||0,latestScan:D.data?.scanTimestamp||"Never"})}catch{alert("Error searching tag")}},g=(S,D)=>{N(b=>({...b,[S]:D}))},f=()=>{N({startDate:"",endDate:""})},w=S=>new Date(S).toLocaleString("en-IN");return s?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("button",{onClick:()=>t("/gaushala/rfid/scans"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(qe,{size:20}),"Back to Scan History"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(pl,{className:"text-blue-600",size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:"RFID Analytics"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(Ae,{className:"text-gray-600",size:20}),e.jsx("h3",{className:"font-semibold",children:"Date Range Filter"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",value:j.startDate,onChange:S=>g("startDate",S.target.value),className:"w-full rounded-lg border px-4 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:j.endDate,onChange:S=>g("endDate",S.target.value),className:"w-full rounded-lg border px-4 py-2"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:f,className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Clear Filter"})})]})]}),r?e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"rounded-full bg-blue-100 p-3",children:e.jsx(Ca,{className:"text-blue-600",size:24})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Scans"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.totalScans})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"rounded-full bg-green-100 p-3",children:e.jsx(fl,{className:"text-green-600",size:24})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Unique Tags"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.uniqueTags})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"rounded-full bg-purple-100 p-3",children:e.jsx(Te,{className:"text-purple-600",size:24})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Scans/Day"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.averageScansPerDay.toFixed(1)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"rounded-full bg-yellow-100 p-3",children:e.jsx(Ae,{className:"text-yellow-600",size:24})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Last Scan"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:w(r.lastScanTime)})]})]})]}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow mb-6",children:[e.jsx(Ca,{className:"mx-auto text-gray-400",size:48}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No scan data available"}),(j.startDate||j.endDate)&&e.jsx("button",{onClick:f,className:"mt-4 text-blue-600 hover:text-blue-700",children:"Clear date filter to see all data"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Tag-Specific Analytics"}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("input",{type:"text",value:l,onChange:S=>o(S.target.value),onKeyPress:S=>S.key==="Enter"&&i(),className:"flex-1 rounded-lg border px-4 py-2",placeholder:"Enter Tag ID (e.g., A1B2C3D4)"}),e.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Search Tag"})]}),c&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mt-6",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Scans for Tag"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.count})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Latest Scan"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.latestScan!=="Never"?w(c.latestScan):"Never"})]})]})]})]})}const ed={en:{title:"GauShala Management",subtitle:"Comprehensive cattle and dung collection management",home:"Dashboard",cattle:"Cattle Management",addCattle:"Add Cattle",cattleDetails:"Cattle Details",transactions:"Transaction History",allTransactions:"All Field Worker Transactions",foodHistory:"Food History",healthHistory:"Health History",settings:"Settings",hindi:"",english:"English"},hi:{title:" ",subtitle:"     ",home:"",cattle:" ",addCattle:" ",cattleDetails:" ",transactions:"-  ",allTransactions:"   -",foodHistory:" ",healthHistory:" ",settings:"",hindi:"",english:"English"}};function td(){const t=ve(),s=Hs(),{platformSettings:a,updateBreadcrumbs:r}=sa(),n=x=>{const i=x.split(".");let g=ed[a.language];for(const f of i)g=g?.[f];return g||x},l={language:a.language,setLanguage:()=>{},t:n},o=()=>{const x=s.pathname;return x.includes("/cattle/add")?"addCattle":x.includes("/cattle/edit/")?"editCattle":x.includes("/cattle/view/")?"viewCattle":x.includes("/cattle/")&&x.split("/").length>3?"cattleDetails":x.includes("/cattle")?"cattle":x.includes("/all-transactions")?"allTransactions":x.includes("/food-history/add")?"addFoodHistory":x.includes("/food-history/edit/")?"editFoodHistory":x.includes("/food-history/view/")?"viewFoodHistory":x.includes("/food-history")?"foodHistory":x.includes("/medicine/add")?"addMedicine":x.includes("/medicine/edit/")?"editMedicine":x.includes("/medicine/view/")?"viewMedicine":x.includes("/medicine")?"medicineList":x.includes("/health-history/add")?"addMedicine":x.includes("/health-history/edit/")?"editMedicine":x.includes("/health-history/view/")?"viewMedicine":x.includes("/health-history")?"healthHistory":"home"},c=x=>{switch(x){case"home":t("/gaushala"),r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("home"),url:"/gaushala",module:"gaushala"}]);break;case"cattle":t("/gaushala/cattle"),r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"}]);break;case"allTransactions":t("/gaushala/all-transactions"),r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("allTransactions"),url:"/gaushala/all-transactions",module:"gaushala"}]);break;case"foodHistory":t("/gaushala/food-history"),r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("foodHistory"),url:"/gaushala/food-history",module:"gaushala"}]);break;case"healthHistory":t("/gaushala/health-history"),r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("healthHistory"),url:"/gaushala/health-history",module:"gaushala"}]);break}},u=o(),j=()=>{switch(o()){case"home":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Dashboard"}];case"cattle":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Cattle Management"}];case"addCattle":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Cattle Management",onClick:()=>t("/gaushala/cattle")},{label:"Add Cattle"}];case"viewCattle":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Cattle Management",onClick:()=>t("/gaushala/cattle")},{label:"View Cattle"}];case"editCattle":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Cattle Management",onClick:()=>t("/gaushala/cattle")},{label:"Edit Cattle"}];case"cattleDetails":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Cattle Management",onClick:()=>t("/gaushala/cattle")},{label:"Cattle Details"}];case"allTransactions":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Transaction History"}];case"foodHistory":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Food History"}];case"addFoodHistory":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Food History",onClick:()=>t("/gaushala/food-history")},{label:"Create Food History"}];case"viewFoodHistory":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Food History",onClick:()=>t("/gaushala/food-history")},{label:"View Details"}];case"editFoodHistory":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Food History",onClick:()=>t("/gaushala/food-history")},{label:"Edit Food History"}];case"healthHistory":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Health History"}];case"addMedicine":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Health History",onClick:()=>t("/gaushala/health-history")},{label:"Create Medicine"}];case"medicineList":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Medicine Inventory"}];case"viewMedicine":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Medicine Inventory",onClick:()=>t("/gaushala/medicine")},{label:"View Medicine"}];case"editMedicine":return[{label:"Gausakhi",onClick:()=>t("/gaushala")},{label:"Medicine Inventory",onClick:()=>t("/gaushala/medicine")},{label:"Edit Medicine"}];default:return[{label:"Gausakhi"}]}},N=[{id:"home",label:"Dashboard",icon:e.jsx(ts,{className:"w-4 h-4"}),onClick:()=>c("home"),isActive:u==="home"},{id:"cattle",label:"Cattle Management",icon:e.jsx(st,{className:"w-4 h-4"}),onClick:()=>c("cattle"),isActive:u==="cattle"||u==="addCattle"||u==="cattleDetails"||u==="viewCattle"||u==="editCattle"},{id:"allTransactions",label:"Transaction History",icon:e.jsx(nr,{className:"w-4 h-4"}),onClick:()=>c("allTransactions"),isActive:u==="allTransactions"},{id:"foodHistory",label:"Food History",icon:e.jsx(Ea,{className:"w-4 h-4"}),onClick:()=>c("foodHistory"),isActive:u==="foodHistory"||u==="addFoodHistory"||u==="viewFoodHistory"||u==="editFoodHistory"},{id:"healthHistory",label:"Health History",icon:e.jsx(rr,{className:"w-4 h-4"}),onClick:()=>c("healthHistory"),isActive:u==="healthHistory"||u==="addMedicine"||u==="viewMedicine"||u==="editMedicine"||u==="medicineList"},{id:"inventory",label:"Inventory",icon:e.jsx(rt,{className:"w-4 h-4"}),onClick:()=>t("/gaushala/inventory"),isActive:s.pathname.includes("/inventory")},{id:"sheds",label:"Shed Management",icon:e.jsx(jl,{className:"w-4 h-4"}),onClick:()=>t("/gaushala/sheds"),isActive:s.pathname.includes("/sheds")},{id:"production",label:"Milk Production",icon:e.jsx(Rr,{className:"w-4 h-4"}),onClick:()=>t("/gaushala/production"),isActive:s.pathname.includes("/production")},{id:"rfid",label:"RFID Analytics",icon:e.jsx(Ca,{className:"w-4 h-4"}),onClick:()=>t("/gaushala/rfid/scans"),isActive:s.pathname.includes("/rfid")}];return d.useEffect(()=>{switch(o()){case"home":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("home"),url:"/gaushala",module:"gaushala"}]);break;case"cattle":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"}]);break;case"addCattle":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"},{label:n("addCattle"),url:"/gaushala/cattle/add",module:"gaushala"}]);break;case"viewCattle":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"},{label:"View Cattle",url:s.pathname,module:"gaushala"}]);break;case"editCattle":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"},{label:"Edit Cattle",url:s.pathname,module:"gaushala"}]);break;case"cattleDetails":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("cattle"),url:"/gaushala/cattle",module:"gaushala"},{label:n("cattleDetails"),url:s.pathname,module:"gaushala"}]);break;case"allTransactions":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("allTransactions"),url:"/gaushala/all-transactions",module:"gaushala"}]);break;case"foodHistory":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("foodHistory"),url:"/gaushala/food-history",module:"gaushala"}]);break;case"addFoodHistory":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("foodHistory"),url:"/gaushala/food-history",module:"gaushala"},{label:"Create Food History",url:"/gaushala/food-history/add",module:"gaushala"}]);break;case"viewFoodHistory":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("foodHistory"),url:"/gaushala/food-history",module:"gaushala"},{label:"View Details",url:s.pathname,module:"gaushala"}]);break;case"editFoodHistory":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("foodHistory"),url:"/gaushala/food-history",module:"gaushala"},{label:"Edit Food History",url:s.pathname,module:"gaushala"}]);break;case"healthHistory":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("healthHistory"),url:"/gaushala/health-history",module:"gaushala"}]);break;case"addMedicine":r([{label:n("title"),url:"/gaushala",module:"gaushala"},{label:n("healthHistory"),url:"/gaushala/health-history",module:"gaushala"},{label:"Create Medicine",url:"/gaushala/health-history/add",module:"gaushala"}]);break}},[s.pathname,a.language]),e.jsx(aa,{moduleName:"Gausakhi",moduleSubtitle:"Comprehensive cattle and dung collection management",navigationItems:N,breadcrumbs:j(),userInfo:{name:"Ramesh Kumar",role:"Field Worker"},children:e.jsxs(ta,{children:[e.jsx(J,{path:"/",element:e.jsx(mn,{languageContext:l})}),e.jsx(J,{path:"/dashboard",element:e.jsx(mn,{languageContext:l})}),e.jsx(J,{path:"/cattle",element:e.jsx(Ao,{languageContext:l})}),e.jsx(J,{path:"/cattle/add",element:e.jsx(Po,{languageContext:l})}),e.jsx(J,{path:"/cattle/view/:id",element:e.jsx($o,{})}),e.jsx(J,{path:"/cattle/edit/:id",element:e.jsx(Bo,{})}),e.jsx(J,{path:"/cattle/:id",element:e.jsx(Eo,{languageContext:l})}),e.jsx(J,{path:"/all-transactions",element:e.jsx(xn,{})}),e.jsx(J,{path:"/transactions",element:e.jsx(xn,{})}),e.jsx(J,{path:"/food-history",element:e.jsx(Ro,{})}),e.jsx(J,{path:"/food-history/add",element:e.jsx(Oo,{})}),e.jsx(J,{path:"/food-history/view/:id",element:e.jsx(Fo,{})}),e.jsx(J,{path:"/food-history/edit/:id",element:e.jsx(Lo,{})}),e.jsx(J,{path:"/health-history",element:e.jsx(_o,{})}),e.jsx(J,{path:"/health-history/add",element:e.jsx(gn,{})}),e.jsx(J,{path:"/health-history/view/:id",element:e.jsx(pn,{})}),e.jsx(J,{path:"/health-history/edit/:id",element:e.jsx(fn,{})}),e.jsx(J,{path:"/medicine",element:e.jsx(qo,{})}),e.jsx(J,{path:"/medicine/add",element:e.jsx(gn,{})}),e.jsx(J,{path:"/medicine/view/:id",element:e.jsx(pn,{})}),e.jsx(J,{path:"/medicine/edit/:id",element:e.jsx(fn,{})}),e.jsx(J,{path:"/sheds",element:e.jsx(Uo,{})}),e.jsx(J,{path:"/sheds/add",element:e.jsx(Ho,{})}),e.jsx(J,{path:"/sheds/edit/:id",element:e.jsx(Go,{})}),e.jsx(J,{path:"/sheds/capacity",element:e.jsx(Vo,{})}),e.jsx(J,{path:"/inventory",element:e.jsx(Wo,{})}),e.jsx(J,{path:"/inventory/add",element:e.jsx(zo,{})}),e.jsx(J,{path:"/inventory/edit/:id",element:e.jsx(Yo,{})}),e.jsx(J,{path:"/inventory/:id/stock-history",element:e.jsx(Qo,{})}),e.jsx(J,{path:"/milk-production",element:e.jsx(jn,{})}),e.jsx(J,{path:"/production",element:e.jsx(jn,{})}),e.jsx(J,{path:"/production/record",element:e.jsx(Ko,{})}),e.jsx(J,{path:"/production/analytics",element:e.jsx(Zo,{})}),e.jsx(J,{path:"/health/records",element:e.jsx(yn,{})}),e.jsx(J,{path:"/health/records/:cattleId",element:e.jsx(yn,{})}),e.jsx(J,{path:"/health/add",element:e.jsx(Jo,{})}),e.jsx(J,{path:"/rfid-analytics",element:e.jsx(vn,{})}),e.jsx(J,{path:"/rfid/scans",element:e.jsx(Xo,{})}),e.jsx(J,{path:"/rfid/analytics",element:e.jsx(vn,{})})]})})}const Ce=d.forwardRef(({className:t,value:s=0,max:a=100,...r},n)=>e.jsx("div",{ref:n,className:te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:e.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-s/a*100}%)`}})}));Ce.displayName="Progress";const ps={totalDigesters:3,activeDigesters:2,totalProduction:445.5,averageEfficiency:83.7,criticalAlerts:0,warningAlerts:1,totalBatches:156,pendingPayments:12,scheduledPickups:8},sd=[{id:"D001",name:"Digester Alpha-1",status:"active",temperature:35.5,pressure:1.2,methaneLevel:65,dailyProduction:150.5,efficiency:85,lastUpdated:new Date().toISOString(),trends:{methane:2,production:5}},{id:"D002",name:"Digester Alpha-2",status:"active",temperature:37.2,pressure:1.5,methaneLevel:68,dailyProduction:175,efficiency:88,lastUpdated:new Date().toISOString(),trends:{methane:1,production:3}},{id:"D003",name:"Digester Alpha-3",status:"maintenance",temperature:32.1,pressure:.8,methaneLevel:58,dailyProduction:120,efficiency:78,lastUpdated:new Date().toISOString(),trends:{methane:-1,production:-2}}],ad=[{month:"Jan",production:380,efficiency:85},{month:"Feb",production:420,efficiency:87},{month:"Mar",production:445,efficiency:84},{month:"Apr",production:465,efficiency:88},{month:"May",production:445,efficiency:86}],xr=[{name:"Active",value:2,color:"#22c55e"},{name:"Maintenance",value:1,color:"#f59e0b"},{name:"Offline",value:0,color:"#ef4444"}],Ba=({title:t,value:s,change:a,trend:r,icon:n,className:l=""})=>{const o=()=>{switch(r){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}},c=()=>{switch(r){case"up":return e.jsx(Te,{className:"w-3 h-3"});case"down":return e.jsx(xs,{className:"w-3 h-3"});default:return e.jsx($e,{className:"w-3 h-3"})}};return e.jsxs(P,{className:`relative overflow-hidden ${l}`,children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium text-muted-foreground",children:t}),e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center",children:n})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold tracking-tight",children:s}),e.jsxs("div",{className:`flex items-center gap-1 text-xs ${o()}`,children:[c(),a]})]})]})},rd=({digester:t})=>{const s=t.status==="active"?"bg-green-100 text-green-800 border-green-200":t.status==="maintenance"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",r=t.status==="active"?be:we;return e.jsxs(P,{className:"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-white to-slate-50",children:[e.jsxs(_,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($,{className:"text-lg font-bold text-slate-800",children:t.name}),e.jsxs(V,{className:`${s} border font-semibold capitalize flex items-center gap-1`,children:[e.jsx(r,{className:"w-3 h-3"}),t.status]})]}),e.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:["Last Updated: ",new Date(t.lastUpdated).toLocaleTimeString()]})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xa,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"text-sm font-semibold text-orange-700",children:"Temperature"})]}),e.jsxs("div",{className:"text-lg font-bold text-orange-900",children:[t.temperature,"C"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Na,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"Pressure"})]}),e.jsxs("div",{className:"text-lg font-bold text-blue-900",children:[t.pressure," kPa"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ks,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-semibold text-yellow-700",children:"Methane"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-lg font-bold text-yellow-900",children:[t.methaneLevel,"%"]}),t.trends?.methane&&t.trends.methane>0?e.jsx(Te,{className:"w-4 h-4 text-green-600"}):e.jsx(xs,{className:"w-4 h-4 text-red-600"})]})]}),e.jsx(Ce,{value:t.methaneLevel,className:"h-3 bg-yellow-200"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ir,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-semibold text-green-700",children:"Daily Production"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-lg font-bold text-green-900",children:[t.dailyProduction," m"]}),t.trends?.production&&t.trends.production>0?e.jsx(Te,{className:"w-4 h-4 text-green-600"}):e.jsx(xs,{className:"w-4 h-4 text-red-600"})]})]}),e.jsx(Ce,{value:t.efficiency,className:"h-3 bg-green-200"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-200",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Efficiency"}),e.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:[t.efficiency,"%"]})]})]})]})},nd=({status:t,count:s})=>{const a=()=>{switch(t.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"offline":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(V,{className:`${a()} px-2 py-1`,children:[s," ",t]})},id=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"BiogasSangh Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Overview of cluster operations and performance metrics"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(q,{variant:"outline",size:"sm",children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),"Filter"]}),e.jsxs(q,{size:"sm",children:[e.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Ba,{title:"Total Production",value:`${ps.totalProduction} m`,change:"+12% from last month",trend:"up",icon:e.jsx(ir,{className:"h-4 w-4 text-blue-600"})}),e.jsx(Ba,{title:"Average Efficiency",value:`${ps.averageEfficiency}%`,change:"+2.1% from last week",trend:"up",icon:e.jsx(ks,{className:"h-4 w-4 text-yellow-600"})}),e.jsx(Ba,{title:"Active Digesters",value:`${ps.activeDigesters}/${ps.totalDigesters}`,change:"1 in maintenance",trend:"neutral",icon:e.jsx(er,{className:"h-4 w-4 text-green-600"})}),e.jsx(Ba,{title:"Critical Alerts",value:ps.criticalAlerts.toString(),change:`${ps.warningAlerts} warnings`,trend:"neutral",icon:e.jsx(we,{className:"h-4 w-4 text-orange-600"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight mb-4",children:"Live Digester Status"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:sd.map(t=>e.jsx(rd,{digester:t},t.id))})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-7",children:[e.jsxs(P,{className:"lg:col-span-4",children:[e.jsxs(_,{children:[e.jsx($,{children:"Production Trends"}),e.jsx(De,{children:"Monthly biogas production and efficiency over time"})]}),e.jsx(E,{children:e.jsx(pa,{width:"100%",height:300,children:e.jsxs(wr,{data:ad,children:[e.jsx(Ga,{strokeDasharray:"3 3"}),e.jsx(Va,{dataKey:"month"}),e.jsx(fa,{yAxisId:"left"}),e.jsx(fa,{yAxisId:"right",orientation:"right"}),e.jsx(ja,{}),e.jsx(Wa,{}),e.jsx($s,{yAxisId:"left",type:"monotone",dataKey:"production",stroke:"#3b82f6",strokeWidth:3,name:"Production (m)"}),e.jsx($s,{yAxisId:"right",type:"monotone",dataKey:"efficiency",stroke:"#22c55e",strokeWidth:3,name:"Efficiency (%)"})]})})})]}),e.jsxs(P,{className:"lg:col-span-3",children:[e.jsxs(_,{children:[e.jsx($,{children:"Digester Status"}),e.jsx(De,{children:"Current operational status distribution"})]}),e.jsxs(E,{children:[e.jsx(pa,{width:"100%",height:200,children:e.jsxs(ac,{children:[e.jsx(rc,{data:xr,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,dataKey:"value",stroke:"#fff",strokeWidth:2,children:xr.map((t,s)=>e.jsx(nc,{fill:t.color},`cell-${s}`))}),e.jsx(ja,{})]})}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:xr.map(t=>e.jsx(nd,{status:t.name,count:t.value},t.name))})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Total Batches"}),e.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:ps.totalBatches}),e.jsx(Ce,{value:75,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"+23 from last month"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Pending Payments"}),e.jsx(Ae,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:ps.pendingPayments}),e.jsx(Ce,{value:30,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"2 overdue items"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Scheduled Pickups"}),e.jsx(st,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:ps.scheduledPickups}),e.jsx(Ce,{value:60,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Next pickup: Today 2:00 PM"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"System Status"}),e.jsx(yl,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Healthy"}),e.jsx(Ce,{value:95,className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"All systems operational"})]})]})]}),e.jsx(Js,{}),e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:"Recent Activity"}),e.jsx(De,{children:"Latest updates and notifications from the cluster"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Digester Alpha-2 efficiency increased to 88%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Batch #156 scheduled for pickup"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"4 hours ago"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Payment reconciliation completed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"6 hours ago"})]})]})]})})]})]}),Oe=kl,Fe=Il,Me=d.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(Zn,{ref:r,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(vl,{asChild:!0,children:e.jsx(Or,{className:"h-4 w-4 opacity-50"})})]}));Me.displayName=Zn.displayName;const Ii=d.forwardRef(({className:t,...s},a)=>e.jsx(Jn,{ref:a,className:te("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(bl,{className:"h-4 w-4"})}));Ii.displayName=Jn.displayName;const Ti=d.forwardRef(({className:t,...s},a)=>e.jsx(Xn,{ref:a,className:te("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Or,{className:"h-4 w-4"})}));Ti.displayName=Xn.displayName;const Re=d.forwardRef(({className:t,children:s,position:a="popper",...r},n)=>e.jsx(Nl,{children:e.jsxs(ei,{ref:n,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[e.jsx(Ii,{}),e.jsx(wl,{className:te("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Ti,{})]})}));Re.displayName=ei.displayName;const ld=d.forwardRef(({className:t,...s},a)=>e.jsx(ti,{ref:a,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));ld.displayName=ti.displayName;const Q=d.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(si,{ref:r,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Sl,{children:e.jsx(Cl,{className:"h-4 w-4"})})}),e.jsx(Dl,{children:s})]}));Q.displayName=si.displayName;const cd=d.forwardRef(({className:t,...s},a)=>e.jsx(ai,{ref:a,className:te("-mx-1 my-1 h-px bg-muted",t),...s}));cd.displayName=ai.displayName;const od=[{id:"D001",name:"Digester Alpha-1",status:"active",temperature:35.5,pressure:1.2,methaneLevel:65,dailyProduction:150.5,efficiency:85,lastUpdated:new Date().toISOString(),detailedSensors:{ph:7.2,humidity:82,co2Level:28,h2sLevel:.15,gasFlow:45.2,liquidLevel:78,stirringSpeed:120,powerConsumption:2.4},trends:{methane:2,production:5,temperature:1,pressure:.5}},{id:"D002",name:"Digester Alpha-2",status:"active",temperature:37.2,pressure:1.5,methaneLevel:68,dailyProduction:175,efficiency:88,lastUpdated:new Date().toISOString(),detailedSensors:{ph:7.5,humidity:85,co2Level:25,h2sLevel:.12,gasFlow:52.8,liquidLevel:82,stirringSpeed:115,powerConsumption:2.6},trends:{methane:1,production:3,temperature:.5,pressure:.2}},{id:"D003",name:"Digester Alpha-3",status:"maintenance",temperature:32.1,pressure:.8,methaneLevel:58,dailyProduction:120,efficiency:78,lastUpdated:new Date().toISOString(),detailedSensors:{ph:6.8,humidity:75,co2Level:35,h2sLevel:.22,gasFlow:32.1,liquidLevel:65,stirringSpeed:0,powerConsumption:.8},trends:{methane:-1,production:-2,temperature:-.5,pressure:-.1}}],dd=()=>{const[t,s]=d.useState(od),[a,r]=d.useState(!0),[n,l]=d.useState(!0),[o,c]=d.useState(new Date),u=d.useCallback((i,g,f,w)=>{const S=(Math.random()-.5)*g,D=i+S;return f!==void 0&&w!==void 0?Math.max(f,Math.min(w,D)):D},[]),j=d.useCallback(()=>{n&&(s(i=>i.map(g=>g.status==="maintenance"?{...g,lastUpdated:new Date().toISOString()}:{...g,temperature:Math.round(u(g.temperature,.5,30,42)*10)/10,pressure:Math.round(u(g.pressure,.1,.5,2)*10)/10,methaneLevel:Math.round(u(g.methaneLevel,2,50,80)),efficiency:Math.round(u(g.efficiency,1,70,95)),detailedSensors:{ph:Math.round(u(g.detailedSensors.ph,.1,6,8.5)*10)/10,humidity:Math.round(u(g.detailedSensors.humidity,2,70,95)),co2Level:Math.round(u(g.detailedSensors.co2Level,1,20,40)),h2sLevel:Math.round(u(g.detailedSensors.h2sLevel,.02,.05,.3)*100)/100,gasFlow:Math.round(u(g.detailedSensors.gasFlow,2,30,70)*10)/10,liquidLevel:Math.round(u(g.detailedSensors.liquidLevel,1,60,90)),stirringSpeed:g.status==="active"?Math.round(u(g.detailedSensors.stirringSpeed,5,100,140)):0,powerConsumption:Math.round(u(g.detailedSensors.powerConsumption,.1,1.5,3.5)*10)/10},lastUpdated:new Date().toISOString()})),c(new Date))},[u,n]);d.useEffect(()=>{const i=setInterval(()=>{if(Math.random()<.05){r(!1),setTimeout(()=>r(!0),2e3);return}j()},3e3);return()=>clearInterval(i)},[j]);const N=()=>l(!n),x=d.useCallback(()=>j(),[j]);return{digesters:t,refreshData:x,isLoading:!1,isConnected:a,isRealTimeActive:n,toggleRealTime:N,lastUpdateTime:o}},Ut=({title:t,value:s,unit:a="",icon:r,trend:n,color:l,status:o="normal",isUpdating:c=!1})=>{const u=()=>{switch(o){case"warning":return"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-amber-50 to-orange-50";case"critical":return"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-red-50 to-pink-50";default:return"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-white to-slate-50"}};return e.jsxs(P,{className:`
      ${u()}
      ${c?"ring-2 ring-blue-400/50":""}
    `,children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium text-muted-foreground",children:t}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`
            h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center
            ${c?"animate-pulse":""}
          `,children:r}),c&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s,a]}),n!==void 0&&e.jsx("div",{className:`
              flex items-center justify-center w-6 h-6 rounded-full
              ${n>0?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}
            `,children:n>0?e.jsx(Te,{className:"w-3 h-3"}):e.jsx(xs,{className:"w-3 h-3"})})]}),c&&e.jsx("div",{className:"w-full bg-muted rounded-full h-1 mt-2",children:e.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-1000",style:{width:"100%"}})})]})]})},md=({isConnected:t,lastUpdate:s,isRealTimeActive:a,onToggleRealTime:r})=>e.jsx(P,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[t?e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsxs("div",{className:"relative",children:[e.jsx(va,{className:"w-4 h-4"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),e.jsx("span",{className:"text-sm font-medium",children:"CONNECTED"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[e.jsx(Pl,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"RECONNECTING"})]}),e.jsx(Js,{orientation:"vertical",className:"h-4"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Last Update: ",s.toLocaleTimeString()]})]}),e.jsx(q,{onClick:r,variant:a?"default":"outline",size:"sm",className:"gap-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(ri,{className:"w-4 h-4"}),"Pause Updates"]}):e.jsxs(e.Fragment,{children:[e.jsx(Fr,{className:"w-4 h-4"}),"Resume Updates"]})})]})})}),hr=({title:t,subtitle:s,children:a,isLive:r=!1})=>e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs($,{className:"flex items-center gap-3",children:[t,r&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-green-600 uppercase tracking-wide",children:"LIVE"})]})]}),e.jsx(De,{children:s})]}),e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(El,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(E,{children:a})]}),ud=t=>Array.from({length:24},(a,r)=>{const l=`${r.toString().padStart(2,"0")}:00`,o=Math.sin(r*.5)*5;return{time:l,temperature:Math.round((t.temperature+o+Math.random()*2)*10)/10,pressure:Math.round((t.pressure+o*.1+Math.random()*.2)*10)/10,methane:Math.round(t.methaneLevel+o+Math.random()*3),ph:Math.round((t.detailedSensors.ph+o*.1+Math.random()*.2)*10)/10,gasFlow:Math.round(t.detailedSensors.gasFlow+o+Math.random()*5),efficiency:Math.round(t.efficiency+o*.5+Math.random()*2)}}),xd=()=>{const[t,s]=d.useState("D001"),{digesters:a,refreshData:r,isLoading:n,isConnected:l,isRealTimeActive:o,toggleRealTime:c,lastUpdateTime:u}=dd(),j=a.find(w=>w.id===t)||a[0],[N,x]=d.useState(!1),i=ud(j);d.useEffect(()=>{if(l&&o){x(!0);const w=setTimeout(()=>x(!1),1e3);return()=>clearTimeout(w)}},[j.lastUpdated,l,o]);const f=j.status==="active"?be:we;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Real-Time Digester Monitoring"}),e.jsx("p",{className:"text-muted-foreground",children:"Live sensor data, advanced analytics, continuous monitoring"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm font-medium",children:"Select Digester:"}),e.jsxs(Oe,{value:t,onValueChange:s,children:[e.jsx(Me,{className:"w-48",children:e.jsx(Fe,{placeholder:"Choose a digester"})}),e.jsx(Re,{children:a.map(w=>e.jsx(Q,{value:w.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${w.status==="active"?"bg-green-500":"bg-yellow-500"}`}),w.name]})},w.id))})]})]}),e.jsxs(q,{onClick:r,disabled:n,variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(us,{className:"w-4 h-4 "}),"Refresh"]})]})]}),e.jsx(P,{children:e.jsx(_,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx($,{className:"text-xl font-bold",children:j.name}),e.jsxs(De,{children:["Last Updated: ",new Date(j.lastUpdated).toLocaleString()]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(V,{className:`${j.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"} border font-semibold capitalize flex items-center gap-1`,children:[e.jsx(f,{className:"w-3 h-3"}),j.status.toUpperCase()]})})]})})}),e.jsx(md,{isConnected:l,lastUpdate:u,isRealTimeActive:o,onToggleRealTime:c}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight mb-4 flex items-center gap-3",children:[e.jsx(Tl,{className:"h-4 w-4 text-blue-600"}),"Primary Sensors"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Ut,{title:"Temperature",value:j.temperature,unit:"C",icon:e.jsx(Xa,{className:"h-4 w-4 text-orange-600"}),trend:j.trends?.temperature,color:"orange",status:j.temperature>40?"warning":"normal",isUpdating:N&&l&&o}),e.jsx(Ut,{title:"Pressure",value:j.pressure,unit:" kPa",icon:e.jsx(Na,{className:"h-4 w-4 text-blue-600"}),trend:j.trends?.pressure,color:"blue",isUpdating:N&&l&&o}),e.jsx(Ut,{title:"Methane Level",value:j.methaneLevel,unit:"%",icon:e.jsx(ks,{className:"h-4 w-4 text-yellow-600"}),trend:j.trends?.methane,color:"yellow",status:j.methaneLevel<60?"warning":"normal",isUpdating:N&&l&&o}),e.jsx(Ut,{title:"Efficiency",value:j.efficiency,unit:"%",icon:e.jsx($e,{className:"h-4 w-4 text-green-600"}),trend:j.trends?.production,color:"green",isUpdating:N&&l&&o})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight mb-4 flex items-center gap-3",children:[e.jsx(Ca,{className:"h-4 w-4 text-purple-600"}),"Secondary Sensors"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Ut,{title:"pH Level",value:j.detailedSensors?.ph,icon:e.jsx(Al,{className:"h-4 w-4 text-purple-600"}),color:"purple",status:j.detailedSensors?.ph<6.5||j.detailedSensors?.ph>8?"warning":"normal",isUpdating:N&&l&&o}),e.jsx(Ut,{title:"Humidity",value:j.detailedSensors?.humidity,unit:"%",icon:e.jsx(ir,{className:"h-4 w-4 text-cyan-600"}),color:"cyan",isUpdating:N&&l&&o}),e.jsx(Ut,{title:"CO Level",value:j.detailedSensors?.co2Level,unit:"%",icon:e.jsx(tn,{className:"h-4 w-4 text-gray-600"}),color:"gray",isUpdating:N&&l&&o}),e.jsx(Ut,{title:"HS Level",value:j.detailedSensors?.h2sLevel,unit:" ppm",icon:e.jsx(we,{className:"h-4 w-4 text-red-600"}),color:"red",status:j.detailedSensors?.h2sLevel>.2?"warning":"normal",isUpdating:N&&l&&o})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight mb-4 flex items-center gap-3",children:[e.jsx($t,{className:"h-4 w-4 text-indigo-600"}),"Operational Metrics"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Ut,{title:"Gas Flow Rate",value:j.detailedSensors?.gasFlow,unit:" L/min",icon:e.jsx(tn,{className:"h-4 w-4 text-blue-600"}),color:"blue",isUpdating:N&&l&&o}),e.jsx(Ut,{title:"Liquid Level",value:j.detailedSensors?.liquidLevel,unit:"%",icon:e.jsx(Na,{className:"h-4 w-4 text-teal-600"}),color:"teal",status:j.detailedSensors?.liquidLevel<70?"warning":"normal",isUpdating:N&&l&&o}),e.jsx(Ut,{title:"Stirring Speed",value:j.detailedSensors?.stirringSpeed,unit:" RPM",icon:e.jsx($t,{className:"h-4 w-4 text-indigo-600"}),color:"indigo",status:j.status==="maintenance"&&j.detailedSensors?.stirringSpeed===0?"warning":"normal",isUpdating:N&&l&&o}),e.jsx(Ut,{title:"Power Consumption",value:j.detailedSensors?.powerConsumption,unit:" kW",icon:e.jsx(ks,{className:"h-4 w-4 text-yellow-600"}),color:"yellow",isUpdating:N&&l&&o})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx(hr,{title:"Live Efficiency Analytics",subtitle:"Real-time efficiency and gas flow correlation",isLive:l&&o,children:e.jsx(pa,{width:"100%",height:300,children:e.jsxs(wr,{data:i,children:[e.jsx(Ga,{strokeDasharray:"3 3"}),e.jsx(Va,{dataKey:"time"}),e.jsx(fa,{}),e.jsx(ja,{}),e.jsx(Wa,{}),e.jsx($s,{type:"monotone",dataKey:"efficiency",stroke:"#10b981",strokeWidth:2,name:"Efficiency (%)"}),e.jsx($s,{type:"monotone",dataKey:"gasFlow",stroke:"#3b82f6",strokeWidth:2,name:"Gas Flow (L/min)"})]})})}),e.jsx(hr,{title:"Environmental Conditions",subtitle:"Temperature, pressure, and pH monitoring",isLive:l&&o,children:e.jsx(pa,{width:"100%",height:300,children:e.jsxs(wr,{data:i,children:[e.jsx(Ga,{strokeDasharray:"3 3"}),e.jsx(Va,{dataKey:"time"}),e.jsx(fa,{}),e.jsx(ja,{}),e.jsx(Wa,{}),e.jsx($s,{type:"monotone",dataKey:"temperature",stroke:"#f59e0b",strokeWidth:2,name:"Temperature (C)"}),e.jsx($s,{type:"monotone",dataKey:"pressure",stroke:"#8b5cf6",strokeWidth:2,name:"Pressure (kPa)"}),e.jsx($s,{type:"monotone",dataKey:"ph",stroke:"#ec4899",strokeWidth:2,name:"pH Level"})]})})})]}),e.jsx(hr,{title:"Live Methane Production Stream",subtitle:"Real-time methane concentration monitoring",isLive:l&&o,children:e.jsx(pa,{width:"100%",height:300,children:e.jsxs(ic,{data:i,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"methaneGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#fbbf24",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#fbbf24",stopOpacity:.1})]})}),e.jsx(Ga,{strokeDasharray:"3 3"}),e.jsx(Va,{dataKey:"time"}),e.jsx(fa,{}),e.jsx(ja,{}),e.jsx(Wa,{}),e.jsx(lc,{type:"monotone",dataKey:"methane",stroke:"#fbbf24",strokeWidth:2,fillOpacity:1,fill:"url(#methaneGradient)",name:"Methane Level (%)"})]})})})]})},na=d.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...s}));na.displayName="Textarea";const qr=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:te("w-full caption-bottom text-sm",t),...s})}));qr.displayName="Table";const Ur=d.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:te("[&_tr]:border-b",t),...s}));Ur.displayName="TableHeader";const Hr=d.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:te("[&_tr:last-child]:border-0",t),...s}));Hr.displayName="TableBody";const hd=d.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));hd.displayName="TableFooter";const Ia=d.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));Ia.displayName="TableRow";const ct=d.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));ct.displayName="TableHead";const ot=d.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));ot.displayName="TableCell";const gd=d.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:te("mt-4 text-sm text-muted-foreground",t),...s}));gd.displayName="TableCaption";const Ht="http://localhost:8082/biogas-service/api/v1",Kt=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("saubhagya_jwt_token")}`}),gr={async getDashboardStats(t){try{const s=t?`${Ht}/dashboard/stats?clusterId=${t}`:`${Ht}/dashboard/stats`,a=await fetch(s,{method:"GET",headers:Kt()});if(!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);return await a.json()}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to fetch dashboard stats"}}},async getClusterDashboard(t){try{const s=await fetch(`${Ht}/dashboard/cluster/${t}`,{method:"GET",headers:Kt()});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return await s.json()}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to fetch cluster dashboard"}}},async getProductionTrends(t,s,a,r="daily"){try{const n=new URLSearchParams({clusterId:t,granularity:r});s&&n.append("startDate",s),a&&n.append("endDate",a);const l=await fetch(`${Ht}/dashboard/analytics/production-trends?${n}`,{method:"GET",headers:Kt()});if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);return await l.json()}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch production trends"}}},async getFarmerPerformance(t,s,a){try{const r=new URLSearchParams({clusterId:t});s&&r.append("startDate",s),a&&r.append("endDate",a);const n=await fetch(`${Ht}/dashboard/analytics/farmer-performance?${r}`,{method:"GET",headers:Kt()});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch farmer performance"}}},async getQualityTrends(t,s,a){try{const r=new URLSearchParams({clusterId:t});s&&r.append("startDate",s),a&&r.append("endDate",a);const n=await fetch(`${Ht}/dashboard/analytics/quality-trends?${r}`,{method:"GET",headers:Kt()});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch quality trends"}}},async getPaymentSummary(t,s,a){try{const r=new URLSearchParams({clusterId:t});s&&r.append("startDate",s),a&&r.append("endDate",a);const n=await fetch(`${Ht}/dashboard/analytics/payment-summary?${r}`,{method:"GET",headers:Kt()});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch payment summary"}}},async getBatches(t,s,a=0,r=20){try{const n=new URLSearchParams({page:a.toString(),size:r.toString()});t&&n.append("clusterId",t),s&&n.append("status",s);const l=await fetch(`${Ht}/production/batches?${n}`,{method:"GET",headers:Kt()});if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);return await l.json()}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch production batches"}}},async getBatchById(t){try{const s=await fetch(`${Ht}/production/batches/${t}`,{method:"GET",headers:Kt()});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return await s.json()}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to fetch batch"}}},async createBatch(t){try{const s=await fetch(`${Ht}/production/batches`,{method:"POST",headers:Kt(),body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return await s.json()}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to create batch"}}},async startBatch(t){try{const s=await fetch(`${Ht}/production/batches/${t}/start`,{method:"POST",headers:Kt()});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return await s.json()}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to start batch"}}},async completeBatch(t,s){try{const a=await fetch(`${Ht}/production/batches/${t}/complete`,{method:"POST",headers:Kt(),body:JSON.stringify(s)});if(!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);return await a.json()}catch(a){return{success:!1,error:a instanceof Error?a.message:"Failed to complete batch"}}}},qa=[{id:"BATCH-001",digesterId:"DIG-001",volume:45.2,methaneContent:65.8,status:"ready",createdDate:new Date().toISOString(),transferDate:new Date(Date.now()+72e5).toISOString(),qualityScore:92,farmerName:" ",source:"Gokul Gaushala, Mathura",notes:"Premium quality cow dung batch from Rajesh Kumar. Optimal fermentation achieved with excellent gas composition. Ready for immediate transfer to distribution network. Source: 15 indigenous cows, organic feed only."},{id:"BATCH-002",digesterId:"DIG-002",volume:38.7,methaneContent:62.3,status:"processing",createdDate:new Date(Date.now()-864e5).toISOString(),qualityScore:78,farmerName:" ",source:"Vrindavan Organic Farm",notes:"Mixed dung batch in active fermentation phase. Temperature maintained at 37C. Expected completion in 48 hours with good quality prospects. Contains cow and buffalo dung mixture from certified organic farm."},{id:"BATCH-003",digesterId:"DIG-003",volume:52.8,methaneContent:68.2,status:"ready",createdDate:new Date(Date.now()-1728e5).toISOString(),transferDate:new Date().toISOString(),qualityScore:95,farmerName:" ",source:"Yamuna Riverside Gaushala",notes:"Exceptional buffalo dung batch from Shyam Yadav. Highest methane content achieved this quarter. Certified Grade A premium quality. Source: 25 Murrah buffaloes with optimal nutrition and care."},{id:"BATCH-004",digesterId:"DIG-001",volume:41.3,methaneContent:58.9,status:"testing",createdDate:new Date(Date.now()-2592e5).toISOString(),qualityScore:72,farmerName:" ",source:"Govind Dairy Farm",notes:"Standard cow dung batch undergoing final quality assessment. Moderate methane levels detected. Awaiting lab confirmation for Grade B classification. Processing time extended due to lower initial moisture content."},{id:"BATCH-005",digesterId:"DIG-004",volume:29.6,methaneContent:55.4,status:"rejected",createdDate:new Date(Date.now()-3456e5).toISOString(),qualityScore:48,farmerName:" ",source:"Village Cooperative",notes:"Batch from contaminated feedstock. Low methane content due to improper storage conditions. Rejected for commercial use, diverted to compost production. Root cause: contamination from non-organic sources and poor collection hygiene."},{id:"BATCH-006",digesterId:"DIG-002",volume:47.9,methaneContent:63.7,status:"transferred",createdDate:new Date(Date.now()-432e6).toISOString(),transferDate:new Date(Date.now()-864e5).toISOString(),qualityScore:86,farmerName:" ",source:"Krishna Valley Farm",notes:"High-quality mixed dung batch successfully transferred to Mathura distribution center. Excellent fermentation results with consistent gas output. Customer feedback: exceptional performance in commercial biogas units."},{id:"BATCH-007",digesterId:"DIG-003",volume:35.1,methaneContent:71.2,status:"ready",createdDate:new Date(Date.now()-5184e5).toISOString(),qualityScore:97,farmerName:" ",source:"Organic Gaushala Trust",notes:"Premium buffalo dung batch with exceptional methane purity. Sourced from Organic Gaushala cooperative. Meets all export quality standards. Tested for international markets - approved for European biogas facilities."},{id:"BATCH-008",digesterId:"DIG-005",volume:33.4,methaneContent:59.8,status:"processing",createdDate:new Date(Date.now()-6048e5).toISOString(),qualityScore:74,farmerName:" ",source:"Braj Bhumi Gaushala",notes:"Cow dung batch from Gita Devi's farm. Processing delayed due to monsoon humidity. Temperature regulation implemented, expecting improvement. Additional heating systems deployed to counter seasonal moisture challenges."},{id:"BATCH-009",digesterId:"DIG-001",volume:44.7,methaneContent:66.4,status:"testing",createdDate:new Date(Date.now()-6912e5).toISOString(),qualityScore:88,farmerName:" ",source:"Vrindavan Heritage Gaushala",notes:"Large volume cow dung batch from Vrindavan Gaushala. Final quality checks in progress. Preliminary results show excellent commercial viability. Volume sufficient for pilot testing in urban biogas distribution network."},{id:"BATCH-010",digesterId:"DIG-004",volume:39.8,methaneContent:64.1,status:"transferred",createdDate:new Date(Date.now()-7776e5).toISOString(),transferDate:new Date(Date.now()-2592e5).toISOString(),qualityScore:83,farmerName:" ",source:"Radha Krishna Dairy",notes:"Standard quality mixed dung batch successfully delivered to regional distribution network. Good consistency maintained throughout fermentation cycle. Successfully integrated into 5 commercial biogas plants in the region."}],pr=[{id:"CERT-001",batchId:"BATCH-001",issuedDate:new Date().toISOString(),qualityScore:92,certifiedBy:"Dr. Ravi Sharma, Quality Assurance",validUntil:new Date(Date.now()+15552e6).toISOString()},{id:"CERT-002",batchId:"BATCH-003",issuedDate:new Date(Date.now()-864e5).toISOString(),qualityScore:95,certifiedBy:"Dr. Priya Gupta, Chief Quality Officer",validUntil:new Date(Date.now()+154656e5).toISOString()},{id:"CERT-003",batchId:"BATCH-006",issuedDate:new Date(Date.now()-1728e5).toISOString(),qualityScore:86,certifiedBy:"Dr. Anil Kumar, Senior Analyst",validUntil:new Date(Date.now()+153792e5).toISOString()},{id:"CERT-004",batchId:"BATCH-007",issuedDate:new Date(Date.now()-2592e5).toISOString(),qualityScore:97,certifiedBy:"Dr. Sunita Singh, Export Certification",validUntil:new Date(Date.now()+152928e5).toISOString()},{id:"CERT-005",batchId:"BATCH-009",issuedDate:new Date(Date.now()-3456e5).toISOString(),qualityScore:88,certifiedBy:"Dr. Manoj Verma, Quality Assurance",validUntil:new Date(Date.now()+152064e5).toISOString()},{id:"CERT-006",batchId:"BATCH-010",issuedDate:new Date(Date.now()-432e6).toISOString(),qualityScore:83,certifiedBy:"Dr. Deepak Mishra, Regional Quality Head",validUntil:new Date(Date.now()+1512e7).toISOString()}],pd={en:{title:"Batch Management",subtitle:"Manage biogas batches from production to transfer",createBatch:"Create New Batch",editBatch:"Edit Batch",deleteBatch:"Delete Batch",batchList:"Batch List",activeQualities:"Active Quality Tests",certificates:"Quality Certificates",search:"Search batches...",filter:"Filter",batchId:"Batch ID",digesterId:"Digester ID",volume:"Volume (m)",methaneContent:"Methane Content (%)",status:"Status",createdDate:"Created Date",transferDate:"Transfer Date",qualityScore:"Quality Score",notes:"Notes",actions:"Actions",create:"Create",update:"Update",cancel:"Cancel",delete:"Delete",confirm:"Confirm",processing:"Processing",ready:"Ready",transferred:"Transferred",rejected:"Rejected",testing:"Testing",viewDetails:"View Details",downloadCert:"Download Certificate",transferBatch:"Transfer Batch",qualityTest:"Quality Test",batchDetails:"Batch Details",transferHistory:"Transfer History",qualityReports:"Quality Reports",farmerName:"Farmer Name",source:"Source",certifiedBy:"Certified By",validUntil:"Valid Until"},hi:{title:" ",subtitle:"       ",createBatch:"  ",editBatch:"  ",deleteBatch:" ",batchList:" ",activeQualities:"  ",certificates:" ",search:" ...",filter:"",batchId:" ",digesterId:" ",volume:" (m)",methaneContent:"  (%)",status:"",createdDate:" ",transferDate:" ",qualityScore:" ",notes:"",actions:"",create:"",update:" ",cancel:" ",delete:"",confirm:" ",processing:"",ready:"",transferred:"",rejected:"",testing:"",viewDetails:" ",downloadCert:"  ",transferBatch:"  ",qualityTest:" ",batchDetails:" ",transferHistory:" ",qualityReports:" ",farmerName:"  ",source:"",certifiedBy:"  ",validUntil:" "}},bn=t=>{switch(t){case"processing":return"bg-blue-100 text-blue-800";case"ready":return"bg-green-100 text-green-800";case"transferred":return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800";case"testing":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},fd=t=>{switch(t){case"processing":case"IN_PRODUCTION":return e.jsx(Ae,{className:"w-4 h-4"});case"ready":case"READY_FOR_SALE":return e.jsx(be,{className:"w-4 h-4"});case"transferred":case"COMPLETED":return e.jsx(Xt,{className:"w-4 h-4"});case"rejected":return e.jsx(Le,{className:"w-4 h-4"});case"testing":case"QUALITY_TESTED":return e.jsx(rt,{className:"w-4 h-4"});case"SCHEDULED":return e.jsx(Ae,{className:"w-4 h-4"});default:return e.jsx(rt,{className:"w-4 h-4"})}},jd=t=>{switch(t){case"SCHEDULED":return"testing";case"IN_PRODUCTION":return"processing";case"COMPLETED":return"transferred";case"QUALITY_TESTED":return"testing";case"READY_FOR_SALE":return"ready";default:return"processing"}},yd=t=>{if(!t.methaneContentPercent)return 0;const s=t.methaneContentPercent/70*60,a=(t.productionEfficiencyPercent||0)/100*40;return Math.min(100,Math.round(s+a))},Nn=({batch:t,onSubmit:s,onCancel:a,t:r})=>{const[n,l]=d.useState({digesterId:t?.digesterId||"",volume:t?.volume?.toString()||"",methaneContent:t?.methaneContent?.toString()||"",notes:t?.notes||"",farmerName:t?.farmerName||"",source:t?.source||""}),o=c=>{c.preventDefault(),s({...n,volume:parseFloat(n.volume),methaneContent:parseFloat(n.methaneContent)})};return e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"digesterId",children:r("digesterId")}),e.jsxs(Oe,{value:n.digesterId,onValueChange:c=>l(u=>({...u,digesterId:c})),children:[e.jsx(Me,{children:e.jsx(Fe,{placeholder:"Select digester"})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"DIG-001",children:"Digester 001 - Main Unit"}),e.jsx(Q,{value:"DIG-002",children:"Digester 002 - Secondary Unit"}),e.jsx(Q,{value:"DIG-003",children:"Digester 003 - Buffalo Unit"}),e.jsx(Q,{value:"DIG-004",children:"Digester 004 - Mixed Feed"}),e.jsx(Q,{value:"DIG-005",children:"Digester 005 - Experimental"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"farmerName",children:r("farmerName")}),e.jsx(fe,{id:"farmerName",value:n.farmerName,onChange:c=>l(u=>({...u,farmerName:c.target.value})),placeholder:" "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"source",children:r("source")}),e.jsx(fe,{id:"source",value:n.source,onChange:c=>l(u=>({...u,source:c.target.value})),placeholder:"Gokul Gaushala, Mathura"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"volume",children:r("volume")}),e.jsx(fe,{id:"volume",type:"number",step:"0.1",value:n.volume,onChange:c=>l(u=>({...u,volume:c.target.value})),placeholder:"0.0",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"methaneContent",children:r("methaneContent")}),e.jsx(fe,{id:"methaneContent",type:"number",step:"0.1",value:n.methaneContent,onChange:c=>l(u=>({...u,methaneContent:c.target.value})),placeholder:"0.0",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"notes",children:r("notes")}),e.jsx(na,{id:"notes",value:n.notes,onChange:c=>l(u=>({...u,notes:c.target.value})),placeholder:"Detailed batch information including source details, quality parameters, and special notes...",rows:4})]}),e.jsxs(Ps,{children:[e.jsx(q,{type:"button",variant:"outline",onClick:a,children:r("cancel")}),e.jsx(q,{type:"submit",children:r(t?"update":"create")})]})]})},vd=({languageContext:t})=>{const[s,a]=d.useState(""),[r,n]=d.useState("all"),[l,o]=d.useState(!1),[c,u]=d.useState(null),[j,N]=d.useState(null),[x,i]=d.useState([]),[g,f]=d.useState(!0),[w,S]=d.useState(null),D="a1b2c3d4-e5f6-4a5b-8c9d-0e1f2a3b4c5d",b=t?.language||"en",v=C=>t?.t(C)||pd[b][C]||C;d.useEffect(()=>{(async()=>{f(!0);try{const I=await gr.getBatches(D,void 0,0,50);I.success&&I.data?(i(I.data.content),S(null)):S(I.error||"Failed to fetch batches")}catch{S("Network error while fetching batches")}finally{f(!1)}})()},[D]);const T=x.map(C=>({id:C.batchNumber,digesterId:`DIG-${C.id}`,volume:C.biogasProducedCubicMeters||0,methaneContent:C.methaneContentPercent||0,status:jd(C.batchStatus),createdDate:C.productionStartDate,transferDate:C.productionEndDate,qualityScore:yd(C),farmerName:"Farmer",source:`Cluster ${C.clusterId}`,notes:C.notes||""})),y=x.length>0?T:qa,m=y.filter(C=>{const I=C.id.toLowerCase().includes(s.toLowerCase())||C.digesterId.toLowerCase().includes(s.toLowerCase())||C.farmerName?.toLowerCase().includes(s.toLowerCase())||C.source?.toLowerCase().includes(s.toLowerCase()),U=r==="all"||C.status===r;return I&&U}),h=async C=>{try{const I={clusterId:D,sourceContributions:[],totalInputWeightKg:C.volume||0,productionStartDate:new Date().toISOString(),notes:C.notes},U=await gr.createBatch(I);if(U.success){o(!1);const W=await gr.getBatches(D);W.success&&W.data&&i(W.data.content)}else S(U.error||"Failed to create batch")}catch{S("Network error while creating batch")}},k=async C=>{c&&u(null)},p=async()=>{j&&N(null)},M=y.filter(C=>C.status==="processing"||C.status==="testing"||C.status==="IN_PRODUCTION"),A=y.filter(C=>C.status==="ready"||C.status==="READY_FOR_SALE");y.filter(C=>C.status==="transferred"||C.status==="COMPLETED");const F=y.reduce((C,I)=>C+I.volume,0),L=y.filter(C=>C.qualityScore).reduce((C,I)=>C+(I.qualityScore||0),0)/y.filter(C=>C.qualityScore).length||0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:v("title")}),e.jsx("p",{className:"text-muted-foreground",children:v("subtitle")})]}),e.jsxs(Wt,{open:l,onOpenChange:o,children:[e.jsx(yi,{asChild:!0,children:e.jsxs(q,{className:"gap-2",children:[e.jsx(mt,{className:"w-4 h-4"}),v("createBatch")]})}),e.jsxs(Ot,{className:"sm:max-w-[525px]",children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:v("createBatch")}),e.jsx(_t,{children:"Create a new biogas batch from digester output with detailed source information"})]}),e.jsx(Nn,{onSubmit:h,onCancel:()=>o(!1),t:v})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Active Batches"}),e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:M.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently processing"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Ready for Transfer"}),e.jsx(be,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:A.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Quality approved"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Total Volume"}),e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[F.toFixed(1)," m"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All batches combined"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Average Quality"}),e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[L.toFixed(1),"/100"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Quality score average"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Certificates"}),e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:pr.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Available for download"})]})]})]}),e.jsxs(St,{defaultValue:"batches",className:"space-y-6",children:[e.jsxs(Ct,{children:[e.jsx(xe,{value:"batches",children:v("batchList")}),e.jsx(xe,{value:"quality",children:v("activeQualities")}),e.jsx(xe,{value:"certificates",children:v("certificates")})]}),e.jsx(ce,{value:"batches",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx($,{children:v("batchList")}),e.jsx(De,{children:"Manage all biogas batches and their lifecycle with detailed source tracking"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(fe,{placeholder:v("search"),value:s,onChange:C=>a(C.target.value),className:"pl-10 w-64"})]}),e.jsxs(Oe,{value:r,onValueChange:C=>n(C),children:[e.jsx(Me,{className:"w-32",children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"all",children:"All Status"}),e.jsx(Q,{value:"processing",children:"Processing"}),e.jsx(Q,{value:"testing",children:"Testing"}),e.jsx(Q,{value:"ready",children:"Ready"}),e.jsx(Q,{value:"transferred",children:"Transferred"}),e.jsx(Q,{value:"rejected",children:"Rejected"})]})]})]})]})}),e.jsx(E,{children:e.jsxs(qr,{children:[e.jsx(Ur,{children:e.jsxs(Ia,{children:[e.jsx(ct,{children:v("batchId")}),e.jsx(ct,{children:v("farmerName")}),e.jsx(ct,{children:v("source")}),e.jsx(ct,{children:v("volume")}),e.jsx(ct,{children:v("methaneContent")}),e.jsx(ct,{children:v("status")}),e.jsx(ct,{children:v("qualityScore")}),e.jsx(ct,{children:v("createdDate")}),e.jsx(ct,{children:v("actions")})]})}),e.jsx(Hr,{children:m.map(C=>e.jsxs(Ia,{children:[e.jsx(ot,{className:"font-medium",children:C.id}),e.jsx(ot,{children:C.farmerName||"N/A"}),e.jsx(ot,{className:"max-w-32 truncate",title:C.source,children:C.source||"N/A"}),e.jsxs(ot,{children:[C.volume.toFixed(1)," m"]}),e.jsxs(ot,{children:[C.methaneContent.toFixed(1),"%"]}),e.jsx(ot,{children:e.jsx(V,{className:bn(C.status),children:e.jsxs("div",{className:"flex items-center gap-1",children:[fd(C.status),v(C.status)]})})}),e.jsx(ot,{children:C.qualityScore?e.jsxs("span",{className:`font-medium ${C.qualityScore>=90?"text-green-600":C.qualityScore>=70?"text-yellow-600":"text-red-600"}`,children:[C.qualityScore,"/100"]}):e.jsx("span",{className:"text-muted-foreground",children:"Pending"})}),e.jsx(ot,{children:new Date(C.createdDate).toLocaleDateString()}),e.jsx(ot,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{size:"sm",variant:"outline",onClick:()=>u(C),children:e.jsx(We,{className:"w-4 h-4"})}),e.jsx(q,{size:"sm",variant:"outline",onClick:()=>N(C),children:e.jsx(wt,{className:"w-4 h-4"})}),e.jsx(q,{size:"sm",variant:"outline",title:C.notes,children:e.jsx(jt,{className:"w-4 h-4"})})]})})]},C.id))})]})})]})}),e.jsx(ce,{value:"quality",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:v("activeQualities")}),e.jsx(De,{children:"Monitor ongoing quality testing processes with detailed progress tracking"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[qa.filter(C=>C.status==="testing").map(C=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-semibold",children:C.id}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Farmer: ",C.farmerName," | Volume: ",C.volume.toFixed(1)," m"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Source: ",C.source]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(V,{className:bn(C.status),children:v("testing")}),e.jsx(q,{size:"sm",variant:"outline",children:"View Progress"})]})]},C.id)),qa.filter(C=>C.status==="testing").length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(rt,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No active quality tests"})]})]})})]})}),e.jsx(ce,{value:"certificates",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:v("certificates")}),e.jsx(De,{children:"Download and manage quality certificates with detailed certification information"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[pr.map(C=>{const I=qa.find(U=>U.id===C.batchId);return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-semibold",children:C.batchId}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Farmer: ",I?.farmerName," | Score: ",C.qualityScore,"/100"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Certified by: ",C.certifiedBy]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issued: ",new Date(C.issuedDate).toLocaleDateString()," | Valid until: ",C.validUntil?new Date(C.validUntil).toLocaleDateString():"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(V,{className:"bg-green-100 text-green-800",children:"Certified"}),e.jsxs(q,{size:"sm",variant:"outline",children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),"Download"]})]})]},C.id)}),pr.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ge,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No certificates available"})]})]})})]})})]}),e.jsx(Wt,{open:!!c,onOpenChange:()=>u(null),children:e.jsxs(Ot,{className:"sm:max-w-[525px]",children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:v("editBatch")}),e.jsx(_t,{children:"Update batch information and status with detailed source tracking"})]}),c&&e.jsx(Nn,{batch:c,onSubmit:k,onCancel:()=>u(null),t:v})]})}),e.jsx(Wt,{open:!!j,onOpenChange:()=>N(null),children:e.jsxs(Ot,{children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:v("deleteBatch")}),e.jsxs(_t,{children:["Are you sure you want to delete batch ",j?.id,"? This action cannot be undone."]})]}),e.jsxs(Ps,{children:[e.jsx(q,{variant:"outline",onClick:()=>N(null),children:v("cancel")}),e.jsx(q,{variant:"destructive",onClick:p,children:v("delete")})]})]})})]})},bd=[{id:"DISP-001",type:"WEIGHT_MISMATCH",status:"OPEN",farmerClaim:{weight:45.2,quality:"A",timestamp:new Date(Date.now()-36e5).toISOString(),photoproof:"photo_001.jpg"},iotReading:{weight:42.8,quality:"A",deviceId:"SCALE-001",confidence:.95,timestamp:new Date(Date.now()-36e5).toISOString()},createdAt:new Date(Date.now()-36e5).toISOString()},{id:"DISP-002",type:"QUALITY_ISSUE",status:"INVESTIGATING",farmerClaim:{weight:38.5,quality:"A",timestamp:new Date(Date.now()-72e5).toISOString()},iotReading:{weight:38.7,quality:"B",deviceId:"SENSOR-002",confidence:.88,timestamp:new Date(Date.now()-72e5).toISOString()},createdAt:new Date(Date.now()-72e5).toISOString()},{id:"DISP-003",type:"PAYMENT_DELAY",status:"RESOLVED",farmerClaim:{weight:52,quality:"A",timestamp:new Date(Date.now()-864e5).toISOString()},iotReading:{weight:51.8,quality:"A",deviceId:"SCALE-003",confidence:.97,timestamp:new Date(Date.now()-864e5).toISOString()},createdAt:new Date(Date.now()-864e5).toISOString(),resolution:"Payment processed after verification. Minor weight difference within acceptable tolerance.",resolvedAt:new Date(Date.now()-432e5).toISOString()}],Nd=async(t,s)=>new Promise(a=>setTimeout(a,1e3)),wd=async(t,s)=>new Promise(a=>setTimeout(a,1e3)),Sd=()=>{const[t,s]=d.useState(null),[a,r]=d.useState("ALL"),n=bd.filter(u=>a==="ALL"||u.status===a),l=async(u,j,N)=>{try{await Nd(u,{resolution:j,favorFarmer:N,resolvedBy:"CLUSTER_MANAGER",timestamp:new Date().toISOString()}),s(null)}catch{}},o=u=>({WEIGHT_MISMATCH:"Weight Mismatch",QUALITY_ISSUE:"Quality Issue",PAYMENT_DELAY:"Payment Delay",COLLECTION_MISSED:"Collection Missed"})[u]||u,c=u=>({OPEN:"destructive",INVESTIGATING:"secondary",RESOLVED:"default",ESCALATED:"outline"})[u]||"outline";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dispute Resolution"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Resolve farmer disputes with side-by-side evidence comparison"})]}),e.jsx("div",{className:"flex space-x-2",children:["ALL","OPEN","INVESTIGATING","RESOLVED"].map(u=>e.jsx(q,{variant:a===u?"default":"outline",size:"sm",onClick:()=>r(u),children:u},u))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center space-x-2",children:[e.jsx(we,{className:"h-5 w-5"}),e.jsxs("span",{children:["Active Disputes (",n.length,")"]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[n.map(u=>e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${t?.id===u.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>s(u),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:o(u.type)}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Dispute #",u.id]})]}),e.jsx(V,{variant:c(u.status),children:u.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-700",children:"Farmer Claim:"}),e.jsxs("p",{children:["Weight: ",u.farmerClaim.weight," kg"]}),e.jsxs("p",{children:["Quality: Grade ",u.farmerClaim.quality]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-700",children:"IoT Reading:"}),e.jsxs("p",{children:["Weight: ",u.iotReading.weight," kg"]}),e.jsxs("p",{children:["Quality: Grade ",u.iotReading.quality]}),e.jsxs("p",{children:["Confidence: ",(u.iotReading.confidence*100).toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[e.jsx(Ae,{className:"h-3 w-3"}),e.jsxs("span",{children:["Created: ",new Date(u.createdAt).toLocaleDateString()]})]}),e.jsx(q,{variant:"ghost",size:"sm",children:e.jsx(jt,{className:"h-4 w-4"})})]})]},u.id)),n.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(we,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No disputes found for selected filter"})]})]})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Dispute Resolution"})}),e.jsx(E,{children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[e.jsxs("h3",{className:"font-semibold text-green-800 mb-3 flex items-center space-x-2",children:[e.jsx(es,{className:"h-4 w-4"}),e.jsx("span",{children:"Farmer Evidence"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weight:"}),e.jsxs("span",{className:"font-medium",children:[t.farmerClaim.weight," kg"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quality:"}),e.jsxs("span",{className:"font-medium",children:["Grade ",t.farmerClaim.quality]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Time:"}),e.jsx("span",{className:"font-medium",children:new Date(t.farmerClaim.timestamp).toLocaleTimeString()})]}),t.farmerClaim.photoproof&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Photo Proof:"}),e.jsx("div",{className:"w-full h-24 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(Za,{className:"h-8 w-8 text-gray-400"})})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[e.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center space-x-2",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsx("span",{children:"IoT Evidence"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weight:"}),e.jsxs("span",{className:"font-medium",children:[t.iotReading.weight," kg"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quality:"}),e.jsxs("span",{className:"font-medium",children:["Grade ",t.iotReading.quality]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Device:"}),e.jsx("span",{className:"font-medium",children:t.iotReading.deviceId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Confidence:"}),e.jsxs("span",{className:"font-medium",children:[(t.iotReading.confidence*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Time:"}),e.jsx("span",{className:"font-medium",children:new Date(t.iotReading.timestamp).toLocaleTimeString()})]})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-3",children:"Variance Analysis"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weight Difference:"}),e.jsxs("span",{className:"font-medium",children:[Math.abs(t.farmerClaim.weight-t.iotReading.weight).toFixed(1)," kg"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quality Match:"}),e.jsx("span",{className:"font-medium",children:t.farmerClaim.quality===t.iotReading.quality?" Match":" Mismatch"})]})]})]}),t.status==="OPEN"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold",children:"Resolution Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(q,{className:"flex items-center space-x-2",onClick:()=>l(t.id,"Resolved in favor of farmer based on evidence review",!0),children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{children:"Favor Farmer"})]}),e.jsxs(q,{variant:"outline",className:"flex items-center space-x-2",onClick:()=>l(t.id,"Resolved in favor of IoT reading based on device confidence",!1),children:[e.jsx(ni,{className:"h-4 w-4"}),e.jsx("span",{children:"Favor IoT"})]})]}),e.jsx(q,{variant:"destructive",className:"w-full",onClick:()=>wd(t.id),children:"Escalate to Higher Authority"})]}),t.resolution&&e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Resolution"}),e.jsx("p",{className:"text-sm text-gray-700",children:t.resolution}),t.resolvedAt&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Resolved on: ",new Date(t.resolvedAt).toLocaleString()]})]})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(we,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a dispute to view details and resolution options"})]})})]})]})]})},ma=[{id:"PAY-001",farmerId:"FARM-001",amount:412.25,type:"CASH",status:"COMPLETED",createdAt:new Date().toISOString(),transactionId:"TXN-001",auditHash:"sha256:a1b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef123456",batchIds:["BATCH-001"]},{id:"PAY-002",farmerId:"FARM-002",amount:325.8,type:"UPI",status:"PENDING",createdAt:new Date(Date.now()-864e5).toISOString(),auditHash:"sha256:b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef1234567",batchIds:["BATCH-002"]}],Cd=[{id:"FARM-001",name:" "},{id:"FARM-002",name:" "}],Dd=()=>{const[t,s]=d.useState(null),a=l=>({PENDING:"secondary",PROCESSING:"outline",COMPLETED:"default",FAILED:"destructive"})[l]||"outline",r=l=>{switch(l){case"CASH":return"";case"UPI":return"";case"BANK_TRANSFER":return"";case"CHEQUE":return"";default:return""}},n=l=>Cd.find(c=>c.id===l)?.name||`Farmer ${l}`;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"-mt-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Reconciliation"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track and reconcile farmer payments with immutable audit log"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(nr,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Payments"}),e.jsx("p",{className:"text-xl font-bold",children:ma.length})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-xl font-bold",children:ma.filter(l=>l.status==="COMPLETED").length})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-xl font-bold",children:ma.filter(l=>l.status==="PENDING").length})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"text-xl font-bold",children:["",ma.reduce((l,o)=>l+o.amount,0).toLocaleString()]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Payment Records"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:ma.map(l=>e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${t?.id===l.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>s(l),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:n(l.farmerId)}),e.jsxs("p",{className:"text-sm text-gray-600",children:["",l.amount.toLocaleString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(V,{variant:a(l.status),children:l.status}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r(l.type)," ",l.type]})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{children:["#",l.id]}),e.jsx("span",{children:new Date(l.createdAt).toLocaleDateString()})]}),l.transactionId&&e.jsxs("div",{className:"mt-2 text-xs font-mono bg-gray-100 p-1 rounded",children:["TXN: ",l.transactionId]})]},l.id))})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Payment Details & Audit Trail"})}),e.jsx(E,{children:t?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Payment Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Payment ID:"}),e.jsx("p",{className:"font-medium",children:t.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsxs("p",{className:"font-medium",children:["",t.amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Farmer:"}),e.jsx("p",{className:"font-medium",children:n(t.farmerId)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Type:"}),e.jsxs("p",{className:"font-medium",children:[r(t.type)," ",t.type]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx(V,{variant:a(t.status),children:t.status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Created:"}),e.jsx("p",{className:"font-medium",children:new Date(t.createdAt).toLocaleString()})]})]}),t.transactionId&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),e.jsx("p",{className:"font-mono text-sm bg-white p-2 rounded border",children:t.transactionId})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center space-x-2",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:"Audit Hash (Immutable)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ml,{className:"h-4 w-4 text-gray-500"}),e.jsx("p",{className:"font-mono text-xs bg-white p-2 rounded border flex-1",children:t.auditHash})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"This cryptographic hash ensures payment record integrity and prevents tampering."})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Related Batches"}),e.jsx("div",{className:"space-y-2",children:t.batchIds.map(l=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{children:["Batch ",l]}),e.jsx(V,{variant:"outline",children:"Linked"})]},l))})]}),t.status==="PENDING"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"w-full",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Mark as Completed"]}),e.jsx(q,{variant:"outline",className:"w-full",children:"Process Payment"})]}),t.status==="FAILED"&&e.jsx(q,{variant:"outline",className:"w-full",children:"Retry Payment"})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Bt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a payment to view details and audit trail"})]})})]})]})]})};function kd(t,s,a="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:a}).format(s).split(/\s/g).slice(2).join(" ")}const Id={},ga={};function Bs(t,s){try{const r=(Id[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(s).split("GMT")[1];return r in ga?ga[r]:wn(r,r.split(":"))}catch{if(t in ga)return ga[t];const a=t?.match(Td);return a?wn(t,a.slice(1)):NaN}}const Td=/([+-]\d\d):?(\d\d)?/;function wn(t,s){const a=+(s[0]||0),r=+(s[1]||0),n=+(s[2]||0)/60;return ga[t]=a*60+r>0?a*60+r+n:a*60-r-n}class ms extends Date{constructor(...s){super(),s.length>1&&typeof s[s.length-1]=="string"&&(this.timeZone=s.pop()),this.internal=new Date,isNaN(Bs(this.timeZone,this))?this.setTime(NaN):s.length?typeof s[0]=="number"&&(s.length===1||s.length===2&&typeof s[1]!="number")?this.setTime(s[0]):typeof s[0]=="string"?this.setTime(+new Date(s[0])):s[0]instanceof Date?this.setTime(+s[0]):(this.setTime(+new Date(...s)),Ai(this),Ir(this)):this.setTime(Date.now())}static tz(s,...a){return a.length?new ms(...a,s):new ms(Date.now(),s)}withTimeZone(s){return new ms(+this,s)}getTimezoneOffset(){const s=-Bs(this.timeZone,this);return s>0?Math.floor(s):Math.ceil(s)}setTime(s){return Date.prototype.setTime.apply(this,arguments),Ir(this),+this}[Symbol.for("constructDateFrom")](s){return new ms(+new Date(s),this.timeZone)}}const Sn=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Sn.test(t))return;const s=t.replace(Sn,"$1UTC");ms.prototype[s]&&(t.startsWith("get")?ms.prototype[t]=function(){return this.internal[s]()}:(ms.prototype[t]=function(){return Date.prototype[s].apply(this.internal,arguments),Ad(this),+this},ms.prototype[s]=function(){return Date.prototype[s].apply(this,arguments),Ir(this),+this}))});function Ir(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-Bs(t.timeZone,t)*60))}function Ad(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Ai(t)}function Ai(t){const s=Bs(t.timeZone,t),a=s>0?Math.floor(s):Math.ceil(s),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const n=-new Date(+t).getTimezoneOffset(),l=-new Date(+r).getTimezoneOffset(),o=n-l,c=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();o&&c&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+o);const u=n-a;u&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+u);const j=new Date(+t);j.setUTCSeconds(0);const N=n>0?j.getSeconds():(j.getSeconds()-60)%60,x=Math.round(-(Bs(t.timeZone,t)*60))%60;(x||N)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+x),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+x+N));const i=Bs(t.timeZone,t),g=i>0?Math.floor(i):Math.ceil(i),w=-new Date(+t).getTimezoneOffset()-g,S=g!==a,D=w-u;if(S&&D){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+D);const b=Bs(t.timeZone,t),v=b>0?Math.floor(b):Math.ceil(b),T=g-v;T&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+T),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+T))}}class pt extends ms{static tz(s,...a){return a.length?new pt(...a,s):new pt(Date.now(),s)}toISOString(){const[s,a,r]=this.tzComponents(),n=`${s}${a}:${r}`;return this.internal.toISOString().slice(0,-1)+n}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[s,a,r,n]=this.internal.toUTCString().split(" ");return`${s?.slice(0,-1)} ${r} ${a} ${n}`}toTimeString(){const s=this.internal.toUTCString().split(" ")[4],[a,r,n]=this.tzComponents();return`${s} GMT${a}${r}${n} (${kd(this.timeZone,this)})`}toLocaleString(s,a){return Date.prototype.toLocaleString.call(this,s,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleDateString(s,a){return Date.prototype.toLocaleDateString.call(this,s,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleTimeString(s,a){return Date.prototype.toLocaleTimeString.call(this,s,{...a,timeZone:a?.timeZone||this.timeZone})}tzComponents(){const s=this.getTimezoneOffset(),a=s>0?"-":"+",r=String(Math.floor(Math.abs(s)/60)).padStart(2,"0"),n=String(Math.abs(s)%60).padStart(2,"0");return[a,r,n]}withTimeZone(s){return new pt(+this,s)}[Symbol.for("constructDateFrom")](s){return new pt(+new Date(s),this.timeZone)}}const Pi=6048e5,Pd=864e5,Cn=Symbol.for("constructDateFrom");function it(t,s){return typeof t=="function"?t(s):t&&typeof t=="object"&&Cn in t?t[Cn](s):t instanceof Date?new t.constructor(s):new Date(s)}function _e(t,s){return it(s||t,t)}function Ei(t,s,a){const r=_e(t,a?.in);return isNaN(s)?it(t,NaN):(s&&r.setDate(r.getDate()+s),r)}function Mi(t,s,a){const r=_e(t,a?.in);if(isNaN(s))return it(t,NaN);if(!s)return r;const n=r.getDate(),l=it(t,r.getTime());l.setMonth(r.getMonth()+s+1,0);const o=l.getDate();return n>=o?l:(r.setFullYear(l.getFullYear(),l.getMonth(),n),r)}let Ed={};function Ra(){return Ed}function Xs(t,s){const a=Ra(),r=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=_e(t,s?.in),l=n.getDay(),o=(l<r?7:0)+l-r;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function Ta(t,s){return Xs(t,{...s,weekStartsOn:1})}function Ri(t,s){const a=_e(t,s?.in),r=a.getFullYear(),n=it(a,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const l=Ta(n),o=it(a,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const c=Ta(o);return a.getTime()>=l.getTime()?r+1:a.getTime()>=c.getTime()?r:r-1}function Dn(t){const s=_e(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function ia(t,...s){const a=it.bind(null,s.find(r=>typeof r=="object"));return s.map(a)}function Aa(t,s){const a=_e(t,s?.in);return a.setHours(0,0,0,0),a}function Oi(t,s,a){const[r,n]=ia(a?.in,t,s),l=Aa(r),o=Aa(n),c=+l-Dn(l),u=+o-Dn(o);return Math.round((c-u)/Pd)}function Md(t,s){const a=Ri(t,s),r=it(t,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),Ta(r)}function Rd(t,s,a){return Ei(t,s*7,a)}function Od(t,s,a){return Mi(t,s*12,a)}function Fd(t,s){let a,r=s?.in;return t.forEach(n=>{!r&&typeof n=="object"&&(r=it.bind(null,n));const l=_e(n,r);(!a||a<l||isNaN(+l))&&(a=l)}),it(r,a||NaN)}function Ld(t,s){let a,r=s?.in;return t.forEach(n=>{!r&&typeof n=="object"&&(r=it.bind(null,n));const l=_e(n,r);(!a||a>l||isNaN(+l))&&(a=l)}),it(r,a||NaN)}function _d(t,s,a){const[r,n]=ia(a?.in,t,s);return+Aa(r)==+Aa(n)}function Fi(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $d(t){return!(!Fi(t)&&typeof t!="number"||isNaN(+_e(t)))}function Bd(t,s,a){const[r,n]=ia(a?.in,t,s),l=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return l*12+o}function qd(t,s){const a=_e(t,s?.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}function Ud(t,s){const[a,r]=ia(t,s.start,s.end);return{start:a,end:r}}function Hd(t,s){const{start:a,end:r}=Ud(s?.in,t);let n=+a>+r;const l=n?+a:+r,o=n?r:a;o.setHours(0,0,0,0),o.setDate(1);let c=1;const u=[];for(;+o<=l;)u.push(it(a,o)),o.setMonth(o.getMonth()+c);return n?u.reverse():u}function Gd(t,s){const a=_e(t,s?.in);return a.setDate(1),a.setHours(0,0,0,0),a}function Vd(t,s){const a=_e(t,s?.in),r=a.getFullYear();return a.setFullYear(r+1,0,0),a.setHours(23,59,59,999),a}function Li(t,s){const a=_e(t,s?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function _i(t,s){const a=Ra(),r=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=_e(t,s?.in),l=n.getDay(),o=(l<r?-7:0)+6-(l-r);return n.setDate(n.getDate()+o),n.setHours(23,59,59,999),n}function Wd(t,s){return _i(t,{...s,weekStartsOn:1})}const zd={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yd=(t,s,a)=>{let r;const n=zd[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",s.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function fr(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const Qd={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kd={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zd={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jd={date:fr({formats:Qd,defaultWidth:"full"}),time:fr({formats:Kd,defaultWidth:"full"}),dateTime:fr({formats:Zd,defaultWidth:"full"})},Xd={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},em=(t,s,a,r)=>Xd[t];function ua(t){return(s,a)=>{const r=a?.context?String(a.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=a?.width?String(a.width):o;n=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=a?.width?String(a.width):t.defaultWidth;n=t.values[c]||t.values[o]}const l=t.argumentCallback?t.argumentCallback(s):s;return n[l]}}const tm={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sm={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},am={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rm={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},im={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lm=(t,s)=>{const a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},cm={ordinalNumber:lm,era:ua({values:tm,defaultWidth:"wide"}),quarter:ua({values:sm,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ua({values:am,defaultWidth:"wide"}),day:ua({values:rm,defaultWidth:"wide"}),dayPeriod:ua({values:nm,defaultWidth:"wide",formattingValues:im,defaultFormattingWidth:"wide"})};function xa(t){return(s,a={})=>{const r=a.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],l=s.match(n);if(!l)return null;const o=l[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?dm(c,x=>x.test(o)):om(c,x=>x.test(o));let j;j=t.valueCallback?t.valueCallback(u):u,j=a.valueCallback?a.valueCallback(j):j;const N=s.slice(o.length);return{value:j,rest:N}}}function om(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function dm(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function mm(t){return(s,a={})=>{const r=s.match(t.matchPattern);if(!r)return null;const n=r[0],l=s.match(t.parsePattern);if(!l)return null;let o=t.valueCallback?t.valueCallback(l[0]):l[0];o=a.valueCallback?a.valueCallback(o):o;const c=s.slice(n.length);return{value:o,rest:c}}}const um=/^(\d+)(th|st|nd|rd)?/i,xm=/\d+/i,hm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gm={any:[/^b/i,/^(a|c)/i]},pm={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fm={any:[/1/i,/2/i,/3/i,/4/i]},jm={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ym={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vm={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bm={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wm={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sm={ordinalNumber:mm({matchPattern:um,parsePattern:xm,valueCallback:t=>parseInt(t,10)}),era:xa({matchPatterns:hm,defaultMatchWidth:"wide",parsePatterns:gm,defaultParseWidth:"any"}),quarter:xa({matchPatterns:pm,defaultMatchWidth:"wide",parsePatterns:fm,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xa({matchPatterns:jm,defaultMatchWidth:"wide",parsePatterns:ym,defaultParseWidth:"any"}),day:xa({matchPatterns:vm,defaultMatchWidth:"wide",parsePatterns:bm,defaultParseWidth:"any"}),dayPeriod:xa({matchPatterns:Nm,defaultMatchWidth:"any",parsePatterns:wm,defaultParseWidth:"any"})},Gr={code:"en-US",formatDistance:Yd,formatLong:Jd,formatRelative:em,localize:cm,match:Sm,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Cm(t,s){const a=_e(t,s?.in);return Oi(a,Li(a))+1}function $i(t,s){const a=_e(t,s?.in),r=+Ta(a)-+Md(a);return Math.round(r/Pi)+1}function Bi(t,s){const a=_e(t,s?.in),r=a.getFullYear(),n=Ra(),l=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=it(s?.in||t,0);o.setFullYear(r+1,0,l),o.setHours(0,0,0,0);const c=Xs(o,s),u=it(s?.in||t,0);u.setFullYear(r,0,l),u.setHours(0,0,0,0);const j=Xs(u,s);return+a>=+c?r+1:+a>=+j?r:r-1}function Dm(t,s){const a=Ra(),r=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,n=Bi(t,s),l=it(s?.in||t,0);return l.setFullYear(n,0,r),l.setHours(0,0,0,0),Xs(l,s)}function qi(t,s){const a=_e(t,s?.in),r=+Xs(a,s)-+Dm(a,s);return Math.round(r/Pi)+1}function Ee(t,s){const a=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return a+r}const Cs={y(t,s){const a=t.getFullYear(),r=a>0?a:1-a;return Ee(s==="yy"?r%100:r,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):Ee(a+1,2)},d(t,s){return Ee(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,s){return Ee(t.getHours()%12||12,s.length)},H(t,s){return Ee(t.getHours(),s.length)},m(t,s){return Ee(t.getMinutes(),s.length)},s(t,s){return Ee(t.getSeconds(),s.length)},S(t,s){const a=s.length,r=t.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return Ee(n,s.length)}},Vs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kn={G:function(t,s,a){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const r=t.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return Cs.y(t,s)},Y:function(t,s,a,r){const n=Bi(t,r),l=n>0?n:1-n;if(s==="YY"){const o=l%100;return Ee(o,2)}return s==="Yo"?a.ordinalNumber(l,{unit:"year"}):Ee(l,s.length)},R:function(t,s){const a=Ri(t);return Ee(a,s.length)},u:function(t,s){const a=t.getFullYear();return Ee(a,s.length)},Q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return Ee(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return Ee(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,a){const r=t.getMonth();switch(s){case"M":case"MM":return Cs.M(t,s);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,a){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return Ee(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,a,r){const n=qi(t,r);return s==="wo"?a.ordinalNumber(n,{unit:"week"}):Ee(n,s.length)},I:function(t,s,a){const r=$i(t);return s==="Io"?a.ordinalNumber(r,{unit:"week"}):Ee(r,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):Cs.d(t,s)},D:function(t,s,a){const r=Cm(t);return s==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):Ee(r,s.length)},E:function(t,s,a){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,a,r){const n=t.getDay(),l=(n-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(l);case"ee":return Ee(l,2);case"eo":return a.ordinalNumber(l,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,a,r){const n=t.getDay(),l=(n-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(l);case"cc":return Ee(l,s.length);case"co":return a.ordinalNumber(l,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,a){const r=t.getDay(),n=r===0?7:r;switch(s){case"i":return String(n);case"ii":return Ee(n,s.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,a){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,a){const r=t.getHours();let n;switch(r===12?n=Vs.noon:r===0?n=Vs.midnight:n=r/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,a){const r=t.getHours();let n;switch(r>=17?n=Vs.evening:r>=12?n=Vs.afternoon:r>=4?n=Vs.morning:n=Vs.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return Cs.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):Cs.H(t,s)},K:function(t,s,a){const r=t.getHours()%12;return s==="Ko"?a.ordinalNumber(r,{unit:"hour"}):Ee(r,s.length)},k:function(t,s,a){let r=t.getHours();return r===0&&(r=24),s==="ko"?a.ordinalNumber(r,{unit:"hour"}):Ee(r,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):Cs.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):Cs.s(t,s)},S:function(t,s){return Cs.S(t,s)},X:function(t,s,a){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return Tn(r);case"XXXX":case"XX":return _s(r);case"XXXXX":case"XXX":default:return _s(r,":")}},x:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"x":return Tn(r);case"xxxx":case"xx":return _s(r);case"xxxxx":case"xxx":default:return _s(r,":")}},O:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+In(r,":");case"OOOO":default:return"GMT"+_s(r,":")}},z:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+In(r,":");case"zzzz":default:return"GMT"+_s(r,":")}},t:function(t,s,a){const r=Math.trunc(+t/1e3);return Ee(r,s.length)},T:function(t,s,a){return Ee(+t,s.length)}};function In(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Math.trunc(r/60),l=r%60;return l===0?a+String(n):a+String(n)+s+Ee(l,2)}function Tn(t,s){return t%60===0?(t>0?"-":"+")+Ee(Math.abs(t)/60,2):_s(t,s)}function _s(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Ee(Math.trunc(r/60),2),l=Ee(r%60,2);return a+n+s+l}const An=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},Ui=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},km=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return An(t,s);let l;switch(r){case"P":l=s.dateTime({width:"short"});break;case"PP":l=s.dateTime({width:"medium"});break;case"PPP":l=s.dateTime({width:"long"});break;case"PPPP":default:l=s.dateTime({width:"full"});break}return l.replace("{{date}}",An(r,s)).replace("{{time}}",Ui(n,s))},Im={p:Ui,P:km},Tm=/^D+$/,Am=/^Y+$/,Pm=["D","DD","YY","YYYY"];function Em(t){return Tm.test(t)}function Mm(t){return Am.test(t)}function Rm(t,s,a){const r=Om(t,s,a);if(Pm.includes(t))throw new RangeError(r)}function Om(t,s,a){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fm=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lm=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_m=/^'([^]*?)'?$/,$m=/''/g,Bm=/[a-zA-Z]/;function qm(t,s,a){const r=Ra(),n=a?.locale??r.locale??Gr,l=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=_e(t,a?.in);if(!$d(c))throw new RangeError("Invalid time value");let u=s.match(Lm).map(N=>{const x=N[0];if(x==="p"||x==="P"){const i=Im[x];return i(N,n.formatLong)}return N}).join("").match(Fm).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const x=N[0];if(x==="'")return{isToken:!1,value:Um(N)};if(kn[x])return{isToken:!0,value:N};if(x.match(Bm))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:N}});n.localize.preprocessor&&(u=n.localize.preprocessor(c,u));const j={firstWeekContainsDate:l,weekStartsOn:o,locale:n};return u.map(N=>{if(!N.isToken)return N.value;const x=N.value;(!a?.useAdditionalWeekYearTokens&&Mm(x)||!a?.useAdditionalDayOfYearTokens&&Em(x))&&Rm(x,s,String(t));const i=kn[x[0]];return i(c,x,n.localize,j)}).join("")}function Um(t){const s=t.match(_m);return s?s[1].replace($m,"'"):t}function Hm(t,s){const a=_e(t,s?.in),r=a.getFullYear(),n=a.getMonth(),l=it(a,0);return l.setFullYear(r,n+1,0),l.setHours(0,0,0,0),l.getDate()}function Gm(t,s){return _e(t,s?.in).getMonth()}function Vm(t,s){return _e(t,s?.in).getFullYear()}function Wm(t,s){return+_e(t)>+_e(s)}function zm(t,s){return+_e(t)<+_e(s)}function Ym(t,s,a){const[r,n]=ia(a?.in,t,s);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Qm(t,s,a){const[r,n]=ia(a?.in,t,s);return r.getFullYear()===n.getFullYear()}function Km(t,s,a){const r=_e(t,a?.in),n=r.getFullYear(),l=r.getDate(),o=it(t,0);o.setFullYear(n,s,15),o.setHours(0,0,0,0);const c=Hm(o);return r.setMonth(s,Math.min(l,c)),r}function Zm(t,s,a){const r=_e(t,a?.in);return isNaN(+r)?it(t,NaN):(r.setFullYear(s),r)}const Pn=5,Jm=4;function Xm(t,s){const a=s.startOfMonth(t),r=a.getDay()>0?a.getDay():7,n=s.addDays(t,-r+1),l=s.addDays(n,Pn*7-1);return s.getMonth(t)===s.getMonth(l)?Pn:Jm}function Hi(t,s){const a=s.startOfMonth(t),r=a.getDay();return r===1?a:r===0?s.addDays(a,-1*6):s.addDays(a,-1*(r-1))}function eu(t,s){const a=Hi(t,s),r=Xm(t,s);return s.addDays(a,r*7-1)}class qt{constructor(s,a){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?pt.tz(this.options.timeZone):new this.Date,this.newDate=(r,n,l)=>this.overrides?.newDate?this.overrides.newDate(r,n,l):this.options.timeZone?new pt(r,n,l,this.options.timeZone):new Date(r,n,l),this.addDays=(r,n)=>this.overrides?.addDays?this.overrides.addDays(r,n):Ei(r,n),this.addMonths=(r,n)=>this.overrides?.addMonths?this.overrides.addMonths(r,n):Mi(r,n),this.addWeeks=(r,n)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,n):Rd(r,n),this.addYears=(r,n)=>this.overrides?.addYears?this.overrides.addYears(r,n):Od(r,n),this.differenceInCalendarDays=(r,n)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,n):Oi(r,n),this.differenceInCalendarMonths=(r,n)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,n):Bd(r,n),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):Hd(r),this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):eu(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):Wd(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):qd(r),this.endOfWeek=(r,n)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,n):_i(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):Vd(r),this.format=(r,n,l)=>{const o=this.overrides?.format?this.overrides.format(r,n,this.options):qm(r,n,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):$i(r),this.getMonth=(r,n)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):Gm(r,this.options),this.getYear=(r,n)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):Vm(r,this.options),this.getWeek=(r,n)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):qi(r,this.options),this.isAfter=(r,n)=>this.overrides?.isAfter?this.overrides.isAfter(r,n):Wm(r,n),this.isBefore=(r,n)=>this.overrides?.isBefore?this.overrides.isBefore(r,n):zm(r,n),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):Fi(r),this.isSameDay=(r,n)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,n):_d(r,n),this.isSameMonth=(r,n)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,n):Ym(r,n),this.isSameYear=(r,n)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,n):Qm(r,n),this.max=r=>this.overrides?.max?this.overrides.max(r):Fd(r),this.min=r=>this.overrides?.min?this.overrides.min(r):Ld(r),this.setMonth=(r,n)=>this.overrides?.setMonth?this.overrides.setMonth(r,n):Km(r,n),this.setYear=(r,n)=>this.overrides?.setYear?this.overrides.setYear(r,n):Zm(r,n),this.startOfBroadcastWeek=(r,n)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):Hi(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):Aa(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):Ta(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):Gd(r),this.startOfWeek=(r,n)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):Xs(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):Li(r),this.options={locale:Gr,...s},this.overrides=a}getDigitMap(){const{numerals:s="latn"}=this.options,a=new Intl.NumberFormat("en-US",{numberingSystem:s}),r={};for(let n=0;n<10;n++)r[n.toString()]=a.format(n);return r}replaceDigits(s){const a=this.getDigitMap();return s.replace(/\d/g,r=>a[r]||r)}formatNumber(s){return this.replaceDigits(s.toString())}getMonthYearOrder(){const s=this.options.locale?.code;return s&&qt.yearFirstLocales.has(s)?"year-first":"month-first"}formatMonthYear(s){const{locale:a,timeZone:r,numerals:n}=this.options,l=a?.code;if(l&&qt.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:r,numberingSystem:n}).format(s)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(s,o)}}qt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const gs=new qt;class Gi{constructor(s,a,r=gs){this.date=s,this.displayMonth=a,this.outside=!!(a&&!r.isSameMonth(s,a)),this.dateLib=r}isEqualTo(s){return this.dateLib.isSameDay(s.date,this.date)&&this.dateLib.isSameMonth(s.displayMonth,this.displayMonth)}}class tu{constructor(s,a){this.date=s,this.weeks=a}}class su{constructor(s,a){this.days=a,this.weekNumber=s}}function au(t){return B.createElement("button",{...t})}function ru(t){return B.createElement("span",{...t})}function nu(t){const{size:s=24,orientation:a="left",className:r}=t;return B.createElement("svg",{className:r,width:s,height:s,viewBox:"0 0 24 24"},a==="up"&&B.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),a==="down"&&B.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),a==="left"&&B.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),a==="right"&&B.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function iu(t){const{day:s,modifiers:a,...r}=t;return B.createElement("td",{...r})}function lu(t){const{day:s,modifiers:a,...r}=t,n=B.useRef(null);return B.useEffect(()=>{a.focused&&n.current?.focus()},[a.focused]),B.createElement("button",{ref:n,...r})}var ue;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ue||(ue={}));var Ve;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Ve||(Ve={}));var Jt;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Jt||(Jt={}));var Mt;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Mt||(Mt={}));function cu(t){const{options:s,className:a,components:r,classNames:n,...l}=t,o=[n[ue.Dropdown],a].join(" "),c=s?.find(({value:u})=>u===l.value);return B.createElement("span",{"data-disabled":l.disabled,className:n[ue.DropdownRoot]},B.createElement(r.Select,{className:o,...l},s?.map(({value:u,label:j,disabled:N})=>B.createElement(r.Option,{key:u,value:u,disabled:N},j))),B.createElement("span",{className:n[ue.CaptionLabel],"aria-hidden":!0},c?.label,B.createElement(r.Chevron,{orientation:"down",size:18,className:n[ue.Chevron]})))}function ou(t){return B.createElement("div",{...t})}function du(t){return B.createElement("div",{...t})}function mu(t){const{calendarMonth:s,displayIndex:a,...r}=t;return B.createElement("div",{...r},t.children)}function uu(t){const{calendarMonth:s,displayIndex:a,...r}=t;return B.createElement("div",{...r})}function xu(t){return B.createElement("table",{...t})}function hu(t){return B.createElement("div",{...t})}const Vi=d.createContext(void 0);function Oa(){const t=d.useContext(Vi);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function gu(t){const{components:s}=Oa();return B.createElement(s.Dropdown,{...t})}function pu(t){const{onPreviousClick:s,onNextClick:a,previousMonth:r,nextMonth:n,...l}=t,{components:o,classNames:c,labels:{labelPrevious:u,labelNext:j}}=Oa(),N=d.useCallback(i=>{n&&a?.(i)},[n,a]),x=d.useCallback(i=>{r&&s?.(i)},[r,s]);return B.createElement("nav",{...l},B.createElement(o.PreviousMonthButton,{type:"button",className:c[ue.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":u(r),onClick:x},B.createElement(o.Chevron,{disabled:r?void 0:!0,className:c[ue.Chevron],orientation:"left"})),B.createElement(o.NextMonthButton,{type:"button",className:c[ue.NextMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":j(n),onClick:N},B.createElement(o.Chevron,{disabled:n?void 0:!0,orientation:"right",className:c[ue.Chevron]})))}function fu(t){const{components:s}=Oa();return B.createElement(s.Button,{...t})}function ju(t){return B.createElement("option",{...t})}function yu(t){const{components:s}=Oa();return B.createElement(s.Button,{...t})}function vu(t){const{rootRef:s,...a}=t;return B.createElement("div",{...a,ref:s})}function bu(t){return B.createElement("select",{...t})}function Nu(t){const{week:s,...a}=t;return B.createElement("tr",{...a})}function wu(t){return B.createElement("th",{...t})}function Su(t){return B.createElement("thead",{"aria-hidden":!0},B.createElement("tr",{...t}))}function Cu(t){const{week:s,...a}=t;return B.createElement("th",{...a})}function Du(t){return B.createElement("th",{...t})}function ku(t){return B.createElement("tbody",{...t})}function Iu(t){const{components:s}=Oa();return B.createElement(s.Dropdown,{...t})}const Tu=Object.freeze(Object.defineProperty({__proto__:null,Button:au,CaptionLabel:ru,Chevron:nu,Day:iu,DayButton:lu,Dropdown:cu,DropdownNav:ou,Footer:du,Month:mu,MonthCaption:uu,MonthGrid:xu,Months:hu,MonthsDropdown:gu,Nav:pu,NextMonthButton:fu,Option:ju,PreviousMonthButton:yu,Root:vu,Select:bu,Week:Nu,WeekNumber:Cu,WeekNumberHeader:Du,Weekday:wu,Weekdays:Su,Weeks:ku,YearsDropdown:Iu},Symbol.toStringTag,{value:"Module"}));function ys(t,s,a=!1,r=gs){let{from:n,to:l}=t;const{differenceInCalendarDays:o,isSameDay:c}=r;return n&&l?(o(l,n)<0&&([n,l]=[l,n]),o(s,n)>=(a?1:0)&&o(l,s)>=(a?1:0)):!a&&l?c(l,s):!a&&n?c(n,s):!1}function Wi(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Vr(t){return!!(t&&typeof t=="object"&&"from"in t)}function zi(t){return!!(t&&typeof t=="object"&&"after"in t)}function Yi(t){return!!(t&&typeof t=="object"&&"before"in t)}function Qi(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Ki(t,s){return Array.isArray(t)&&t.every(s.isDate)}function vs(t,s,a=gs){const r=Array.isArray(s)?s:[s],{isSameDay:n,differenceInCalendarDays:l,isAfter:o}=a;return r.some(c=>{if(typeof c=="boolean")return c;if(a.isDate(c))return n(t,c);if(Ki(c,a))return c.includes(t);if(Vr(c))return ys(c,t,!1,a);if(Qi(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(t.getDay()):c.dayOfWeek===t.getDay();if(Wi(c)){const u=l(c.before,t),j=l(c.after,t),N=u>0,x=j<0;return o(c.before,c.after)?x&&N:N||x}return zi(c)?l(t,c.after)>0:Yi(c)?l(c.before,t)>0:typeof c=="function"?c(t):!1})}function Au(t,s,a,r,n){const{disabled:l,hidden:o,modifiers:c,showOutsideDays:u,broadcastCalendar:j,today:N}=s,{isSameDay:x,isSameMonth:i,startOfMonth:g,isBefore:f,endOfMonth:w,isAfter:S}=n,D=a&&g(a),b=r&&w(r),v={[Ve.focused]:[],[Ve.outside]:[],[Ve.disabled]:[],[Ve.hidden]:[],[Ve.today]:[]},T={};for(const y of t){const{date:m,displayMonth:h}=y,k=!!(h&&!i(m,h)),p=!!(D&&f(m,D)),M=!!(b&&S(m,b)),A=!!(l&&vs(m,l,n)),F=!!(o&&vs(m,o,n))||p||M||!j&&!u&&k||j&&u===!1&&k,L=x(m,N??n.today());k&&v.outside.push(y),A&&v.disabled.push(y),F&&v.hidden.push(y),L&&v.today.push(y),c&&Object.keys(c).forEach(C=>{const I=c?.[C];I&&vs(m,I,n)&&(T[C]?T[C].push(y):T[C]=[y])})}return y=>{const m={[Ve.focused]:!1,[Ve.disabled]:!1,[Ve.hidden]:!1,[Ve.outside]:!1,[Ve.today]:!1},h={};for(const k in v){const p=v[k];m[k]=p.some(M=>M===y)}for(const k in T)h[k]=T[k].some(p=>p===y);return{...m,...h}}}function Pu(t,s,a={}){return Object.entries(t).filter(([,n])=>n===!0).reduce((n,[l])=>(a[l]?n.push(a[l]):s[Ve[l]]?n.push(s[Ve[l]]):s[Jt[l]]&&n.push(s[Jt[l]]),n),[s[ue.Day]])}function Eu(t){return{...Tu,...t}}function Mu(t){const s={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([a,r])=>{a.startsWith("data-")&&(s[a]=r)}),s}function Wr(){const t={};for(const s in ue)t[ue[s]]=`rdp-${ue[s]}`;for(const s in Ve)t[Ve[s]]=`rdp-${Ve[s]}`;for(const s in Jt)t[Jt[s]]=`rdp-${Jt[s]}`;for(const s in Mt)t[Mt[s]]=`rdp-${Mt[s]}`;return t}function Zi(t,s,a){return(a??new qt(s)).formatMonthYear(t)}const Ru=Zi;function Ou(t,s,a){return(a??new qt(s)).format(t,"d")}function Fu(t,s=gs){return s.format(t,"LLLL")}function Lu(t,s,a){return(a??new qt(s)).format(t,"cccccc")}function _u(t,s=gs){return t<10?s.formatNumber(`0${t.toLocaleString()}`):s.formatNumber(`${t.toLocaleString()}`)}function $u(){return""}function Ji(t,s=gs){return s.format(t,"yyyy")}const Bu=Ji,qu=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Zi,formatDay:Ou,formatMonthCaption:Ru,formatMonthDropdown:Fu,formatWeekNumber:_u,formatWeekNumberHeader:$u,formatWeekdayName:Lu,formatYearCaption:Bu,formatYearDropdown:Ji},Symbol.toStringTag,{value:"Module"}));function Uu(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...qu,...t}}function Hu(t,s,a,r,n){const{startOfMonth:l,startOfYear:o,endOfYear:c,eachMonthOfInterval:u,getMonth:j}=n;return u({start:o(t),end:c(t)}).map(i=>{const g=r.formatMonthDropdown(i,n),f=j(i),w=s&&i<l(s)||a&&i>l(a)||!1;return{value:f,label:g,disabled:w}})}function Gu(t,s={},a={}){let r={...s?.[ue.Day]};return Object.entries(t).filter(([,n])=>n===!0).forEach(([n])=>{r={...r,...a?.[n]}}),r}function Vu(t,s,a){const r=t.today(),n=s?t.startOfISOWeek(r):t.startOfWeek(r),l=[];for(let o=0;o<7;o++){const c=t.addDays(n,o);l.push(c)}return l}function Wu(t,s,a,r,n=!1){if(!t||!s)return;const{startOfYear:l,endOfYear:o,addYears:c,getYear:u,isBefore:j,isSameYear:N}=r,x=l(t),i=o(s),g=[];let f=x;for(;j(f,i)||N(f,i);)g.push(f),f=c(f,1);return n&&g.reverse(),g.map(w=>{const S=a.formatYearDropdown(w,r);return{value:u(w),label:S,disabled:!1}})}function Xi(t,s,a,r){let n=(r??new qt(a)).format(t,"PPPP");return s.today&&(n=`Today, ${n}`),s.selected&&(n=`${n}, selected`),n}const zu=Xi;function el(t,s,a){return(a??new qt(s)).formatMonthYear(t)}const Yu=el;function Qu(t,s,a,r){let n=(r??new qt(a)).format(t,"PPPP");return s?.today&&(n=`Today, ${n}`),n}function Ku(t){return"Choose the Month"}function Zu(){return""}function Ju(t){return"Go to the Next Month"}function Xu(t){return"Go to the Previous Month"}function ex(t,s,a){return(a??new qt(s)).format(t,"cccc")}function tx(t,s){return`Week ${t}`}function sx(t){return"Week Number"}function ax(t){return"Choose the Year"}const rx=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Yu,labelDay:zu,labelDayButton:Xi,labelGrid:el,labelGridcell:Qu,labelMonthDropdown:Ku,labelNav:Zu,labelNext:Ju,labelPrevious:Xu,labelWeekNumber:tx,labelWeekNumberHeader:sx,labelWeekday:ex,labelYearDropdown:ax},Symbol.toStringTag,{value:"Module"})),Fa=t=>t instanceof HTMLElement?t:null,jr=t=>[...t.querySelectorAll("[data-animated-month]")??[]],nx=t=>Fa(t.querySelector("[data-animated-month]")),yr=t=>Fa(t.querySelector("[data-animated-caption]")),vr=t=>Fa(t.querySelector("[data-animated-weeks]")),ix=t=>Fa(t.querySelector("[data-animated-nav]")),lx=t=>Fa(t.querySelector("[data-animated-weekdays]"));function cx(t,s,{classNames:a,months:r,focused:n,dateLib:l}){const o=d.useRef(null),c=d.useRef(r),u=d.useRef(!1);d.useLayoutEffect(()=>{const j=c.current;if(c.current=r,!s||!t.current||!(t.current instanceof HTMLElement)||r.length===0||j.length===0||r.length!==j.length)return;const N=l.isSameMonth(r[0].date,j[0].date),x=l.isAfter(r[0].date,j[0].date),i=x?a[Mt.caption_after_enter]:a[Mt.caption_before_enter],g=x?a[Mt.weeks_after_enter]:a[Mt.weeks_before_enter],f=o.current,w=t.current.cloneNode(!0);if(w instanceof HTMLElement?(jr(w).forEach(v=>{if(!(v instanceof HTMLElement))return;const T=nx(v);T&&v.contains(T)&&v.removeChild(T);const y=yr(v);y&&y.classList.remove(i);const m=vr(v);m&&m.classList.remove(g)}),o.current=w):o.current=null,u.current||N||n)return;const S=f instanceof HTMLElement?jr(f):[],D=jr(t.current);if(D?.every(b=>b instanceof HTMLElement)&&S&&S.every(b=>b instanceof HTMLElement)){u.current=!0,t.current.style.isolation="isolate";const b=ix(t.current);b&&(b.style.zIndex="1"),D.forEach((v,T)=>{const y=S[T];if(!y)return;v.style.position="relative",v.style.overflow="hidden";const m=yr(v);m&&m.classList.add(i);const h=vr(v);h&&h.classList.add(g);const k=()=>{u.current=!1,t.current&&(t.current.style.isolation=""),b&&(b.style.zIndex=""),m&&m.classList.remove(i),h&&h.classList.remove(g),v.style.position="",v.style.overflow="",v.contains(y)&&v.removeChild(y)};y.style.pointerEvents="none",y.style.position="absolute",y.style.overflow="hidden",y.setAttribute("aria-hidden","true");const p=lx(y);p&&(p.style.opacity="0");const M=yr(y);M&&(M.classList.add(x?a[Mt.caption_before_exit]:a[Mt.caption_after_exit]),M.addEventListener("animationend",k));const A=vr(y);A&&A.classList.add(x?a[Mt.weeks_before_exit]:a[Mt.weeks_after_exit]),v.insertBefore(y,v.firstChild)})}})}function ox(t,s,a,r){const n=t[0],l=t[t.length-1],{ISOWeek:o,fixedWeeks:c,broadcastCalendar:u}=a??{},{addDays:j,differenceInCalendarDays:N,differenceInCalendarMonths:x,endOfBroadcastWeek:i,endOfISOWeek:g,endOfMonth:f,endOfWeek:w,isAfter:S,startOfBroadcastWeek:D,startOfISOWeek:b,startOfWeek:v}=r,T=u?D(n,r):o?b(n):v(n),y=u?i(l):o?g(f(l)):w(f(l)),m=N(y,T),h=x(l,n)+1,k=[];for(let A=0;A<=m;A++){const F=j(T,A);if(s&&S(F,s))break;k.push(F)}const M=(u?35:42)*h;if(c&&k.length<M){const A=M-k.length;for(let F=0;F<A;F++){const L=j(k[k.length-1],1);k.push(L)}}return k}function dx(t){const s=[];return t.reduce((a,r)=>{const n=r.weeks.reduce((l,o)=>l.concat(o.days.slice()),s.slice());return a.concat(n.slice())},s.slice())}function mx(t,s,a,r){const{numberOfMonths:n=1}=a,l=[];for(let o=0;o<n;o++){const c=r.addMonths(t,o);if(s&&c>s)break;l.push(c)}return l}function En(t,s,a,r){const{month:n,defaultMonth:l,today:o=r.today(),numberOfMonths:c=1}=t;let u=n||l||o;const{differenceInCalendarMonths:j,addMonths:N,startOfMonth:x}=r;if(a&&j(a,u)<c-1){const i=-1*(c-1);u=N(a,i)}return s&&j(u,s)<0&&(u=s),x(u)}function ux(t,s,a,r){const{addDays:n,endOfBroadcastWeek:l,endOfISOWeek:o,endOfMonth:c,endOfWeek:u,getISOWeek:j,getWeek:N,startOfBroadcastWeek:x,startOfISOWeek:i,startOfWeek:g}=r,f=t.reduce((w,S)=>{const D=a.broadcastCalendar?x(S,r):a.ISOWeek?i(S):g(S),b=a.broadcastCalendar?l(S):a.ISOWeek?o(c(S)):u(c(S)),v=s.filter(h=>h>=D&&h<=b),T=a.broadcastCalendar?35:42;if(a.fixedWeeks&&v.length<T){const h=s.filter(k=>{const p=T-v.length;return k>b&&k<=n(b,p)});v.push(...h)}const y=v.reduce((h,k)=>{const p=a.ISOWeek?j(k):N(k),M=h.find(F=>F.weekNumber===p),A=new Gi(k,S,r);return M?M.days.push(A):h.push(new su(p,[A])),h},[]),m=new tu(S,y);return w.push(m),w},[]);return a.reverseMonths?f.reverse():f}function xx(t,s){let{startMonth:a,endMonth:r}=t;const{startOfYear:n,startOfDay:l,startOfMonth:o,endOfMonth:c,addYears:u,endOfYear:j,newDate:N,today:x}=s,{fromYear:i,toYear:g,fromMonth:f,toMonth:w}=t;!a&&f&&(a=f),!a&&i&&(a=s.newDate(i,0,1)),!r&&w&&(r=w),!r&&g&&(r=N(g,11,31));const S=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return a?a=o(a):i?a=N(i,0,1):!a&&S&&(a=n(u(t.today??x(),-100))),r?r=c(r):g?r=N(g,11,31):!r&&S&&(r=j(t.today??x())),[a&&l(a),r&&l(r)]}function hx(t,s,a,r){if(a.disableNavigation)return;const{pagedNavigation:n,numberOfMonths:l=1}=a,{startOfMonth:o,addMonths:c,differenceInCalendarMonths:u}=r,j=n?l:1,N=o(t);if(!s)return c(N,j);if(!(u(s,t)<l))return c(N,j)}function gx(t,s,a,r){if(a.disableNavigation)return;const{pagedNavigation:n,numberOfMonths:l}=a,{startOfMonth:o,addMonths:c,differenceInCalendarMonths:u}=r,j=n?l??1:1,N=o(t);if(!s)return c(N,-j);if(!(u(N,s)<=0))return c(N,-j)}function px(t){const s=[];return t.reduce((a,r)=>a.concat(r.weeks.slice()),s.slice())}function dr(t,s){const[a,r]=d.useState(t);return[s===void 0?a:s,r]}function fx(t,s){const[a,r]=xx(t,s),{startOfMonth:n,endOfMonth:l}=s,o=En(t,a,r,s),[c,u]=dr(o,t.month?o:void 0);d.useEffect(()=>{const m=En(t,a,r,s);u(m)},[t.timeZone]);const j=mx(c,r,t,s),N=ox(j,t.endMonth?l(t.endMonth):void 0,t,s),x=ux(j,N,t,s),i=px(x),g=dx(x),f=gx(c,a,t,s),w=hx(c,r,t,s),{disableNavigation:S,onMonthChange:D}=t,b=m=>i.some(h=>h.days.some(k=>k.isEqualTo(m))),v=m=>{if(S)return;let h=n(m);a&&h<n(a)&&(h=n(a)),r&&h>n(r)&&(h=n(r)),u(h),D?.(h)};return{months:x,weeks:i,days:g,navStart:a,navEnd:r,previousMonth:f,nextMonth:w,goToMonth:v,goToDay:m=>{b(m)||v(m.date)}}}var os;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(os||(os={}));function Mn(t){return!t[Ve.disabled]&&!t[Ve.hidden]&&!t[Ve.outside]}function jx(t,s,a,r){let n,l=-1;for(const o of t){const c=s(o);Mn(c)&&(c[Ve.focused]&&l<os.FocusedModifier?(n=o,l=os.FocusedModifier):r?.isEqualTo(o)&&l<os.LastFocused?(n=o,l=os.LastFocused):a(o.date)&&l<os.Selected?(n=o,l=os.Selected):c[Ve.today]&&l<os.Today&&(n=o,l=os.Today))}return n||(n=t.find(o=>Mn(s(o)))),n}function yx(t,s,a,r,n,l,o){const{ISOWeek:c,broadcastCalendar:u}=l,{addDays:j,addMonths:N,addWeeks:x,addYears:i,endOfBroadcastWeek:g,endOfISOWeek:f,endOfWeek:w,max:S,min:D,startOfBroadcastWeek:b,startOfISOWeek:v,startOfWeek:T}=o;let m={day:j,week:x,month:N,year:i,startOfWeek:h=>u?b(h,o):c?v(h):T(h),endOfWeek:h=>u?g(h):c?f(h):w(h)}[t](a,s==="after"?1:-1);return s==="before"&&r?m=S([r,m]):s==="after"&&n&&(m=D([n,m])),m}function tl(t,s,a,r,n,l,o,c=0){if(c>365)return;const u=yx(t,s,a.date,r,n,l,o),j=!!(l.disabled&&vs(u,l.disabled,o)),N=!!(l.hidden&&vs(u,l.hidden,o)),x=u,i=new Gi(u,x,o);return!j&&!N?i:tl(t,s,i,r,n,l,o,c+1)}function vx(t,s,a,r,n){const{autoFocus:l}=t,[o,c]=d.useState(),u=jx(s.days,a,r||(()=>!1),o),[j,N]=d.useState(l?u:void 0);return{isFocusTarget:w=>!!u?.isEqualTo(w),setFocused:N,focused:j,blur:()=>{c(j),N(void 0)},moveFocus:(w,S)=>{if(!j)return;const D=tl(w,S,j,s.navStart,s.navEnd,t,n);D&&(s.goToDay(D),N(D))}}}function bx(t,s){const{selected:a,required:r,onSelect:n}=t,[l,o]=dr(a,n?a:void 0),c=n?a:l,{isSameDay:u}=s,j=g=>c?.some(f=>u(f,g))??!1,{min:N,max:x}=t;return{selected:c,select:(g,f,w)=>{let S=[...c??[]];if(j(g)){if(c?.length===N||r&&c?.length===1)return;S=c?.filter(D=>!u(D,g))}else c?.length===x?S=[g]:S=[...S,g];return n||o(S),n?.(S,g,f,w),S},isSelected:j}}function Nx(t,s,a=0,r=0,n=!1,l=gs){const{from:o,to:c}=s||{},{isSameDay:u,isAfter:j,isBefore:N}=l;let x;if(!o&&!c)x={from:t,to:a>0?void 0:t};else if(o&&!c)u(o,t)?a===0?x={from:o,to:t}:n?x={from:o,to:void 0}:x=void 0:N(t,o)?x={from:t,to:o}:x={from:o,to:t};else if(o&&c)if(u(o,t)&&u(c,t))n?x={from:o,to:c}:x=void 0;else if(u(o,t))x={from:o,to:a>0?void 0:t};else if(u(c,t))x={from:t,to:a>0?void 0:t};else if(N(t,o))x={from:t,to:c};else if(j(t,o))x={from:o,to:t};else if(j(t,c))x={from:o,to:t};else throw new Error("Invalid range");if(x?.from&&x?.to){const i=l.differenceInCalendarDays(x.to,x.from);r>0&&i>r?x={from:t,to:void 0}:a>1&&i<a&&(x={from:t,to:void 0})}return x}function wx(t,s,a=gs){const r=Array.isArray(s)?s:[s];let n=t.from;const l=a.differenceInCalendarDays(t.to,t.from),o=Math.min(l,6);for(let c=0;c<=o;c++){if(r.includes(n.getDay()))return!0;n=a.addDays(n,1)}return!1}function Rn(t,s,a=gs){return ys(t,s.from,!1,a)||ys(t,s.to,!1,a)||ys(s,t.from,!1,a)||ys(s,t.to,!1,a)}function Sx(t,s,a=gs){const r=Array.isArray(s)?s:[s];if(r.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:a.isDate(c)?ys(t,c,!1,a):Ki(c,a)?c.some(u=>ys(t,u,!1,a)):Vr(c)?c.from&&c.to?Rn(t,{from:c.from,to:c.to},a):!1:Qi(c)?wx(t,c.dayOfWeek,a):Wi(c)?a.isAfter(c.before,c.after)?Rn(t,{from:a.addDays(c.after,1),to:a.addDays(c.before,-1)},a):vs(t.from,c,a)||vs(t.to,c,a):zi(c)||Yi(c)?vs(t.from,c,a)||vs(t.to,c,a):!1))return!0;const o=r.filter(c=>typeof c=="function");if(o.length){let c=t.from;const u=a.differenceInCalendarDays(t.to,t.from);for(let j=0;j<=u;j++){if(o.some(N=>N(c)))return!0;c=a.addDays(c,1)}}return!1}function Cx(t,s){const{disabled:a,excludeDisabled:r,selected:n,required:l,onSelect:o}=t,[c,u]=dr(n,o?n:void 0),j=o?n:c;return{selected:j,select:(i,g,f)=>{const{min:w,max:S}=t,D=i?Nx(i,j,w,S,l,s):void 0;return r&&a&&D?.from&&D.to&&Sx({from:D.from,to:D.to},a,s)&&(D.from=i,D.to=void 0),o||u(D),o?.(D,i,g,f),D},isSelected:i=>j&&ys(j,i,!1,s)}}function Dx(t,s){const{selected:a,required:r,onSelect:n}=t,[l,o]=dr(a,n?a:void 0),c=n?a:l,{isSameDay:u}=s;return{selected:c,select:(x,i,g)=>{let f=x;return!r&&c&&c&&u(x,c)&&(f=void 0),n||o(f),n?.(f,x,i,g),f},isSelected:x=>c?u(c,x):!1}}function kx(t,s){const a=Dx(t,s),r=bx(t,s),n=Cx(t,s);switch(t.mode){case"single":return a;case"multiple":return r;case"range":return n;default:return}}function Ix(t){let s=t;s.timeZone&&(s={...t},s.today&&(s.today=new pt(s.today,s.timeZone)),s.month&&(s.month=new pt(s.month,s.timeZone)),s.defaultMonth&&(s.defaultMonth=new pt(s.defaultMonth,s.timeZone)),s.startMonth&&(s.startMonth=new pt(s.startMonth,s.timeZone)),s.endMonth&&(s.endMonth=new pt(s.endMonth,s.timeZone)),s.mode==="single"&&s.selected?s.selected=new pt(s.selected,s.timeZone):s.mode==="multiple"&&s.selected?s.selected=s.selected?.map(O=>new pt(O,s.timeZone)):s.mode==="range"&&s.selected&&(s.selected={from:s.selected.from?new pt(s.selected.from,s.timeZone):void 0,to:s.selected.to?new pt(s.selected.to,s.timeZone):void 0}));const{components:a,formatters:r,labels:n,dateLib:l,locale:o,classNames:c}=d.useMemo(()=>{const O={...Gr,...s.locale};return{dateLib:new qt({locale:O,weekStartsOn:s.broadcastCalendar?1:s.weekStartsOn,firstWeekContainsDate:s.firstWeekContainsDate,useAdditionalWeekYearTokens:s.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:s.useAdditionalDayOfYearTokens,timeZone:s.timeZone,numerals:s.numerals},s.dateLib),components:Eu(s.components),formatters:Uu(s.formatters),labels:{...rx,...s.labels},locale:O,classNames:{...Wr(),...s.classNames}}},[s.locale,s.broadcastCalendar,s.weekStartsOn,s.firstWeekContainsDate,s.useAdditionalWeekYearTokens,s.useAdditionalDayOfYearTokens,s.timeZone,s.numerals,s.dateLib,s.components,s.formatters,s.labels,s.classNames]),{captionLayout:u,mode:j,navLayout:N,numberOfMonths:x=1,onDayBlur:i,onDayClick:g,onDayFocus:f,onDayKeyDown:w,onDayMouseEnter:S,onDayMouseLeave:D,onNextClick:b,onPrevClick:v,showWeekNumber:T,styles:y}=s,{formatCaption:m,formatDay:h,formatMonthDropdown:k,formatWeekNumber:p,formatWeekNumberHeader:M,formatWeekdayName:A,formatYearDropdown:F}=r,L=fx(s,l),{days:C,months:I,navStart:U,navEnd:W,previousMonth:z,nextMonth:Z,goToMonth:H}=L,he=Au(C,s,U,W,l),{isSelected:X,select:R,selected:ae}=kx(s,l)??{},{blur:G,focused:re,isFocusTarget:ke,moveFocus:ge,setFocused:le}=vx(s,L,he,X??(()=>!1),l),{labelDayButton:de,labelGridcell:ze,labelGrid:xt,labelMonthDropdown:Je,labelNav:Pt,labelPrevious:se,labelNext:ws,labelWeekday:Yt,labelWeekNumber:rs,labelWeekNumberHeader:ne,labelYearDropdown:ye}=n,He=d.useMemo(()=>Vu(l,s.ISOWeek),[l,s.ISOWeek]),oe=j!==void 0||g!==void 0,Ye=d.useCallback(()=>{z&&(H(z),v?.(z))},[z,H,v]),at=d.useCallback(()=>{Z&&(H(Z),b?.(Z))},[H,Z,b]),yt=d.useCallback((O,Y)=>K=>{K.preventDefault(),K.stopPropagation(),le(O),R?.(O.date,Y,K),g?.(O.date,Y,K)},[R,g,le]),Ss=d.useCallback((O,Y)=>K=>{le(O),f?.(O.date,Y,K)},[f,le]),la=d.useCallback((O,Y)=>K=>{G(),i?.(O.date,Y,K)},[G,i]),Gs=d.useCallback((O,Y)=>K=>{const pe={ArrowLeft:[K.shiftKey?"month":"day",s.dir==="rtl"?"after":"before"],ArrowRight:[K.shiftKey?"month":"day",s.dir==="rtl"?"before":"after"],ArrowDown:[K.shiftKey?"year":"week","after"],ArrowUp:[K.shiftKey?"year":"week","before"],PageUp:[K.shiftKey?"year":"month","before"],PageDown:[K.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(pe[K.key]){K.preventDefault(),K.stopPropagation();const[Pe,Ne]=pe[K.key];ge(Pe,Ne)}w?.(O.date,Y,K)},[ge,w,s.dir]),Ms=d.useCallback((O,Y)=>K=>{S?.(O.date,Y,K)},[S]),ns=d.useCallback((O,Y)=>K=>{D?.(O.date,Y,K)},[D]),Rs=d.useCallback(O=>Y=>{const K=Number(Y.target.value),pe=l.setMonth(l.startOfMonth(O),K);H(pe)},[l,H]),is=d.useCallback(O=>Y=>{const K=Number(Y.target.value),pe=l.setYear(l.startOfMonth(O),K);H(pe)},[l,H]),{className:ca,style:Os}=d.useMemo(()=>({className:[c[ue.Root],s.className].filter(Boolean).join(" "),style:{...y?.[ue.Root],...s.style}}),[c,s.className,s.style,y]),Fs=Mu(s),Dt=d.useRef(null);cx(Dt,!!s.animate,{classNames:c,months:I,focused:re,dateLib:l});const oa={dayPickerProps:s,selected:ae,select:R,isSelected:X,months:I,nextMonth:Z,previousMonth:z,goToMonth:H,getModifiers:he,components:a,classNames:c,styles:y,labels:n,formatters:r};return B.createElement(Vi.Provider,{value:oa},B.createElement(a.Root,{rootRef:s.animate?Dt:void 0,className:ca,style:Os,dir:s.dir,id:s.id,lang:s.lang,nonce:s.nonce,title:s.title,role:s.role,"aria-label":s["aria-label"],"aria-labelledby":s["aria-labelledby"],...Fs},B.createElement(a.Months,{className:c[ue.Months],style:y?.[ue.Months]},!s.hideNavigation&&!N&&B.createElement(a.Nav,{"data-animated-nav":s.animate?"true":void 0,className:c[ue.Nav],style:y?.[ue.Nav],"aria-label":Pt(),onPreviousClick:Ye,onNextClick:at,previousMonth:z,nextMonth:Z}),I.map((O,Y)=>B.createElement(a.Month,{"data-animated-month":s.animate?"true":void 0,className:c[ue.Month],style:y?.[ue.Month],key:Y,displayIndex:Y,calendarMonth:O},N==="around"&&!s.hideNavigation&&Y===0&&B.createElement(a.PreviousMonthButton,{type:"button",className:c[ue.PreviousMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":se(z),onClick:Ye,"data-animated-button":s.animate?"true":void 0},B.createElement(a.Chevron,{disabled:z?void 0:!0,className:c[ue.Chevron],orientation:s.dir==="rtl"?"right":"left"})),B.createElement(a.MonthCaption,{"data-animated-caption":s.animate?"true":void 0,className:c[ue.MonthCaption],style:y?.[ue.MonthCaption],calendarMonth:O,displayIndex:Y},u?.startsWith("dropdown")?B.createElement(a.DropdownNav,{className:c[ue.Dropdowns],style:y?.[ue.Dropdowns]},(()=>{const K=u==="dropdown"||u==="dropdown-months"?B.createElement(a.MonthsDropdown,{key:"month",className:c[ue.MonthsDropdown],"aria-label":Je(),classNames:c,components:a,disabled:!!s.disableNavigation,onChange:Rs(O.date),options:Hu(O.date,U,W,r,l),style:y?.[ue.Dropdown],value:l.getMonth(O.date)}):B.createElement("span",{key:"month"},k(O.date,l)),pe=u==="dropdown"||u==="dropdown-years"?B.createElement(a.YearsDropdown,{key:"year",className:c[ue.YearsDropdown],"aria-label":ye(l.options),classNames:c,components:a,disabled:!!s.disableNavigation,onChange:is(O.date),options:Wu(U,W,r,l,!!s.reverseYears),style:y?.[ue.Dropdown],value:l.getYear(O.date)}):B.createElement("span",{key:"year"},F(O.date,l));return l.getMonthYearOrder()==="year-first"?[pe,K]:[K,pe]})(),B.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},m(O.date,l.options,l))):B.createElement(a.CaptionLabel,{className:c[ue.CaptionLabel],role:"status","aria-live":"polite"},m(O.date,l.options,l))),N==="around"&&!s.hideNavigation&&Y===x-1&&B.createElement(a.NextMonthButton,{type:"button",className:c[ue.NextMonthButton],tabIndex:Z?void 0:-1,"aria-disabled":Z?void 0:!0,"aria-label":ws(Z),onClick:at,"data-animated-button":s.animate?"true":void 0},B.createElement(a.Chevron,{disabled:Z?void 0:!0,className:c[ue.Chevron],orientation:s.dir==="rtl"?"left":"right"})),Y===x-1&&N==="after"&&!s.hideNavigation&&B.createElement(a.Nav,{"data-animated-nav":s.animate?"true":void 0,className:c[ue.Nav],style:y?.[ue.Nav],"aria-label":Pt(),onPreviousClick:Ye,onNextClick:at,previousMonth:z,nextMonth:Z}),B.createElement(a.MonthGrid,{role:"grid","aria-multiselectable":j==="multiple"||j==="range","aria-label":xt(O.date,l.options,l)||void 0,className:c[ue.MonthGrid],style:y?.[ue.MonthGrid]},!s.hideWeekdays&&B.createElement(a.Weekdays,{"data-animated-weekdays":s.animate?"true":void 0,className:c[ue.Weekdays],style:y?.[ue.Weekdays]},T&&B.createElement(a.WeekNumberHeader,{"aria-label":ne(l.options),className:c[ue.WeekNumberHeader],style:y?.[ue.WeekNumberHeader],scope:"col"},M()),He.map(K=>B.createElement(a.Weekday,{"aria-label":Yt(K,l.options,l),className:c[ue.Weekday],key:String(K),style:y?.[ue.Weekday],scope:"col"},A(K,l.options,l)))),B.createElement(a.Weeks,{"data-animated-weeks":s.animate?"true":void 0,className:c[ue.Weeks],style:y?.[ue.Weeks]},O.weeks.map(K=>B.createElement(a.Week,{className:c[ue.Week],key:K.weekNumber,style:y?.[ue.Week],week:K},T&&B.createElement(a.WeekNumber,{week:K,style:y?.[ue.WeekNumber],"aria-label":rs(K.weekNumber,{locale:o}),className:c[ue.WeekNumber],scope:"row",role:"rowheader"},p(K.weekNumber,l)),K.days.map(pe=>{const{date:Pe}=pe,Ne=he(pe);if(Ne[Ve.focused]=!Ne.hidden&&!!re?.isEqualTo(pe),Ne[Jt.selected]=X?.(Pe)||Ne.selected,Vr(ae)){const{from:Xe,to:Qt}=ae;Ne[Jt.range_start]=!!(Xe&&Qt&&l.isSameDay(Pe,Xe)),Ne[Jt.range_end]=!!(Xe&&Qt&&l.isSameDay(Pe,Qt)),Ne[Jt.range_middle]=ys(ae,Pe,!0,l)}const je=Gu(Ne,y,s.modifiersStyles),Ue=Pu(Ne,c,s.modifiersClassNames),Qe=!oe&&!Ne.hidden?ze(Pe,Ne,l.options,l):void 0;return B.createElement(a.Day,{key:`${l.format(Pe,"yyyy-MM-dd")}_${l.format(pe.displayMonth,"yyyy-MM")}`,day:pe,modifiers:Ne,className:Ue.join(" "),style:je,role:"gridcell","aria-selected":Ne.selected||void 0,"aria-label":Qe,"data-day":l.format(Pe,"yyyy-MM-dd"),"data-month":pe.outside?l.format(Pe,"yyyy-MM"):void 0,"data-selected":Ne.selected||void 0,"data-disabled":Ne.disabled||void 0,"data-hidden":Ne.hidden||void 0,"data-outside":pe.outside||void 0,"data-focused":Ne.focused||void 0,"data-today":Ne.today||void 0},!Ne.hidden&&oe?B.createElement(a.DayButton,{className:c[ue.DayButton],style:y?.[ue.DayButton],type:"button",day:pe,modifiers:Ne,disabled:Ne.disabled||void 0,tabIndex:ke(pe)?0:-1,"aria-label":de(Pe,Ne,l.options,l),onClick:yt(pe,Ne),onBlur:la(pe,Ne),onFocus:Ss(pe,Ne),onKeyDown:Gs(pe,Ne),onMouseEnter:Ms(pe,Ne),onMouseLeave:ns(pe,Ne)},h(Pe,l.options,l)):!Ne.hidden&&h(pe.date,l.options,l))})))))))),s.footer&&B.createElement(a.Footer,{className:c[ue.Footer],style:y?.[ue.Footer],role:"status","aria-live":"polite"},s.footer)))}function Tx({className:t,classNames:s,showOutsideDays:a=!0,captionLayout:r="label",buttonVariant:n="ghost",formatters:l,components:o,...c}){const u=Wr();return e.jsx(Ix,{showOutsideDays:a,className:te("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:j=>j.toLocaleString("default",{month:"short"}),...l},classNames:{root:te("w-fit",u.root),months:te("relative flex flex-col gap-4 md:flex-row",u.months),month:te("flex w-full flex-col gap-4",u.month),nav:te("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",u.nav),button_previous:te(Dr({variant:n}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",u.button_previous),button_next:te(Dr({variant:n}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",u.button_next),month_caption:te("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",u.month_caption),dropdowns:te("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",u.dropdowns),dropdown_root:te("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",u.dropdown_root),dropdown:te("bg-popover absolute inset-0 opacity-0",u.dropdown),caption_label:te("select-none font-medium",r==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",u.caption_label),table:"w-full border-collapse",weekdays:te("flex",u.weekdays),weekday:te("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",u.weekday),week:te("mt-2 flex w-full",u.week),week_number_header:te("w-[--cell-size] select-none",u.week_number_header),week_number:te("text-muted-foreground select-none text-[0.8rem]",u.week_number),day:te("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",u.day),range_start:te("bg-accent rounded-l-md",u.range_start),range_middle:te("rounded-none",u.range_middle),range_end:te("bg-accent rounded-r-md",u.range_end),today:te("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",u.today),outside:te("text-muted-foreground aria-selected:text-muted-foreground",u.outside),disabled:te("text-muted-foreground opacity-50",u.disabled),hidden:te("invisible",u.hidden),...s},components:{Root:({className:j,rootRef:N,...x})=>e.jsx("div",{"data-slot":"calendar",ref:N,className:te(j),...x}),Chevron:({className:j,orientation:N,...x})=>N==="left"?e.jsx(Qn,{className:te("size-4",j),...x}):N==="right"?e.jsx(Kn,{className:te("size-4",j),...x}):e.jsx(Or,{className:te("size-4",j),...x}),DayButton:Ax,WeekNumber:({children:j,...N})=>e.jsx("td",{...N,children:e.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:j})}),...o},...c})}function Ax({className:t,day:s,modifiers:a,...r}){const n=Wr(),l=d.useRef(null);return d.useEffect(()=>{a.focused&&l.current?.focus()},[a.focused]),e.jsx(q,{ref:l,variant:"ghost",size:"icon","data-day":s.date.toLocaleDateString(),"data-selected-single":a.selected&&!a.range_start&&!a.range_end&&!a.range_middle,"data-range-start":a.range_start,"data-range-end":a.range_end,"data-range-middle":a.range_middle,className:te("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",n.day,t),...r})}const Px=Ol,Ex=Fl,sl=d.forwardRef(({className:t,align:s="center",sideOffset:a=4,...r},n)=>e.jsx(Rl,{children:e.jsx(ii,{ref:n,align:s,sideOffset:a,className:te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));sl.displayName=ii.displayName;const fs=[{id:"SCH-001",farmerId:"FARM-001",farmerName:" ",location:"Village A, District B",scheduledDate:new Date().toISOString(),scheduledTime:"09:00",assignedWorker:"W001",vehicleId:"V001",priority:"high",notes:"Regular pickup",status:"scheduled",estimatedDuration:45,estimatedDistance:12.5},{id:"SCH-002",farmerId:"FARM-002",farmerName:" ",location:"Village C, District B",scheduledDate:new Date(Date.now()+864e5).toISOString(),scheduledTime:"10:30",assignedWorker:"W002",vehicleId:"V002",priority:"medium",notes:"Buffalo dung collection",status:"scheduled",estimatedDuration:30,estimatedDistance:8.2}],Mx=async t=>Promise.resolve(),Rx=async(t,s)=>Promise.resolve(),Ox=async t=>Promise.resolve(),Fx={en:{title:"Pickup Scheduler",subtitle:"Route planning and farmer assignment management",createSchedule:"Create Schedule",editSchedule:"Edit Schedule",deleteSchedule:"Delete Schedule",scheduleList:"Schedule List",routeOptimization:"Route Optimization",farmerAssignments:"Farmer Assignments",todaysPickups:"Today's Pickups",upcomingSchedules:"Upcoming Schedules",routeHistory:"Route History",farmerId:"Farmer ID",farmerName:"Farmer Name",location:"Location",scheduledTime:"Scheduled Time",estimatedDuration:"Est. Duration",status:"Status",assignedWorker:"Assigned Worker",vehicleId:"Vehicle ID",priority:"Priority",notes:"Notes",actions:"Actions",create:"Create",update:"Update",cancel:"Cancel",delete:"Delete",scheduled:"Scheduled",inProgress:"In Progress",completed:"Completed",delayed:"Delayed",cancelled:"Cancelled",high:"High",medium:"Medium",low:"Low",selectDate:"Select date",selectTime:"Select time",selectWorker:"Select worker",selectVehicle:"Select vehicle",optimizeRoute:"Optimize Route",viewMap:"View Map",contactFarmer:"Contact Farmer",estimatedTime:"ETA",distance:"Distance",totalDistance:"Total Distance",totalDuration:"Total Duration",numberOfStops:"Number of Stops",efficiency:"Route Efficiency"},hi:{title:" ",subtitle:"     ",createSchedule:" ",editSchedule:"  ",deleteSchedule:" ",scheduleList:" ",routeOptimization:" ",farmerAssignments:" ",todaysPickups:"  ",upcomingSchedules:"  ",routeHistory:" ",farmerId:" ",farmerName:"  ",location:"",scheduledTime:" ",estimatedDuration:" ",status:"",assignedWorker:"   ",vehicleId:" ",priority:"",notes:"",actions:"",create:"",update:" ",cancel:" ",delete:"",scheduled:"",inProgress:" ",completed:"",delayed:"",cancelled:"",high:"",medium:"",low:"",selectDate:" ",selectTime:" ",selectWorker:" ",selectVehicle:" ",optimizeRoute:"  ",viewMap:" ",contactFarmer:"   ",estimatedTime:"  ",distance:"",totalDistance:" ",totalDuration:" ",numberOfStops:"  ",efficiency:" "}},On=t=>{switch(t){case"scheduled":return"bg-blue-100 text-blue-800";case"inProgress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"delayed":return"bg-orange-100 text-orange-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Lx=t=>{switch(t){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},_x=t=>{switch(t){case"scheduled":return e.jsx(Ae,{className:"w-4 h-4"});case"inProgress":return e.jsx(Xt,{className:"w-4 h-4"});case"completed":return e.jsx(be,{className:"w-4 h-4"});case"delayed":return e.jsx(Le,{className:"w-4 h-4"});case"cancelled":return e.jsx(Le,{className:"w-4 h-4"});default:return e.jsx(Ae,{className:"w-4 h-4"})}},Fn=({schedule:t,onSubmit:s,onCancel:a,t:r})=>{const[n,l]=d.useState({farmerId:t?.farmerId||"",farmerName:t?.farmerName||"",location:t?.location||"",scheduledDate:t?.scheduledDate?new Date(t.scheduledDate):new Date,scheduledTime:t?.scheduledTime||"",assignedWorker:t?.assignedWorker||"",vehicleId:t?.vehicleId||"",priority:t?.priority||"medium",notes:t?.notes||""}),o=c=>{c.preventDefault(),s({...n,scheduledDate:n.scheduledDate.toISOString()})};return e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"farmerId",children:r("farmerId")}),e.jsx(fe,{id:"farmerId",value:n.farmerId,onChange:c=>l(u=>({...u,farmerId:c.target.value})),placeholder:"FARM-001",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"farmerName",children:r("farmerName")}),e.jsx(fe,{id:"farmerName",value:n.farmerName,onChange:c=>l(u=>({...u,farmerName:c.target.value})),placeholder:"Farmer name",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"location",children:r("location")}),e.jsx(fe,{id:"location",value:n.location,onChange:c=>l(u=>({...u,location:c.target.value})),placeholder:"Village, District",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:r("selectDate")}),e.jsxs(Px,{children:[e.jsx(Ex,{asChild:!0,children:e.jsxs(q,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(Ie,{className:"mr-2 h-4 w-4"}),n.scheduledDate.toLocaleDateString()]})}),e.jsx(sl,{className:"w-auto p-0",children:e.jsx(Tx,{mode:"single",selected:n.scheduledDate,onSelect:c=>c&&l(u=>({...u,scheduledDate:c})),initialFocus:!0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"scheduledTime",children:r("selectTime")}),e.jsx(fe,{id:"scheduledTime",type:"time",value:n.scheduledTime,onChange:c=>l(u=>({...u,scheduledTime:c.target.value})),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"assignedWorker",children:r("selectWorker")}),e.jsxs(Oe,{value:n.assignedWorker,onValueChange:c=>l(u=>({...u,assignedWorker:c})),children:[e.jsx(Me,{children:e.jsx(Fe,{placeholder:"Select worker"})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"W001",children:" "}),e.jsx(Q,{value:"W002",children:" "}),e.jsx(Q,{value:"W003",children:" "})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"vehicleId",children:r("selectVehicle")}),e.jsxs(Oe,{value:n.vehicleId,onValueChange:c=>l(u=>({...u,vehicleId:c})),children:[e.jsx(Me,{children:e.jsx(Fe,{placeholder:"Select vehicle"})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"V001",children:"Truck - RJ14-AB-1234"}),e.jsx(Q,{value:"V002",children:"Van - RJ14-CD-5678"}),e.jsx(Q,{value:"V003",children:"Pickup - RJ14-EF-9012"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"priority",children:r("priority")}),e.jsxs(Oe,{value:n.priority,onValueChange:c=>l(u=>({...u,priority:c})),children:[e.jsx(Me,{children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"high",children:r("high")}),e.jsx(Q,{value:"medium",children:r("medium")}),e.jsx(Q,{value:"low",children:r("low")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"notes",children:r("notes")}),e.jsx(fe,{id:"notes",value:n.notes,onChange:c=>l(u=>({...u,notes:c.target.value})),placeholder:"Additional notes..."})]}),e.jsxs(Ps,{children:[e.jsx(q,{type:"button",variant:"outline",onClick:a,children:r("cancel")}),e.jsx(q,{type:"submit",children:r(t?"update":"create")})]})]})},$x=({languageContext:t})=>{const[s,a]=d.useState(!1),[r,n]=d.useState(null),[l,o]=d.useState(null),c=t?.language||"en",u=b=>t?.t(b)||Fx[c][b]||b,j=async b=>{await Mx(),a(!1)},N=async b=>{r&&(await Rx(r.id),n(null))},x=async()=>{l&&(await Ox(l.id),o(null))},i=fs.filter(b=>new Date(b.scheduledDate).toDateString()===new Date().toDateString()),g=fs.filter(b=>new Date(b.scheduledDate)>new Date&&new Date(b.scheduledDate).toDateString()!==new Date().toDateString()),f=fs.filter(b=>b.status==="inProgress"),w=fs.filter(b=>b.status==="completed"),S=fs.reduce((b,v)=>b+(v.estimatedDistance||0),0),D=fs.length>0?w.length/fs.length*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:u("title")}),e.jsx("p",{className:"text-muted-foreground",children:u("subtitle")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(q,{variant:"outline",className:"gap-2",children:[e.jsx(Da,{className:"w-4 h-4"}),u("optimizeRoute")]}),e.jsxs(Wt,{open:s,onOpenChange:a,children:[e.jsx(yi,{asChild:!0,children:e.jsxs(q,{className:"gap-2",children:[e.jsx(mt,{className:"w-4 h-4"}),u("createSchedule")]})}),e.jsxs(Ot,{className:"sm:max-w-[500px]",children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:u("createSchedule")}),e.jsx(_t,{children:"Create a new pickup schedule for farmer dung collection"})]}),e.jsx(Fn,{onSubmit:j,onCancel:()=>a(!1),t:u})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:u("todaysPickups")}),e.jsx(Ae,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.length," in progress"]})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Active Routes"}),e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Workers on field"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:u("totalDistance")}),e.jsx(Ll,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[S.toFixed(1)," km"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total planned distance"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:u("efficiency")}),e.jsx(be,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[D.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completion rate"})]})]})]}),e.jsxs(St,{defaultValue:"today",className:"space-y-6",children:[e.jsxs(Ct,{className:"grid w-full grid-cols-4",children:[e.jsx(xe,{value:"today",children:u("todaysPickups")}),e.jsx(xe,{value:"upcoming",children:u("upcomingSchedules")}),e.jsx(xe,{value:"routes",children:u("routeOptimization")}),e.jsx(xe,{value:"assignments",children:u("farmerAssignments")})]}),e.jsx(ce,{value:"today",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:u("todaysPickups")}),e.jsx(De,{children:"Today's scheduled pickups and their current status"})]}),e.jsxs(E,{children:[e.jsxs(qr,{children:[e.jsx(Ur,{children:e.jsxs(Ia,{children:[e.jsx(ct,{children:u("farmerName")}),e.jsx(ct,{children:u("location")}),e.jsx(ct,{children:u("scheduledTime")}),e.jsx(ct,{children:u("status")}),e.jsx(ct,{children:u("assignedWorker")}),e.jsx(ct,{children:u("estimatedTime")}),e.jsx(ct,{children:u("actions")})]})}),e.jsx(Hr,{children:i.map(b=>e.jsxs(Ia,{children:[e.jsx(ot,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),b.farmerName]})}),e.jsx(ot,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-4 h-4"}),b.location]})}),e.jsx(ot,{children:b.scheduledTime}),e.jsx(ot,{children:e.jsx(V,{className:On(b.status),children:e.jsxs("div",{className:"flex items-center gap-1",children:[_x(b.status),u(b.status)]})})}),e.jsx(ot,{children:b.assignedWorker}),e.jsx(ot,{children:b.estimatedDuration?`${b.estimatedDuration} min`:"N/A"}),e.jsx(ot,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{size:"sm",variant:"outline",children:e.jsx(_l,{className:"w-4 h-4"})}),e.jsx(q,{size:"sm",variant:"outline",children:e.jsx(ba,{className:"w-4 h-4"})}),e.jsx(q,{size:"sm",variant:"outline",onClick:()=>n(b),children:e.jsx(We,{className:"w-4 h-4"})})]})})]},b.id))})]}),i.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ae,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No pickups scheduled for today"})]})]})]})}),e.jsx(ce,{value:"upcoming",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:u("upcomingSchedules")}),e.jsx(De,{children:"Scheduled pickups for the coming days"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[g.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h4",{className:"font-semibold",children:b.farmerName}),e.jsx(V,{className:Lx(b.priority),children:u(b.priority)})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Rt,{className:"w-3 h-3"}),b.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),new Date(b.scheduledDate).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ae,{className:"w-3 h-3"}),b.scheduledTime]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:On(b.status),children:u(b.status)}),e.jsx(q,{size:"sm",variant:"outline",onClick:()=>n(b),children:e.jsx(We,{className:"w-4 h-4"})}),e.jsx(q,{size:"sm",variant:"outline",onClick:()=>o(b),children:e.jsx(wt,{className:"w-4 h-4"})})]})]},b.id)),g.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ie,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No upcoming schedules"})]})]})})]})}),e.jsx(ce,{value:"routes",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:u("routeOptimization")}),e.jsx(De,{children:"Optimize pickup routes for maximum efficiency"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:fs.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:u("numberOfStops")})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[S.toFixed(1)," km"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:u("totalDistance")})]})]}),e.jsxs(q,{className:"w-full gap-2",children:[e.jsx(Da,{className:"w-4 h-4"}),u("optimizeRoute")]})]})})]}),e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:"Route Efficiency"}),e.jsx(De,{children:"Current route performance metrics"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Completion Rate"}),e.jsxs("span",{children:[D.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${D}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg. Duration:"}),e.jsx("span",{className:"ml-2 font-medium",children:"45 min"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Fuel Efficiency:"}),e.jsx("span",{className:"ml-2 font-medium",children:"12 km/L"})]})]})]})})]})]})}),e.jsx(ce,{value:"assignments",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:u("farmerAssignments")}),e.jsx(De,{children:"Manage farmer-worker assignments and contact information"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:fs.slice(0,10).map(b=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:b.farmerName})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",b.farmerId,")"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Rt,{className:"w-3 h-3"}),b.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(st,{className:"w-3 h-3"}),b.assignedWorker]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{size:"sm",variant:"outline",children:e.jsx(ba,{className:"w-4 h-4"})}),e.jsx(q,{size:"sm",variant:"outline",children:e.jsx(Rt,{className:"w-4 h-4"})})]})]},b.id))})})]})})]}),e.jsx(Wt,{open:!!r,onOpenChange:()=>n(null),children:e.jsxs(Ot,{className:"sm:max-w-[500px]",children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:u("editSchedule")}),e.jsx(_t,{children:"Update schedule information and assignments"})]}),r&&e.jsx(Fn,{schedule:r,onSubmit:N,onCancel:()=>n(null),t:u})]})}),e.jsx(Wt,{open:!!l,onOpenChange:()=>o(null),children:e.jsxs(Ot,{children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:u("deleteSchedule")}),e.jsx(_t,{children:"Are you sure you want to delete this pickup schedule? This action cannot be undone."})]}),e.jsxs(Ps,{children:[e.jsx(q,{variant:"outline",onClick:()=>o(null),children:u("cancel")}),e.jsx(q,{variant:"destructive",onClick:x,children:u("delete")})]})]})})]})},ha=[{id:"TXN-2024-001",farmerId:"FARM-MH-001",farmerName:"  ",farmerAadhaar:"****-****-2156",location:" , ,  ",phoneNumber:"+91 98765 43210",dungType:"cow",measuredWeight:52.8,qualityGrade:"gradeA",moistureContent:12,paymentMethod:"upi",paymentStatus:"completed",ratePerKg:9.5,totalAmount:501.6,advanceAmount:250,balanceAmount:251.6,notes:"         18             ",photos:["photo1.jpg","photo2.jpg","photo3.jpg"],measurementDate:"2024-01-15T08:30:00Z",collectionDate:"2024-01-15T09:00:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-001",deviceName:"Smart Scale Alpha-1",timestamp:"2024-01-15T08:32:15Z",temperature:28.5,humidity:65,ph_level:7.2,gas_content:68.5,rfid_tag:"RFID-001-ABC123",gps_coordinates:"27.4924, 77.6737",verification_score:95.8,sensor_readings:{weight_sensor:52.8,quality_sensor:94.2,moisture_sensor:12.1}},batchReference:{batchId:"BATCH-2024-001",digesterId:"DIG-MAIN-001",expectedYield:42.5,fermentationDays:28,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"UP-80-AB-1234",driverName:" ",routeId:"ROUTE-MTH-001",estimatedDelivery:"2024-01-15T11:00:00Z"},inspector:{name:".  ",id:"INS-001",signature:!0},certificates:["ORGANIC-CERT-001","QUALITY-CERT-001"],verificationPhotos:["verify1.jpg","verify2.jpg"],qrCode:"QR-TXN-2024-001-ABC123",receiptNumber:"RCP-2024-000001",gstDetails:{gstNumber:"GST09ABCDE1234F1Z5",taxAmount:25.08,cgst:12.54,sgst:12.54}},{id:"TXN-2024-002",farmerId:"FARM-UP-002",farmerName:"  ",farmerAadhaar:"****-****-3487",location:"  , ",phoneNumber:"+91 87654 32109",dungType:"buffalo",measuredWeight:48.3,qualityGrade:"gradeB",moistureContent:15,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:8.5,totalAmount:410.55,advanceAmount:200,balanceAmount:210.55,notes:"   -    12          ",photos:["photo4.jpg","photo5.jpg"],measurementDate:"2024-01-14T16:45:00Z",collectionDate:"2024-01-14T17:15:00Z",status:"payment_pending",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-002",deviceName:"Smart Scale Beta-2",timestamp:"2024-01-14T16:47:22Z",temperature:26.8,humidity:72,ph_level:6.9,gas_content:62.3,rfid_tag:"RFID-002-DEF456",gps_coordinates:"27.5204, 77.6839",verification_score:87.5,sensor_readings:{weight_sensor:48.3,quality_sensor:85.6,moisture_sensor:15.2}},batchReference:{batchId:"BATCH-2024-002",digesterId:"DIG-SEC-002",expectedYield:38.2,fermentationDays:30,qualityPrediction:"good"},transportDetails:{vehicleNumber:"UP-80-CD-5678",driverName:" ",routeId:"ROUTE-VRN-001",estimatedDelivery:"2024-01-14T19:00:00Z"},inspector:{name:".  ",id:"INS-002",signature:!0},certificates:["QUALITY-CERT-002"],verificationPhotos:["verify3.jpg"],qrCode:"QR-TXN-2024-002-DEF456",receiptNumber:"RCP-2024-000002",gstDetails:{gstNumber:"GST09ABCDE1234F1Z5",taxAmount:20.53,cgst:10.26,sgst:10.27}},{id:"TXN-2024-003",farmerId:"FARM-RJ-003",farmerName:" ",farmerAadhaar:"****-****-5692",location:" , , ",phoneNumber:"+91 96543 21087",dungType:"mixed",measuredWeight:65.7,qualityGrade:"gradeA",moistureContent:10,paymentMethod:"bank_transfer",paymentStatus:"completed",ratePerKg:10,totalAmount:657,advanceAmount:300,balanceAmount:357,notes:"  -             25   ",photos:["photo6.jpg","photo7.jpg","photo8.jpg","photo9.jpg"],measurementDate:"2024-01-13T07:15:00Z",collectionDate:"2024-01-13T07:45:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-003",deviceName:"Smart Scale Gamma-3",timestamp:"2024-01-13T07:17:45Z",temperature:29.2,humidity:58,ph_level:7.4,gas_content:71.2,rfid_tag:"RFID-003-GHI789",gps_coordinates:"27.5525, 76.6346",verification_score:97.2,sensor_readings:{weight_sensor:65.7,quality_sensor:96.8,moisture_sensor:10.3}},batchReference:{batchId:"BATCH-2024-003",digesterId:"DIG-MAIN-001",expectedYield:52.8,fermentationDays:25,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"RJ-14-EF-9012",driverName:" ",routeId:"ROUTE-ALW-001",estimatedDelivery:"2024-01-13T10:30:00Z"},inspector:{name:".  ",id:"INS-003",signature:!0},certificates:["ORGANIC-CERT-002","QUALITY-CERT-003","ISO-CERT-001"],verificationPhotos:["verify4.jpg","verify5.jpg"],qrCode:"QR-TXN-2024-003-GHI789",receiptNumber:"RCP-2024-000003",gstDetails:{gstNumber:"GST08FGHIJ5678K2A6",taxAmount:32.85,cgst:16.42,sgst:16.43}},{id:"TXN-2024-004",farmerId:"FARM-HR-004",farmerName:" ",farmerAadhaar:"****-****-7834",location:"  , ",phoneNumber:"+91 85432 10976",dungType:"cow",measuredWeight:42.1,qualityGrade:"gradeB",moistureContent:14,paymentMethod:"upi",paymentStatus:"partial",ratePerKg:8.75,totalAmount:368.37,advanceAmount:150,balanceAmount:218.37,notes:"            14    ",photos:["photo10.jpg","photo11.jpg"],measurementDate:"2024-01-12T14:20:00Z",collectionDate:"2024-01-12T15:00:00Z",status:"quality_check",qualityVerificationStatus:"pending",iotVerification:{deviceId:"IOT-SCALE-004",deviceName:"Smart Scale Delta-4",timestamp:"2024-01-12T14:22:18Z",temperature:31.1,humidity:55,ph_level:6.8,gas_content:59.7,rfid_tag:"RFID-004-JKL012",gps_coordinates:"28.4595, 77.0266",verification_score:82.3,sensor_readings:{weight_sensor:42.1,quality_sensor:78.9,moisture_sensor:14.1}},batchReference:{batchId:"BATCH-2024-004",digesterId:"DIG-SEC-003",expectedYield:32.8,fermentationDays:32,qualityPrediction:"average"},transportDetails:{vehicleNumber:"HR-26-GH-3456",driverName:" ",routeId:"ROUTE-GGN-001",estimatedDelivery:"2024-01-12T17:30:00Z"},inspector:{name:"  ",id:"INS-004",signature:!1},certificates:["QUALITY-CERT-004"],verificationPhotos:["verify6.jpg"],qrCode:"QR-TXN-2024-004-JKL012",receiptNumber:"RCP-2024-000004",gstDetails:{gstNumber:"GST06MNOPQ9012L3B7",taxAmount:18.42,cgst:9.21,sgst:9.21}},{id:"TXN-2024-005",farmerId:"FARM-PB-005",farmerName:" ",farmerAadhaar:"****-****-9156",location:"  , ",phoneNumber:"+91 74321 09865",dungType:"buffalo",measuredWeight:58.9,qualityGrade:"gradeA",moistureContent:11,paymentMethod:"online",paymentStatus:"completed",ratePerKg:9.25,totalAmount:544.82,advanceAmount:0,balanceAmount:544.82,notes:"           -  20     ",photos:["photo12.jpg","photo13.jpg","photo14.jpg"],measurementDate:"2024-01-11T09:30:00Z",collectionDate:"2024-01-11T10:00:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-005",deviceName:"Smart Scale Epsilon-5",timestamp:"2024-01-11T09:32:55Z",temperature:25.6,humidity:68,ph_level:7.1,gas_content:69.8,rfid_tag:"RFID-005-MNO345",gps_coordinates:"30.9010, 75.8573",verification_score:93.7,sensor_readings:{weight_sensor:58.9,quality_sensor:92.4,moisture_sensor:11.2}},batchReference:{batchId:"BATCH-2024-005",digesterId:"DIG-MAIN-002",expectedYield:47.3,fermentationDays:26,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"PB-10-IJ-7890",driverName:" ",routeId:"ROUTE-LDH-001",estimatedDelivery:"2024-01-11T12:45:00Z"},inspector:{name:".  ",id:"INS-005",signature:!0},certificates:["ORGANIC-CERT-003","QUALITY-CERT-005"],verificationPhotos:["verify7.jpg","verify8.jpg"],qrCode:"QR-TXN-2024-005-MNO345",receiptNumber:"RCP-2024-000005",gstDetails:{gstNumber:"GST03PQRST3456M4C8",taxAmount:27.24,cgst:13.62,sgst:13.62}},{id:"TXN-2024-006",farmerId:"FARM-MP-006",farmerName:" ",farmerAadhaar:"****-****-2479",location:" , ",phoneNumber:"+91 93210 87654",dungType:"cow",measuredWeight:35.6,qualityGrade:"gradeC",moistureContent:18,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:7.5,totalAmount:267,advanceAmount:100,balanceAmount:167,notes:"            Grade C    10   ",photos:["photo15.jpg"],measurementDate:"2024-01-10T11:15:00Z",collectionDate:"2024-01-10T11:45:00Z",status:"pending",qualityVerificationStatus:"requires_recheck",iotVerification:{deviceId:"IOT-SCALE-006",deviceName:"Smart Scale Zeta-6",timestamp:"2024-01-10T11:17:33Z",temperature:33.2,humidity:78,ph_level:6.5,gas_content:52.4,rfid_tag:"RFID-006-PQR678",gps_coordinates:"22.7196, 75.8577",verification_score:68.9,sensor_readings:{weight_sensor:35.6,quality_sensor:65.2,moisture_sensor:18.3}},batchReference:{batchId:"BATCH-2024-006",digesterId:"DIG-SEC-004",expectedYield:26.2,fermentationDays:35,qualityPrediction:"below_average"},transportDetails:{vehicleNumber:"MP-09-KL-2345",driverName:" ",routeId:"ROUTE-IND-001",estimatedDelivery:"2024-01-10T14:00:00Z"},inspector:{name:"  ",id:"INS-006",signature:!1},certificates:[],verificationPhotos:["verify9.jpg"],qrCode:"QR-TXN-2024-006-PQR678",receiptNumber:"RCP-2024-000006",gstDetails:{gstNumber:"GST23STUVW7890N5D9",taxAmount:13.35,cgst:6.67,sgst:6.68}},{id:"TXN-2024-007",farmerId:"FARM-GJ-007",farmerName:"  ",farmerAadhaar:"****-****-5813",location:"  , , ",phoneNumber:"+91 82109 76543",dungType:"mixed",measuredWeight:71.4,qualityGrade:"gradeA",moistureContent:9,paymentMethod:"bank_transfer",paymentStatus:"completed",ratePerKg:10.5,totalAmount:749.7,advanceAmount:400,balanceAmount:349.7,notes:"         . 30      ",photos:["photo16.jpg","photo17.jpg","photo18.jpg","photo19.jpg"],measurementDate:"2024-01-09T06:45:00Z",collectionDate:"2024-01-09T07:15:00Z",status:"verified",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-007",deviceName:"Smart Scale Eta-7",timestamp:"2024-01-09T06:47:42Z",temperature:27.8,humidity:62,ph_level:7.6,gas_content:74.1,rfid_tag:"RFID-007-STU901",gps_coordinates:"22.5645, 72.9289",verification_score:98.5,sensor_readings:{weight_sensor:71.4,quality_sensor:97.8,moisture_sensor:9.1}},batchReference:{batchId:"BATCH-2024-007",digesterId:"DIG-MAIN-003",expectedYield:58.6,fermentationDays:24,qualityPrediction:"outstanding"},transportDetails:{vehicleNumber:"GJ-01-MN-4567",driverName:"  ",routeId:"ROUTE-AND-001",estimatedDelivery:"2024-01-09T09:30:00Z"},inspector:{name:".  ",id:"INS-007",signature:!0},certificates:["ORGANIC-CERT-004","QUALITY-CERT-006","ISO-CERT-002","AMUL-CERT-001"],verificationPhotos:["verify10.jpg","verify11.jpg"],qrCode:"QR-TXN-2024-007-STU901",receiptNumber:"RCP-2024-000007",gstDetails:{gstNumber:"GST24VWXYZ1234O6E0",taxAmount:37.48,cgst:18.74,sgst:18.74}},{id:"TXN-2024-008",farmerId:"FARM-TN-008",farmerName:" ",farmerAadhaar:"****-****-7926",location:"  , ",phoneNumber:"+91 76543 21098",dungType:"buffalo",measuredWeight:46.8,qualityGrade:"gradeB",moistureContent:16,paymentMethod:"upi",paymentStatus:"completed",ratePerKg:8.25,totalAmount:386.1,advanceAmount:150,balanceAmount:236.1,notes:"  .  .     . 16   .",photos:["photo20.jpg","photo21.jpg"],measurementDate:"2024-01-08T15:30:00Z",collectionDate:"2024-01-08T16:00:00Z",status:"completed",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-008",deviceName:"Smart Scale Theta-8",timestamp:"2024-01-08T15:32:28Z",temperature:32.4,humidity:75,ph_level:6.7,gas_content:61.9,rfid_tag:"RFID-008-VWX234",gps_coordinates:"11.0168, 76.9558",verification_score:84.6,sensor_readings:{weight_sensor:46.8,quality_sensor:82.3,moisture_sensor:16.1}},batchReference:{batchId:"BATCH-2024-008",digesterId:"DIG-SOUTH-001",expectedYield:36.4,fermentationDays:29,qualityPrediction:"good"},transportDetails:{vehicleNumber:"TN-38-OP-6789",driverName:" ",routeId:"ROUTE-CBE-001",estimatedDelivery:"2024-01-08T18:15:00Z"},inspector:{name:". ",id:"INS-008",signature:!0},certificates:["QUALITY-CERT-007","SOUTH-CERT-001"],verificationPhotos:["verify12.jpg"],qrCode:"QR-TXN-2024-008-VWX234",receiptNumber:"RCP-2024-000008",gstDetails:{gstNumber:"GST33ABCDE5678P7F1",taxAmount:19.3,cgst:9.65,sgst:9.65}},{id:"TXN-2024-009",farmerId:"FARM-KA-009",farmerName:" ",farmerAadhaar:"****-****-4051",location:"  , ",phoneNumber:"+91 65432 10987",dungType:"cow",measuredWeight:39.7,qualityGrade:"gradeA",moistureContent:13,paymentMethod:"online",paymentStatus:"partial",ratePerKg:9,totalAmount:357.3,advanceAmount:200,balanceAmount:157.3,notes:"         12   ",photos:["photo22.jpg","photo23.jpg"],measurementDate:"2024-01-07T10:00:00Z",collectionDate:"2024-01-07T10:30:00Z",status:"payment_pending",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-009",deviceName:"Smart Scale Iota-9",timestamp:"2024-01-07T10:02:15Z",temperature:24.9,humidity:69,ph_level:7.3,gas_content:66.7,rfid_tag:"RFID-009-YZA567",gps_coordinates:"12.9716, 77.5946",verification_score:91.2,sensor_readings:{weight_sensor:39.7,quality_sensor:89.8,moisture_sensor:13.2}},batchReference:{batchId:"BATCH-2024-009",digesterId:"DIG-SOUTH-002",expectedYield:31.8,fermentationDays:27,qualityPrediction:"excellent"},transportDetails:{vehicleNumber:"KA-03-QR-8901",driverName:" ",routeId:"ROUTE-BLR-001",estimatedDelivery:"2024-01-07T13:00:00Z"},inspector:{name:".  ",id:"INS-009",signature:!0},certificates:["ORGANIC-CERT-005","QUALITY-CERT-008"],verificationPhotos:["verify13.jpg","verify14.jpg"],qrCode:"QR-TXN-2024-009-YZA567",receiptNumber:"RCP-2024-000009",gstDetails:{gstNumber:"GST29FGHIJ9012Q8G2",taxAmount:17.86,cgst:8.93,sgst:8.93}},{id:"TXN-2024-010",farmerId:"FARM-WB-010",farmerName:" ",farmerAadhaar:"****-****-8394",location:"  , ",phoneNumber:"+91 54321 09876",dungType:"mixed",measuredWeight:55.2,qualityGrade:"gradeB",moistureContent:17,paymentMethod:"bank_transfer",paymentStatus:"completed",ratePerKg:8,totalAmount:441.6,advanceAmount:250,balanceAmount:191.6,notes:"                  ",photos:["photo24.jpg","photo25.jpg","photo26.jpg"],measurementDate:"2024-01-06T13:45:00Z",collectionDate:"2024-01-06T14:15:00Z",status:"completed",qualityVerificationStatus:"approved",iotVerification:{deviceId:"IOT-SCALE-010",deviceName:"Smart Scale Kappa-10",timestamp:"2024-01-06T13:47:51Z",temperature:30.5,humidity:82,ph_level:6.9,gas_content:58.3,rfid_tag:"RFID-010-BCD890",gps_coordinates:"22.5726, 88.3639",verification_score:79.4,sensor_readings:{weight_sensor:55.2,quality_sensor:76.8,moisture_sensor:17.3}},batchReference:{batchId:"BATCH-2024-010",digesterId:"DIG-EAST-001",expectedYield:42.1,fermentationDays:31,qualityPrediction:"average"},transportDetails:{vehicleNumber:"WB-06-ST-2345",driverName:" ",routeId:"ROUTE-KOL-001",estimatedDelivery:"2024-01-06T16:30:00Z"},inspector:{name:".  ",id:"INS-010",signature:!0},certificates:["QUALITY-CERT-009"],verificationPhotos:["verify15.jpg"],qrCode:"QR-TXN-2024-010-BCD890",receiptNumber:"RCP-2024-000010",gstDetails:{gstNumber:"GST19KLMNO3456R9H3",taxAmount:22.08,cgst:11.04,sgst:11.04}}],Bx=async t=>new Promise(s=>{setTimeout(()=>{s(t)},1500)}),qx={en:{title:"Transaction Entry",subtitle:"IoT weight capture and photo proof documentation",newTransaction:"New Transaction",iotWeightCapture:"IoT Weight Capture",photoProof:"Photo Proof",transactionHistory:"Transaction History",farmerDetails:"Farmer Details",weightMeasurement:"Weight Measurement",paymentDetails:"Payment Details",farmerId:"Farmer ID",farmerName:"Farmer Name",farmerAadhaar:"Aadhaar (Masked)",location:"Location",phoneNumber:"Phone Number",dungType:"Dung Type",measurementDate:"Measurement Date",collectionDate:"Collection Date",measuredWeight:"Measured Weight (kg)",qualityGrade:"Quality Grade",moistureContent:"Moisture Content (%)",paymentMethod:"Payment Method",paymentStatus:"Payment Status",ratePerKg:"Rate per kg ()",totalAmount:"Total Amount ()",advanceAmount:"Advance Amount ()",balanceAmount:"Balance Amount ()",notes:"Notes",captureWeight:"Capture Weight from IoT",takePhoto:"Take Photo",uploadPhoto:"Upload Photo",saveTransaction:"Save Transaction",weighingInProgress:"Weighing in Progress...",weightCaptured:"Weight Captured Successfully",photoRequired:"Photo proof is required",transactionSaved:"Transaction saved successfully",cash:"Cash",online:"Online",bank_transfer:"Bank Transfer",upi:"UPI",pending:"Pending",partial:"Partial",completed:"Completed",failed:"Failed",cancelled:"Cancelled",verified:"Verified",quality_check:"Quality Check",payment_pending:"Payment Pending",gradeA:"Grade A (Premium)",gradeB:"Grade B (Standard)",gradeC:"Grade C (Basic)",cow:"Cow Dung",buffalo:"Buffalo Dung",mixed:"Mixed Dung",connecting:"Connecting to IoT scale...",connected:"Connected to IoT scale",connectionFailed:"Failed to connect to IoT scale",retryConnection:"Retry Connection",manualEntry:"Manual Entry",autoCapture:"Auto Capture",calibrateScale:"Calibrate Scale",viewDetails:"View Details",printReceipt:"Print Receipt",status:"Status",amount:"Amount",date:"Date",actions:"Actions",iotVerification:"IoT Verification",batchReference:"Batch Reference",transportDetails:"Transport Details",inspector:"Inspector",certificates:"Certificates",qrCode:"QR Code",receiptNumber:"Receipt Number",gstDetails:"GST Details",deviceId:"Device ID",temperature:"Temperature (C)",humidity:"Humidity (%)",phLevel:"pH Level",gasContent:"Gas Content (%)",rfidTag:"RFID Tag",gpsCoordinates:"GPS Coordinates",verificationScore:"Verification Score",batchId:"Batch ID",digesterId:"Digester ID",expectedYield:"Expected Yield (L)",fermentationDays:"Fermentation Days",qualityPrediction:"Quality Prediction",vehicleNumber:"Vehicle Number",driverName:"Driver Name",routeId:"Route ID",estimatedDelivery:"Estimated Delivery",gstNumber:"GST Number",taxAmount:"Tax Amount ()",cgst:"CGST ()",sgst:"SGST ()",approved:"Approved",rejected:"Rejected",requires_recheck:"Requires Recheck"},hi:{title:"- ",subtitle:"IoT      ",newTransaction:" -",iotWeightCapture:"IoT  ",photoProof:" ",transactionHistory:"- ",farmerDetails:" ",weightMeasurement:" ",paymentDetails:" ",farmerId:" ",farmerName:"  ",farmerAadhaar:" ()",location:"",phoneNumber:" ",dungType:"  ",measurementDate:"  ",collectionDate:"  ",measuredWeight:"   ()",qualityGrade:" ",moistureContent:"   (%)",paymentMethod:" ",paymentStatus:" ",ratePerKg:"   ()",totalAmount:"  ()",advanceAmount:"  ()",balanceAmount:"  ()",notes:"",captureWeight:"IoT    ",takePhoto:" ",uploadPhoto:"  ",saveTransaction:"-  ",weighingInProgress:"  ...",weightCaptured:"    ",photoRequired:"   ",transactionSaved:"-    ",cash:"",online:"",bank_transfer:" ",upi:"UPI",pending:"",partial:"",completed:"",failed:"",cancelled:"",verified:"",quality_check:" ",payment_pending:" ",gradeA:" A ()",gradeB:" B ()",gradeC:" C ()",cow:"  ",buffalo:"  ",mixed:" ",connecting:"IoT      ...",connected:"IoT     ",connectionFailed:"IoT      ",retryConnection:"   ",manualEntry:" ",autoCapture:" ",calibrateScale:"  ",viewDetails:" ",printReceipt:"  ",status:"",amount:"",date:"",actions:"",iotVerification:"IoT ",batchReference:" ",transportDetails:" ",inspector:"",certificates:"",qrCode:"QR ",receiptNumber:" ",gstDetails:"GST ",deviceId:" ",temperature:" (C)",humidity:" (%)",phLevel:"pH ",gasContent:"  (%)",rfidTag:"RFID ",gpsCoordinates:"GPS ",verificationScore:" ",batchId:" ",digesterId:" ",expectedYield:"  (L)",fermentationDays:" ",qualityPrediction:" ",vehicleNumber:" ",driverName:"  ",routeId:" ",estimatedDelivery:" ",gstNumber:"GST ",taxAmount:"  ()",cgst:"CGST ()",sgst:"SGST ()",approved:"",rejected:"",requires_recheck:"  "}},Ux=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"verified":return"bg-blue-100 text-blue-800";case"quality_check":return"bg-orange-100 text-orange-800";case"payment_pending":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},Hx=t=>{switch(t){case"completed":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-orange-100 text-orange-800";case"failed":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Gx=t=>{switch(t){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"requires_recheck":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Vx=({onWeightCaptured:t,t:s})=>{const[a,r]=d.useState(!1),[n,l]=d.useState(!1),[o,c]=d.useState(!1),[u,j]=d.useState(0),[N,x]=d.useState(!1),[i,g]=d.useState(null),f=d.useCallback(()=>{r(!0),x(!1),setTimeout(()=>{if(r(!1),Math.random()>.2){l(!0);const b={deviceId:`IOT-SCALE-${Math.floor(Math.random()*10)+1}`.padStart(3,"0"),deviceName:"Smart Scale Alpha-Pro",timestamp:new Date().toISOString(),temperature:25+Math.random()*10,humidity:55+Math.random()*25,ph_level:6.5+Math.random()*1.5,gas_content:55+Math.random()*20,verification_score:80+Math.random()*20};g(b);const v=setInterval(()=>{j(T=>{const y=45+Math.random()*10;return Math.round(y*10)/10})},500);return()=>clearInterval(v)}else x(!0)},2e3)},[]),w=()=>{c(!0),setTimeout(()=>{c(!1),t(u)},1500)},S=()=>{const D=48.5+Math.random()*5;t(Math.round(D*10)/10)};return e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(es,{className:"w-5 h-5"}),s("iotWeightCapture")]}),e.jsx(De,{children:"Connect to IoT scale for automatic weight measurement with verification"})]}),e.jsxs(E,{className:"space-y-4",children:[!n&&!N&&e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(es,{className:"w-8 h-8 text-gray-400"})}),e.jsx(q,{onClick:f,disabled:a,className:"w-full",children:a?e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"w-4 h-4 mr-2 animate-spin"}),s("connecting")]}):"Connect to IoT Scale"})]}),N&&e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs(hs,{children:[e.jsx(Le,{className:"h-4 w-4"}),e.jsx(Ns,{children:s("connectionFailed")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{onClick:f,variant:"outline",className:"w-full",children:s("retryConnection")}),e.jsx(q,{onClick:S,variant:"secondary",className:"w-full",children:s("manualEntry")})]})]}),n&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-sm text-green-600 mb-2",children:[e.jsx(be,{className:"w-4 h-4 inline mr-1"}),s("connected")]}),e.jsxs("div",{className:"text-4xl font-bold text-blue-600",children:[u.toFixed(1)," kg"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Real-time weight reading"})]}),i&&e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs bg-blue-50 p-3 rounded",children:[e.jsxs("div",{children:["Device: ",i.deviceName]}),e.jsxs("div",{children:["Score: ",i.verification_score?.toFixed(1),"%"]}),e.jsxs("div",{children:["Temp: ",i.temperature?.toFixed(1),"C"]}),e.jsxs("div",{children:["Humidity: ",i.humidity?.toFixed(0),"%"]}),e.jsxs("div",{children:["pH: ",i.ph_level?.toFixed(1)]}),e.jsxs("div",{children:["Gas: ",i.gas_content?.toFixed(1),"%"]})]}),o&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ce,{value:75,className:"w-full"}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s("weighingInProgress")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(q,{onClick:w,disabled:o,className:"w-full",children:o?e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Capturing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Lr,{className:"w-4 h-4 mr-2"}),s("captureWeight")]})}),e.jsx(q,{onClick:()=>{},variant:"outline",className:"w-full",children:s("calibrateScale")})]})]})]})]})},Wx=({onPhotoAdded:t,photos:s,t:a})=>{const r=d.useRef(null),n=o=>{const c=o.target.files?.[0];if(c){const u=new FileReader;u.onload=j=>{const N=j.target?.result;t(N)},u.readAsDataURL(c)}},l=()=>{const o=`data:image/svg+xml;base64,${btoa(`
      <svg width="300" height="200" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f3f4f6"/>
        <text x="50%" y="40%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="14" fill="#6b7280">
          Dung Sample Photo ${s.length+1}
        </text>
        <text x="50%" y="60%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="10" fill="#9ca3af">
          Timestamp: ${new Date().toLocaleString()}
        </text>
      </svg>
    `)}`;t(o)};return e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Za,{className:"w-5 h-5"}),a("photoProof")]}),e.jsx(De,{children:"Capture photos of dung samples for quality verification and compliance"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(q,{onClick:l,variant:"outline",className:"w-full",children:[e.jsx(Za,{className:"w-4 h-4 mr-2"}),a("takePhoto")]}),e.jsxs(q,{onClick:()=>r.current?.click(),variant:"outline",className:"w-full",children:[e.jsx(ar,{className:"w-4 h-4 mr-2"}),a("uploadPhoto")]})]}),e.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:n,className:"hidden"}),s.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium mb-2",children:["Captured Photos (",s.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.map((o,c)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o,alt:`Sample ${c+1}`,className:"w-full h-24 object-cover rounded border"}),e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx(V,{variant:"secondary",className:"text-xs",children:c+1})})]},c))})]}),s.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(li,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"No photos captured yet"}),e.jsx("p",{className:"text-xs",children:a("photoRequired")})]})]})]})},zx=({languageContext:t})=>{const[s,a]=d.useState("new"),[r,n]=d.useState({farmerId:"",farmerName:"",farmerAadhaar:"",location:"",phoneNumber:"",dungType:"cow",measuredWeight:0,qualityGrade:"gradeB",moistureContent:15,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:8.5,advanceAmount:0,notes:""}),[l,o]=d.useState([]),[c,u]=d.useState(!1),[j,N]=d.useState(!1),x=t?.language||"en",i=m=>t?.t(m)||qx[x][m]||m,g=m=>{n(h=>({...h,measuredWeight:m}))},f=m=>{o(h=>[...h,m])},w=()=>r.measuredWeight*r.ratePerKg,S=()=>w()-r.advanceAmount,D=async()=>{if(r.measuredWeight===0){alert("Please capture weight first");return}if(l.length===0){alert(i("photoRequired"));return}u(!0);try{const m={...r,totalAmount:w(),balanceAmount:S(),photos:l,measurementDate:new Date().toISOString(),collectionDate:new Date().toISOString(),status:"pending",qualityVerificationStatus:"pending"};await Bx(m),N(!0),setTimeout(()=>{N(!1),n({farmerId:"",farmerName:"",farmerAadhaar:"",location:"",phoneNumber:"",dungType:"cow",measuredWeight:0,qualityGrade:"gradeB",moistureContent:15,paymentMethod:"cash",paymentStatus:"pending",ratePerKg:8.5,advanceAmount:0,notes:""}),o([])},2e3)}catch{}finally{u(!1)}},b=ha.slice(0,10),v=ha.filter(m=>m.status==="pending"||m.status==="payment_pending"),T=ha.filter(m=>new Date(m.measurementDate).toDateString()===new Date().toDateString()),y=ha.filter(m=>m.status==="verified");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:i("title")}),e.jsx("p",{className:"text-muted-foreground",children:i("subtitle")})]}),j&&e.jsxs(hs,{className:"w-auto",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx(Ns,{children:i("transactionSaved")})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Today's Transactions"}),e.jsx(Ie,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.reduce((m,h)=>m+h.measuredWeight,0).toFixed(1)," kg total"]})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Pending Verification"}),e.jsx(Ae,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:v.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Verified Transactions"}),e.jsx($l,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"IoT verified entries"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Total Value"}),e.jsx(Te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",ha.reduce((m,h)=>m+h.totalAmount,0).toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All transactions"})]})]})]}),e.jsxs(St,{value:s,onValueChange:a,children:[e.jsxs(Ct,{className:"grid w-full grid-cols-3",children:[e.jsx(xe,{value:"new",children:i("newTransaction")}),e.jsx(xe,{value:"iot",children:i("iotWeightCapture")}),e.jsx(xe,{value:"history",children:i("transactionHistory")})]}),e.jsxs(ce,{value:"new",className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:i("farmerDetails")}),e.jsx(De,{children:"Basic farmer information and contact details"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"farmerId",children:i("farmerId")}),e.jsx(fe,{id:"farmerId",value:r.farmerId,onChange:m=>n(h=>({...h,farmerId:m.target.value})),placeholder:"FARM-001"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"farmerName",children:i("farmerName")}),e.jsx(fe,{id:"farmerName",value:r.farmerName,onChange:m=>n(h=>({...h,farmerName:m.target.value})),placeholder:" "})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"farmerAadhaar",children:i("farmerAadhaar")}),e.jsx(fe,{id:"farmerAadhaar",value:r.farmerAadhaar,onChange:m=>n(h=>({...h,farmerAadhaar:m.target.value})),placeholder:"****-****-1234"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"location",children:i("location")}),e.jsx(fe,{id:"location",value:r.location,onChange:m=>n(h=>({...h,location:m.target.value})),placeholder:"Village, District"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"phoneNumber",children:i("phoneNumber")}),e.jsx(fe,{id:"phoneNumber",value:r.phoneNumber,onChange:m=>n(h=>({...h,phoneNumber:m.target.value})),placeholder:"+91 98765 43210"})]})]})]}),e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:i("weightMeasurement")}),e.jsx(De,{children:"Dung quality and weight measurement details"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"dungType",children:i("dungType")}),e.jsxs(Oe,{value:r.dungType,onValueChange:m=>n(h=>({...h,dungType:m})),children:[e.jsx(Me,{children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"cow",children:i("cow")}),e.jsx(Q,{value:"buffalo",children:i("buffalo")}),e.jsx(Q,{value:"mixed",children:i("mixed")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"qualityGrade",children:i("qualityGrade")}),e.jsxs(Oe,{value:r.qualityGrade,onValueChange:m=>n(h=>({...h,qualityGrade:m})),children:[e.jsx(Me,{children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"gradeA",children:i("gradeA")}),e.jsx(Q,{value:"gradeB",children:i("gradeB")}),e.jsx(Q,{value:"gradeC",children:i("gradeC")})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"measuredWeight",children:i("measuredWeight")}),e.jsx(fe,{id:"measuredWeight",type:"number",step:"0.1",value:r.measuredWeight,onChange:m=>n(h=>({...h,measuredWeight:parseFloat(m.target.value)||0})),placeholder:"0.0"}),r.measuredWeight>0&&e.jsxs("div",{className:"text-sm text-green-600",children:[e.jsx(be,{className:"w-4 h-4 inline mr-1"}),i("weightCaptured")]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"moistureContent",children:i("moistureContent")}),e.jsx(fe,{id:"moistureContent",type:"number",value:r.moistureContent,onChange:m=>n(h=>({...h,moistureContent:parseInt(m.target.value)||0})),placeholder:"15"})]})]})]})]}),e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:i("paymentDetails")}),e.jsx(De,{children:"Payment method and amount calculation"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"paymentMethod",children:i("paymentMethod")}),e.jsxs(Oe,{value:r.paymentMethod,onValueChange:m=>n(h=>({...h,paymentMethod:m})),children:[e.jsx(Me,{children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"cash",children:i("cash")}),e.jsx(Q,{value:"online",children:i("online")}),e.jsx(Q,{value:"bank_transfer",children:i("bank_transfer")}),e.jsx(Q,{value:"upi",children:i("upi")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"paymentStatus",children:i("paymentStatus")}),e.jsxs(Oe,{value:r.paymentStatus,onValueChange:m=>n(h=>({...h,paymentStatus:m})),children:[e.jsx(Me,{children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"pending",children:i("pending")}),e.jsx(Q,{value:"partial",children:i("partial")}),e.jsx(Q,{value:"completed",children:i("completed")})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"ratePerKg",children:i("ratePerKg")}),e.jsx(fe,{id:"ratePerKg",type:"number",step:"0.50",value:r.ratePerKg,onChange:m=>n(h=>({...h,ratePerKg:parseFloat(m.target.value)||0}))})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:i("totalAmount")}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["",w().toFixed(2)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"advanceAmount",children:i("advanceAmount")}),e.jsx(fe,{id:"advanceAmount",type:"number",step:"0.50",value:r.advanceAmount,onChange:m=>n(h=>({...h,advanceAmount:parseFloat(m.target.value)||0}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:i("balanceAmount")}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["",S().toFixed(2)]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"notes",children:i("notes")}),e.jsx(na,{id:"notes",value:r.notes,onChange:m=>n(h=>({...h,notes:m.target.value})),placeholder:"Additional notes...",rows:2})]})]})]}),e.jsx(Wx,{onPhotoAdded:f,photos:l,t:i})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(q,{onClick:D,disabled:c||r.measuredWeight===0||l.length===0,className:"w-48",children:c?e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ut,{className:"w-4 h-4 mr-2"}),i("saveTransaction")]})})})]}),e.jsx(ce,{value:"iot",children:e.jsx(Vx,{onWeightCaptured:g,t:i})}),e.jsx(ce,{value:"history",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:i("transactionHistory")}),e.jsx(De,{children:"Comprehensive transaction records with IoT verification and batch tracking"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[b.map(m=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h4",{className:"font-semibold",children:m.farmerName}),e.jsx(V,{className:Ux(m.status),children:i(m.status)}),e.jsx(V,{className:Hx(m.paymentStatus),children:i(m.paymentStatus)}),e.jsx(V,{className:Gx(m.qualityVerificationStatus),children:i(m.qualityVerificationStatus)})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(zt,{className:"w-3 h-3"}),m.farmerId]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Rt,{className:"w-3 h-3"}),m.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Lr,{className:"w-3 h-3"}),m.measuredWeight," kg"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),new Date(m.measurementDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold",children:["",m.totalAmount.toFixed(2)]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:m.receiptNumber})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 bg-blue-50 p-3 rounded text-xs",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-1",children:[e.jsx(Bl,{className:"w-3 h-3"}),"IoT Device"]}),e.jsx("div",{children:m.iotVerification.deviceName}),e.jsx("div",{className:"text-muted-foreground",children:m.iotVerification.deviceId})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-1",children:[e.jsx(Be,{className:"w-3 h-3"}),"Verification Score"]}),e.jsxs("div",{className:"text-green-600 font-bold",children:[m.iotVerification.verification_score.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Batch Reference"}),e.jsx("div",{children:m.batchReference.batchId}),e.jsxs("div",{className:"text-muted-foreground",children:["Yield: ",m.batchReference.expectedYield,"L"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-1",children:[e.jsx(ql,{className:"w-3 h-3"}),"QR Code"]}),e.jsx("div",{className:"font-mono",children:m.qrCode})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",children:"Transport Details"}),e.jsx("div",{children:m.transportDetails.vehicleNumber}),e.jsx("div",{children:m.transportDetails.driverName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",children:"Quality Inspector"}),e.jsx("div",{children:m.inspector.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[m.inspector.signature?e.jsx(be,{className:"w-3 h-3 text-green-600"}):e.jsx(Ae,{className:"w-3 h-3 text-orange-600"}),m.inspector.signature?"Signed":"Pending Signature"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",children:"Certificates"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:m.certificates.map((h,k)=>e.jsx(V,{variant:"outline",className:"text-xs",children:h},k))})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsxs(q,{size:"sm",variant:"outline",children:[e.jsx(jt,{className:"w-4 h-4 mr-1"}),i("viewDetails")]}),e.jsxs(q,{size:"sm",variant:"outline",children:[e.jsx(nr,{className:"w-4 h-4 mr-1"}),i("printReceipt")]}),e.jsxs(q,{size:"sm",variant:"outline",children:[e.jsx(lt,{className:"w-4 h-4 mr-1"}),"Download"]})]})]},m.id)),b.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(li,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No transactions found"})]})]})})]})})]})]})},Ds=d.forwardRef(({className:t,checked:s,onCheckedChange:a,disabled:r,...n},l)=>{const[o,c]=d.useState(!1),u=s!==void 0?s:o,j=a||c;return e.jsx("button",{type:"button",role:"switch","aria-checked":u,ref:l,className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",u?"bg-primary":"bg-input",t),disabled:r,onClick:()=>j(!u),...n,children:e.jsx("span",{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",u?"translate-x-5":"translate-x-0")})})});Ds.displayName="Switch";const Ws=[{id:"A001",level:"warning",type:"temperature",title:"High Temperature Alert - Digester 001",message:"Temperature exceeds optimal range at 42C. Recommended range: 35-40C. Automatic cooling system activated.",digesterId:"DIG-001",timestamp:new Date().toISOString(),status:"active",value:"42.3C",severity:3,location:"Gokul Gaushala Main Unit",assignedTo:" ",estimatedResolution:"2 hours"},{id:"A002",level:"critical",type:"pressure",title:"Critical Pressure Level - Buffalo Unit",message:"Pressure levels dangerously high at 2.1 kPa. Immediate attention required. Safety valve may trigger.",digesterId:"DIG-003",timestamp:new Date(Date.now()-36e5).toISOString(),status:"active",value:"2.1 kPa",severity:5,location:"Yamuna Riverside Buffalo Unit",assignedTo:" ",estimatedResolution:"Immediate"},{id:"A003",level:"warning",type:"methane",title:"Low Methane Content - Secondary Unit",message:"Methane levels dropped to 58%. Expected range: 60-70%. Check feedstock quality and pH levels.",digesterId:"DIG-002",timestamp:new Date(Date.now()-72e5).toISOString(),status:"active",value:"58.2%",severity:3,location:"Vrindavan Organic Farm",assignedTo:" ",estimatedResolution:"4 hours"},{id:"A004",level:"critical",type:"connectivity",title:"IoT Sensor Connection Lost",message:"Temperature and pressure sensors offline for Digester 005. Last reading 45 minutes ago. Manual monitoring required.",digesterId:"DIG-005",timestamp:new Date(Date.now()-27e5).toISOString(),status:"active",value:"Offline 45min",severity:4,location:"Experimental Unit",assignedTo:" ",estimatedResolution:"1 hour"},{id:"A005",level:"warning",type:"gasProduction",title:"Reduced Gas Production - Main Unit",message:"Daily production down 15% from average. Current: 128 m/day, Expected: 150 m/day. Check feeding schedule.",digesterId:"DIG-001",timestamp:new Date(Date.now()-108e5).toISOString(),status:"active",value:"128 m/day",severity:2,location:"Gokul Gaushala Main Unit",assignedTo:" ",estimatedResolution:"6 hours"},{id:"A006",level:"info",type:"maintenance",title:"Scheduled Maintenance Due - Mixed Feed Unit",message:"Routine maintenance scheduled for Digester 004 tomorrow at 10:00 AM. Expected downtime: 4 hours.",digesterId:"DIG-004",timestamp:new Date(Date.now()-144e5).toISOString(),status:"active",value:"Tomorrow 10:00 AM",severity:1,location:"Mixed Feed Processing",assignedTo:" ",estimatedResolution:"24 hours"},{id:"A007",level:"critical",type:"safety",title:"Gas Leak Detection - Safety Alert",message:"Potential gas leak detected near Digester 002. Area evacuated. Emergency response team notified. Safety protocols activated.",digesterId:"DIG-002",timestamp:new Date(Date.now()-18e6).toISOString(),status:"active",value:"Level 3 Alert",severity:5,location:"Vrindavan Organic Farm",assignedTo:" ",estimatedResolution:"Immediate"},{id:"A008",level:"warning",type:"efficiency",title:"Efficiency Drop - Buffalo Unit",message:"Overall efficiency decreased to 78%. Normal range: 85-92%. Consider feedstock optimization and pH adjustment.",digesterId:"DIG-003",timestamp:new Date(Date.now()-216e5).toISOString(),status:"acknowledged",value:"78%",severity:3,location:"Yamuna Riverside Buffalo Unit",assignedTo:" ",estimatedResolution:"8 hours"},{id:"A009",level:"warning",type:"temperature",title:"Low Temperature - Experimental Unit",message:"Temperature dropped to 32C due to ambient weather. Heating system activated. Monitoring bacterial activity.",digesterId:"DIG-005",timestamp:new Date(Date.now()-252e5).toISOString(),status:"resolved",value:"32.1C",severity:2,location:"Experimental Unit",assignedTo:" ",estimatedResolution:"Resolved"},{id:"A010",level:"info",type:"gasProduction",title:"Optimal Production - Main Unit",message:"Excellent gas production recorded. 165 m/day achieved - 10% above target. Feeding schedule optimized.",digesterId:"DIG-001",timestamp:new Date(Date.now()-288e5).toISOString(),status:"resolved",value:"165 m/day",severity:1,location:"Gokul Gaushala Main Unit",assignedTo:" ",estimatedResolution:"Resolved"},{id:"A011",level:"critical",type:"pressure",title:"Pressure Relief Valve Triggered",message:"Automatic pressure relief activated on Digester 004. System stabilized. Check for blockages in gas outlet lines.",digesterId:"DIG-004",timestamp:new Date(Date.now()-324e5).toISOString(),status:"acknowledged",value:"2.3 kPa",severity:4,location:"Mixed Feed Processing",assignedTo:" ",estimatedResolution:"3 hours"},{id:"A012",level:"warning",type:"maintenance",title:"Cleaning Cycle Overdue - Secondary Unit",message:"Digester cleaning overdue by 3 days. Efficiency may be impacted. Schedule cleaning within 24 hours.",digesterId:"DIG-002",timestamp:new Date(Date.now()-36e6).toISOString(),status:"active",value:"3 days overdue",severity:3,location:"Vrindavan Organic Farm",assignedTo:" ",estimatedResolution:"12 hours"},{id:"A013",level:"info",type:"connectivity",title:"IoT System Upgrade Complete",message:"Sensor firmware updated successfully on all digesters. New features: enhanced accuracy and predictive maintenance alerts.",digesterId:"ALL",timestamp:new Date(Date.now()-432e5).toISOString(),status:"resolved",value:"v2.1.3",severity:1,location:"All Units",assignedTo:" ",estimatedResolution:"Completed"},{id:"A014",level:"warning",type:"methane",title:"Methane Purity Concern - Mixed Feed",message:"Methane purity at 61% with higher CO2 content. Check feedstock composition and pH balance. Consider additives.",digesterId:"DIG-004",timestamp:new Date(Date.now()-468e5).toISOString(),status:"acknowledged",value:"61.3%",severity:3,location:"Mixed Feed Processing",assignedTo:" ",estimatedResolution:"6 hours"},{id:"A015",level:"critical",type:"safety",title:"Emergency Shutdown - Buffalo Unit",message:"Emergency shutdown triggered due to multiple sensor failures. Unit isolated. Technical team dispatched for inspection.",digesterId:"DIG-003",timestamp:new Date(Date.now()-504e5).toISOString(),status:"resolved",value:"System Isolated",severity:5,location:"Yamuna Riverside Buffalo Unit",assignedTo:" ",estimatedResolution:"Resolved"}],Yx=[{type:"temperature",enabled:!0,minThreshold:35,maxThreshold:40,unit:"C",description:"Optimal temperature range for methanogenic bacteria activity"},{type:"pressure",enabled:!0,minThreshold:.8,maxThreshold:1.8,unit:"kPa",description:"Safe operating pressure range for biogas digester"},{type:"methane",enabled:!0,minThreshold:60,maxThreshold:75,unit:"%",description:"Methane content percentage in biogas output"},{type:"gasProduction",enabled:!0,minThreshold:100,maxThreshold:200,unit:"m/day",description:"Daily biogas production volume"},{type:"efficiency",enabled:!0,minThreshold:80,maxThreshold:95,unit:"%",description:"Overall digester efficiency percentage"},{type:"connectivity",enabled:!0,minThreshold:95,maxThreshold:100,unit:"%",description:"IoT sensor connectivity and data availability"},{type:"safety",enabled:!0,minThreshold:0,maxThreshold:0,unit:"level",description:"Safety alert threshold (0 = no tolerance for safety issues)"},{type:"maintenance",enabled:!0,minThreshold:0,maxThreshold:7,unit:"days",description:"Maintenance schedule adherence (max 7 days overdue)"}],Ln=async t=>Promise.resolve(),Qx=async t=>Promise.resolve(),Kx=async t=>Promise.resolve(),Zx={en:{title:"Alerts Management",subtitle:"Real-time monitoring and threshold management",activeAlerts:"Active Alerts",alertHistory:"Alert History",thresholdSettings:"Threshold Settings",notificationSettings:"Notification Settings",createAlert:"Create Alert",critical:"Critical",warning:"Warning",info:"Info",success:"Success",temperature:"Temperature",pressure:"Pressure",methane:"Methane Level",gasProduction:"Gas Production",efficiency:"Efficiency",connectivity:"Connectivity",safety:"Safety",maintenance:"Maintenance",digesterId:"Digester ID",alertType:"Alert Type",level:"Level",message:"Message",timestamp:"Timestamp",status:"Status",actions:"Actions",resolve:"Resolve",dismiss:"Dismiss",viewDetails:"View Details",soundAlerts:"Sound Alerts",emailNotifications:"Email Notifications",smsNotifications:"SMS Notifications",pushNotifications:"Push Notifications",acknowledgeAll:"Acknowledge All",clearHistory:"Clear History",exportAlerts:"Export Alerts",minThreshold:"Minimum Threshold",maxThreshold:"Maximum Threshold",enabled:"Enabled",disabled:"Disabled",acknowledged:"Acknowledged",resolved:"Resolved",active:"Active",temperatureThresholds:"Temperature Thresholds",pressureThresholds:"Pressure Thresholds",methaneThresholds:"Methane Thresholds",productionThresholds:"Production Thresholds",alertCount:"Total Alerts",criticalCount:"Critical Alerts",warningCount:"Warning Alerts",resolvedToday:"Resolved Today",alertFrequency:"Alert Frequency",responseTime:"Avg Response Time",systemStatus:"System Status",monitoringActive:"Monitoring Active",allSystems:"All Systems Operational",someIssues:"Some Issues Detected",criticalIssues:"Critical Issues Present",location:"Location",assignedTo:"Assigned To",estimatedResolution:"Est. Resolution",severity:"Severity",value:"Current Value",unit:"Unit",description:"Description"},hi:{title:" ",subtitle:"-    ",activeAlerts:" ",alertHistory:" ",thresholdSettings:" ",notificationSettings:" ",createAlert:" ",critical:"",warning:"",info:"",success:"",temperature:"",pressure:"",methane:" ",gasProduction:" ",efficiency:"",connectivity:"",safety:"",maintenance:"",digesterId:" ",alertType:" ",level:"",message:"",timestamp:"",status:"",actions:"",resolve:" ",dismiss:" ",viewDetails:" ",soundAlerts:" ",emailNotifications:" ",smsNotifications:"SMS ",pushNotifications:" ",acknowledgeAll:"  ",clearHistory:"  ",exportAlerts:"  ",minThreshold:" ",maxThreshold:" ",enabled:"",disabled:"",acknowledged:"",resolved:"  ",active:"",temperatureThresholds:" ",pressureThresholds:" ",methaneThresholds:" ",productionThresholds:" ",alertCount:" ",criticalCount:" ",warningCount:" ",resolvedToday:"   ",alertFrequency:" ",responseTime:"  ",systemStatus:" ",monitoringActive:" ",allSystems:"  ",someIssues:"  ",criticalIssues:"  ",location:"",assignedTo:" ",estimatedResolution:" ",severity:"",value:" ",unit:"",description:""}},al=t=>{switch(t){case"critical":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"info":return"bg-blue-100 text-blue-800";case"success":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},rl=t=>{switch(t){case"critical":return e.jsx(we,{className:"w-4 h-4 text-red-500"});case"warning":return e.jsx(Le,{className:"w-4 h-4 text-yellow-500"});case"info":return e.jsx(oi,{className:"w-4 h-4 text-blue-500"});case"success":return e.jsx(be,{className:"w-4 h-4 text-green-500"});default:return e.jsx(Pa,{className:"w-4 h-4 text-gray-500"})}},zr=t=>{switch(t){case"temperature":return e.jsx(Xa,{className:"w-4 h-4"});case"pressure":return e.jsx(Na,{className:"w-4 h-4"});case"methane":return e.jsx(ks,{className:"w-4 h-4"});case"gasProduction":return e.jsx($e,{className:"w-4 h-4"});case"efficiency":return e.jsx(be,{className:"w-4 h-4"});case"connectivity":return e.jsx(va,{className:"w-4 h-4"});case"safety":return e.jsx(Be,{className:"w-4 h-4"});case"maintenance":return e.jsx(di,{className:"w-4 h-4"});default:return e.jsx(Pa,{className:"w-4 h-4"})}},Jx=t=>t>=5?e.jsx(we,{className:"w-4 h-4 text-red-500"}):t>=4?e.jsx(Le,{className:"w-4 h-4 text-orange-500"}):t>=3?e.jsx(Le,{className:"w-4 h-4 text-yellow-500"}):t>=2?e.jsx(oi,{className:"w-4 h-4 text-blue-500"}):e.jsx(be,{className:"w-4 h-4 text-green-500"}),Xx=({alert:t,onResolve:s,onDismiss:a,t:r})=>e.jsx(P,{className:`border-l-4 ${t.level==="critical"?"border-l-red-500":t.level==="warning"?"border-l-yellow-500":t.level==="info"?"border-l-blue-500":"border-l-green-500"}`,children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[rl(t.level),e.jsx(V,{className:al(t.level),children:r(t.level)}),e.jsxs(V,{variant:"outline",children:[zr(t.type),e.jsx("span",{className:"ml-1",children:r(t.type)})]}),t.severity&&e.jsxs("div",{className:"flex items-center gap-1",children:[Jx(t.severity),e.jsxs("span",{className:"text-xs",children:[t.severity,"/5"]})]})]}),e.jsx("h4",{className:"font-semibold",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.message}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",t.location]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Assigned:"})," ",t.assignedTo]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Digester:"})," ",t.digesterId]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ETA:"})," ",t.estimatedResolution]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Time:"})," ",new Date(t.timestamp).toLocaleString()]}),t.value&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Value:"})," ",t.value]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(q,{size:"sm",variant:"outline",onClick:()=>s(t.id),disabled:t.status==="resolved",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx(q,{size:"sm",variant:"outline",onClick:()=>a(t.id),disabled:t.status==="resolved",children:e.jsx(ni,{className:"w-4 h-4"})}),e.jsx(q,{size:"sm",variant:"outline",children:e.jsx(jt,{className:"w-4 h-4"})})]})]})})}),eh=({config:t,onUpdate:s,t:a})=>{const[r,n]=d.useState(t),l=()=>{s(r)};return e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[zr(t.type),a(t.type)," ",a("thresholds")]}),e.jsxs(De,{children:[t.description," (",t.unit,")"]})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{htmlFor:`${t.type}-enabled`,children:"Enable Monitoring"}),e.jsx(Ds,{id:`${t.type}-enabled`,checked:r.enabled,onCheckedChange:o=>n(c=>({...c,enabled:o}))})]}),r.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:`${t.type}-min`,children:[a("minThreshold")," (",t.unit,")"]}),e.jsx(fe,{id:`${t.type}-min`,type:"number",value:r.minThreshold,onChange:o=>n(c=>({...c,minThreshold:parseFloat(o.target.value)||0}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:`${t.type}-max`,children:[a("maxThreshold")," (",t.unit,")"]}),e.jsx(fe,{id:`${t.type}-max`,type:"number",value:r.maxThreshold,onChange:o=>n(c=>({...c,maxThreshold:parseFloat(o.target.value)||0}))})]})]}),e.jsx(q,{onClick:l,className:"w-full",children:"Save Configuration"})]})]})]})},th=({languageContext:t})=>{const[s,a]=d.useState("all"),[r,n]=d.useState("all"),[l,o]=d.useState("all"),[c,u]=d.useState(!0),[j,N]=d.useState({sound:!0,email:!0,sms:!1,push:!0}),x=t?.language||"en",i=m=>t?.t(m)||Zx[x][m]||m;d.useEffect(()=>{if(!c)return;const m=setInterval(()=>{},5e3);return()=>clearInterval(m)},[c]);const g=Ws.filter(m=>{const h=s==="all"||m.level===s,k=r==="all"||m.type===r,p=l==="all"||m.status===l;return h&&k&&p}),f=Ws.filter(m=>m.status==="active"),w=f.filter(m=>m.level==="critical"),S=f.filter(m=>m.level==="warning"),D=Ws.filter(m=>m.status==="resolved"&&new Date(m.timestamp).toDateString()===new Date().toDateString()),b=w.length>0?"critical":S.length>0?"warning":"normal",v=async m=>{await Ln()},T=async m=>{await Qx()},y=async()=>{for(const m of f)await Ln(m.id)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:i("title")}),e.jsx("p",{className:"text-muted-foreground",children:i("subtitle")})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{htmlFor:"monitoring-toggle",children:i("monitoringActive")}),e.jsx(Ds,{id:"monitoring-toggle",checked:c,onCheckedChange:u})]}),e.jsxs(q,{onClick:y,disabled:f.length===0,variant:"outline",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),i("acknowledgeAll")," (",f.length,")"]})]})]}),b!=="normal"&&e.jsxs(hs,{className:`${b==="critical"?"border-red-200 bg-red-50":"border-yellow-200 bg-yellow-50"}`,children:[e.jsx(we,{className:`h-4 w-4 ${b==="critical"?"text-red-600":"text-yellow-600"}`}),e.jsxs(Ns,{className:`${b==="critical"?"text-red-800":"text-yellow-800"}`,children:[i(b==="critical"?"criticalIssues":"someIssues"),b==="critical"&&` - ${w.length} critical alerts require immediate attention.`]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:i("alertCount")}),e.jsx(Pa,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Ws.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.length," active"]})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:i("criticalCount")}),e.jsx(we,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:w.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Require immediate action"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:i("warningCount")}),e.jsx(Le,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:S.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:i("resolvedToday")}),e.jsx(be,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:D.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Issues resolved"})]})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:i("responseTime")}),e.jsx(Ae,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"2.4h"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Average resolution time"})]})]})]}),e.jsxs(St,{defaultValue:"active",className:"space-y-6",children:[e.jsxs(Ct,{className:"grid w-full grid-cols-4",children:[e.jsx(xe,{value:"active",children:i("activeAlerts")}),e.jsx(xe,{value:"history",children:i("alertHistory")}),e.jsx(xe,{value:"thresholds",children:i("thresholdSettings")}),e.jsx(xe,{value:"notifications",children:i("notificationSettings")})]}),e.jsxs(ce,{value:"active",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Us,{className:"w-4 h-4"}),e.jsx(ee,{children:"Filters:"})]}),e.jsxs(Oe,{value:s,onValueChange:m=>a(m),children:[e.jsx(Me,{className:"w-40",children:e.jsx(Fe,{placeholder:"Level"})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"all",children:"All Levels"}),e.jsx(Q,{value:"critical",children:i("critical")}),e.jsx(Q,{value:"warning",children:i("warning")}),e.jsx(Q,{value:"info",children:i("info")})]})]}),e.jsxs(Oe,{value:r,onValueChange:m=>n(m),children:[e.jsx(Me,{className:"w-40",children:e.jsx(Fe,{placeholder:"Type"})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"all",children:"All Types"}),e.jsx(Q,{value:"temperature",children:i("temperature")}),e.jsx(Q,{value:"pressure",children:i("pressure")}),e.jsx(Q,{value:"methane",children:i("methane")}),e.jsx(Q,{value:"gasProduction",children:i("gasProduction")}),e.jsx(Q,{value:"efficiency",children:i("efficiency")}),e.jsx(Q,{value:"connectivity",children:i("connectivity")}),e.jsx(Q,{value:"safety",children:i("safety")}),e.jsx(Q,{value:"maintenance",children:i("maintenance")})]})]}),e.jsxs(Oe,{value:l,onValueChange:m=>o(m),children:[e.jsx(Me,{className:"w-40",children:e.jsx(Fe,{placeholder:"Status"})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"all",children:"All Status"}),e.jsx(Q,{value:"active",children:i("active")}),e.jsx(Q,{value:"acknowledged",children:i("acknowledged")}),e.jsx(Q,{value:"resolved",children:i("resolved")})]})]})]}),e.jsx("div",{className:"space-y-4",children:g.length===0?e.jsx(P,{children:e.jsxs(E,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(be,{className:"w-16 h-16 text-green-500 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-2",children:i("allSystems")}),e.jsx("p",{className:"text-muted-foreground text-center",children:"No alerts match the current filter criteria. All monitored systems are operating within normal parameters."})]})}):g.map(m=>e.jsx(Xx,{alert:m,onResolve:v,onDismiss:T,t:i},m.id))})]}),e.jsx(ce,{value:"history",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:i("alertHistory")}),e.jsx(De,{children:"Historical alert data and resolution tracking with detailed analysis"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[Ws.slice(0,20).map(m=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[rl(m.level),e.jsx(V,{className:al(m.level),children:i(m.level)}),e.jsxs(V,{variant:"outline",children:[zr(m.type),e.jsx("span",{className:"ml-1",children:i(m.type)})]}),e.jsx(V,{variant:m.status==="resolved"?"default":"secondary",children:i(m.status)})]}),e.jsx("h4",{className:"font-semibold",children:m.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Location: ",m.location]}),e.jsxs("span",{children:["Assigned: ",m.assignedTo]}),e.jsx("span",{children:new Date(m.timestamp).toLocaleString()})]})]}),e.jsx(q,{size:"sm",variant:"outline",children:e.jsx(jt,{className:"w-4 h-4"})})]},m.id)),Ws.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ae,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"No alert history available"})]})]})})]})}),e.jsx(ce,{value:"thresholds",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:Yx.map(m=>e.jsx(eh,{config:m,onUpdate:Kx,t:i},m.type))})}),e.jsx(ce,{value:"notifications",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:i("notificationSettings")}),e.jsx(De,{children:"Configure how you receive alert notifications"})]}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs(ee,{htmlFor:"sound-alerts",className:"flex items-center gap-2",children:[j.sound?e.jsx(ea,{className:"w-4 h-4"}):e.jsx(ci,{className:"w-4 h-4"}),i("soundAlerts")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sound when new alerts arrive"})]}),e.jsx(Ds,{id:"sound-alerts",checked:j.sound,onCheckedChange:m=>N(h=>({...h,sound:m}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ee,{htmlFor:"email-notifications",children:i("emailNotifications")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send alerts via email"})]}),e.jsx(Ds,{id:"email-notifications",checked:j.email,onCheckedChange:m=>N(h=>({...h,email:m}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ee,{htmlFor:"sms-notifications",children:i("smsNotifications")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send critical alerts via SMS"})]}),e.jsx(Ds,{id:"sms-notifications",checked:j.sms,onCheckedChange:m=>N(h=>({...h,sms:m}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ee,{htmlFor:"push-notifications",children:i("pushNotifications")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Browser push notifications"})]}),e.jsx(Ds,{id:"push-notifications",checked:j.push,onCheckedChange:m=>N(h=>({...h,push:m}))})]})]})]}),e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:"Alert Management"}),e.jsx(De,{children:"Bulk actions and system controls"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs(q,{onClick:y,disabled:f.length===0,className:"w-full",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),i("acknowledgeAll")," (",f.length,")"]}),e.jsxs(q,{variant:"outline",className:"w-full",children:[e.jsx(_r,{className:"w-4 h-4 mr-2"}),i("clearHistory")]}),e.jsxs(q,{variant:"outline",className:"w-full",children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),i("exportAlerts")]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{children:"Real-time Monitoring"}),e.jsxs("div",{className:"flex items-center gap-2",children:[c?e.jsx(Fr,{className:"w-4 h-4 text-green-500"}):e.jsx(ri,{className:"w-4 h-4 text-gray-500"}),e.jsx(Ds,{checked:c,onCheckedChange:u})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:c?"Monitoring system is active":"Monitoring is paused"})]})]})]})]})})]})]})},sh=()=>{const{user:t}=as(),s=ve(),a=Hs(),r=[{id:"dashboard",label:"Dashboard",icon:e.jsx(Ze,{className:"w-4 h-4"}),onClick:()=>s("/cluster"),isActive:a.pathname==="/cluster"},{id:"digesters",label:"Digester Monitoring",icon:e.jsx(er,{className:"w-4 h-4"}),onClick:()=>s("/cluster/digesters"),isActive:a.pathname==="/cluster/digesters"},{id:"batches",label:"Batch Management",icon:e.jsx(Lr,{className:"w-4 h-4"}),onClick:()=>s("/cluster/batches"),isActive:a.pathname==="/cluster/batches"},{id:"disputes",label:"Dispute Resolution",icon:e.jsx(Ul,{className:"w-4 h-4"}),onClick:()=>s("/cluster/disputes"),isActive:a.pathname==="/cluster/disputes"},{id:"payments",label:"Payment Reconciliation",icon:e.jsx(tr,{className:"w-4 h-4"}),onClick:()=>s("/cluster/payments"),isActive:a.pathname==="/cluster/payments"},{id:"scheduler",label:"Pickup Scheduler",icon:e.jsx(Ae,{className:"w-4 h-4"}),onClick:()=>s("/cluster/scheduler"),isActive:a.pathname==="/cluster/scheduler"},{id:"transactions",label:"Transaction Entry",icon:e.jsx(nr,{className:"w-4 h-4"}),onClick:()=>s("/cluster/transactions"),isActive:a.pathname==="/cluster/transactions"},{id:"alerts",label:"Alerts Management",icon:e.jsx(Pa,{className:"w-4 h-4"}),onClick:()=>s("/cluster/alerts"),isActive:a.pathname==="/cluster/alerts"}],n=[{label:"SAUBHAGYA",onClick:()=>s("/")},{label:"BiogasSangh Cluster",onClick:()=>s("/cluster")}],l=()=>{const o=a.pathname;return o==="/cluster/digesters"?e.jsx(xd,{}):o==="/cluster/batches"?e.jsx(vd,{}):o==="/cluster/disputes"?e.jsx(Sd,{}):o==="/cluster/payments"?e.jsx(Dd,{}):o==="/cluster/scheduler"?e.jsx($x,{}):o==="/cluster/transactions"?e.jsx(zx,{}):o==="/cluster/alerts"?e.jsx(th,{}):e.jsx(id,{})};return e.jsx(aa,{moduleName:"BiogasSangh",moduleSubtitle:"Cluster Management & Operations",navigationItems:r,userInfo:{name:t?.name||"Cluster Manager",role:"CLUSTER_MANAGER"},breadcrumbs:n,contentClassName:"!pt-16 !mt-2",children:l()})},br=()=>[{id:"cust_001",name:"Green Energy Industries",type:"industrial",contactPerson:"Rajesh Kumar",phone:"+91-9876543210",email:"rajesh@greenenergy.com",address:{street:"123 Industrial Area, Phase 2",city:"Noida",state:"Uttar Pradesh",pincode:"201301",coordinates:{lat:28.5355,lng:77.391}},creditLimit:5e6,creditUsed:125e4,paymentTerms:30,gstNumber:"09ABCDE1234F1Z5",panNumber:"ABCDE1234F",status:"active",registrationDate:new Date("2023-01-15"),lastOrderDate:new Date("2024-09-15"),totalOrders:45,totalRevenue:125e5,riskCategory:"low"},{id:"cust_002",name:"Sunrise Hotel Chain",type:"commercial",contactPerson:"Priya Sharma",phone:"+91-9876543211",email:"priya@sunrisehotels.com",address:{street:"45 MG Road",city:"Bangalore",state:"Karnataka",pincode:"560001",coordinates:{lat:12.9716,lng:77.5946}},creditLimit:1e6,creditUsed:15e4,paymentTerms:15,gstNumber:"29FGHIJ5678K2L6",panNumber:"FGHIJ5678K",status:"active",registrationDate:new Date("2023-03-20"),lastOrderDate:new Date("2024-09-20"),totalOrders:32,totalRevenue:28e5,riskCategory:"low"},{id:"cust_003",name:"Residential Society - Emerald Heights",type:"residential",contactPerson:"Amit Verma",phone:"+91-9876543212",email:"amit@emeraldheights.com",address:{street:"Emerald Heights, Sector 65",city:"Gurgaon",state:"Haryana",pincode:"122018",coordinates:{lat:28.4089,lng:77.0507}},creditLimit:5e5,creditUsed:75e3,paymentTerms:7,status:"active",registrationDate:new Date("2023-06-10"),lastOrderDate:new Date("2024-09-18"),totalOrders:28,totalRevenue:85e4,riskCategory:"medium"}],_n=()=>[{id:"cont_001",customerId:"cust_001",contractNumber:"SB-2024-001",type:"supply",status:"active",startDate:new Date("2024-01-01"),endDate:new Date("2024-12-31"),gasType:"biogas",quantity:1e4,pricePerUnit:45,totalValue:54e5,paymentTerms:{advancePercentage:20,creditDays:30,penaltyRate:2},deliveryTerms:{location:"Customer Site",frequency:"monthly",transportMode:"pipeline"},version:1,signedDate:new Date("2023-12-15"),signedBy:{customer:{name:"Rajesh Kumar",designation:"CEO",signature:"digital_signature_1"},company:{name:"Saubhagya Representative",designation:"Sales Manager",signature:"digital_signature_2"}},documents:[{id:"doc_001",name:"Supply Agreement.pdf",type:"contract",url:"/documents/supply_agreement_001.pdf",uploadDate:new Date("2023-12-15")}]}],$n=()=>[{id:"inv_001",gasType:"biogas",batchNumber:"BG-2024-001",productionDate:new Date("2024-09-15"),quantity:5e3,availableQuantity:3500,unit:"cubic_meters",quality:{methaneContent:65,purity:98.5,pressure:15,temperature:25},location:{plantId:"plant_001",tankId:"tank_A1",coordinates:{lat:28.7041,lng:77.1025}},pesoCompliance:{certificateNumber:"PESO-2024-001",issueDate:new Date("2024-01-15"),expiryDate:new Date("2025-01-15"),status:"valid",inspector:"Dr. Rajesh Gupta"},pricePerUnit:45,reservedQuantity:1500,status:"available"},{id:"inv_002",gasType:"compressed",batchNumber:"CG-2024-005",productionDate:new Date("2024-09-20"),quantity:2e3,availableQuantity:1800,unit:"kg",quality:{methaneContent:95,purity:99.2,pressure:200,temperature:20},location:{plantId:"plant_002",tankId:"tank_B2",coordinates:{lat:28.6139,lng:77.209}},pesoCompliance:{certificateNumber:"PESO-2024-002",issueDate:new Date("2024-02-01"),expiryDate:new Date("2025-02-01"),status:"valid",inspector:"Mr. Suresh Yadav"},pricePerUnit:65,reservedQuantity:200,status:"available"}],ah=()=>[{id:"ord_001",orderNumber:"ORD-2024-001",customerId:"cust_001",contractId:"cont_001",orderDate:new Date("2024-09-15"),requestedDeliveryDate:new Date("2024-09-25"),status:"confirmed",items:[{inventoryId:"inv_001",gasType:"biogas",quantity:1e3,pricePerUnit:45,totalAmount:45e3,batchNumber:"BG-2024-001"}],totalQuantity:1e3,totalAmount:45e3,discountPercentage:5,discountAmount:2250,taxAmount:7695,finalAmount:50445,deliveryAddress:{street:"123 Industrial Area, Phase 2",city:"Noida",state:"Uttar Pradesh",pincode:"201301",coordinates:{lat:28.5355,lng:77.391}},deliveryInstructions:"Delivery during business hours only",invoiceGenerated:!0,invoiceNumber:"INV-2024-001",paymentStatus:"pending",createdBy:"sales_user_001",lastModifiedBy:"sales_user_001",lastModifiedDate:new Date("2024-09-15")}],rh=()=>[{id:"inv_001",invoiceNumber:"INV-2024-001",orderId:"ord_001",customerId:"cust_001",invoiceDate:new Date("2024-09-15"),dueDate:new Date("2024-10-15"),status:"sent",items:[{description:"Biogas Supply - BG-2024-001",quantity:1e3,unit:"cubic meters",pricePerUnit:45,totalAmount:45e3,taxRate:18,taxAmount:8100}],subtotal:45e3,discountAmount:2250,taxAmount:7695,totalAmount:50445,paidAmount:0,balanceAmount:50445,paymentTerms:"Net 30 days",bankDetails:{accountName:"Saubhagya Energy Solutions",accountNumber:"1234567890",ifscCode:"SBIN0001234",bankName:"State Bank of India"},notes:"Payment due within 30 days of invoice date",generatedBy:"manual"}],Nt={async getCustomers(t){const s=br();return{success:!0,data:s,pagination:{page:1,limit:10,total:s.length,totalPages:1}}},async getCustomerById(t){const a=br().find(r=>r.id===t);return{success:!!a,data:a,message:a?"Customer found":"Customer not found"}},async createCustomer(t){return{success:!0,data:{...t,id:`cust_${Date.now()}`},message:"Customer created successfully"}},async updateCustomer(t,s){const r=br().find(l=>l.id===t);return r?{success:!0,data:{...r,...s},message:"Customer updated successfully"}:{success:!1,data:null,message:"Customer not found"}},async getContracts(){const t=_n();return{success:!0,data:t,pagination:{page:1,limit:10,total:t.length,totalPages:1}}},async getContractById(t){const a=_n().find(r=>r.id===t);return{success:!!a,data:a,message:a?"Contract found":"Contract not found"}},async createContract(t){return{success:!0,data:{...t,id:`cont_${Date.now()}`},message:"Contract created successfully"}},async getInventory(t){const s=$n();return{success:!0,data:s,pagination:{page:1,limit:10,total:s.length,totalPages:1}}},async updateInventoryItem(t,s){const r=$n().find(l=>l.id===t);return r?{success:!0,data:{...r,...s},message:"Inventory item updated successfully"}:{success:!1,data:null,message:"Inventory item not found"}},async getOrders(t){const s=ah();return{success:!0,data:s,pagination:{page:1,limit:10,total:s.length,totalPages:1}}},async createOrder(t){return{success:!0,data:{...t,id:`ord_${Date.now()}`,orderNumber:`ORD-${new Date().getFullYear()}-${Date.now().toString().slice(-6)}`},message:"Order created successfully"}},async getInvoices(){const t=rh();return{success:!0,data:t,pagination:{page:1,limit:10,total:t.length,totalPages:1}}},async generateInvoice(t){return{success:!0,data:{id:`inv_${Date.now()}`,invoiceNumber:`INV-${new Date().getFullYear()}-${Date.now().toString().slice(-6)}`,orderId:t,customerId:"cust_001",invoiceDate:new Date,dueDate:new Date(Date.now()+2592e6),status:"draft",items:[],subtotal:0,discountAmount:0,taxAmount:0,totalAmount:0,paidAmount:0,balanceAmount:0,paymentTerms:"Net 30 days",bankDetails:{accountName:"Saubhagya Energy Solutions",accountNumber:"1234567890",ifscCode:"SBIN0001234",bankName:"State Bank of India"},generatedBy:"manual"},message:"Invoice generated successfully"}},async startVoiceSession(t){return{success:!0,data:{id:`voice_${Date.now()}`,sessionId:`session_${Date.now()}`,startTime:new Date,language:t,transcription:"",confidence:0,extractedData:{items:[]},status:"recording",validationErrors:[]},message:"Voice session started"}},async processVoiceData(t,s){return{success:!0,data:{id:t,sessionId:t,startTime:new Date(Date.now()-6e4),endTime:new Date,language:"hindi",transcription:"          ,    ",confidence:.85,extractedData:{customerName:"Green Energy Industries",customerId:"cust_001",items:[{description:"Biogas",quantity:1e3,unit:"cubic meters",pricePerUnit:45}],totalAmount:45e3},status:"completed",validationErrors:[]},message:"Voice data processed successfully"}},async getPayments(){return{success:!0,data:[],pagination:{page:1,limit:10,total:0,totalPages:0}}},async getDeliveries(){return{success:!0,data:[],pagination:{page:1,limit:10,total:0,totalPages:0}}},async getPriceData(){return{success:!0,data:[],message:"Price data retrieved successfully"}},async getComplianceRecords(){return{success:!0,data:[],pagination:{page:1,limit:10,total:0,totalPages:0}}},async getSalesMetrics(){return{success:!0,data:{totalRevenue:15e6,totalOrders:105,averageOrderValue:142857,totalCustomers:25,activeContracts:8,inventoryValue:25e5,pendingPayments:75e4,deliverySuccess:98.5,customerSatisfaction:4.6,periodComparison:{revenue:{current:15e6,previous:12e6,change:25},orders:{current:105,previous:85,change:23.5},customers:{current:25,previous:20,change:25}}},message:"Metrics retrieved successfully"}}},Ua=({title:t,value:s,change:a,icon:r,description:n,status:l="neutral"})=>{const o=()=>a===void 0?"text-gray-500":a>=0?"text-green-600":"text-red-600",c=()=>a===void 0?null:a>=0?e.jsx(Te,{className:"w-4 h-4"}):e.jsx(xs,{className:"w-4 h-4"});return e.jsxs(P,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:t}),r]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s}),a!==void 0&&e.jsxs("div",{className:`flex items-center space-x-1 text-xs ${o()}`,children:[c(),e.jsxs("span",{children:[Math.abs(a),"% from last month"]})]}),n&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n})]})]})},nh=({order:t})=>{const s=a=>{switch(a){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:t.orderNumber}),e.jsx(V,{className:s(t.status),children:t.status})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[t.items[0]?.gasType,"  ",t.totalQuantity.toLocaleString()," units"]}),e.jsx("div",{className:"text-xs text-gray-500",children:t.orderDate.toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold",children:["",t.finalAmount.toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Due: ",t.requestedDeliveryDate.toLocaleDateString()]})]})]})},ih=({item:t})=>{const a=(()=>{const r=(t.quantity-t.availableQuantity)/t.quantity*100;return r>80?{color:"text-red-600",level:"Critical"}:r>60?{color:"text-yellow-600",level:"Warning"}:{color:"text-blue-600",level:"Info"}})();return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(we,{className:`w-5 h-5 ${a.color}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.batchNumber}),e.jsxs("div",{className:"text-sm text-gray-600",children:[t.gasType,"  Available: ",t.availableQuantity.toLocaleString()," ",t.unit]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["PESO: ",t.pesoCompliance.status]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(V,{className:a.color.includes("red")?"bg-red-100 text-red-800":a.color.includes("yellow")?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:a.level}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["",(t.availableQuantity*t.pricePerUnit).toLocaleString()]})]})]})},lh=[{metric:"Delivery Success",current:98.5,target:98},{metric:"Customer Satisfaction",current:87,target:90},{metric:"Order Fulfillment",current:95.2,target:95},{metric:"Payment Collection",current:82,target:95}],ch=[{month:"Jan",value:1850},{month:"Feb",value:2305},{month:"Mar",value:1870},{month:"Apr",value:2450},{month:"May",value:2890},{month:"Jun",value:3140}],oh=[{type:"Biogas",percentage:45,color:"bg-blue-500"},{type:"CBG",percentage:30,color:"bg-green-500"},{type:"Methane",percentage:25,color:"bg-purple-500"}],dh=[{month:"Jan",customers:12},{month:"Feb",customers:18},{month:"Mar",customers:15},{month:"Apr",customers:22},{month:"May",customers:25},{month:"Jun",customers:28}],Bn=({data:t,title:s})=>{const a=Math.max(...t.map(r=>r.value||r.customers));return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative h-48 flex items-end justify-between space-x-1 bg-gray-50 p-4 rounded-lg",children:t.map((r,n)=>{const l=r.value||r.customers,o=l/a*80,u=r.value!==void 0?`${(l/1e3).toFixed(1)}K`:l.toString();return e.jsxs("div",{className:"flex-1 flex flex-col items-center relative",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-2 absolute -top-6",children:u}),e.jsxs("div",{className:"w-full flex flex-col items-center",children:[e.jsx("div",{className:"w-8 bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-md transition-all duration-300 hover:from-blue-700 hover:to-blue-500 shadow-md border border-blue-300",style:{height:`${Math.max(o,12)}px`,minHeight:"12px"},title:`${r.month}: ${u}`}),e.jsx("span",{className:"text-xs text-gray-600 font-medium mt-2",children:r.month})]})]},n)})}),e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Peak: ",s.includes("Revenue")?`${(a/1e3).toFixed(1)}K`:a,"  Growth: ",s.includes("Revenue")?"+69.7%":"+133%"," vs Jan"]})]})},mh=({data:t,title:s})=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:s}),e.jsx("div",{className:"space-y-3",children:t.map((a,r)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${a.color}`}),e.jsx("span",{className:"text-gray-600",children:a.type})]}),e.jsxs("span",{className:"font-medium",children:[a.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${a.color} transition-all duration-300`,style:{width:`${a.percentage}%`}})})]},r))})]}),uh=()=>{const[t,s]=d.useState(null),[a,r]=d.useState([]),[n,l]=d.useState([]),[o,c]=d.useState(!0),[u,j]=d.useState(new Date),N=async()=>{c(!0);try{const[x,i,g]=await Promise.all([Nt.getSalesMetrics(),Nt.getOrders(),Nt.getInventory()]);if(x.success&&s(x.data),i.success&&r(i.data.slice(0,5)),g.success){const f=g.data.filter(w=>(w.quantity-w.availableQuantity)/w.quantity*100>60||w.pesoCompliance.status!=="valid");l(f.slice(0,5))}j(new Date)}catch{}finally{c(!1)}};return d.useEffect(()=>{N()},[]),o?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(us,{className:"w-8 h-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading dashboard..."})]}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sales Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Overview of your biogas sales performance and operations"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right text-sm",children:[e.jsx("div",{className:"text-muted-foreground",children:"Last updated"}),e.jsx("div",{className:"font-semibold",children:u.toLocaleTimeString()})]}),e.jsxs(q,{variant:"outline",size:"sm",onClick:N,children:[e.jsx(us,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Ua,{title:"Total Revenue",value:`${(t.totalRevenue/1e6).toFixed(1)}M`,change:t.periodComparison.revenue.change,icon:e.jsx(Bt,{className:"w-5 h-5 text-green-600"}),description:"Monthly revenue growth"}),e.jsx(Ua,{title:"Total Orders",value:t.totalOrders,change:t.periodComparison.orders.change,icon:e.jsx(Ge,{className:"w-5 h-5 text-blue-600"}),description:"Orders processed"}),e.jsx(Ua,{title:"Active Customers",value:t.totalCustomers,change:t.periodComparison.customers.change,icon:e.jsx(st,{className:"w-5 h-5 text-purple-600"}),description:"Customer base growth"}),e.jsx(Ua,{title:"Avg Order Value",value:`${(t.averageOrderValue/1e3).toFixed(0)}K`,icon:e.jsx(rt,{className:"w-5 h-5 text-orange-600"}),description:"Per order average"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(_,{className:"pb-3",children:e.jsxs($,{className:"flex items-center space-x-2 text-base",children:[e.jsx($e,{className:"w-4 h-4 text-indigo-600"}),e.jsx("span",{children:"Performance Metrics"})]})}),e.jsx(E,{className:"space-y-3",children:lh.map(x=>{const i=x.current/x.target*100,g=x.current>=x.target,f=x.current>=x.target*.9;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:x.metric}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[x.current,"% / ",x.target,"%"]}),e.jsx("div",{className:`w-3 h-3 rounded-full flex items-center justify-center text-xs ${g?"bg-green-100 text-green-700":f?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:g?"":f?"!":""})]})]}),e.jsx("div",{className:"relative w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${g?"bg-green-500":f?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(i,100)}%`}})})]},x.metric)})})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"pb-3",children:[e.jsxs($,{className:"flex items-center space-x-2 text-base",children:[e.jsx(Ze,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:"Revenue Trend"})]}),e.jsx(De,{className:"text-xs",children:"6-month revenue performance"})]}),e.jsx(E,{children:e.jsx(Bn,{data:ch,title:"Monthly Revenue"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsxs(_,{className:"pb-3",children:[e.jsxs($,{className:"flex items-center space-x-2 text-base",children:[e.jsx(lr,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Gas Type Mix"})]}),e.jsx(De,{className:"text-xs",children:"Distribution by gas type"})]}),e.jsx(E,{children:e.jsx(mh,{data:oh,title:"Gas Types"})})]}),e.jsxs(P,{children:[e.jsxs(_,{className:"pb-3",children:[e.jsxs($,{className:"flex items-center space-x-2 text-base",children:[e.jsx($e,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Customer Growth"})]}),e.jsx(De,{className:"text-xs",children:"New customers per month"})]}),e.jsx(E,{children:e.jsx(Bn,{data:dh,title:"New Customers"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),e.jsx("span",{children:"Recent Orders"})]}),e.jsx(De,{children:"Latest order activity"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:a.length>0?a.map(x=>e.jsx(nh,{order:x},x.id)):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No recent orders available"})})})]}),e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center space-x-2",children:[e.jsx(we,{className:"w-5 h-5"}),e.jsx("span",{children:"Inventory Alerts"})]}),e.jsx(De,{children:"Items requiring attention"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:n.length>0?n.map(x=>e.jsx(ih,{item:x},x.id)):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No inventory alerts at this time"})})})]})]})]})},xh=({customer:t,onEdit:s,onViewDetails:a})=>{const r=c=>{switch(c){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},n=c=>{switch(c){case"commercial":return"bg-blue-100 text-blue-800";case"industrial":return"bg-purple-100 text-purple-800";case"residential":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},l=c=>{switch(c){case"low":return"text-green-600";case"medium":return"text-yellow-600";case"high":return"text-red-600";default:return"text-gray-600"}},o=t.creditUsed/t.creditLimit*100;return e.jsxs(P,{className:"hover:shadow-md transition-shadow",children:[e.jsx(_,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx($,{className:"text-lg",children:t.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:r(t.status),children:t.status}),e.jsx(V,{className:n(t.type),children:t.type})]})]}),e.jsx(q,{variant:"ghost",size:"sm",children:e.jsx(mi,{className:"w-4 h-4"})})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ui,{className:"w-4 h-4 mr-2"}),t.contactPerson]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ba,{className:"w-4 h-4 mr-2"}),t.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Tr,{className:"w-4 h-4 mr-2"}),t.email]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),t.address.city,", ",t.address.state]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Credit Utilization"}),e.jsxs("span",{className:l(t.riskCategory),children:[o.toFixed(1),"%"]})]}),e.jsx(Ce,{value:o,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Used: ",(t.creditUsed/1e3).toFixed(0),"K"]}),e.jsxs("span",{children:["Limit: ",(t.creditLimit/1e3).toFixed(0),"K"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold",children:t.totalOrders}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Orders"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold",children:["",(t.totalRevenue/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Revenue"})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsx(q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>a(t),children:"View Details"}),e.jsxs(q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>s(t),children:[e.jsx(We,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})]})},hh=({customer:t,onSave:s,onCancel:a})=>{const[r,n]=d.useState(t||{name:"",type:"commercial",contactPerson:"",phone:"",email:"",address:{street:"",city:"",state:"",pincode:""},creditLimit:0,paymentTerms:30,gstNumber:"",panNumber:"",status:"active"}),l=o=>{o.preventDefault(),s(r)};return e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"name",children:"Company/Customer Name"}),e.jsx(fe,{id:"name",value:r.name,onChange:o=>n({...r,name:o.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"type",children:"Customer Type"}),e.jsxs(Oe,{value:r.type,onValueChange:o=>n({...r,type:o}),children:[e.jsx(Me,{children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"commercial",children:"Commercial"}),e.jsx(Q,{value:"industrial",children:"Industrial"}),e.jsx(Q,{value:"residential",children:"Residential"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"contactPerson",children:"Contact Person"}),e.jsx(fe,{id:"contactPerson",value:r.contactPerson,onChange:o=>n({...r,contactPerson:o.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"phone",children:"Phone Number"}),e.jsx(fe,{id:"phone",value:r.phone,onChange:o=>n({...r,phone:o.target.value}),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"email",children:"Email Address"}),e.jsx(fe,{id:"email",type:"email",value:r.email,onChange:o=>n({...r,email:o.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"street",children:"Street Address"}),e.jsx(na,{id:"street",value:r.address?.street,onChange:o=>n({...r,address:{...r.address,street:o.target.value}}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"city",children:"City"}),e.jsx(fe,{id:"city",value:r.address?.city,onChange:o=>n({...r,address:{...r.address,city:o.target.value}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"state",children:"State"}),e.jsx(fe,{id:"state",value:r.address?.state,onChange:o=>n({...r,address:{...r.address,state:o.target.value}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"pincode",children:"PIN Code"}),e.jsx(fe,{id:"pincode",value:r.address?.pincode,onChange:o=>n({...r,address:{...r.address,pincode:o.target.value}}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"creditLimit",children:"Credit Limit ()"}),e.jsx(fe,{id:"creditLimit",type:"number",value:r.creditLimit,onChange:o=>n({...r,creditLimit:Number(o.target.value)}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"paymentTerms",children:"Payment Terms (Days)"}),e.jsx(fe,{id:"paymentTerms",type:"number",value:r.paymentTerms,onChange:o=>n({...r,paymentTerms:Number(o.target.value)}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"gstNumber",children:"GST Number (Optional)"}),e.jsx(fe,{id:"gstNumber",value:r.gstNumber,onChange:o=>n({...r,gstNumber:o.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"panNumber",children:"PAN Number (Optional)"}),e.jsx(fe,{id:"panNumber",value:r.panNumber,onChange:o=>n({...r,panNumber:o.target.value})})]})]}),e.jsxs(Ps,{children:[e.jsx(q,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),e.jsx(q,{type:"submit",children:t?"Update Customer":"Create Customer"})]})]})},gh=()=>{const[t,s]=d.useState([]),[a,r]=d.useState([]),[n,l]=d.useState(!0),[o,c]=d.useState(""),[u,j]=d.useState({}),[N,x]=d.useState(null),[i,g]=d.useState(!1),[f,w]=d.useState(!1),S=async()=>{l(!0);try{const h=await Nt.getCustomers(u);h.success&&(s(h.data),r(h.data))}catch{}finally{l(!1)}};d.useEffect(()=>{S()},[u]),d.useEffect(()=>{const h=t.filter(k=>k.name.toLowerCase().includes(o.toLowerCase())||k.contactPerson.toLowerCase().includes(o.toLowerCase())||k.email.toLowerCase().includes(o.toLowerCase())||k.phone.includes(o));r(h)},[t,o]);const D=()=>{x(null),g(!0)},b=h=>{x(h),g(!0)},v=h=>{x(h),w(!0)},T=async h=>{try{N?await Nt.updateCustomer(N.id,h):await Nt.createCustomer(h),g(!1),S()}catch{}},m=(()=>{const h=t.length,k=t.filter(A=>A.status==="active").length,p=t.filter(A=>A.riskCategory==="high").length,M=t.reduce((A,F)=>A+F.totalRevenue,0);return{total:h,active:k,highRisk:p,totalRevenue:M}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Customer Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage customer profiles, credit limits, and relationships"})]}),e.jsxs(q,{onClick:D,children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(st,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold",children:m.total})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Customers"}),e.jsx("p",{className:"text-2xl font-bold",children:m.active})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"High Risk"}),e.jsx("p",{className:"text-2xl font-bold",children:m.highRisk})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(tr,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold",children:["",(m.totalRevenue/1e6).toFixed(1),"M"]})]})]})})})]}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(dt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(fe,{placeholder:"Search customers by name, contact, email, or phone...",value:o,onChange:h=>c(h.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Oe,{value:u.status?.[0]||"all",onValueChange:h=>j({...u,status:h==="all"?void 0:[h]}),children:[e.jsx(Me,{className:"w-40",children:e.jsx(Fe,{placeholder:"Status"})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"all",children:"All Status"}),e.jsx(Q,{value:"active",children:"Active"}),e.jsx(Q,{value:"inactive",children:"Inactive"}),e.jsx(Q,{value:"suspended",children:"Suspended"})]})]}),e.jsxs(Oe,{value:u.type?.[0]||"all",onValueChange:h=>j({...u,type:h==="all"?void 0:[h]}),children:[e.jsx(Me,{className:"w-40",children:e.jsx(Fe,{placeholder:"Type"})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"all",children:"All Types"}),e.jsx(Q,{value:"commercial",children:"Commercial"}),e.jsx(Q,{value:"industrial",children:"Industrial"}),e.jsx(Q,{value:"residential",children:"Residential"})]})]}),e.jsxs(q,{variant:"outline",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"More Filters"]})]})]})})}),n?e.jsx("div",{className:"text-center py-8",children:"Loading customers..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(h=>e.jsx(xh,{customer:h,onEdit:b,onViewDetails:v},h.id))}),e.jsx(Wt,{open:i,onOpenChange:g,children:e.jsxs(Ot,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:N?"Edit Customer":"Add New Customer"}),e.jsx(_t,{children:N?"Update customer information and settings.":"Create a new customer profile with contact and credit information."})]}),e.jsx(hh,{customer:N||void 0,onSave:T,onCancel:()=>g(!1)})]})}),e.jsx(Wt,{open:f,onOpenChange:w,children:e.jsxs(Ot,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:N?.name}),e.jsx(_t,{children:"Complete customer profile and history"})]}),N&&e.jsxs(St,{defaultValue:"profile",className:"w-full",children:[e.jsxs(Ct,{children:[e.jsx(xe,{value:"profile",children:"Profile"}),e.jsx(xe,{value:"orders",children:"Orders"}),e.jsx(xe,{value:"payments",children:"Payments"}),e.jsx(xe,{value:"analytics",children:"Analytics"})]}),e.jsx(ce,{value:"profile",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{className:"text-sm",children:"Contact Information"})}),e.jsxs(E,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Person:"})," ",N.contactPerson]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Phone:"})," ",N.phone]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",N.email]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Address:"})," ",N.address.street,", ",N.address.city]})]})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{className:"text-sm",children:"Business Information"})}),e.jsxs(E,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",N.type]}),e.jsxs("div",{children:[e.jsx("strong",{children:"GST Number:"})," ",N.gstNumber||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"PAN Number:"})," ",N.panNumber||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Registration Date:"})," ",N.registrationDate.toLocaleDateString()]})]})]})]})}),e.jsx(ce,{value:"orders",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Order History"})}),e.jsx(E,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Order history will be displayed here"})})]})}),e.jsx(ce,{value:"payments",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Payment History"})}),e.jsx(E,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Payment history will be displayed here"})})]})}),e.jsx(ce,{value:"analytics",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Customer Analytics"})}),e.jsx(E,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Customer analytics will be displayed here"})})]})})]})]})})]})},ph=({contract:t,customer:s,onEdit:a,onView:r,onSign:n})=>{const l=N=>{switch(N){case"active":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"expired":return"bg-red-100 text-red-800";case"terminated":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},o=N=>{switch(N){case"supply":return"bg-blue-100 text-blue-800";case"bulk":return"bg-purple-100 text-purple-800";case"subscription":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},u=(()=>{const N=new Date,i=new Date(t.endDate).getTime()-N.getTime();return Math.ceil(i/(1e3*60*60*24))})(),j=(()=>{const N=new Date(t.startDate).getTime(),x=new Date(t.endDate).getTime(),i=new Date().getTime(),g=x-N,f=i-N;return Math.min(Math.max(f/g*100,0),100)})();return e.jsxs(P,{className:"hover:shadow-md transition-shadow",children:[e.jsx(_,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx($,{className:"text-lg",children:t.contractNumber}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:l(t.status),children:t.status}),e.jsx(V,{className:o(t.type),children:t.type}),t.version>1&&e.jsxs(V,{variant:"outline",children:["v",t.version]})]})]}),e.jsx(q,{variant:"ghost",size:"sm",children:e.jsx(mi,{className:"w-4 h-4"})})]})}),e.jsxs(E,{className:"space-y-4",children:[s&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(st,{className:"w-4 h-4 mr-2"}),s.name]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(rt,{className:"w-4 h-4 mr-1"}),t.gasType]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Bt,{className:"w-4 h-4 mr-1"}),"",t.pricePerUnit,"/unit"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Xt,{className:"w-4 h-4 mr-1"}),t.deliveryTerms.frequency]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ie,{className:"w-4 h-4 mr-1"}),u>0?`${u} days left`:"Expired"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Contract Progress"}),e.jsxs("span",{children:[j.toFixed(0),"%"]})]}),e.jsx(Ce,{value:j,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Start: ",new Date(t.startDate).toLocaleDateString()]}),e.jsxs("span",{children:["End: ",new Date(t.endDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t text-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-semibold",children:["",(t.totalValue/1e6).toFixed(1),"M"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Value"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:t.quantity.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-500",children:"Quantity/Month"})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsxs(q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>r(t),children:[e.jsx(jt,{className:"w-4 h-4 mr-1"}),"View"]}),t.status==="draft"&&e.jsxs(q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>n(t),children:[e.jsx(Ha,{className:"w-4 h-4 mr-1"}),"Sign"]}),e.jsxs(q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>a(t),children:[e.jsx(We,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})]})},fh=({contract:t,customers:s,onSave:a,onCancel:r})=>{const[n,l]=d.useState(t||{customerId:"",contractNumber:`SB-${new Date().getFullYear()}-${Date.now().toString().slice(-6)}`,type:"supply",status:"draft",startDate:new Date,endDate:new Date(Date.now()+31536e6),gasType:"biogas",quantity:0,pricePerUnit:0,paymentTerms:{advancePercentage:20,creditDays:30,penaltyRate:2},deliveryTerms:{location:"",frequency:"monthly",transportMode:"pipeline"},version:1,documents:[]}),o=()=>(n.quantity||0)*(n.pricePerUnit||0)*12,c=u=>{u.preventDefault();const j={...n,totalValue:o()};a(j)};return e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"contractNumber",children:"Contract Number"}),e.jsx(fe,{id:"contractNumber",value:n.contractNumber,onChange:u=>l({...n,contractNumber:u.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"customerId",children:"Customer"}),e.jsxs(Oe,{value:n.customerId,onValueChange:u=>l({...n,customerId:u}),children:[e.jsx(Me,{children:e.jsx(Fe,{placeholder:"Select customer"})}),e.jsx(Re,{children:s.map(u=>e.jsx(Q,{value:u.id,children:u.name},u.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"type",children:"Contract Type"}),e.jsxs(Oe,{value:n.type,onValueChange:u=>l({...n,type:u}),children:[e.jsx(Me,{children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"supply",children:"Supply Agreement"}),e.jsx(Q,{value:"bulk",children:"Bulk Purchase"}),e.jsx(Q,{value:"subscription",children:"Subscription"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"gasType",children:"Gas Type"}),e.jsxs(Oe,{value:n.gasType,onValueChange:u=>l({...n,gasType:u}),children:[e.jsx(Me,{children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"biogas",children:"Biogas"}),e.jsx(Q,{value:"compressed",children:"Compressed Gas"}),e.jsx(Q,{value:"liquefied",children:"Liquefied Gas"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"startDate",children:"Start Date"}),e.jsx(fe,{id:"startDate",type:"date",value:n.startDate?.toISOString().split("T")[0],onChange:u=>l({...n,startDate:new Date(u.target.value)}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"endDate",children:"End Date"}),e.jsx(fe,{id:"endDate",type:"date",value:n.endDate?.toISOString().split("T")[0],onChange:u=>l({...n,endDate:new Date(u.target.value)}),required:!0})]})]})]}),e.jsx(Js,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Commercial Terms"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"quantity",children:"Monthly Quantity"}),e.jsx(fe,{id:"quantity",type:"number",value:n.quantity,onChange:u=>l({...n,quantity:Number(u.target.value)}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"pricePerUnit",children:"Price per Unit ()"}),e.jsx(fe,{id:"pricePerUnit",type:"number",step:"0.01",value:n.pricePerUnit,onChange:u=>l({...n,pricePerUnit:Number(u.target.value)}),required:!0})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Annual Value"}),e.jsxs("div",{className:"text-2xl font-bold",children:["",o().toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"advancePercentage",children:"Advance Percentage (%)"}),e.jsx(fe,{id:"advancePercentage",type:"number",value:n.paymentTerms?.advancePercentage,onChange:u=>l({...n,paymentTerms:{...n.paymentTerms,advancePercentage:Number(u.target.value)}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"creditDays",children:"Credit Days"}),e.jsx(fe,{id:"creditDays",type:"number",value:n.paymentTerms?.creditDays,onChange:u=>l({...n,paymentTerms:{...n.paymentTerms,creditDays:Number(u.target.value)}}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"penaltyRate",children:"Penalty Rate (%)"}),e.jsx(fe,{id:"penaltyRate",type:"number",step:"0.1",value:n.paymentTerms?.penaltyRate,onChange:u=>l({...n,paymentTerms:{...n.paymentTerms,penaltyRate:Number(u.target.value)}}),required:!0})]})]})]}),e.jsx(Js,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Terms"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"deliveryLocation",children:"Delivery Location"}),e.jsx(na,{id:"deliveryLocation",value:n.deliveryTerms?.location,onChange:u=>l({...n,deliveryTerms:{...n.deliveryTerms,location:u.target.value}}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"frequency",children:"Delivery Frequency"}),e.jsxs(Oe,{value:n.deliveryTerms?.frequency,onValueChange:u=>l({...n,deliveryTerms:{...n.deliveryTerms,frequency:u}}),children:[e.jsx(Me,{children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"daily",children:"Daily"}),e.jsx(Q,{value:"weekly",children:"Weekly"}),e.jsx(Q,{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"transportMode",children:"Transport Mode"}),e.jsxs(Oe,{value:n.deliveryTerms?.transportMode,onValueChange:u=>l({...n,deliveryTerms:{...n.deliveryTerms,transportMode:u}}),children:[e.jsx(Me,{children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"pipeline",children:"Pipeline"}),e.jsx(Q,{value:"cylinder",children:"Cylinder"}),e.jsx(Q,{value:"tanker",children:"Tanker"})]})]})]})]})]}),e.jsxs(Ps,{children:[e.jsx(q,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),e.jsx(q,{type:"submit",children:t?"Update Contract":"Create Contract"})]})]})},jh=()=>{const[t,s]=d.useState([]),[a,r]=d.useState([]),[n,l]=d.useState(!0),[o,c]=d.useState(null),[u,j]=d.useState(!1),[N,x]=d.useState(!1),[i,g]=d.useState(!1),f=async()=>{l(!0);try{const[h,k]=await Promise.all([Nt.getContracts(),Nt.getCustomers()]);h.success&&s(h.data),k.success&&r(k.data)}catch{}finally{l(!1)}};d.useEffect(()=>{f()},[]);const w=()=>{c(null),j(!0)},S=h=>{c(h),j(!0)},D=h=>{c(h),x(!0)},b=h=>{c(h),g(!0)},v=async h=>{try{if(o){const k={...o,...h,version:o.version+1,parentContractId:o.id,id:`cont_${Date.now()}`};await Nt.createContract(k)}else await Nt.createContract(h);j(!1),f()}catch{}},T=h=>a.find(k=>k.id===h),m=(()=>{const h=t.length,k=t.filter(F=>F.status==="active").length,p=t.filter(F=>F.status==="draft").length,M=t.filter(F=>{const L=Math.ceil((new Date(F.endDate).getTime()-new Date().getTime())/864e5);return L<=30&&L>0}).length,A=t.filter(F=>F.status==="active").reduce((F,L)=>F+L.totalValue,0);return{total:h,active:k,draft:p,expiringSoon:M,totalValue:A}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Contract Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage supply contracts, agreements, and e-signatures"})]}),e.jsxs(q,{onClick:w,children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"New Contract"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ge,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Contracts"}),e.jsx("p",{className:"text-2xl font-bold",children:m.total})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold",children:m.active})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Draft"}),e.jsx("p",{className:"text-2xl font-bold",children:m.draft})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiring Soon"}),e.jsx("p",{className:"text-2xl font-bold",children:m.expiringSoon})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bt,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["",(m.totalValue/1e6).toFixed(1),"M"]})]})]})})})]}),n?e.jsx("div",{className:"text-center py-8",children:"Loading contracts..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(h=>e.jsx(ph,{contract:h,customer:T(h.customerId),onEdit:S,onView:D,onSign:b},h.id))}),e.jsx(Wt,{open:u,onOpenChange:j,children:e.jsxs(Ot,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:o?"Edit Contract (New Version)":"Create New Contract"}),e.jsx(_t,{children:o?"Creating a new version will preserve the original contract history.":"Create a new supply contract with detailed terms and conditions."})]}),e.jsx(fh,{contract:o||void 0,customers:a,onSave:v,onCancel:()=>j(!1)})]})}),e.jsx(Wt,{open:N,onOpenChange:x,children:e.jsxs(Ot,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:o?.contractNumber}),e.jsx(_t,{children:"Complete contract details and documentation"})]}),o&&e.jsxs(St,{defaultValue:"details",className:"w-full",children:[e.jsxs(Ct,{children:[e.jsx(xe,{value:"details",children:"Details"}),e.jsx(xe,{value:"terms",children:"Terms"}),e.jsx(xe,{value:"documents",children:"Documents"}),e.jsx(xe,{value:"history",children:"History"})]}),e.jsx(ce,{value:"details",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{className:"text-sm",children:"Contract Information"})}),e.jsxs(E,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",o.type]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",o.status]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Version:"})," ",o.version]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Gas Type:"})," ",o.gasType]})]})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{className:"text-sm",children:"Commercial Terms"})}),e.jsxs(E,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Monthly Quantity:"})," ",o.quantity.toLocaleString()]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Price per Unit:"})," ",o.pricePerUnit]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Total Value:"})," ",o.totalValue.toLocaleString()]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Payment Terms:"})," ",o.paymentTerms.creditDays," days"]})]})]})]})}),e.jsx(ce,{value:"terms",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Terms and Conditions"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Payment Terms"}),e.jsxs("p",{children:["Advance: ",o.paymentTerms.advancePercentage,"%"]}),e.jsxs("p",{children:["Credit Period: ",o.paymentTerms.creditDays," days"]}),e.jsxs("p",{children:["Penalty Rate: ",o.paymentTerms.penaltyRate,"% per month"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Delivery Terms"}),e.jsxs("p",{children:["Location: ",o.deliveryTerms.location]}),e.jsxs("p",{children:["Frequency: ",o.deliveryTerms.frequency]}),e.jsxs("p",{children:["Transport Mode: ",o.deliveryTerms.transportMode]})]})]})})]})}),e.jsx(ce,{value:"documents",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Contract Documents"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[o.documents.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:h.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Uploaded: ",h.uploadDate.toLocaleDateString()]})]}),e.jsxs(q,{variant:"outline",size:"sm",children:[e.jsx(lt,{className:"w-4 h-4 mr-1"}),"Download"]})]},h.id)),e.jsxs(q,{variant:"outline",className:"w-full",children:[e.jsx(ar,{className:"w-4 h-4 mr-2"}),"Upload Document"]})]})})]})}),e.jsx(ce,{value:"history",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Contract History"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-l-4 border-green-500 bg-green-50",children:[e.jsx(be,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Contract Created"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Version ",o.version,"  ",o.startDate.toLocaleDateString()]})]})]}),o.signedDate&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-l-4 border-blue-500 bg-blue-50",children:[e.jsx(Ha,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Contract Signed"}),e.jsx("div",{className:"text-sm text-gray-500",children:o.signedDate.toLocaleDateString()})]})]})]})})]})})]})]})}),e.jsx(Wt,{open:i,onOpenChange:g,children:e.jsxs(Ot,{className:"max-w-2xl",children:[e.jsxs(Ft,{children:[e.jsx(Lt,{children:"E-Signature Interface"}),e.jsx(_t,{children:"Sign the contract electronically to activate the agreement"})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Ha,{className:"w-16 h-16 mx-auto text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Digital Signature Required"}),e.jsx("p",{className:"text-gray-600",children:"This contract requires digital signatures from both parties to become active."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"w-full",children:[e.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Sign with Digital Certificate"]}),e.jsxs(q,{variant:"outline",className:"w-full",children:[e.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Send for Customer Signature"]})]})]})})})})]})})]})},yh=({item:t})=>{const s=l=>{switch(l){case"available":return"bg-green-100 text-green-800";case"reserved":return"bg-yellow-100 text-yellow-800";case"sold":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=t.availableQuantity/t.quantity*100,r=a<20,n=new Date(t.pesoCompliance.expiryDate)<new Date(Date.now()+30*24*60*60*1e3);return e.jsxs(P,{className:"hover:shadow-md transition-shadow",children:[e.jsx(_,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx($,{className:"text-lg",children:t.batchNumber}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:s(t.status),children:t.status}),e.jsx(V,{variant:"outline",children:t.gasType}),n&&e.jsx(V,{className:"bg-orange-100 text-orange-800",children:"PESO Expiring"})]})]})})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Available"}),e.jsxs("div",{className:"font-semibold",children:[t.availableQuantity.toLocaleString()," ",t.unit]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Total"}),e.jsxs("div",{className:"font-semibold",children:[t.quantity.toLocaleString()," ",t.unit]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Availability"}),e.jsxs("span",{className:r?"text-red-600":"text-green-600",children:[a.toFixed(1),"%"]})]}),e.jsx(Ce,{value:a,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"PESO: ",t.pesoCompliance.status," (Exp: ",new Date(t.pesoCompliance.expiryDate).toLocaleDateString(),")"]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),t.location.plantId," - ",t.location.tankId]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),"Produced: ",new Date(t.productionDate).toLocaleDateString()]})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Value"}),e.jsxs("span",{className:"font-semibold",children:["",(t.availableQuantity*t.pricePerUnit).toLocaleString()]})]})})]})]})},vh=()=>{const[t,s]=d.useState([]),[a,r]=d.useState([]),[n,l]=d.useState(!0),[o,c]=d.useState(""),[u,j]=d.useState({});d.useEffect(()=>{(async()=>{try{const g=await Nt.getInventory(u);g.success&&(s(g.data),r(g.data))}catch{}finally{l(!1)}})()},[u]),d.useEffect(()=>{const i=t.filter(g=>g.batchNumber.toLowerCase().includes(o.toLowerCase())||g.gasType.toLowerCase().includes(o.toLowerCase())||g.location.plantId.toLowerCase().includes(o.toLowerCase()));r(i)},[t,o]);const x=(()=>{const i=t.length,g=t.reduce((S,D)=>S+D.availableQuantity*D.pricePerUnit,0),f=t.filter(S=>S.availableQuantity/S.quantity<.2).length,w=t.filter(S=>new Date(S.pesoCompliance.expiryDate)<new Date(Date.now()+30*24*60*60*1e3)).length;return{totalItems:i,totalValue:g,lowStockItems:f,pesoExpiringItems:w}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Inventory Management"}),e.jsx("p",{className:"text-gray-600",children:"Monitor gas inventory, batches, and PESO compliance"})]}),e.jsxs(q,{children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Add Batch"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rt,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold",children:x.totalItems})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ze,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inventory Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["",(x.totalValue/1e6).toFixed(1),"M"]})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-bold",children:x.lowStockItems})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"PESO Expiring"}),e.jsx("p",{className:"text-2xl font-bold",children:x.pesoExpiringItems})]})]})})})]}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(dt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(fe,{placeholder:"Search by batch number, gas type, or location...",value:o,onChange:i=>c(i.target.value),className:"pl-10"})]}),e.jsxs(q,{variant:"outline",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"Filters"]})]})})}),e.jsxs(St,{defaultValue:"grid",className:"w-full",children:[e.jsxs(Ct,{children:[e.jsx(xe,{value:"grid",children:"Grid View"}),e.jsx(xe,{value:"table",children:"Table View"}),e.jsx(xe,{value:"alerts",children:"Alerts"})]}),e.jsx(ce,{value:"grid",className:"space-y-6",children:n?e.jsx("div",{className:"text-center py-8",children:"Loading inventory..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(i=>e.jsx(yh,{item:i},i.id))})}),e.jsx(ce,{value:"table",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:"Inventory Table"}),e.jsx(De,{children:"Detailed inventory listing"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Table view will be implemented here"})})]})}),e.jsx(ce,{value:"alerts",children:e.jsx("div",{className:"space-y-4",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center",children:[e.jsx(we,{className:"w-5 h-5 mr-2 text-red-600"}),"Critical Alerts"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:t.filter(i=>i.availableQuantity/i.quantity<.1).map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded bg-red-50",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i.batchNumber}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Critical low stock: ",i.availableQuantity," ",i.unit," remaining"]})]}),e.jsx(V,{className:"bg-red-100 text-red-800",children:"Critical"})]},i.id))})})]})})})]})]})},bh=({order:t})=>{const s=a=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-purple-100 text-purple-800",ready:"bg-green-100 text-green-800",dispatched:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs(P,{className:"hover:shadow-md transition-shadow",children:[e.jsx(_,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold",children:t.orderNumber}),e.jsx(V,{className:s(t.status),children:t.status})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Order Date: ",t.orderDate.toLocaleDateString()]})]})})}),e.jsxs(E,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Quantity"}),e.jsxs("div",{className:"font-semibold",children:[t.totalQuantity.toLocaleString()," units"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Amount"}),e.jsxs("div",{className:"font-semibold",children:["",t.finalAmount.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ie,{className:"w-4 h-4 mr-1"}),"Delivery: ",t.requestedDeliveryDate.toLocaleDateString()]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsxs(q,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(jt,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs(q,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(We,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})]})},Nh=()=>{const[t,s]=d.useState([]),[a,r]=d.useState([]),[n,l]=d.useState(!0),[o,c]=d.useState("");d.useEffect(()=>{(async()=>{try{const N=await Nt.getOrders();N.success&&(s(N.data),r(N.data))}catch{}finally{l(!1)}})()},[]);const u={total:t.length,pending:t.filter(j=>j.status==="pending").length,confirmed:t.filter(j=>j.status==="confirmed").length,totalValue:t.reduce((j,N)=>j+N.finalAmount,0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Order & Invoice Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage orders and generate invoices"})]}),e.jsxs(q,{children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"New Order"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ge,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold",children:u.total})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rt,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold",children:u.pending})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ge,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmed"}),e.jsx("p",{className:"text-2xl font-bold",children:u.confirmed})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bt,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["",(u.totalValue/1e6).toFixed(1),"M"]})]})]})})})]}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(dt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(fe,{placeholder:"Search orders...",value:o,onChange:j=>c(j.target.value),className:"pl-10"})]}),e.jsxs(Oe,{children:[e.jsx(Me,{className:"w-40",children:e.jsx(Fe,{placeholder:"Status"})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"all",children:"All Status"}),e.jsx(Q,{value:"pending",children:"Pending"}),e.jsx(Q,{value:"confirmed",children:"Confirmed"}),e.jsx(Q,{value:"delivered",children:"Delivered"})]})]})]})})}),n?e.jsx("div",{className:"text-center py-8",children:"Loading orders..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(j=>e.jsx(bh,{order:j},j.id))})]})},wh=()=>{const[t,s]=d.useState(!1),[a,r]=d.useState("hindi"),[n,l]=d.useState(null),[o,c]=d.useState(""),[u,j]=d.useState(0),N=async()=>{try{const g=await Nt.startVoiceSession(a);g.success&&(l(g.data),s(!0),setTimeout(()=>{x()},5e3))}catch{}},x=async()=>{if(s(!1),n){const g=await Nt.processVoiceData(n.sessionId,"mock-audio-data");g.success&&(l(g.data),c(g.data.transcription),j(g.data.confidence*100))}},i=async()=>{n?.extractedData.customerId};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Voice Invoicing"}),e.jsx("p",{className:"text-gray-600",children:"Create invoices using voice commands in Hindi or English"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center",children:[e.jsx(Ks,{className:"w-5 h-5 mr-2"}),"Voice Input"]}),e.jsx(De,{children:"Record voice commands to create invoices"})]}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Language"}),e.jsxs(Oe,{value:a,onValueChange:g=>r(g),children:[e.jsx(Me,{children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"hindi",children:" (Hindi)"}),e.jsx(Q,{value:"english",children:"English"})]})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:`w-32 h-32 mx-auto rounded-full flex items-center justify-center ${t?"bg-red-100 animate-pulse":"bg-gray-100"}`,children:t?e.jsx(xi,{className:"w-16 h-16 text-red-600"}):e.jsx(Ks,{className:"w-16 h-16 text-gray-600"})}),e.jsx("div",{className:"space-y-2",children:t?e.jsxs(q,{onClick:x,variant:"destructive",className:"w-full",children:[e.jsx(Gl,{className:"w-4 h-4 mr-2"}),"Stop Recording"]}):e.jsxs(q,{onClick:N,className:"w-full",children:[e.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Start Recording"]})}),t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Recording in progress..."}),e.jsx(Ce,{value:75,className:"w-full"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Sample Voice Commands:"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"p-2 bg-blue-50 rounded",children:[e.jsx("strong",{children:"Hindi:"}),' "          ,    "']}),e.jsxs("div",{className:"p-2 bg-green-50 rounded",children:[e.jsx("strong",{children:"English:"}),' "Create invoice for Green Energy Industries, one thousand cubic meters biogas at forty-five rupees per unit"']})]})]})]})]}),e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center",children:[e.jsx(hi,{className:"w-5 h-5 mr-2"}),"Transcription & Processing"]}),e.jsx(De,{children:"Voice-to-text conversion and data extraction"})]}),e.jsxs(E,{className:"space-y-6",children:[o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Transcription"}),e.jsx(na,{value:o,readOnly:!0,className:"mt-1",rows:3}),e.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Confidence:"}),e.jsx(Ce,{value:u,className:"flex-1 max-w-32"}),e.jsxs("span",{className:"text-sm font-medium",children:[u.toFixed(1),"%"]})]})]}),n?.extractedData&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Extracted Information:"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[n.extractedData.customerName&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Customer:"}),e.jsx("span",{className:"font-medium",children:n.extractedData.customerName})]}),n.extractedData.items.map((g,f)=>e.jsxs("div",{className:"p-2 border rounded",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Item:"}),e.jsx("span",{className:"font-medium",children:g.description})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Quantity:"}),e.jsxs("span",{className:"font-medium",children:[g.quantity," ",g.unit]})]}),g.pricePerUnit&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Price:"}),e.jsxs("span",{className:"font-medium",children:["",g.pricePerUnit,"/",g.unit]})]})]},f)),n.extractedData.totalAmount&&e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{children:["",n.extractedData.totalAmount.toLocaleString()]})]})]}),n.validationErrors.length===0?e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(be,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Data validation successful"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Validation errors found"})]}),e.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:n.validationErrors.map((g,f)=>e.jsxs("li",{children:[" ",g]},f))})]}),e.jsxs(q,{onClick:i,className:"w-full",disabled:n.validationErrors.length>0,children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Generate Invoice"]})]})]}),!o&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Start recording to see transcription and extracted data"})]})]})]}),e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx($,{children:"Recent Voice Sessions"}),e.jsx(De,{children:"History of voice invoicing sessions"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Session #001"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Green Energy Industries  45,000  Hindi"}),e.jsx("div",{className:"text-xs text-gray-500",children:"2 minutes ago"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"bg-green-100 text-green-800",children:"Completed"}),e.jsxs(q,{variant:"outline",size:"sm",children:[e.jsx(Fr,{className:"w-4 h-4 mr-1"}),"Replay"]})]})]})})})]})]})},Sh=()=>{const[t,s]=d.useState([]),[a,r]=d.useState(!0);d.useEffect(()=>{(async()=>{try{const c=await Nt.getPayments();c.success&&s(c.data)}catch{}finally{r(!1)}})()},[]);const n=[{id:"1",amount:50445,status:"confirmed",method:"bank_transfer",date:new Date,customer:"Green Energy Industries"},{id:"2",amount:25e3,status:"pending",method:"cheque",date:new Date,customer:"Sunrise Hotels"},{id:"3",amount:75e3,status:"failed",method:"upi",date:new Date,customer:"Emerald Heights"}],l=o=>({confirmed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",refunded:"bg-blue-100 text-blue-800"})[o]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Payment Tracking"}),e.jsx("p",{className:"text-gray-600",children:"Monitor payments and reconciliation"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bt,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Received"}),e.jsx("p",{className:"text-2xl font-bold",children:"2.4M"})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ae,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold",children:"150K"})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),e.jsx("p",{className:"text-2xl font-bold",children:"75K"})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Collection Rate"}),e.jsx("p",{className:"text-2xl font-bold",children:"94%"})]})]})})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Recent Payments"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:n.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:o.customer}),e.jsxs("div",{className:"text-sm text-gray-600",children:[o.method,"  ",o.date.toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsxs("div",{className:"font-semibold",children:["",o.amount.toLocaleString()]}),e.jsx(V,{className:l(o.status),children:o.status})]})]},o.id))})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Bank Reconciliation"})}),e.jsx(E,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Bank reconciliation interface will be displayed here"})})]})]})},Ch=()=>{const t=[{id:"1",order:"ORD-2024-001",customer:"Green Energy Industries",date:"2024-09-25",status:"scheduled",driver:"Rajesh Kumar"},{id:"2",order:"ORD-2024-002",customer:"Sunrise Hotels",date:"2024-09-26",status:"in_transit",driver:"Suresh Yadav"},{id:"3",order:"ORD-2024-003",customer:"Emerald Heights",date:"2024-09-27",status:"delivered",driver:"Amit Sharma"}],s=a=>({scheduled:"bg-blue-100 text-blue-800",in_transit:"bg-yellow-100 text-yellow-800",delivered:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Delivery Scheduling"}),e.jsx("p",{className:"text-gray-600",children:"Schedule and track deliveries with route optimization"})]}),e.jsxs(q,{children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Schedule Delivery"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rt,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),e.jsx("p",{className:"text-2xl font-bold",children:"12"})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xt,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Transit"}),e.jsx("p",{className:"text-2xl font-bold",children:"5"})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Da,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Delivered"}),e.jsx("p",{className:"text-2xl font-bold",children:"28"})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ae,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"On Time %"}),e.jsx("p",{className:"text-2xl font-bold",children:"96%"})]})]})})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center",children:[e.jsx(Ie,{className:"w-5 h-5 mr-2"}),"Delivery Calendar"]})}),e.jsx(E,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Interactive delivery calendar will be displayed here"})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Active Deliveries"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:t.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:a.order}),e.jsx("div",{className:"text-sm text-gray-600",children:a.customer}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Xt,{className:"w-4 h-4 mr-1"}),a.driver]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("div",{className:"text-sm",children:a.date}),e.jsx(V,{className:s(a.status),children:a.status})]})]},a.id))})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center",children:[e.jsx(Da,{className:"w-5 h-5 mr-2"}),"Route Optimization"]})}),e.jsx(E,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Route optimization and mapping interface will be displayed here"})})]})]})},Dh=()=>{const t=[{gasType:"Biogas",ourPrice:45,marketAvg:48,change:-6.25,competitive:"advantage"},{gasType:"Compressed",ourPrice:65,marketAvg:62,change:4.84,competitive:"premium"},{gasType:"Liquefied",ourPrice:85,marketAvg:83,change:2.41,competitive:"premium"}],s=a=>({advantage:"bg-green-100 text-green-800",premium:"bg-blue-100 text-blue-800",disadvantage:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Price Benchmarking"}),e.jsx("p",{className:"text-gray-600",children:"Market price analysis and dynamic pricing engine"})]}),e.jsxs(q,{children:[e.jsx(ks,{className:"w-4 h-4 mr-2"}),"Update Prices"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(a=>e.jsxs(P,{children:[e.jsx(_,{className:"pb-3",children:e.jsx($,{className:"text-lg",children:a.gasType})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Our Price"}),e.jsxs("div",{className:"text-xl font-bold",children:["",a.ourPrice]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Market Avg"}),e.jsxs("div",{className:"text-xl font-bold",children:["",a.marketAvg]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[a.change>0?e.jsx(Te,{className:"w-4 h-4 text-red-600"}):e.jsx(xs,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:`text-sm ${a.change>0?"text-red-600":"text-green-600"}`,children:[Math.abs(a.change),"%"]})]}),e.jsx(V,{className:s(a.competitive),children:a.competitive})]})]})]},a.gasType))}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center",children:[e.jsx(Ze,{className:"w-5 h-5 mr-2"}),"Market Analysis"]})}),e.jsx(E,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Market price trends and competitor analysis will be displayed here"})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center",children:[e.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Dynamic Pricing Engine"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Pricing Factors"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Raw Material Cost"}),e.jsx("span",{className:"font-medium",children:"15/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Production Cost"}),e.jsx("span",{className:"font-medium",children:"8/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Transport Cost"}),e.jsx("span",{className:"font-medium",children:"5/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Margin (30%)"}),e.jsx("span",{className:"font-medium",children:"12/unit"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Taxes"}),e.jsx("span",{className:"font-medium",children:"5/unit"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Recommended Prices"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-3 border rounded",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Biogas"}),e.jsx("span",{className:"text-lg font-bold text-green-600",children:"45/unit"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Competitive advantage maintained"})]}),e.jsxs("div",{className:"p-3 border rounded",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Compressed"}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:"63/unit"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Slight price reduction recommended"})]})]})]})]})})]})]})},kh=()=>{const t=[{type:"PESO",certificate:"PESO-2024-001",status:"valid",expiry:"2025-01-15",authority:"PESO Delhi"},{type:"GST",certificate:"GST-REG-001",status:"valid",expiry:"2025-03-31",authority:"GST Department"},{type:"Environmental",certificate:"ENV-2024-001",status:"pending_renewal",expiry:"2024-12-01",authority:"Pollution Control Board"},{type:"Safety",certificate:"SAFETY-001",status:"valid",expiry:"2025-06-15",authority:"Factory Inspector"}],s=a=>({valid:"bg-green-100 text-green-800",pending_renewal:"bg-yellow-100 text-yellow-800",expired:"bg-red-100 text-red-800",suspended:"bg-gray-100 text-gray-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Compliance & Reports"}),e.jsx("p",{className:"text-gray-600",children:"PESO compliance, GST reports, and regulatory management"})]}),e.jsxs(q,{children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),"Generate Report"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"PESO Valid"}),e.jsx("p",{className:"text-2xl font-bold",children:"3"})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiring Soon"}),e.jsx("p",{className:"text-2xl font-bold",children:"1"})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ge,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"GST Returns"}),e.jsx("p",{className:"text-2xl font-bold",children:"12"})]})]})})}),e.jsx(P,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ze,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Compliance %"}),e.jsx("p",{className:"text-2xl font-bold",children:"98%"})]})]})})})]}),e.jsxs(St,{defaultValue:"peso",className:"w-full",children:[e.jsxs(Ct,{children:[e.jsx(xe,{value:"peso",children:"PESO Compliance"}),e.jsx(xe,{value:"gst",children:"GST Reports"}),e.jsx(xe,{value:"environmental",children:"Environmental"}),e.jsx(xe,{value:"safety",children:"Safety"})]}),e.jsxs(ce,{value:"peso",className:"space-y-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center",children:[e.jsx(Be,{className:"w-5 h-5 mr-2"}),"PESO Certificates"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:t.filter(a=>a.type==="PESO").map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:a.certificate}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Issued by: ",a.authority]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Expires: ",a.expiry]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(V,{className:s(a.status),children:a.status}),e.jsxs(q,{variant:"outline",size:"sm",children:[e.jsx(lt,{className:"w-4 h-4 mr-1"}),"Download"]})]})]},a.certificate))})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"PESO Inspection Schedule"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Plant A - Tank Inspection"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Next inspection due: 15 Nov 2024"})]}),e.jsx(V,{className:"bg-blue-100 text-blue-800",children:"Scheduled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Plant B - Safety Audit"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Next inspection due: 30 Dec 2024"})]}),e.jsx(V,{className:"bg-green-100 text-green-800",children:"Compliant"})]})]})})]})]}),e.jsx(ce,{value:"gst",className:"space-y-6",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"GST Returns & Reports"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"p-4 border rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"2.4M"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total GST Collected"})]})}),e.jsx("div",{className:"p-4 border rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"450K"}),e.jsx("div",{className:"text-sm text-gray-600",children:"GST Paid"})]})}),e.jsx("div",{className:"p-4 border rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"12"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Returns Filed"})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"GSTR-1 - September 2024"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Filed on: 10 Oct 2024"})]}),e.jsx(V,{className:"bg-green-100 text-green-800",children:"Filed"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"GSTR-3B - September 2024"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Due: 20 Oct 2024"})]}),e.jsx(V,{className:"bg-yellow-100 text-yellow-800",children:"Pending"})]})]})]})})]})}),e.jsx(ce,{value:"environmental",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Environmental Compliance"})}),e.jsx(E,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Environmental compliance reports and certificates will be displayed here"})})]})}),e.jsx(ce,{value:"safety",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Safety Compliance"})}),e.jsx(E,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Safety compliance reports and training records will be displayed here"})})]})})]})]})},Ih=()=>{const t=ve(),s=Hs(),a=[{id:"dashboard",label:"Sales Dashboard",icon:e.jsx(Ar,{className:"w-5 h-5"}),onClick:()=>t("/sales"),isActive:s.pathname==="/sales"},{id:"customers",label:"Customer Management",icon:e.jsx(st,{className:"w-5 h-5"}),onClick:()=>t("/sales/customers"),isActive:s.pathname==="/sales/customers"},{id:"contracts",label:"Contract Management",icon:e.jsx(Ge,{className:"w-5 h-5"}),onClick:()=>t("/sales/contracts"),isActive:s.pathname==="/sales/contracts"},{id:"inventory",label:"Inventory Management",icon:e.jsx(rt,{className:"w-5 h-5"}),onClick:()=>t("/sales/inventory"),isActive:s.pathname==="/sales/inventory"},{id:"orders",label:"Order & Invoice",icon:e.jsx(Vl,{className:"w-5 h-5"}),onClick:()=>t("/sales/orders"),isActive:s.pathname==="/sales/orders"},{id:"voice-invoice",label:"Voice Invoicing",icon:e.jsx(Ks,{className:"w-5 h-5"}),onClick:()=>t("/sales/voice-invoice"),isActive:s.pathname==="/sales/voice-invoice"},{id:"payments",label:"Payment Tracking",icon:e.jsx(tr,{className:"w-5 h-5"}),onClick:()=>t("/sales/payments"),isActive:s.pathname==="/sales/payments"},{id:"delivery",label:"Delivery Scheduling",icon:e.jsx(Xt,{className:"w-5 h-5"}),onClick:()=>t("/sales/delivery"),isActive:s.pathname==="/sales/delivery"},{id:"pricing",label:"Price Benchmarking",icon:e.jsx(Te,{className:"w-5 h-5"}),onClick:()=>t("/sales/pricing"),isActive:s.pathname==="/sales/pricing"},{id:"compliance",label:"Compliance & Reports",icon:e.jsx(Be,{className:"w-5 h-5"}),onClick:()=>t("/sales/compliance"),isActive:s.pathname==="/sales/compliance"}];return e.jsx(aa,{moduleName:"UrjaVyapar Sales",moduleSubtitle:"Comprehensive Sales Management System",navigationItems:a,userInfo:{name:"Sales Manager",role:"Sales Operations"},children:e.jsxs(ta,{children:[e.jsx(J,{path:"/",element:e.jsx(uh,{})}),e.jsx(J,{path:"/customers",element:e.jsx(gh,{})}),e.jsx(J,{path:"/contracts",element:e.jsx(jh,{})}),e.jsx(J,{path:"/inventory",element:e.jsx(vh,{})}),e.jsx(J,{path:"/orders",element:e.jsx(Nh,{})}),e.jsx(J,{path:"/voice-invoice",element:e.jsx(wh,{})}),e.jsx(J,{path:"/payments",element:e.jsx(Sh,{})}),e.jsx(J,{path:"/delivery",element:e.jsx(Ch,{})}),e.jsx(J,{path:"/pricing",element:e.jsx(Dh,{})}),e.jsx(J,{path:"/compliance",element:e.jsx(kh,{})})]})})},qn=B.lazy(()=>nt(()=>import("./Dashboard-inCIlbWD.js"),__vite__mapDeps([5,1,2,3,4]))),Th=B.lazy(()=>nt(()=>import("./CycleManagement-C3YrRLNe.js"),__vite__mapDeps([6,1,2,7,3,4])).then(t=>({default:t.CycleManagement}))),Ah=B.lazy(()=>nt(()=>import("./QualityControl-CYak-7wf.js"),__vite__mapDeps([8,1,2,7,3,4])).then(t=>({default:t.QualityControl}))),Ph=B.lazy(()=>nt(()=>import("./MaintenanceManagement-DGtoFx7X.js"),__vite__mapDeps([9,1,2,3,4])).then(t=>({default:t.MaintenanceManagement}))),Eh=B.lazy(()=>nt(()=>import("./InventoryTransfer-BT36-YXb.js"),__vite__mapDeps([10,1,2,3,4])).then(t=>({default:t.InventoryTransferPage}))),Mh=B.lazy(()=>nt(()=>import("./SlurryManagement-0nm9DuTR.js"),__vite__mapDeps([11,1,2,7,3,4])).then(t=>({default:t.SlurryManagement}))),Rh=B.lazy(()=>nt(()=>import("./RealTimeMonitoring-Cb5MYO6P.js"),__vite__mapDeps([12,1,2,7,3,4])).then(t=>({default:t.RealTimeMonitoring}))),Oh=()=>e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(P,{className:"w-full max-w-md",children:e.jsxs(E,{className:"flex flex-col items-center justify-center p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e.jsx($,{className:"text-lg font-medium text-gray-600 mb-2",children:"Loading ShuddhiDoot Module..."}),e.jsx(De,{className:"text-center text-gray-500",children:"Initializing purification systems and real-time data feeds"})]})})}),Fh=()=>{const t=ve(),s=Hs(),a="/purification",r=[{id:"dashboard",label:"Dashboard",icon:e.jsx(Ze,{className:"w-5 h-5"}),onClick:()=>t(`${a}`),isActive:s.pathname===a||s.pathname===`${a}/`,badge:void 0},{id:"cycles",label:"Cycle Management",icon:e.jsx(_r,{className:"w-5 h-5"}),onClick:()=>t(`${a}/cycles`),isActive:s.pathname===`${a}/cycles`,badge:"3"},{id:"quality",label:"Quality Control",icon:e.jsx(be,{className:"w-5 h-5"}),onClick:()=>t(`${a}/quality`),isActive:s.pathname===`${a}/quality`,badge:void 0},{id:"maintenance",label:"Maintenance",icon:e.jsx(di,{className:"w-5 h-5"}),onClick:()=>t(`${a}/maintenance`),isActive:s.pathname===`${a}/maintenance`,badge:"2"},{id:"inventory",label:"Inventory Transfer",icon:e.jsx(rt,{className:"w-5 h-5"}),onClick:()=>t(`${a}/inventory`),isActive:s.pathname===`${a}/inventory`,badge:"5"},{id:"slurry",label:"Slurry Management",icon:e.jsx(ir,{className:"w-5 h-5"}),onClick:()=>t(`${a}/slurry`),isActive:s.pathname===`${a}/slurry`,badge:void 0},{id:"monitoring",label:"Real-time Monitoring",icon:e.jsx($e,{className:"w-5 h-5"}),onClick:()=>t(`${a}/monitoring`),isActive:s.pathname===`${a}/monitoring`,badge:void 0}];return e.jsx(aa,{moduleName:"ShuddhiDoot",moduleSubtitle:"Biogas Purification & Quality Management",navigationItems:r,userInfo:{name:"Purification Manager",role:"Plant Operations Head"},children:e.jsx("div",{className:"space-y-6",children:e.jsx(d.Suspense,{fallback:e.jsx(Oh,{}),children:e.jsxs(ta,{children:[e.jsx(J,{path:"/",element:e.jsx(qn,{})}),e.jsx(J,{path:"/cycles",element:e.jsx(Th,{})}),e.jsx(J,{path:"/quality",element:e.jsx(Ah,{})}),e.jsx(J,{path:"/maintenance",element:e.jsx(Ph,{})}),e.jsx(J,{path:"/inventory",element:e.jsx(Eh,{})}),e.jsx(J,{path:"/slurry",element:e.jsx(Mh,{})}),e.jsx(J,{path:"/monitoring",element:e.jsx(Rh,{})}),e.jsx(J,{path:"*",element:e.jsx(qn,{})})]})})})})},Lh=()=>{const{kpis:t,insights:s,overallPerformanceScore:a,criticalAlerts:r,topOpportunities:n,refreshing:l,refreshData:o}=ra(),c=f=>{switch(f){case"financial":return e.jsx(Bt,{className:"h-5 w-5"});case"operational":return e.jsx($e,{className:"h-5 w-5"});case"environmental":return e.jsx(Vt,{className:"h-5 w-5"});case"strategic":return e.jsx(Te,{className:"h-5 w-5"});default:return e.jsx($e,{className:"h-5 w-5"})}},u=(f,w)=>f==="up"||w>0?e.jsx(Zs,{className:"h-4 w-4 text-green-600"}):f==="down"||w<0?e.jsx(cr,{className:"h-4 w-4 text-red-600"}):e.jsx(Ja,{className:"h-4 w-4 text-gray-600"}),j=f=>f>=90?"text-green-600":f>=75?"text-yellow-600":"text-red-600",N=f=>f>=.8?"bg-green-100 text-green-800":f>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",x=f=>f>=1e7?`${(f/1e7).toFixed(1)}Cr`:f>=1e5?`${(f/1e5).toFixed(1)}L`:`${f.toLocaleString()}`,i=(f,w)=>w===""?x(f):`${f.toLocaleString()} ${w}`,g=()=>{const f=`Executive Summary: Overall performance score is ${a}%. Revenue is ${x(t.find(w=>w.id==="revenue")?.value||0)} with ${t.find(w=>w.id==="revenue")?.change||0}% growth. ${r.length} critical alerts require immediate attention.`;if("speechSynthesis"in window){const w=new SpeechSynthesisUtterance(f);speechSynthesis.speak(w)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Executive Summary"}),e.jsx("p",{className:"text-gray-600",children:"Real-time business intelligence and key performance indicators"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-3xl font-bold ${j(a)}`,children:[a,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Overall Performance"})]}),e.jsxs(q,{onClick:g,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(ea,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(q,{onClick:o,variant:"outline",size:"sm",disabled:l,className:"flex items-center gap-2",children:[e.jsx(us,{className:`h-4 w-4 ${l?"animate-spin":""}`}),"Refresh"]})]})]}),r.length>0&&e.jsxs(hs,{className:"border-red-200 bg-red-50",children:[e.jsx(we,{className:"h-4 w-4 text-red-600"}),e.jsxs(Ns,{className:"text-red-800",children:[e.jsxs("strong",{children:[r.length," Critical Alert",r.length>1?"s":""]}),e.jsx("div",{className:"mt-2 space-y-1",children:r.slice(0,2).map(f=>e.jsxs("div",{className:"text-sm",children:[" ",f.title,": ",f.description]},f.id))})]})]}),n.length>0&&e.jsxs(hs,{className:"border-green-200 bg-green-50",children:[e.jsx(be,{className:"h-4 w-4 text-green-600"}),e.jsxs(Ns,{className:"text-green-800",children:[e.jsx("strong",{children:"Top Growth Opportunity"}),e.jsxs("div",{className:"mt-2 text-sm",children:[n[0].title,": ",n[0].description,n[0].estimatedValue&&e.jsxs("span",{className:"font-semibold ml-2",children:["Potential Value: ",x(n[0].estimatedValue)]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:t.map(f=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow duration-200",children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx($,{className:"text-sm font-medium text-gray-600",children:f.name}),e.jsx("div",{className:`p-2 rounded-lg ${f.category==="financial"?"bg-blue-100 text-blue-600":f.category==="operational"?"bg-green-100 text-green-600":f.category==="environmental"?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:c(f.category)})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:i(f.value,f.unit)}),e.jsxs("div",{className:"flex items-center gap-1",children:[u(f.trend,f.change),e.jsxs("span",{className:`text-sm font-medium ${f.change>0?"text-green-600":f.change<0?"text-red-600":"text-gray-600"}`,children:[f.change>0?"+":"",f.change.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Progress to Target"}),e.jsxs("span",{children:[Math.round(f.value/f.target*100),"%"]})]}),e.jsx(Ce,{value:f.value/f.target*100,className:"h-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Target: ",i(f.target,f.unit)]}),e.jsxs(V,{variant:"outline",className:N(f.confidence),children:[Math.round(f.confidence*100),"% Confidence"]})]})]}),f.priority==="high"&&e.jsx("div",{className:"mt-2",children:e.jsx(V,{variant:"destructive",className:"text-xs",children:"High Priority"})})]})]},f.id))}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Quick Insights"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.slice(0,3).map(f=>e.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${f.impact==="positive"?"border-green-500 bg-green-50":f.impact==="negative"?"border-red-500 bg-red-50":"border-gray-500 bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:f.title}),e.jsxs(V,{variant:"outline",className:N(f.confidence),children:[Math.round(f.confidence*100),"%"]})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:f.description}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:f.timeline}),f.estimatedValue&&e.jsxs("span",{className:`text-sm font-medium ${f.impact==="positive"?"text-green-600":"text-red-600"}`,children:[f.impact==="positive"?"+":"",x(f.estimatedValue)]})]}),f.actionRequired&&e.jsx(V,{variant:"outline",className:"mt-2 text-xs bg-yellow-100 text-yellow-800",children:"Action Required"})]},f.id))})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Recommended Actions"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:s.filter(f=>f.actionRequired).slice(0,3).map(f=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:f.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.timeline})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f.estimatedValue&&e.jsxs("span",{className:`text-sm font-medium ${f.impact==="positive"?"text-green-600":"text-red-600"}`,children:[f.impact==="positive"?"+":"",x(f.estimatedValue)]}),e.jsx(q,{size:"sm",variant:"outline",children:"Review"})]})]},f.id))})})]})]})},_h=()=>{const{addVoiceQuery:t,kpis:s,carbonMetrics:a,competitiveData:r}=ra(),{user:n,hasPermission:l,isExecutive:o,getAccessLevel:c}=as(),[u,j]=d.useState(!1),[N,x]=d.useState(!1),[i,g]=d.useState(""),[f,w]=d.useState("en"),[S,D]=d.useState(0),[b,v]=d.useState(null),[T,y]=d.useState([]),[m,h]=d.useState(!1),[k,p]=d.useState(!1),[M,A]=d.useState({consentRequired:!0,sessionTimeout:o()?30:60,dataRetention:o()?"encrypted":"session",encryptionEnabled:!0,anonymizeTranscripts:!o(),blockSensitiveData:!0}),[F,L]=d.useState(0),[C,I]=d.useState(""),[U,W]=d.useState(!1),z=d.useRef(null),Z=d.useRef(null),H=d.useRef(null),he=ne=>btoa(ne.split("").map(ye=>String.fromCharCode(ye.charCodeAt(0)+1)).join("")),X=ne=>M.blockSensitiveData?ne.replace(/\b\d{12,16}\b/g,"[CARD-REDACTED]").replace(/\b\d{10,15}\b/g,"[PHONE-REDACTED]").replace(/\b[A-Z]{2}\d{2}[A-Z0-9]{4}\d{7}([A-Z0-9]?){0,16}\b/g,"[IBAN-REDACTED]").replace(/\b\d{4}-\d{4}-\d{4}-\d{4}\b/g,"[ACCOUNT-REDACTED]").replace(/password|pin|secret|confidential/gi,"[SENSITIVE-REDACTED]"):ne,R=ne=>M.anonymizeTranscripts?ne.replace(/\b[A-Z][a-z]+\s+[A-Z][a-z]+\b/g,"[NAME-REDACTED]").replace(/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/g,"[EMAIL-REDACTED]"):ne,ae=[{command:"Revenue Summary",description:"Get current revenue metrics and growth trends",examples:["What is our monthly revenue?","   ?","Show me revenue growth","Revenue trends this quarter"],category:"financial"},{command:"Production Analytics",description:"Biogas production and efficiency metrics",examples:["How much biogas did we produce today?","    ?","Show production efficiency","Which plants are performing best?"],category:"kpi"},{command:"Carbon Credits",description:"Environmental impact and carbon credit revenue",examples:["How many carbon credits did we generate?","    ?","Carbon revenue projections","Environmental impact summary"],category:"environmental"},{command:"Strategic Planning",description:"Market position and strategic initiatives",examples:["What is our market share?","     ?","Strategic initiative progress","Competitive analysis summary"],category:"strategic"}],G={revenue:[/(?:what|how much|tell me).*(?:revenue|sales|income|earnings)/i,/(?:|).*(?:||)/i,/(?:show|display).*(?:financial|revenue).*(?:performance|metrics)/i],production:[/(?:what|how much).*(?:production|biogas|output)/i,/(?:|).*(?:|)/i,/(?:efficiency|performance).*(?:plant|production)/i],carbon:[/(?:what|how many).*(?:carbon|credits|environmental)/i,/(?:|).*(?:|)/i,/(?:sustainability|green|environmental).*(?:impact|metrics)/i],strategic:[/(?:what|how).*(?:market|position|share|competitive)/i,/(?:|).*(?:|)/i,/(?:strategic|planning|initiatives)/i],forecast:[/(?:what|show).*(?:forecast|prediction|projection)/i,/(?:||)/i,/(?:future|next).*(?:quarter|year|month)/i]},re=()=>n?M.consentRequired&&!m?(p(!0),!1):!0:!1,ke=()=>{h(!0),p(!1);const ne={userId:n?.id,granted:!0,timestamp:new Date().toISOString(),privacyLevel:c()};localStorage.setItem("voiceConsent",JSON.stringify(ne))},ge=()=>{if(!n||!re())return;const ye={id:`voice-session-${Date.now()}`,startTime:new Date,queries:0,language:f,accuracy:0,userId:n.id,consentGiven:!0,dataRetention:M.dataRetention,privacyLevel:c()==="high"?"high":"standard",encryptionEnabled:M.encryptionEnabled};v(ye),L(M.sessionTimeout*60),H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{le()},M.sessionTimeout*60*1e3)},le=()=>{if(b){const ne={...b,endTime:new Date};if(M.dataRetention==="session")localStorage.removeItem("voiceSessionData");else if(M.dataRetention==="encrypted"){const ye=he(JSON.stringify(ne));localStorage.setItem("voiceSessionData",ye)}v(null),L(0),j(!1),H.current&&clearTimeout(H.current)}},de=ne=>{if(!b||!n)return;let ye=ne;if(ye=X(ye),ye=R(ye),M.encryptionEnabled){const oe=he(ye);I(oe)}const He={...b,queries:b.queries+1};v(He)};d.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const ne=window.SpeechRecognition||window.webkitSpeechRecognition;z.current=new ne,z.current.continuous=!0,z.current.interimResults=!0,z.current.lang=f==="hi"?"hi-IN":"en-US",z.current.onresult=ye=>{let He="",oe="";for(let Ye=ye.resultIndex;Ye<ye.results.length;Ye++){const at=ye.results[Ye];at.isFinal?(He+=at[0].transcript,D(at[0].confidence)):oe+=at[0].transcript}g(He||oe),He&&(de(He),ze(He,result[0].confidence))},z.current.onerror=ye=>{j(!1)},z.current.onend=()=>{j(!1)}}Z.current=speechSynthesis},[f]),d.useEffect(()=>{let ne;return b&&F>0&&(ne=setInterval(()=>{L(ye=>ye<=1?(le(),0):(ye===300&&o()&&Pt(f==="hi"?" 5     ":"Session will expire in 5 minutes"),ye-1))},1e3)),()=>{ne&&clearInterval(ne)}},[b,F]),d.useEffect(()=>{if(n){const ne=localStorage.getItem("voiceConsent");if(ne)try{const ye=JSON.parse(ne);if(ye.userId===n.id&&ye.granted){const He=Date.now()-new Date(ye.timestamp).getTime(),oe=o()?24*60*60*1e3:7*24*60*60*1e3;He<oe?h(!0):localStorage.removeItem("voiceConsent")}}catch{localStorage.removeItem("voiceConsent")}}},[n]),d.useEffect(()=>()=>{H.current&&clearTimeout(H.current),b&&le()},[]);const ze=async(ne,ye)=>{const He=xt(ne),oe=await Je(He),Ye={id:Date.now().toString(),query:ne,timestamp:new Date,response:oe.text,confidence:ye,category:He,language:f};t(Ye),y(at=>[Ye,...at.slice(0,9)]),oe.spoken&&Pt(oe.spoken),b&&v(at=>at?{...at,queries:at.queries+1,accuracy:(at.accuracy+ye)/2}:null)},xt=ne=>{const ye=ne.toLowerCase();for(const[He,oe]of Object.entries(G))if(oe.some(Ye=>Ye.test(ye)))return He;return"general"},Je=async(ne,ye)=>({revenue:{text:`Current monthly revenue is ${(s.find(oe=>oe.id==="revenue")?.value||0).toFixed(1)} crores, showing ${s.find(oe=>oe.id==="revenue")?.change||0}% growth this month.`,spoken:f==="hi"?`   ${(s.find(oe=>oe.id==="revenue")?.value||0).toFixed(1)}   ,    ${s.find(oe=>oe.id==="revenue")?.change||0}%     `:`Current monthly revenue is ${(s.find(oe=>oe.id==="revenue")?.value||0).toFixed(1)} crores, showing ${s.find(oe=>oe.id==="revenue")?.change||0}% growth this month.`},production:{text:`Biogas production is ${s.find(oe=>oe.id==="production")?.value||0} cubic meters per day with ${s.find(oe=>oe.id==="efficiency")?.value||0}% efficiency.`,spoken:f==="hi"?`   ${s.find(oe=>oe.id==="production")?.value||0}   ,   ${s.find(oe=>oe.id==="efficiency")?.value||0}% `:`Biogas production is ${s.find(oe=>oe.id==="production")?.value||0} cubic meters per day with ${s.find(oe=>oe.id==="efficiency")?.value||0}% efficiency.`},carbon:{text:`We generated ${a.creditsGenerated} tons of carbon credits worth ${(a.marketValue/1e5).toFixed(1)} lakhs.`,spoken:f==="hi"?` ${a.creditsGenerated}         ${(a.marketValue/1e5).toFixed(1)}   `:`We generated ${a.creditsGenerated} tons of carbon credits worth ${(a.marketValue/1e5).toFixed(1)} lakhs rupees.`},strategic:{text:`Our market share is ${r.marketShare}% and we rank #${r.ranking} in the industry.`,spoken:f==="hi"?`   ${r.marketShare}%      ${r.ranking}   `:`Our market share is ${r.marketShare}% and we rank number ${r.ranking} in the industry.`}})[ne]||{text:"I can help you with revenue, production, carbon credits, or strategic planning metrics.",spoken:f==="hi"?"  , ,  ,         ":"I can help you with revenue, production, carbon credits, or strategic planning metrics."},Pt=ne=>{if(Z.current){x(!0);const ye=new SpeechSynthesisUtterance(ne);ye.lang=f==="hi"?"hi-IN":"en-US",ye.onend=()=>x(!1),Z.current.speak(ye)}},se=()=>{if(!n||!l("voice","query")){alert("You do not have permission to use voice analytics");return}re()&&z.current&&(j(!0),z.current.start(),b||ge())},ws=()=>{z.current&&(z.current.stop(),j(!1))},Yt=()=>{Z.current&&(Z.current.cancel(),x(!1))},rs=()=>{w(ne=>ne==="en"?"hi":"en"),z.current&&(z.current.lang=f==="en"?"hi-IN":"en-US")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Voice Analytics Assistant"}),e.jsx("p",{className:"text-gray-600",children:"Advanced voice-enabled business intelligence"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(q,{onClick:rs,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(hi,{className:"h-4 w-4"}),f==="en"?"":"English"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(P,{children:[e.jsx(_,{className:"pb-3",children:e.jsxs($,{className:"flex items-center gap-2 text-sm",children:[e.jsx(Be,{className:"h-4 w-4"}),"Privacy Controls"]})}),e.jsxs(E,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Data Encryption"}),e.jsx(V,{variant:M.encryptionEnabled?"default":"secondary",children:M.encryptionEnabled?"ON":"OFF"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Privacy Level"}),e.jsx(V,{variant:"outline",children:c().toUpperCase()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Data Retention"}),e.jsx(V,{variant:"secondary",children:M.dataRetention.toUpperCase()})]}),e.jsxs(q,{onClick:()=>W(!U),variant:"outline",size:"sm",className:"w-full mt-2",children:[U?e.jsx(Hn,{className:"h-3 w-3 mr-1"}):e.jsx(jt,{className:"h-3 w-3 mr-1"}),U?"Show Data":"Hide Data"]})]})]}),e.jsxs(P,{children:[e.jsx(_,{className:"pb-3",children:e.jsxs($,{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ae,{className:"h-4 w-4"}),"Session Timer"]})}),e.jsx(E,{children:b?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-2xl font-bold text-center",children:[Math.floor(F/60),":",(F%60).toString().padStart(2,"0")]}),e.jsx("div",{className:"text-xs text-center text-gray-500",children:"Time Remaining"}),F<=300&&e.jsxs(hs,{className:"p-2",children:[e.jsx(we,{className:"h-3 w-3"}),e.jsx(Ns,{className:"text-xs",children:"Session expiring soon!"})]}),e.jsx(q,{onClick:le,variant:"outline",size:"sm",className:"w-full",children:"End Session"})]}):e.jsx("div",{className:"text-center text-gray-500 text-sm",children:"No active session"})})]}),e.jsxs(P,{children:[e.jsx(_,{className:"pb-3",children:e.jsxs($,{className:"flex items-center gap-2 text-sm",children:[e.jsx(Un,{className:"h-4 w-4"}),"Consent Status"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{children:"Voice Recording"}),e.jsx(V,{variant:m?"default":"destructive",children:m?"ALLOWED":"DENIED"})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["User: ",n?.name]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Role: ",n?.role?.toUpperCase()]}),!m&&e.jsx(q,{onClick:()=>p(!0),variant:"outline",size:"sm",className:"w-full",children:"Grant Consent"})]})})]})]}),k&&e.jsxs(P,{className:"border-orange-200 bg-orange-50",children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2 text-orange-800",children:[e.jsx(Be,{className:"h-5 w-5"}),"Voice Analytics Consent Required"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm text-orange-700",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"SAUBHAGYA Voice Analytics"})," requests permission to:"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[e.jsx("li",{children:"Record and process your voice queries"}),e.jsx("li",{children:"Analyze speech patterns for business intelligence"}),e.jsx("li",{children:"Store session data according to privacy settings"}),e.jsx("li",{children:"Apply role-based access controls for data security"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-white rounded border",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Privacy Settings for ",n?.name,":"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:["Session Timeout: ",e.jsxs("span",{className:"font-medium",children:[M.sessionTimeout," minutes"]})]}),e.jsxs("div",{children:["Data Retention: ",e.jsx("span",{className:"font-medium",children:M.dataRetention})]}),e.jsxs("div",{children:["Encryption: ",e.jsx("span",{className:"font-medium",children:M.encryptionEnabled?"Enabled":"Disabled"})]}),e.jsxs("div",{children:["Anonymization: ",e.jsx("span",{className:"font-medium",children:M.anonymizeTranscripts?"Enabled":"Disabled"})]})]})]}),e.jsxs("p",{className:"mt-3 text-xs text-gray-600",children:['By clicking "Grant Consent", you agree to voice data processing under SAUBHAGYA privacy policy.',o()&&" Executive sessions have enhanced security and shorter timeouts."]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(q,{onClick:ke,className:"flex-1",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Grant Consent"]}),e.jsx(q,{onClick:()=>p(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]}),b&&e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Yn,{className:"h-5 w-5"}),"Current Voice Session"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.queries}),e.jsx("div",{className:"text-sm text-gray-500",children:"Queries"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(b.accuracy*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Accuracy"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round((Date.now()-b.startTime.getTime())/6e4),"m"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Duration"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(V,{variant:"outline",className:"text-sm",children:b.language==="hi"?"":"English"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Language"})]})]})})]}),e.jsx(P,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(q,{onClick:u?ws:se,size:"lg",className:`h-20 w-20 rounded-full ${u?"bg-red-600 hover:bg-red-700 animate-pulse":"bg-blue-600 hover:bg-blue-700"}`,children:u?e.jsx(xi,{className:"h-8 w-8"}):e.jsx(Ks,{className:"h-8 w-8"})}),e.jsxs("div",{className:"text-center",children:[e.jsx(V,{variant:u?"default":"secondary",className:"mb-2",children:u?"Listening...":"Click to speak"}),S>0&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Confidence: ",Math.round(S*100),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[N&&e.jsxs(q,{onClick:Yt,variant:"outline",size:"sm",children:[e.jsx(ci,{className:"h-4 w-4 mr-2"}),"Stop Speaking"]}),e.jsxs(q,{onClick:()=>g(""),variant:"outline",size:"sm",children:[e.jsx(_r,{className:"h-4 w-4 mr-2"}),"Clear"]})]}),i&&e.jsxs(hs,{className:"w-full max-w-2xl",children:[e.jsx(wa,{className:"h-4 w-4"}),e.jsxs(Ns,{children:[e.jsx("strong",{children:"You said:"}),' "',i,'"']})]})]})})}),e.jsxs(St,{defaultValue:"commands",className:"w-full",children:[e.jsxs(Ct,{className:"grid w-full grid-cols-2",children:[e.jsx(xe,{value:"commands",children:"Voice Commands"}),e.jsx(xe,{value:"history",children:"Query History"})]}),e.jsx(ce,{value:"commands",className:"space-y-4",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Available Voice Commands"})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:ae.map((ne,ye)=>e.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${ne.category==="financial"?"border-blue-500 bg-blue-50":ne.category==="kpi"?"border-green-500 bg-green-50":ne.category==="environmental"?"border-purple-500 bg-purple-50":"border-orange-500 bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ne.category==="financial"&&e.jsx(Bt,{className:"h-5 w-5 text-blue-600"}),ne.category==="kpi"&&e.jsx(Te,{className:"h-5 w-5 text-green-600"}),ne.category==="environmental"&&e.jsx(Ys,{className:"h-5 w-5 text-purple-600"}),ne.category==="strategic"&&e.jsx(st,{className:"h-5 w-5 text-orange-600"}),e.jsx("h4",{className:"font-medium text-gray-900",children:ne.command})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:ne.description}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Examples:"}),ne.examples.slice(0,2).map((He,oe)=>e.jsxs("div",{className:"text-xs text-gray-600",children:[' "',He,'"']},oe))]})]},ye))})})]})}),e.jsx(ce,{value:"history",className:"space-y-4",children:e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Ea,{className:"h-5 w-5"}),"Recent Voice Queries"]})}),e.jsx(E,{children:T.length>0?e.jsx("div",{className:"space-y-3",children:T.map(ne=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:['"',ne.query,'"']}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{variant:"outline",className:"text-xs",children:[Math.round(ne.confidence*100),"%"]}),e.jsx(V,{variant:"outline",className:"text-xs",children:ne.language==="hi"?"":"English"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Response:"})," ",ne.response]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[ne.timestamp.toLocaleTimeString(),"  Category: ",ne.category]})]},ne.id))}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No voice queries yet. Start speaking to see your history here."})})]})})]})]})},$h=()=>{const{initiatives:t,refreshData:s,refreshing:a,updateInitiative:r}=ra(),[n,l]=d.useState("baseline"),[o,c]=d.useState("12m"),[u,j]=d.useState("initiatives"),[N,x]=d.useState(!1),[i]=d.useState([{id:"baseline",name:"Baseline Growth",description:"Conservative growth with current market conditions",assumptions:{marketGrowth:12,investmentLevel:80,riskFactor:20,timeframe:12},projectedOutcomes:{revenue:15e8,profit:375e6,marketShare:22,roi:25,confidence:.85},risks:[{category:"Market",probability:.3,impact:.4,mitigation:"Diversify customer base"},{category:"Regulatory",probability:.2,impact:.6,mitigation:"Government relations program"}]},{id:"aggressive",name:"Aggressive Expansion",description:"High-growth strategy with significant market expansion",assumptions:{marketGrowth:25,investmentLevel:150,riskFactor:45,timeframe:18},projectedOutcomes:{revenue:225e7,profit:45e7,marketShare:35,roi:42,confidence:.68},risks:[{category:"Market",probability:.5,impact:.7,mitigation:"Phased expansion approach"},{category:"Financial",probability:.4,impact:.8,mitigation:"Strategic partnerships"}]},{id:"conservative",name:"Conservative Consolidation",description:"Focus on operational efficiency and market consolidation",assumptions:{marketGrowth:8,investmentLevel:50,riskFactor:10,timeframe:24},projectedOutcomes:{revenue:12e8,profit:36e7,marketShare:18,roi:18,confidence:.92},risks:[{category:"Competition",probability:.4,impact:.3,mitigation:"Innovation investment"},{category:"Technology",probability:.2,impact:.4,mitigation:"R&D partnerships"}]}]),[g]=d.useState([{id:"ai_optimization",title:"AI-Driven Production Optimization",sector:"Technology",investmentRequired:25e7,projectedRoi:320,riskLevel:"medium",timeToBreakeven:18,strategicAlignment:95,competitiveAdvantage:"First-mover advantage in biogas AI optimization",marketSize:15e8,confidence:.82,npv:485e6,irr:42.5,paybackPeriod:2.8,discountRate:12},{id:"carbon_trading",title:"Carbon Credit Trading Platform",sector:"Environmental",investmentRequired:15e7,projectedRoi:450,riskLevel:"low",timeToBreakeven:12,strategicAlignment:88,competitiveAdvantage:"Integrated production and trading ecosystem",marketSize:28e8,confidence:.91,npv:625e6,irr:58.3,paybackPeriod:2.1,discountRate:10},{id:"rural_expansion",title:"Rural Distribution Network Expansion",sector:"Infrastructure",investmentRequired:8e8,projectedRoi:180,riskLevel:"high",timeToBreakeven:36,strategicAlignment:92,competitiveAdvantage:"Last-mile connectivity advantage",marketSize:5e9,confidence:.76,npv:32e7,irr:28.7,paybackPeriod:4.2,discountRate:15},{id:"smart_grid_integration",title:"Smart Grid Integration Platform",sector:"Technology",investmentRequired:4e8,projectedRoi:280,riskLevel:"medium",timeToBreakeven:24,strategicAlignment:89,competitiveAdvantage:"Integrated energy distribution network",marketSize:32e8,confidence:.78,npv:42e7,irr:35.2,paybackPeriod:3.5,discountRate:13}]),[f]=d.useState([{id:"maharashtra_west",region:"Western Maharashtra",state:"Maharashtra",marketSize:85e7,penetrationRate:12,competitionLevel:"medium",regulatorySupport:85,infrastructureScore:78,investmentRequired:18e7,projectedRevenue:32e7,riskScore:25,opportunityScore:88},{id:"punjab_rural",region:"Rural Punjab",state:"Punjab",marketSize:62e7,penetrationRate:8,competitionLevel:"low",regulatorySupport:92,infrastructureScore:82,investmentRequired:14e7,projectedRevenue:28e7,riskScore:18,opportunityScore:94},{id:"gujarat_industrial",region:"Industrial Gujarat",state:"Gujarat",marketSize:95e7,penetrationRate:15,competitionLevel:"high",regulatorySupport:78,infrastructureScore:88,investmentRequired:22e7,projectedRevenue:38e7,riskScore:35,opportunityScore:82},{id:"up_eastern",region:"Eastern Uttar Pradesh",state:"Uttar Pradesh",marketSize:72e7,penetrationRate:6,competitionLevel:"low",regulatorySupport:75,infrastructureScore:65,investmentRequired:16e7,projectedRevenue:25e7,riskScore:28,opportunityScore:85},{id:"karnataka_tech",region:"Tech Corridor Karnataka",state:"Karnataka",marketSize:58e7,penetrationRate:10,competitionLevel:"medium",regulatorySupport:88,infrastructureScore:92,investmentRequired:125e6,projectedRevenue:21e7,riskScore:22,opportunityScore:90}]),[w]=d.useState([{scenario:"baseline",iterations:1e4,outcomes:{revenue:{mean:15e8,stdDev:18e7,percentile95:182e7,percentile5:121e7},profit:{mean:375e6,stdDev:65e6,percentile95:485e6,percentile5:285e6},roi:{mean:25,stdDev:4.2,percentile95:32.5,percentile5:18.8}},confidenceLevel:.85,riskOfLoss:.12},{scenario:"aggressive",iterations:1e4,outcomes:{revenue:{mean:225e7,stdDev:385e6,percentile95:2885e6,percentile5:168e7},profit:{mean:45e7,stdDev:125e6,percentile95:665e6,percentile5:285e6},roi:{mean:42,stdDev:8.5,percentile95:56.2,percentile5:28.5}},confidenceLevel:.68,riskOfLoss:.28},{scenario:"conservative",iterations:1e4,outcomes:{revenue:{mean:12e8,stdDev:85e6,percentile95:1345e6,percentile5:1085e6},profit:{mean:36e7,stdDev:42e6,percentile95:43e7,percentile5:305e6},roi:{mean:18,stdDev:2.8,percentile95:22.8,percentile5:14.2}},confidenceLevel:.92,riskOfLoss:.05}]),[S]=d.useState([{variable:"Market Growth Rate",baseValue:12,unit:"%",impact:{low:{change:-20,revenueImpact:-18e7,roiImpact:-4.2},high:{change:30,revenueImpact:285e6,roiImpact:6.8}},elasticity:1.45},{variable:"Raw Material Cost",baseValue:35,unit:"/unit",impact:{low:{change:-15,revenueImpact:125e6,roiImpact:3.2},high:{change:25,revenueImpact:-185e6,roiImpact:-5.8}},elasticity:-.85},{variable:"Carbon Credit Price",baseValue:15e4,unit:"/ton",impact:{low:{change:-30,revenueImpact:-95e6,roiImpact:-2.8},high:{change:40,revenueImpact:165e6,roiImpact:4.5}},elasticity:1.12},{variable:"Regulatory Support",baseValue:80,unit:"score",impact:{low:{change:-25,revenueImpact:-22e7,roiImpact:-6.5},high:{change:20,revenueImpact:145e6,roiImpact:3.8}},elasticity:.95},{variable:"Technology Adoption Rate",baseValue:65,unit:"%",impact:{low:{change:-30,revenueImpact:-155e6,roiImpact:-4.2},high:{change:35,revenueImpact:198e6,roiImpact:5.5}},elasticity:1.28}]),[D]=d.useState([{id:"regulatory_changes",category:"regulatory",title:"Government Policy Changes",description:"Potential changes in renewable energy subsidies and regulations",probability:.6,impact:.7,severity:"high",mitigationStrategy:"Active government relations and policy advocacy",owner:"Government Affairs Team",status:"monitoring",estimatedCost:125e6},{id:"market_saturation",category:"market",title:"Market Saturation Risk",description:"Risk of market saturation in primary regions",probability:.4,impact:.8,severity:"high",mitigationStrategy:"Geographic diversification and new product development",owner:"Strategic Planning Team",status:"mitigating",estimatedCost:2e8},{id:"technology_disruption",category:"technology",title:"Disruptive Technology Threat",description:"Emergence of competing renewable energy technologies",probability:.3,impact:.9,severity:"critical",mitigationStrategy:"R&D investment and technology partnerships",owner:"Technology Innovation Team",status:"mitigating",estimatedCost:3e8}]),b=p=>p>=1e7?`${(p/1e7).toFixed(1)}Cr`:p>=1e5?`${(p/1e5).toFixed(1)}L`:`${p.toLocaleString()}`,v=p=>{switch(p){case"planning":return e.jsx(Ae,{className:"h-4 w-4 text-blue-600"});case"in-progress":return e.jsx(zl,{className:"h-4 w-4 text-green-600"});case"completed":return e.jsx(be,{className:"h-4 w-4 text-green-600"});case"on-hold":return e.jsx(Wl,{className:"h-4 w-4 text-yellow-600"});default:return e.jsx(Ae,{className:"h-4 w-4 text-gray-600"})}},T=p=>{switch(p){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";case"critical":return"bg-red-200 text-red-900";default:return"bg-gray-100 text-gray-800"}},y=(p,M)=>Math.round(p*M*100),m=()=>{const p=t.filter(W=>W.status==="in-progress").length,M=t.reduce((W,z)=>W+z.budget,0),A=t.reduce((W,z)=>W+z.roi,0)/t.length,F=g.reduce((W,z)=>W+z.investmentRequired,0),L=g.reduce((W,z)=>W+z.npv,0)/g.length,C=f.sort((W,z)=>z.opportunityScore-W.opportunityScore)[0],I=D.filter(W=>W.severity==="high"||W.severity==="critical").length,U=`Strategic Planning Executive Summary: ${p} strategic initiatives in progress with ${b(M)} total budget and ${A.toFixed(1)}% average ROI. Investment portfolio includes ${g.length} opportunities worth ${b(F)} with average NPV of ${b(L)}. Top geographic opportunity is ${C.region} with ${C.opportunityScore} opportunity score. ${I} high-priority risks require immediate attention. Monte Carlo analysis shows ${Math.round(w.find(W=>W.scenario===n)?.confidenceLevel*100||0)}% confidence level for current scenario.`;if("speechSynthesis"in window){const W=new SpeechSynthesisUtterance(U);speechSynthesis.speak(W)}},h=()=>{const p={timestamp:new Date().toISOString(),scenario:n,timeframe:o,summary:{activeInitiatives:t.filter(L=>L.status==="in-progress").length,totalBudget:t.reduce((L,C)=>L+C.budget,0),avgRoi:t.reduce((L,C)=>L+C.roi,0)/t.length,highPriorityRisks:D.filter(L=>L.severity==="high"||L.severity==="critical").length,totalInvestmentOpportunities:g.length,topGeographicOpportunity:f.sort((L,C)=>C.opportunityScore-L.opportunityScore)[0]?.region||"N/A"},initiatives:t,scenarios:i,investments:{opportunities:g,portfolioMetrics:{totalInvestment:g.reduce((L,C)=>L+C.investmentRequired,0),averageNPV:g.reduce((L,C)=>L+C.npv,0)/g.length,averageIRR:g.reduce((L,C)=>L+C.irr,0)/g.length,averagePayback:g.reduce((L,C)=>L+C.paybackPeriod,0)/g.length}},geographic:{opportunities:f,totalMarketSize:f.reduce((L,C)=>L+C.marketSize,0),totalInvestmentRequired:f.reduce((L,C)=>L+C.investmentRequired,0),averageOpportunityScore:f.reduce((L,C)=>L+C.opportunityScore,0)/f.length},simulation:{monteCarloResults:w,sensitivityAnalysis:S,selectedScenarioConfidence:w.find(L=>L.scenario===n)?.confidenceLevel||0},risks:{assessments:D,totalExposure:D.reduce((L,C)=>L+C.estimatedCost,0),activeMitigations:D.filter(L=>L.status==="mitigating").length,resolvedRisks:D.filter(L=>L.status==="resolved").length}},M=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),A=URL.createObjectURL(M),F=document.createElement("a");F.href=A,F.download=`strategic-planning-comprehensive-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(A)},k=i.find(p=>p.id===n);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Strategic Planning & Analysis"}),e.jsx("p",{className:"text-gray-600",children:"Long-term business planning, scenario modeling, and strategic initiatives"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(q,{onClick:m,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(ea,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(q,{onClick:h,variant:"outline",size:"sm",children:[e.jsx(lt,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(q,{onClick:s,variant:"outline",size:"sm",disabled:a,children:[e.jsx(us,{className:`h-4 w-4 ${a?"animate-spin":""} mr-2`}),"Refresh"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Scenario:"}),e.jsxs(Oe,{value:n,onValueChange:l,children:[e.jsx(Me,{className:"w-48",children:e.jsx(Fe,{})}),e.jsx(Re,{children:i.map(p=>e.jsx(Q,{value:p.id,children:p.name},p.id))})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Timeframe:"}),e.jsxs(Oe,{value:o,onValueChange:c,children:[e.jsx(Me,{className:"w-32",children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"6m",children:"6 Months"}),e.jsx(Q,{value:"12m",children:"12 Months"}),e.jsx(Q,{value:"24m",children:"24 Months"}),e.jsx(Q,{value:"36m",children:"36 Months"})]})]})]}),e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>x(!N),children:[e.jsx($t,{className:"h-4 w-4 mr-2"}),"Advanced"]})]}),e.jsxs(St,{value:u,onValueChange:j,className:"space-y-6",children:[e.jsxs(Ct,{className:"grid w-full grid-cols-7",children:[e.jsx(xe,{value:"initiatives",children:"Initiatives"}),e.jsx(xe,{value:"scenarios",children:"Scenarios"}),e.jsx(xe,{value:"investments",children:"Investments"}),e.jsx(xe,{value:"geographic",children:"Geographic"}),e.jsx(xe,{value:"simulation",children:"Simulation"}),e.jsx(xe,{value:"risks",children:"Risks"}),e.jsx(xe,{value:"planning",children:"Planning"})]}),e.jsxs(ce,{value:"initiatives",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"h-5 w-5"}),"Initiative Portfolio Overview"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(p=>p.status==="in-progress").length}),e.jsx("div",{className:"text-sm text-blue-700",children:"Active Initiatives"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b(t.reduce((p,M)=>p+M.budget,0))}),e.jsx("div",{className:"text-sm text-green-700",children:"Total Investment"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(t.reduce((p,M)=>p+M.roi,0)/t.length).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-purple-700",children:"Average ROI"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(t.reduce((p,M)=>p+M.progress,0)/t.length),"%"]}),e.jsx("div",{className:"text-sm text-orange-700",children:"Avg Progress"})]})]})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"ROI Performance Analysis"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:t.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[v(p.status),e.jsx("span",{className:"font-medium",children:p.name})]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Budget: ",b(p.budget)," | Spent: ",b(p.spent)," | Progress: ",p.progress,"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-lg font-bold ${p.roi>=300?"text-green-600":p.roi>=200?"text-blue-600":"text-gray-600"}`,children:[p.roi,"% ROI"]}),e.jsxs(V,{variant:"outline",className:T(p.riskLevel),children:[p.riskLevel," risk"]})]})]},p.id))})})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:t.map(p=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx($,{className:"text-lg",children:p.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.description})]}),e.jsx(V,{variant:"outline",className:p.status==="completed"?"bg-green-100 text-green-800":p.status==="in-progress"?"bg-blue-100 text-blue-800":p.status==="planning"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:p.status.replace("-"," ")})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Budget Utilization"}),e.jsxs("div",{className:"font-medium",children:[b(p.spent)," / ",b(p.budget)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Expected ROI"}),e.jsxs("div",{className:"font-medium text-green-600",children:[p.roi,"%"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[p.progress,"%"]})]}),e.jsx(Ce,{value:p.progress,className:"h-2"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-600",children:"Timeline"}),e.jsxs("div",{className:"font-medium",children:[new Date(p.timeline.start).toLocaleDateString()," - ",new Date(p.timeline.end).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-600",children:"Owner"}),e.jsx("div",{className:"font-medium",children:p.owner})]}),N&&e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Risk Level:"}),e.jsx(V,{variant:"outline",className:T(p.riskLevel),children:p.riskLevel})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Milestones:"}),e.jsxs("span",{children:[p.timeline.milestones.length," planned"]})]})]})})]})]},p.id))})]}),e.jsx(ce,{value:"scenarios",className:"space-y-6",children:k&&e.jsxs(e.Fragment,{children:[e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"Scenario Analysis: ",k.name]}),e.jsx("p",{className:"text-gray-600",children:k.description})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Key Assumptions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Market Growth Rate"}),e.jsxs("span",{className:"font-medium",children:[k.assumptions.marketGrowth,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Investment Level"}),e.jsxs("span",{className:"font-medium",children:[k.assumptions.investmentLevel,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Risk Factor"}),e.jsxs("span",{className:"font-medium",children:[k.assumptions.riskFactor,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Timeframe"}),e.jsxs("span",{className:"font-medium",children:[k.assumptions.timeframe," months"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Projected Outcomes"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:b(k.projectedOutcomes.revenue)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Revenue"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:b(k.projectedOutcomes.profit)}),e.jsx("div",{className:"text-xs text-green-700",children:"Profit"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[k.projectedOutcomes.marketShare,"%"]}),e.jsx("div",{className:"text-xs text-purple-700",children:"Market Share"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[k.projectedOutcomes.roi,"%"]}),e.jsx("div",{className:"text-xs text-orange-700",children:"ROI"})]})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs(V,{variant:"outline",className:`${k.projectedOutcomes.confidence>=.8?"bg-green-100 text-green-800":k.projectedOutcomes.confidence>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(k.projectedOutcomes.confidence*100),"% Confidence"]})})]})]})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(lr,{className:"h-5 w-5"}),"Scenario Comparison Matrix"]})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Scenario"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Revenue"}),e.jsx("th",{className:"text-center py-3 px-4",children:"ROI"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Market Share"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Risk Level"}),e.jsx("th",{className:"text-center py-3 px-4",children:"Confidence"})]})}),e.jsx("tbody",{children:i.map(p=>e.jsxs("tr",{className:`border-b border-gray-100 ${p.id===n?"bg-blue-50":""}`,children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:p.name}),e.jsx("td",{className:"text-center py-3 px-4",children:b(p.projectedOutcomes.revenue)}),e.jsxs("td",{className:"text-center py-3 px-4",children:[p.projectedOutcomes.roi,"%"]}),e.jsxs("td",{className:"text-center py-3 px-4",children:[p.projectedOutcomes.marketShare,"%"]}),e.jsxs("td",{className:"text-center py-3 px-4",children:[p.assumptions.riskFactor,"%"]}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsxs(V,{variant:"outline",className:`${p.projectedOutcomes.confidence>=.8?"bg-green-100 text-green-800":p.projectedOutcomes.confidence>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(p.projectedOutcomes.confidence*100),"%"]})})]},p.id))})]})})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5"}),"Scenario Risk Analysis"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:k.risks.map((p,M)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[p.category," Risk"]}),e.jsx("div",{className:"text-sm text-gray-600",children:p.mitigation})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Probability:"})," ",Math.round(p.probability*100),"%"]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Impact:"})," ",Math.round(p.impact*100),"%"]}),e.jsxs(V,{variant:"outline",className:y(p.probability,p.impact)>=50?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:["Score: ",y(p.probability,p.impact)]})]})]},M))})})]})]})}),e.jsxs(ce,{value:"investments",className:"space-y-6",children:[e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-5 w-5"}),"Investment Opportunity Portfolio"]}),e.jsx("p",{className:"text-gray-600",children:"Prioritized investment opportunities with ROI analysis and strategic alignment"})]}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:g.sort((p,M)=>M.projectedRoi*M.strategicAlignment-p.projectedRoi*p.strategicAlignment).map(p=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx($,{className:"text-lg",children:p.title}),e.jsx(V,{variant:"outline",className:"mt-2",children:p.sector})]}),e.jsxs(V,{variant:"outline",className:T(p.riskLevel),children:[p.riskLevel," risk"]})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:b(p.investmentRequired)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Investment Required"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[p.projectedRoi,"%"]}),e.jsx("div",{className:"text-xs text-green-700",children:"Projected ROI"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:b(p.npv)}),e.jsx("div",{className:"text-xs text-purple-700",children:"NPV"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[p.irr,"%"]}),e.jsx("div",{className:"text-xs text-orange-700",children:"IRR"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Time to Breakeven"}),e.jsxs("span",{className:"font-medium",children:[p.timeToBreakeven," months"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Strategic Alignment"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{value:p.strategicAlignment,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[p.strategicAlignment,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Market Size"}),e.jsx("span",{className:"font-medium",children:b(p.marketSize)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Payback Period"}),e.jsxs("span",{className:"font-medium",children:[p.paybackPeriod," years"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Discount Rate"}),e.jsxs("span",{className:"font-medium",children:[p.discountRate,"%"]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Competitive Advantage"}),e.jsx("div",{className:"text-sm font-medium",children:p.competitiveAdvantage})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(V,{variant:"outline",className:`${p.confidence>=.8?"bg-green-100 text-green-800":p.confidence>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(p.confidence*100),"% Confidence"]}),e.jsx(q,{size:"sm",variant:"outline",children:"Detailed Analysis"})]})]})]},p.id))})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5"}),"Portfolio Optimization Analysis"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Risk-Return Profile"}),e.jsx("div",{className:"space-y-3",children:["low","medium","high"].map(p=>{const M=g.filter(L=>L.riskLevel===p),A=M.reduce((L,C)=>L+C.projectedRoi,0)/M.length||0,F=M.reduce((L,C)=>L+C.investmentRequired,0);return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium capitalize",children:[p," Risk"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[M.length," opportunities"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[A.toFixed(1),"% ROI"]}),e.jsx("div",{className:"text-sm text-gray-600",children:b(F)})]})]},p)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sector Distribution"}),e.jsx("div",{className:"space-y-3",children:Array.from(new Set(g.map(p=>p.sector))).map(p=>{const M=g.filter(F=>F.sector===p),A=M.reduce((F,L)=>F+L.investmentRequired,0);return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:p}),e.jsxs("div",{className:"text-sm text-gray-600",children:[M.length," opportunities"]})]}),e.jsx("div",{className:"font-medium",children:b(A)})]},p)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Recommended Allocation"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800",children:"Optimal Portfolio"}),e.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Balanced risk-return allocation"}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Expected ROI:"}),e.jsx("span",{className:"font-medium",children:"285%"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Total Investment:"}),e.jsx("span",{className:"font-medium",children:b(g.reduce((p,M)=>p+M.investmentRequired,0))})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Payback Period:"}),e.jsx("span",{className:"font-medium",children:"22 months"})]})]})]})})]})]})})]})]}),e.jsxs(ce,{value:"risks",className:"space-y-6",children:[e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"Strategic Risk Assessment & Mitigation"]}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive risk analysis with impact assessment and mitigation strategies"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:["critical","high","medium","low"].map(p=>{const M=D.filter(A=>A.severity===p);return e.jsxs("div",{className:`text-center p-4 rounded-lg ${p==="critical"?"bg-red-100":p==="high"?"bg-orange-100":p==="medium"?"bg-yellow-100":"bg-green-100"}`,children:[e.jsx("div",{className:`text-2xl font-bold ${p==="critical"?"text-red-600":p==="high"?"text-orange-600":p==="medium"?"text-yellow-600":"text-green-600"}`,children:M.length}),e.jsxs("div",{className:`text-sm ${p==="critical"?"text-red-700":p==="high"?"text-orange-700":p==="medium"?"text-yellow-700":"text-green-700"}`,children:[p.charAt(0).toUpperCase()+p.slice(1)," Risk"]})]},p)})}),e.jsx("div",{className:"space-y-4",children:D.sort((p,M)=>y(M.probability,M.impact)-y(p.probability,p.impact)).map(p=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($,{className:"text-lg",children:p.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(V,{variant:"outline",className:p.category==="market"?"bg-blue-100 text-blue-800":p.category==="operational"?"bg-green-100 text-green-800":p.category==="financial"?"bg-purple-100 text-purple-800":p.category==="regulatory"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800",children:p.category}),e.jsx(V,{variant:"outline",className:T(p.severity),children:p.severity})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:y(p.probability,p.impact)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Risk Score"})]})]})}),e.jsx(E,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Risk Metrics"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Probability:"}),e.jsxs("span",{className:"font-medium",children:[Math.round(p.probability*100),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Impact:"}),e.jsxs("span",{className:"font-medium",children:[Math.round(p.impact*100),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Est. Cost:"}),e.jsx("span",{className:"font-medium",children:b(p.estimatedCost)})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Mitigation Strategy"}),e.jsx("div",{className:"text-sm",children:p.mitigationStrategy})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Management"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Owner:"})," ",p.owner]}),e.jsx(V,{variant:"outline",className:p.status==="resolved"?"bg-green-100 text-green-800":p.status==="mitigating"?"bg-blue-100 text-blue-800":p.status==="monitoring"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:p.status})]})]})]})})]},p.id))})]})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5"}),"Risk Mitigation Investment Summary"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:b(D.reduce((p,M)=>p+M.estimatedCost,0))}),e.jsx("div",{className:"text-sm text-red-700 mt-2",children:"Total Risk Exposure"})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:D.filter(p=>p.status==="mitigating").length}),e.jsx("div",{className:"text-sm text-blue-700 mt-2",children:"Active Mitigations"})]}),e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[Math.round(D.filter(p=>p.status==="resolved").length/D.length*100),"%"]}),e.jsx("div",{className:"text-sm text-green-700 mt-2",children:"Risks Resolved"})]})]})})]})]}),e.jsx(ce,{value:"geographic",className:"space-y-6",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"h-5 w-5"}),"Geographic Market Expansion Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Regional opportunity assessment and market penetration strategy"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:f.sort((p,M)=>M.opportunityScore-p.opportunityScore).map(p=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx($,{className:"text-lg",children:p.region}),e.jsx(V,{variant:"outline",className:"mt-2",children:p.state})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.opportunityScore}),e.jsx("div",{className:"text-sm text-gray-600",children:"Opportunity Score"})]})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:b(p.marketSize)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Market Size"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:b(p.projectedRevenue)}),e.jsx("div",{className:"text-xs text-green-700",children:"Projected Revenue"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Current Penetration"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{value:p.penetrationRate,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[p.penetrationRate,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Regulatory Support"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{value:p.regulatorySupport,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[p.regulatorySupport,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Infrastructure"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{value:p.infrastructureScore,className:"h-2 w-16"}),e.jsxs("span",{className:"font-medium",children:[p.infrastructureScore,"%"]})]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Investment Required"}),e.jsx("span",{className:"font-medium",children:b(p.investmentRequired)})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Competition Level"}),e.jsx(V,{variant:"outline",className:T(p.competitionLevel),children:p.competitionLevel})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Risk Score"}),e.jsxs("span",{className:`font-medium ${p.riskScore<=20?"text-green-600":p.riskScore<=30?"text-yellow-600":"text-red-600"}`,children:[p.riskScore,"/100"]})]})]}),e.jsx(q,{size:"sm",className:"w-full",children:"View Detailed Analysis"})]})]},p.id))}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"Regional Expansion Summary"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b(f.reduce((p,M)=>p+M.marketSize,0))}),e.jsx("div",{className:"text-sm text-blue-700 mt-2",children:"Total Addressable Market"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b(f.reduce((p,M)=>p+M.investmentRequired,0))}),e.jsx("div",{className:"text-sm text-green-700 mt-2",children:"Total Investment Required"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:b(f.reduce((p,M)=>p+M.projectedRevenue,0))}),e.jsx("div",{className:"text-sm text-purple-700 mt-2",children:"Total Projected Revenue"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(f.reduce((p,M)=>p+M.opportunityScore,0)/f.length)}),e.jsx("div",{className:"text-sm text-orange-700 mt-2",children:"Avg Opportunity Score"})]})]})})]})]})})]})}),e.jsx(ce,{value:"simulation",className:"space-y-6",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5"}),"Monte Carlo Simulation & Sensitivity Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Statistical modeling and risk assessment for strategic scenarios"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Monte Carlo Simulation Results (10,000 iterations)"}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:w.map(p=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($,{className:"text-lg capitalize",children:[p.scenario," Scenario"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(V,{variant:"outline",className:`${p.confidenceLevel>=.8?"bg-green-100 text-green-800":p.confidenceLevel>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(p.confidenceLevel*100),"% Confidence"]}),e.jsxs(V,{variant:"outline",className:`${p.riskOfLoss<=.1?"bg-green-100 text-green-800":p.riskOfLoss<=.25?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(p.riskOfLoss*100),"% Risk of Loss"]})]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-blue-600",children:"Revenue Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Mean:"}),e.jsx("span",{className:"font-medium",children:b(p.outcomes.revenue.mean)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Std Dev:"}),e.jsx("span",{className:"font-medium",children:b(p.outcomes.revenue.stdDev)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"95th %ile:"}),e.jsx("span",{className:"font-medium text-green-600",children:b(p.outcomes.revenue.percentile95)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5th %ile:"}),e.jsx("span",{className:"font-medium text-red-600",children:b(p.outcomes.revenue.percentile5)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-green-600",children:"Profit Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Mean:"}),e.jsx("span",{className:"font-medium",children:b(p.outcomes.profit.mean)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Std Dev:"}),e.jsx("span",{className:"font-medium",children:b(p.outcomes.profit.stdDev)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"95th %ile:"}),e.jsx("span",{className:"font-medium text-green-600",children:b(p.outcomes.profit.percentile95)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5th %ile:"}),e.jsx("span",{className:"font-medium text-red-600",children:b(p.outcomes.profit.percentile5)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-purple-600",children:"ROI Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Mean:"}),e.jsxs("span",{className:"font-medium",children:[p.outcomes.roi.mean.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Std Dev:"}),e.jsxs("span",{className:"font-medium",children:[p.outcomes.roi.stdDev.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"95th %ile:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[p.outcomes.roi.percentile95.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5th %ile:"}),e.jsxs("span",{className:"font-medium text-red-600",children:[p.outcomes.roi.percentile5.toFixed(1),"%"]})]})]})]})]})})]},p.scenario))})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Sensitivity Analysis - Key Variables Impact"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:S.map((p,M)=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($,{className:"text-lg",children:p.variable}),e.jsxs(V,{variant:"outline",className:`${Math.abs(p.elasticity)>=1.2?"bg-red-100 text-red-800":Math.abs(p.elasticity)>=.8?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:["Elasticity: ",p.elasticity.toFixed(2)]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[p.baseValue," ",p.unit]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Base Value"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h5",{className:"font-medium text-red-600",children:["Downside Scenario (",p.impact.low.change,"%)"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Revenue Impact:"}),e.jsx("span",{className:"font-medium text-red-600",children:b(p.impact.low.revenueImpact)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"ROI Impact:"}),e.jsxs("span",{className:"font-medium text-red-600",children:[p.impact.low.roiImpact.toFixed(1),"%"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h5",{className:"font-medium text-green-600",children:["Upside Scenario (",p.impact.high.change,"%)"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Revenue Impact:"}),e.jsx("span",{className:"font-medium text-green-600",children:b(p.impact.high.revenueImpact)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"ROI Impact:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["+",p.impact.high.roiImpact.toFixed(1),"%"]})]})]})]})]})})]},M))})})]})]})})]})}),e.jsx(ce,{value:"planning",className:"space-y-6",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5"}),"Long-term Business Planning Framework"]}),e.jsx("p",{className:"text-gray-600",children:"Strategic roadmap and long-term vision execution"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Strategic Vision Timeline (2024-2027)"}),e.jsx("div",{className:"space-y-4",children:[{year:"2024",focus:"Market Consolidation & Technology Integration",goals:["Achieve 25% market share","Complete AI optimization rollout","Launch carbon trading platform"],investment:85e7,targetRoi:280},{year:"2025",focus:"Regional Expansion & Innovation",goals:["Expand to 5 new regions","Launch next-gen biogas technology","Establish R&D centers"],investment:12e8,targetRoi:320},{year:"2026",focus:"International Markets & Sustainability Leadership",goals:["Enter international markets","Achieve carbon neutrality","IPO preparation"],investment:18e8,targetRoi:380},{year:"2027",focus:"Global Leadership & Ecosystem Development",goals:["Global market presence","Complete ecosystem integration","Industry leadership"],investment:25e8,targetRoi:450}].map(p=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($,{className:"text-lg",children:[p.year,": ",p.focus]}),e.jsxs(V,{variant:"outline",className:"bg-blue-100 text-blue-800",children:[p.targetRoi,"% ROI Target"]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Strategic Goals"}),e.jsx("ul",{className:"space-y-1",children:p.goals.map((M,A)=>e.jsxs("li",{className:"text-sm flex items-center gap-2",children:[e.jsx(be,{className:"h-3 w-3 text-green-600"}),M]},A))})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Planned Investment"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b(p.investment)})]})]})})]},p.year))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"h-5 w-5"}),"Long-term KPI Targets"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:[{metric:"Annual Revenue",current:"125Cr",target:"500Cr",progress:25},{metric:"Market Share",current:"18.5%",target:"40%",progress:46},{metric:"Geographic Presence",current:"12 states",target:"28 states",progress:43},{metric:"Carbon Credits",current:"450 tons",target:"2,000 tons",progress:23},{metric:"Customer Base",current:"15,000",target:"100,000",progress:15}].map((p,M)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:p.metric}),e.jsxs("span",{className:"text-gray-600",children:[p.current,"  ",p.target]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{value:p.progress,className:"h-2 flex-1"}),e.jsxs("span",{className:"text-sm font-medium",children:[p.progress,"%"]})]})]},M))})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(ks,{className:"h-5 w-5"}),"Strategic Success Factors"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:[{factor:"Technology Innovation",score:85,trend:"up"},{factor:"Market Position",score:78,trend:"up"},{factor:"Financial Health",score:92,trend:"stable"},{factor:"Operational Excellence",score:87,trend:"up"},{factor:"Sustainability Leadership",score:74,trend:"up"},{factor:"Talent & Culture",score:81,trend:"stable"}].map((p,M)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:p.factor}),p.trend==="up"?e.jsx(Zs,{className:"h-4 w-4 text-green-600"}):p.trend==="down"?e.jsx(cr,{className:"h-4 w-4 text-red-600"}):e.jsx(Ja,{className:"h-4 w-4 text-gray-600"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{value:p.score,className:"h-2 w-16"}),e.jsxs("span",{className:"text-sm font-medium",children:[p.score,"%"]})]})]},M))})})]})]})]})})]})})]})]})},Bh=()=>{const{carbonMetrics:t,refreshData:s,refreshing:a}=ra(),[r,n]=d.useState("12m"),[l,o]=d.useState("revenue"),[c,u]=d.useState("credits"),[j,N]=d.useState(!1),[x]=d.useState([{id:"cc001",projectName:"Biogas Plant Maharashtra",creditType:"VCS",creditsGenerated:120,creditsIssued:115,creditsSold:98,pricePerCredit:185e3,revenue:1813e4,vintage:2024,expiryDate:"2034-12-31",co2Reduced:600,verificationStatus:"issued",buyer:"Green Energy Corp",additionalityScore:92},{id:"cc002",projectName:"Rural Biogas Gujarat",creditType:"Gold Standard",creditsGenerated:85,creditsIssued:85,creditsSold:75,pricePerCredit:21e4,revenue:1575e4,vintage:2024,expiryDate:"2034-06-30",co2Reduced:425,verificationStatus:"issued",buyer:"Climate Solutions Ltd",additionalityScore:89},{id:"cc003",projectName:"Community Biogas Punjab",creditType:"CDM",creditsGenerated:150,creditsIssued:0,creditsSold:0,pricePerCredit:165e3,revenue:0,vintage:2024,expiryDate:"2034-09-30",co2Reduced:750,verificationStatus:"pending",additionalityScore:87},{id:"cc004",projectName:"Integrated Waste Management",creditType:"VER",creditsGenerated:200,creditsIssued:180,creditsSold:160,pricePerCredit:155e3,revenue:248e5,vintage:2024,expiryDate:"2034-03-31",co2Reduced:1e3,verificationStatus:"issued",buyer:"Carbon Offset International",additionalityScore:94}]),[i]=d.useState({environmental:{carbonReduction:2775,renewableEnergyGenerated:45e3,wasteReduction:125e3,waterConservation:85e3,biodiversityImpact:78,certifications:["ISO 14001","Gold Standard","VCS","B Corp"],score:87},social:{jobsCreated:1250,communityImpact:85,ruralFamiliesBenefited:12500,healthImprovements:78,educationPrograms:45,genderEquity:72,score:82},governance:{boardDiversity:68,transparencyIndex:91,ethicsScore:89,complianceRating:94,stakeholderEngagement:86,dataQuality:92,score:88},overallRating:"A"}),[g]=d.useState([{date:"2024-01",vcsPrice:142e3,cdmPrice:128e3,goldStandardPrice:195e3,volume:25e5,volatility:.15,marketCap:45e9},{date:"2024-02",vcsPrice:148e3,cdmPrice:135e3,goldStandardPrice:201e3,volume:275e4,volatility:.12,marketCap:475e8},{date:"2024-03",vcsPrice:155e3,cdmPrice:14e4,goldStandardPrice:205e3,volume:29e5,volatility:.18,marketCap:502e8},{date:"2024-04",vcsPrice:162e3,cdmPrice:145e3,goldStandardPrice:21e4,volume:31e5,volatility:.14,marketCap:528e8},{date:"2024-05",vcsPrice:175e3,cdmPrice:158e3,goldStandardPrice:218e3,volume:335e4,volatility:.16,marketCap:556e8},{date:"2024-06",vcsPrice:185e3,cdmPrice:165e3,goldStandardPrice:225e3,volume:35e5,volatility:.11,marketCap:582e8}]),[f]=d.useState([{id:"tcfd",framework:"TCFD (Task Force on Climate-related Financial Disclosures)",status:"compliant",lastAssessment:"2024-03-15",nextDue:"2025-03-15",score:92,requirements:[{requirement:"Climate Risk Governance",status:"met",evidence:"Board climate committee established"},{requirement:"Strategy Disclosure",status:"met",evidence:"Climate strategy published"},{requirement:"Risk Management",status:"met",evidence:"Climate risk framework implemented"},{requirement:"Metrics & Targets",status:"met",evidence:"Net-zero targets set"}],riskLevel:"low"},{id:"ghg",framework:"GHG Protocol Corporate Standard",status:"compliant",lastAssessment:"2024-02-28",nextDue:"2025-02-28",score:89,requirements:[{requirement:"Scope 1 Emissions",status:"met",evidence:"Direct emissions calculated"},{requirement:"Scope 2 Emissions",status:"met",evidence:"Indirect emissions reported"},{requirement:"Scope 3 Emissions",status:"partial",evidence:"Value chain assessment ongoing"},{requirement:"Verification",status:"met",evidence:"Third-party verified"}],riskLevel:"low"},{id:"science_targets",framework:"Science Based Targets initiative (SBTi)",status:"pending",lastAssessment:"2024-01-15",nextDue:"2024-07-15",score:75,requirements:[{requirement:"Target Setting",status:"met",evidence:"Targets submitted for validation"},{requirement:"Coverage",status:"partial",evidence:"85% scope 1&2 coverage achieved"},{requirement:"Timeline",status:"met",evidence:"Net-zero by 2050 committed"},{requirement:"Validation",status:"not-met",evidence:"Awaiting SBTi approval"}],riskLevel:"medium"},{id:"cdp",framework:"CDP Climate Change",status:"compliant",lastAssessment:"2024-04-30",nextDue:"2025-04-30",score:85,requirements:[{requirement:"Climate Governance",status:"met",evidence:"A- rating achieved"},{requirement:"Risk & Opportunity",status:"met",evidence:"Comprehensive assessment"},{requirement:"Business Strategy",status:"met",evidence:"Climate integration documented"},{requirement:"Targets & Performance",status:"met",evidence:"Progress tracking implemented"}],riskLevel:"low"}]),w=y=>y>=1e7?`${(y/1e7).toFixed(1)}Cr`:y>=1e5?`${(y/1e5).toFixed(1)}L`:`${y.toLocaleString()}`,S=y=>{switch(y){case"verified":case"issued":case"compliant":case"met":return"bg-green-100 text-green-800";case"pending":case"partial":return"bg-yellow-100 text-yellow-800";case"non-compliant":case"not-met":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=y=>{switch(y){case"A+":case"A":return"bg-green-100 text-green-800 border-green-300";case"B+":case"B":return"bg-blue-100 text-blue-800 border-blue-300";case"C+":case"C":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"D":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},b=y=>{switch(y){case"VCS":return e.jsx(Be,{className:"h-4 w-4"});case"Gold Standard":return e.jsx(Qs,{className:"h-4 w-4"});case"CDM":return e.jsx(bs,{className:"h-4 w-4"});case"CAR":return e.jsx(er,{className:"h-4 w-4"});case"VER":return e.jsx(Yl,{className:"h-4 w-4"});default:return e.jsx(Ys,{className:"h-4 w-4"})}},v=()=>{const y=x.reduce((p,M)=>p+M.creditsGenerated,0),m=x.reduce((p,M)=>p+M.revenue,0),h=m/x.reduce((p,M)=>p+M.creditsSold,0),k=`Carbon Analytics Summary: Generated ${y} carbon credits with total revenue of ${w(m)}. Average price per credit is ${w(h)}. ESG rating is ${i.overallRating}. Environmental score is ${i.environmental.score}%, social score is ${i.social.score}%, and governance score is ${i.governance.score}%.`;if("speechSynthesis"in window){const p=new SpeechSynthesisUtterance(k);speechSynthesis.speak(p)}},T=()=>{const y={timestamp:new Date().toISOString(),carbonCredits:x,esgMetrics:i,marketTrends:g,complianceFrameworks:f,summary:{totalCredits:x.reduce((p,M)=>p+M.creditsGenerated,0),totalRevenue:x.reduce((p,M)=>p+M.revenue,0),co2Reduced:x.reduce((p,M)=>p+M.co2Reduced,0),overallESGRating:i.overallRating}},m=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),h=URL.createObjectURL(m),k=document.createElement("a");k.href=h,k.download=`carbon-analytics-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(h)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Carbon Analytics & ESG Reporting"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive carbon credit tracking, environmental impact analysis, and ESG compliance"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(q,{onClick:v,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(ea,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(q,{onClick:T,variant:"outline",size:"sm",children:[e.jsx(lt,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(q,{onClick:s,variant:"outline",size:"sm",disabled:a,children:[e.jsx(us,{className:`h-4 w-4 ${a?"animate-spin":""} mr-2`}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Credits Generated"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.reduce((y,m)=>y+m.creditsGenerated,0)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x.reduce((y,m)=>y+m.co2Reduced,0)," tons CO"]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Ys,{className:"h-6 w-6 text-green-600"})})]})})}),e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Carbon Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w(x.reduce((y,m)=>y+m.revenue,0))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"+22% from last quarter"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Bt,{className:"h-6 w-6 text-blue-600"})})]})})}),e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ESG Rating"}),e.jsx("p",{className:`text-2xl font-bold border-2 px-3 py-1 rounded-lg inline-block ${D(i.overallRating)}`,children:i.overallRating}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Top 10% in industry"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Qs,{className:"h-6 w-6 text-purple-600"})})]})})}),e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Market Price Avg"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:w(g[g.length-1]?.vcsPrice||0)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center",children:[e.jsx(Zs,{className:"h-3 w-3 text-green-600 mr-1"}),"+18% this month"]})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(Te,{className:"h-6 w-6 text-orange-600"})})]})})})]}),e.jsxs(St,{value:c,onValueChange:u,className:"space-y-6",children:[e.jsxs(Ct,{className:"grid w-full grid-cols-5",children:[e.jsx(xe,{value:"credits",children:"Carbon Credits"}),e.jsx(xe,{value:"esg",children:"ESG Metrics"}),e.jsx(xe,{value:"compliance",children:"Compliance"}),e.jsx(xe,{value:"market",children:"Market Analysis"}),e.jsx(xe,{value:"projections",children:"Projections"})]}),e.jsx(ce,{value:"credits",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-5 w-5"}),"Carbon Credit Portfolio Management"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-6",children:x.map(y=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx($,{className:"text-lg",children:y.projectName}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(V,{variant:"outline",className:"flex items-center gap-1",children:[b(y.creditType),y.creditType]}),e.jsx(V,{variant:"outline",className:S(y.verificationStatus),children:y.verificationStatus}),e.jsxs(V,{variant:"outline",children:["Vintage ",y.vintage]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.creditsGenerated}),e.jsx("div",{className:"text-sm text-gray-600",children:"Credits Generated"})]})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:y.creditsIssued}),e.jsx("div",{className:"text-xs text-blue-700",children:"Issued"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:y.creditsSold}),e.jsx("div",{className:"text-xs text-green-700",children:"Sold"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:w(y.pricePerCredit)}),e.jsx("div",{className:"text-xs text-purple-700",children:"Price/Credit"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:w(y.revenue)}),e.jsx("div",{className:"text-xs text-orange-700",children:"Revenue"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"CO Reduction:"}),e.jsxs("div",{className:"font-medium",children:[y.co2Reduced," tons"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Additionality Score:"}),e.jsxs("div",{className:"font-medium",children:[y.additionalityScore,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Expires:"}),e.jsx("div",{className:"font-medium",children:new Date(y.expiryDate).toLocaleDateString()})]})]}),y.buyer&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Buyer:"}),e.jsx("span",{className:"font-medium ml-2",children:y.buyer})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Utilization:"}),e.jsxs("span",{className:"font-medium ml-2",children:[Math.round(y.creditsSold/y.creditsGenerated*100),"%"]})]}),e.jsx(q,{size:"sm",variant:"outline",children:"View Details"})]})]})]},y.id))})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(lr,{className:"h-5 w-5"}),"Credit Type Distribution"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:Array.from(new Set(x.map(y=>y.creditType))).map(y=>{const m=x.filter(M=>M.creditType===y),h=m.reduce((M,A)=>M+A.creditsGenerated,0),k=m.reduce((M,A)=>M+A.revenue,0),p=h/x.reduce((M,A)=>M+A.creditsGenerated,0)*100;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded",children:b(y)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:y}),e.jsxs("div",{className:"text-sm text-gray-600",children:[m.length," projects"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[h," credits"]}),e.jsx("div",{className:"text-sm text-gray-600",children:w(k)}),e.jsxs("div",{className:"text-xs text-blue-600",children:[p.toFixed(1),"%"]})]})]},y)})})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5"}),"Performance Metrics"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Average Additionality Score"}),e.jsxs("span",{children:[(x.reduce((y,m)=>y+m.additionalityScore,0)/x.length).toFixed(1),"%"]})]}),e.jsx(Ce,{value:x.reduce((y,m)=>y+m.additionalityScore,0)/x.length,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Credit Issuance Rate"}),e.jsxs("span",{children:[Math.round(x.reduce((y,m)=>y+m.creditsIssued,0)/x.reduce((y,m)=>y+m.creditsGenerated,0)*100),"%"]})]}),e.jsx(Ce,{value:x.reduce((y,m)=>y+m.creditsIssued,0)/x.reduce((y,m)=>y+m.creditsGenerated,0)*100,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Sales Conversion Rate"}),e.jsxs("span",{children:[Math.round(x.reduce((y,m)=>y+m.creditsSold,0)/x.reduce((y,m)=>y+m.creditsIssued,0)*100),"%"]})]}),e.jsx(Ce,{value:x.reduce((y,m)=>y+m.creditsSold,0)/x.reduce((y,m)=>y+m.creditsIssued,0)*100,className:"h-2"})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:w(x.reduce((y,m)=>y+m.revenue,0)/x.reduce((y,m)=>y+m.creditsSold,0))}),e.jsx("div",{className:"text-xs text-green-700",children:"Avg Price/Credit"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:x.reduce((y,m)=>y+m.co2Reduced,0)}),e.jsx("div",{className:"text-xs text-blue-700",children:"Total CO Reduced"})]})]})})]})})]})]})]})}),e.jsx(ce,{value:"esg",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-5 w-5"}),"ESG Performance Dashboard"]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx("div",{className:`text-3xl font-bold border-2 px-4 py-2 rounded-lg ${D(i.overallRating)}`,children:i.overallRating}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Overall ESG Rating"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Industry ranking: Top 10%"})]})]})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2 text-green-700",children:[e.jsx(Ys,{className:"h-5 w-5"}),"Environmental"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.environmental.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Carbon Reduction"}),e.jsxs("span",{className:"font-medium",children:[i.environmental.carbonReduction," tons"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Renewable Energy"}),e.jsxs("span",{className:"font-medium",children:[i.environmental.renewableEnergyGenerated.toLocaleString()," kWh"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Waste Reduction"}),e.jsxs("span",{className:"font-medium",children:[i.environmental.wasteReduction.toLocaleString()," kg"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Water Conservation"}),e.jsxs("span",{className:"font-medium",children:[i.environmental.waterConservation.toLocaleString()," L"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Certifications"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:i.environmental.certifications.map((y,m)=>e.jsx(V,{variant:"outline",className:"text-xs",children:y},m))})]})]})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(st,{className:"h-5 w-5"}),"Social"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i.social.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Jobs Created"}),e.jsx("span",{className:"font-medium",children:i.social.jobsCreated.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Families Benefited"}),e.jsx("span",{className:"font-medium",children:i.social.ruralFamiliesBenefited.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Health Improvements"}),e.jsxs("span",{className:"font-medium",children:[i.social.healthImprovements,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Education Programs"}),e.jsx("span",{className:"font-medium",children:i.social.educationPrograms})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Gender Equity"}),e.jsxs("span",{className:"font-medium",children:[i.social.genderEquity,"%"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Community Impact"}),e.jsxs("span",{children:[i.social.communityImpact,"%"]})]}),e.jsx(Ce,{value:i.social.communityImpact,className:"h-2"})]})]})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2 text-purple-700",children:[e.jsx(ui,{className:"h-5 w-5"}),"Governance"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:i.governance.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Board Diversity"}),e.jsxs("span",{children:[i.governance.boardDiversity,"%"]})]}),e.jsx(Ce,{value:i.governance.boardDiversity,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Transparency Index"}),e.jsxs("span",{children:[i.governance.transparencyIndex,"%"]})]}),e.jsx(Ce,{value:i.governance.transparencyIndex,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ethics Score"}),e.jsxs("span",{children:[i.governance.ethicsScore,"%"]})]}),e.jsx(Ce,{value:i.governance.ethicsScore,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Compliance Rating"}),e.jsxs("span",{children:[i.governance.complianceRating,"%"]})]}),e.jsx(Ce,{value:i.governance.complianceRating,className:"h-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Data Quality"}),e.jsxs("span",{children:[i.governance.dataQuality,"%"]})]}),e.jsx(Ce,{value:i.governance.dataQuality,className:"h-1"})]})]})]})]})]})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"h-5 w-5"}),"ESG Initiatives & Targets"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-6",children:[{category:"Environmental",initiatives:[{name:"Carbon Neutrality by 2030",progress:68,target:"100% by 2030",status:"on-track"},{name:"Renewable Energy Adoption",progress:85,target:"100% by 2026",status:"ahead"},{name:"Waste Reduction Program",progress:72,target:"50% reduction by 2025",status:"on-track"},{name:"Water Conservation Initiative",progress:58,target:"30% reduction by 2025",status:"behind"}]},{category:"Social",initiatives:[{name:"Rural Employment Generation",progress:78,target:"2,000 jobs by 2025",status:"on-track"},{name:"Women Empowerment Program",progress:65,target:"40% female workforce",status:"on-track"},{name:"Community Health Initiatives",progress:82,target:"50 health centers",status:"ahead"},{name:"Educational Scholarships",progress:45,target:"1,000 scholarships",status:"behind"}]},{category:"Governance",initiatives:[{name:"Board Independence",progress:75,target:"80% independence",status:"on-track"},{name:"Transparency Reporting",progress:90,target:"Quarterly reports",status:"ahead"},{name:"Ethics Training Program",progress:88,target:"100% completion",status:"on-track"},{name:"Stakeholder Engagement",progress:70,target:"Monthly sessions",status:"on-track"}]}].map(y=>e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:[y.category," Initiatives"]}),e.jsx("div",{className:"space-y-3",children:y.initiatives.map((m,h)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:m.name}),e.jsx(V,{variant:"outline",className:m.status==="ahead"?"bg-green-100 text-green-800":m.status==="on-track"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800",children:m.status})]}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:m.target})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-24",children:e.jsx(Ce,{value:m.progress,className:"h-2"})}),e.jsxs("span",{className:"text-sm font-medium w-12 text-right",children:[m.progress,"%"]})]})]},h))})]},y.category))})})]})]})}),e.jsx(ce,{value:"compliance",className:"space-y-6",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5"}),"Regulatory Compliance & Risk Assessment"]}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive compliance tracking across all relevant frameworks"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:["compliant","partial","pending","non-compliant"].map(y=>{const m=f.filter(h=>h.status===y);return e.jsxs("div",{className:`text-center p-4 rounded-lg ${y==="compliant"?"bg-green-100":y==="partial"?"bg-yellow-100":y==="pending"?"bg-blue-100":"bg-red-100"}`,children:[e.jsx("div",{className:`text-2xl font-bold ${y==="compliant"?"text-green-600":y==="partial"?"text-yellow-600":y==="pending"?"text-blue-600":"text-red-600"}`,children:m.length}),e.jsx("div",{className:`text-sm ${y==="compliant"?"text-green-700":y==="partial"?"text-yellow-700":y==="pending"?"text-blue-700":"text-red-700"}`,children:y.charAt(0).toUpperCase()+y.slice(1)})]},y)})}),e.jsx("div",{className:"space-y-4",children:f.map(y=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($,{className:"text-lg",children:y.framework}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(V,{variant:"outline",className:S(y.status),children:y.status}),e.jsxs(V,{variant:"outline",className:S(y.riskLevel),children:[y.riskLevel," risk"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Compliance Score"})]})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Last Assessment:"}),e.jsx("div",{className:"font-medium",children:new Date(y.lastAssessment).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Next Due:"}),e.jsx("div",{className:"font-medium",children:new Date(y.nextDue).toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Requirements Status"}),e.jsx("div",{className:"space-y-2",children:y.requirements.map((m,h)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",children:m.requirement}),e.jsx("div",{className:"text-xs text-gray-600",children:m.evidence})]}),e.jsx(V,{variant:"outline",className:S(m.status),children:m.status})]},h))})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Overall Progress:"}),e.jsxs("span",{className:"font-medium ml-2",children:[Math.round(y.requirements.filter(m=>m.status==="met").length/y.requirements.length*100),"%"]})]}),e.jsx(q,{size:"sm",variant:"outline",children:"View Report"})]})]})]},y.id))})]})})]})}),e.jsx(ce,{value:"market",className:"space-y-6",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"Carbon Market Trends & Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Real-time market data and trend analysis for carbon credit pricing"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:w(g[g.length-1]?.vcsPrice||0)}),e.jsx("div",{className:"text-sm text-blue-700",children:"VCS Price"}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["+",((g[g.length-1]?.vcsPrice-g[0]?.vcsPrice)/g[0]?.vcsPrice*100).toFixed(1),"% YTD"]})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:w(g[g.length-1]?.goldStandardPrice||0)}),e.jsx("div",{className:"text-sm text-green-700",children:"Gold Standard"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Premium Standard"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[((g[g.length-1]?.volume||0)/1e6).toFixed(1),"M"]}),e.jsx("div",{className:"text-sm text-purple-700",children:"Monthly Volume"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Credits Traded"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[((g[g.length-1]?.volatility||0)*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-orange-700",children:"Volatility"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"30-day average"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Price Trends by Credit Type"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:["VCS","Gold Standard","CDM"].map(y=>{const m=y==="VCS"?g[g.length-1]?.vcsPrice:y==="Gold Standard"?g[g.length-1]?.goldStandardPrice:g[g.length-1]?.cdmPrice,h=y==="VCS"?g[0]?.vcsPrice:y==="Gold Standard"?g[0]?.goldStandardPrice:g[0]?.cdmPrice,k=(m-h)/h*100;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded",children:b(y)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:y}),e.jsx("div",{className:"text-sm text-gray-600",children:w(m)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`flex items-center gap-1 ${k>=0?"text-green-600":"text-red-600"}`,children:[k>=0?e.jsx(Zs,{className:"h-4 w-4"}):e.jsx(cr,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[k>=0?"+":"",k.toFixed(1),"%"]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"6-month change"})]})]},y)})})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Market Opportunities"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:[{opportunity:"International Markets",description:"EU ETS pricing 35% higher than domestic",potential:"8.5Cr additional revenue",confidence:78,timeframe:"6-9 months"},{opportunity:"Article 6 Compliance",description:"Paris Agreement implementation creating premium",potential:"12.2Cr market expansion",confidence:65,timeframe:"12-18 months"},{opportunity:"Corporate ESG Demand",description:"Increased corporate carbon neutrality commitments",potential:"15.8Cr demand growth",confidence:85,timeframe:"3-6 months"}].map((y,m)=>e.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-green-800",children:y.opportunity}),e.jsx("div",{className:"text-sm text-green-700 mt-1",children:y.description}),e.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Timeframe:"})," ",y.timeframe]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("div",{className:"font-medium text-green-600",children:y.potential}),e.jsxs(V,{variant:"outline",className:"mt-1 bg-green-100 text-green-800",children:[y.confidence,"% confidence"]})]})]})},m))})})]})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Qa,{className:"h-5 w-5"}),"Price Forecasting & Revenue Projections"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:["Conservative","Baseline","Optimistic"].map((y,m)=>{const h=m===0?1.1:m===1?1.25:1.45,k=g[g.length-1]?.vcsPrice*h,p=x.reduce((M,A)=>M+A.creditsGenerated*k,0);return e.jsx("div",{className:`p-4 rounded-lg ${y==="Conservative"?"bg-yellow-50 border border-yellow-200":y==="Baseline"?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[y," Scenario"]}),e.jsx("div",{className:`text-2xl font-bold mt-2 ${y==="Conservative"?"text-yellow-600":y==="Baseline"?"text-blue-600":"text-green-600"}`,children:w(k)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Projected Price/Credit"}),e.jsx("div",{className:"text-lg font-medium text-gray-900 mt-3",children:w(p)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue Potential"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[((p-x.reduce((M,A)=>M+A.revenue,0))/x.reduce((M,A)=>M+A.revenue,0)*100).toFixed(1),"% increase"]})]})},y)})})})]})]})})]})}),e.jsx(ce,{value:"projections",className:"space-y-6",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Carbon Revenue & Impact Projections"]}),e.jsx("p",{className:"text-gray-600",children:"Long-term forecasting and strategic carbon planning"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Timeframe:"}),e.jsxs(Oe,{value:r,onValueChange:n,children:[e.jsx(Me,{className:"w-32",children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"12m",children:"12 Months"}),e.jsx(Q,{value:"24m",children:"24 Months"}),e.jsx(Q,{value:"36m",children:"36 Months"}),e.jsx(Q,{value:"60m",children:"60 Months"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Growth Scenario:"}),e.jsxs(Oe,{defaultValue:"baseline",children:[e.jsx(Me,{className:"w-40",children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"conservative",children:"Conservative"}),e.jsx(Q,{value:"baseline",children:"Baseline"}),e.jsx(Q,{value:"aggressive",children:"Aggressive"})]})]})]}),e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>N(!j),children:[e.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Advanced Modeling"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Revenue Growth Projections"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:[{period:"2024 Q4",revenue:785e5,growth:15.2,confidence:92},{period:"2025 Q1",revenue:952e5,growth:21.3,confidence:87},{period:"2025 Q2",revenue:1187e5,growth:24.7,confidence:82},{period:"2025 Q3",revenue:1458e5,growth:22.8,confidence:78},{period:"2025 Q4",revenue:1752e5,growth:25.1,confidence:74}].map((y,m)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:y.period}),e.jsxs("div",{className:"text-sm text-gray-600",children:["+",y.growth,"% growth"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-green-600",children:w(y.revenue)}),e.jsxs(V,{variant:"outline",className:"mt-1 text-xs",children:[y.confidence,"% confidence"]})]})]},m))})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Impact Projections"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:[{metric:"CO Reduction",current:2775,projected:8500,unit:"tons",growth:206},{metric:"Credits Generated",current:555,projected:1850,unit:"credits",growth:233},{metric:"Projects Active",current:4,projected:15,unit:"projects",growth:275},{metric:"Communities Impacted",current:125,projected:450,unit:"communities",growth:260},{metric:"Jobs Created",current:1250,projected:4200,unit:"jobs",growth:236}].map((y,m)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:y.metric}),e.jsxs("span",{className:"text-sm text-gray-600",children:[y.current.toLocaleString(),"  ",y.projected.toLocaleString()," ",y.unit]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{value:75,className:"h-2 flex-1"}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",y.growth,"%"]})]})]},m))})})]})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"h-5 w-5"}),"2025-2027 Strategic Carbon Targets"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[{year:"2025",targets:["Generate 1,500 carbon credits","Achieve 85Cr carbon revenue","Expand to 8 new regions","Launch carbon trading platform"],investment:18e7,expectedRoi:285},{year:"2026",targets:["Generate 2,500 carbon credits","Achieve 145Cr carbon revenue","International market entry","Carbon neutrality certification"],investment:32e7,expectedRoi:340},{year:"2027",targets:["Generate 4,000 carbon credits","Achieve 250Cr carbon revenue","Industry leadership position","Complete ESG integration"],investment:5e8,expectedRoi:420}].map(y=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(_,{children:[e.jsxs($,{className:"text-lg",children:[y.year," Targets"]}),e.jsxs(V,{variant:"outline",className:"w-fit bg-blue-100 text-blue-800",children:[y.expectedRoi,"% ROI"]})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Strategic Goals"}),e.jsx("ul",{className:"space-y-1",children:y.targets.map((m,h)=>e.jsxs("li",{className:"text-sm flex items-start gap-2",children:[e.jsx(be,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),m]},h))})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Required Investment"}),e.jsx("div",{className:"text-lg font-bold text-blue-600",children:w(y.investment)})]})]})]},y.year))})})]})]})})]})})]})]})},qh=()=>{const{competitiveData:t,refreshData:s,refreshing:a}=ra(),[r,n]=d.useState("12m"),[l,o]=d.useState("all"),[c,u]=d.useState("overview"),[j,N]=d.useState(!1),[x]=d.useState([{id:"comp001",name:"EcoGas Solutions",tier:"direct",marketShare:25.3,revenue:18e10,growth:18.5,employees:3200,regions:["Maharashtra","Gujarat","Rajasthan","Punjab"],strengths:["Government Relations","Scale Operations","Financial Resources"],weaknesses:["Innovation Speed","Rural Penetration","Technology Adoption"],recentMoves:["Acquired tech startup for 45Cr","Launched mobile app platform","Expanded to 3 new states"],threatLevel:"high",innovationScore:72,customerSatisfaction:78,financialHealth:91,operationalEfficiency:85},{id:"comp002",name:"GreenTech Biogas",tier:"direct",marketShare:22.1,revenue:158e9,growth:22.3,employees:2800,regions:["Tamil Nadu","Karnataka","Andhra Pradesh","Kerala"],strengths:["Technology Innovation","Customer Service","Digital Platform"],weaknesses:["Market Coverage","Capital Efficiency","Brand Recognition"],recentMoves:["IPO announced for Q2 2025","Partnership with IIT Chennai","AI optimization rollout"],threatLevel:"critical",innovationScore:89,customerSatisfaction:85,financialHealth:82,operationalEfficiency:78},{id:"comp003",name:"Rural Energy Corp",tier:"direct",marketShare:15.7,revenue:112e9,growth:12.8,employees:1950,regions:["Uttar Pradesh","Bihar","Madhya Pradesh","Odisha"],strengths:["Rural Network","Cost Efficiency","Local Partnerships"],weaknesses:["Technology Infrastructure","Financial Resources","Scalability"],recentMoves:["Secured 200Cr funding","Rural expansion program","Community partnership model"],threatLevel:"medium",innovationScore:65,customerSatisfaction:82,financialHealth:75,operationalEfficiency:88},{id:"comp004",name:"CleanEnergy Dynamics",tier:"indirect",marketShare:8.2,revenue:89e9,growth:35.1,employees:1200,regions:["West Bengal","Assam","Jharkhand"],strengths:["Innovation","Agility","Technology Stack"],weaknesses:["Market Presence","Scale","Financial Stability"],recentMoves:["Series B funding 125Cr","AI research lab setup","International expansion plan"],threatLevel:"medium",innovationScore:95,customerSatisfaction:87,financialHealth:68,operationalEfficiency:72}]),[i]=d.useState([{id:"rural_communities",name:"Rural Communities",size:45e9,growth:15.2,ourShare:22.1,leader:"EcoGas Solutions",leaderShare:28.5,opportunity:"high",barriers:["Infrastructure Development","Financing Solutions","Technology Adoption"],trends:["Government push for clean energy","Rural digitization","Cooperative model adoption"]},{id:"industrial_waste",name:"Industrial Waste Management",size:28e9,growth:18.7,ourShare:18.3,leader:"GreenTech Biogas",leaderShare:32.1,opportunity:"medium",barriers:["Regulatory Compliance","Technical Expertise","Capital Investment"],trends:["Circular economy adoption","ESG compliance requirements","Zero waste initiatives"]},{id:"urban_waste",name:"Urban Waste Processing",size:35e9,growth:12.4,ourShare:15.8,leader:"EcoGas Solutions",leaderShare:24.3,opportunity:"medium",barriers:["Urban Infrastructure","Municipal Partnerships","Scale Requirements"],trends:["Smart city initiatives","Waste segregation mandates","Public-private partnerships"]},{id:"agricultural",name:"Agricultural Biogas",size:22e9,growth:20.8,ourShare:25.6,leader:"SAUBHAGYA",leaderShare:25.6,opportunity:"high",barriers:["Farmer Education","Seasonal Variations","Supply Chain"],trends:["Sustainable farming practices","Carbon credit awareness","Cooperative farming growth"]}]),[g]=d.useState({strengths:[{factor:"Technology Innovation",impact:"high",description:"Advanced IoT integration and AI-driven optimization giving 15-20% efficiency advantage",score:92},{factor:"Rural Market Penetration",impact:"high",description:"Deep rural network with established community relationships across 12 states",score:88},{factor:"Operational Efficiency",impact:"high",description:"Lean operations model with 23% lower cost structure than industry average",score:87},{factor:"Financial Health",impact:"medium",description:"Strong balance sheet with low debt-to-equity ratio and positive cash flow",score:85},{factor:"Brand Trust",impact:"medium",description:"High customer satisfaction (4.6/5) and strong word-of-mouth referrals",score:82}],weaknesses:[{factor:"Scale Limitations",impact:"high",description:"Smaller scale compared to top 2 competitors limiting economies of scale",score:65,actionPlan:"Aggressive expansion plan with 500Cr investment over 18 months"},{factor:"Brand Recognition",impact:"medium",description:"Lower brand awareness in urban markets compared to established players",score:58,actionPlan:"Comprehensive brand building campaign focusing on ESG leadership"},{factor:"Capital Resources",impact:"medium",description:"Limited access to large-scale funding compared to listed competitors",score:62,actionPlan:"IPO preparation and strategic investor partnerships"},{factor:"Geographic Coverage",impact:"medium",description:"Presence in 12 states vs. competitors covering 15-20 states",score:68,actionPlan:"Phased expansion to 8 new states by 2025"}],opportunities:[{factor:"Government Policy Support",potential:"high",description:"New renewable energy policies creating 200Cr+ market opportunities",timeframe:"6-12 months",investmentRequired:15e7,expectedReturn:38e7},{factor:"Carbon Credit Market",potential:"high",description:"International carbon market expansion with 40% price premium opportunities",timeframe:"12-18 months",investmentRequired:2e8,expectedReturn:65e7},{factor:"Technology Integration",potential:"medium",description:"AI and IoT adoption creating competitive differentiation",timeframe:"3-9 months",investmentRequired:12e7,expectedReturn:28e7},{factor:"Corporate ESG Demand",potential:"high",description:"Increasing corporate sustainability commitments driving B2B opportunities",timeframe:"6-15 months",investmentRequired:8e7,expectedReturn:32e7}],threats:[{factor:"New Market Entrants",severity:"high",description:"Well-funded startups with disruptive technology entering market",probability:.75,mitigation:"Accelerate innovation and build switching costs through platform integration",timeline:"6-12 months"},{factor:"Regulatory Changes",severity:"medium",description:"Potential changes in renewable energy subsidies affecting profitability",probability:.45,mitigation:"Diversify revenue streams and reduce subsidy dependence",timeline:"12-24 months"},{factor:"Economic Downturn",severity:"medium",description:"Economic slowdown affecting investment in renewable energy projects",probability:.35,mitigation:"Focus on essential services and government contracts",timeline:"6-18 months"},{factor:"Technology Disruption",severity:"high",description:"Breakthrough in alternative technologies making biogas less competitive",probability:.25,mitigation:"Invest in R&D and maintain technology leadership",timeline:"24-36 months"}]}),[f]=d.useState([{metric:"Revenue per Employee",ourValue:105e5,industryAverage:82e5,topPerformer:128e5,unit:"",trend:"up",ranking:3,totalCompetitors:15},{metric:"Customer Acquisition Cost",ourValue:25e3,industryAverage:32e3,topPerformer:18e3,unit:"",trend:"down",ranking:4,totalCompetitors:15},{metric:"Customer Retention Rate",ourValue:92,industryAverage:85,topPerformer:95,unit:"%",trend:"up",ranking:2,totalCompetitors:15},{metric:"Time to Market",ourValue:8.5,industryAverage:12.2,topPerformer:6.8,unit:"months",trend:"down",ranking:2,totalCompetitors:15},{metric:"Operational Efficiency",ourValue:87.3,industryAverage:78.5,topPerformer:91.2,unit:"%",trend:"up",ranking:3,totalCompetitors:15},{metric:"Innovation Index",ourValue:82,industryAverage:68,topPerformer:95,unit:"score",trend:"up",ranking:4,totalCompetitors:15}]),[w]=d.useState([{id:"tech_integration",advantage:"IoT-AI Platform Integration",category:"technology",sustainability:"sustainable",strength:92,description:"Proprietary IoT platform with AI optimization providing 15-20% efficiency gains",evidence:["15% higher biogas yield","20% reduction in operational costs","95% system uptime"],threats:["Competitor technology catch-up","New disruptive technologies"],reinforcementPlan:"Continuous R&D investment, patent protection, talent acquisition"},{id:"rural_network",advantage:"Deep Rural Penetration",category:"market",sustainability:"sustainable",strength:88,description:"Established community relationships and distribution network in rural areas",evidence:["12 state presence","85% rural customer base","Community partnership model"],threats:["Competitor rural expansion","Digital disruption"],reinforcementPlan:"Strengthen community partnerships, expand network, digital enhancement"},{id:"cost_efficiency",advantage:"Lean Operations Model",category:"operational",sustainability:"sustainable",strength:85,description:"Optimized operations delivering 23% cost advantage over industry average",evidence:["23% lower OPEX","87% operational efficiency","Automated processes"],threats:["Scale disadvantages","Process replication by competitors"],reinforcementPlan:"Process automation, scale expansion, continuous improvement"},{id:"esg_leadership",advantage:"ESG Leadership Position",category:"market",sustainability:"sustainable",strength:89,description:"Industry-leading ESG practices and carbon credit generation capabilities",evidence:["A rating ESG score","450 carbon credits generated","B Corp certification"],threats:["ESG commoditization","Regulatory changes"],reinforcementPlan:"ESG innovation, certification expansion, thought leadership"}]),S=h=>h>=1e7?`${(h/1e7).toFixed(1)}Cr`:h>=1e5?`${(h/1e5).toFixed(1)}L`:`${h.toLocaleString()}`,D=h=>{switch(h){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=h=>{switch(h){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},v=h=>{switch(h){case"up":return e.jsx(Zs,{className:"h-4 w-4 text-green-600"});case"down":return e.jsx(cr,{className:"h-4 w-4 text-red-600"});case"stable":return e.jsx(Ja,{className:"h-4 w-4 text-gray-600"});default:return e.jsx(Ja,{className:"h-4 w-4 text-gray-600"})}},T=h=>{switch(h){case"sustainable":return"bg-green-100 text-green-800";case"temporary":return"bg-yellow-100 text-yellow-800";case"at-risk":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=()=>{const h=t.marketShare,k=t.ranking,p=t.strengthScore,M=`Competitive Intelligence Summary: We hold ${h}% market share, ranking ${k} in the industry. Overall competitive strength score is ${p}%. We have ${x.filter(A=>A.threatLevel==="high"||A.threatLevel==="critical").length} high-threat competitors. Key opportunities include government policy support and carbon credit market expansion.`;if("speechSynthesis"in window){const A=new SpeechSynthesisUtterance(M);speechSynthesis.speak(A)}},m=()=>{const h={timestamp:new Date().toISOString(),executiveSummary:{marketPosition:t,keyThreats:x.filter(A=>A.threatLevel==="high"||A.threatLevel==="critical").length,topOpportunities:g.opportunities.slice(0,3),competitiveAdvantages:w.length},competitors:x,marketSegments:i,swotAnalysis:g,benchmarkMetrics:f,competitiveAdvantages:w},k=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),p=URL.createObjectURL(k),M=document.createElement("a");M.href=p,M.download=`competitive-intelligence-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(p)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Competitive Intelligence & Market Analysis"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive competitive positioning, market analysis, and strategic insights"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(q,{onClick:y,variant:"outline",size:"sm",className:"hidden sm:flex",children:[e.jsx(ea,{className:"h-4 w-4 mr-2"}),"Listen"]}),e.jsxs(q,{onClick:m,variant:"outline",size:"sm",children:[e.jsx(lt,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(q,{onClick:s,variant:"outline",size:"sm",disabled:a,children:[e.jsx(us,{className:`h-4 w-4 ${a?"animate-spin":""} mr-2`}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Market Share"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[t.marketShare,"%"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Rank #",t.ranking," of ",t.competitorCount]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(lr,{className:"h-6 w-6 text-blue-600"})})]})})}),e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Competitive Strength"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.strengthScore}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Above industry average"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Qs,{className:"h-6 w-6 text-green-600"})})]})})}),e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"High-Threat Competitors"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:x.filter(h=>h.threatLevel==="high"||h.threatLevel==="critical").length}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Requiring immediate attention"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(we,{className:"h-6 w-6 text-orange-600"})})]})})}),e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Key Opportunities"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g.opportunities.filter(h=>h.potential==="high").length}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"High-potential opportunities"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(sn,{className:"h-6 w-6 text-purple-600"})})]})})})]}),e.jsxs(St,{value:c,onValueChange:u,className:"space-y-6",children:[e.jsxs(Ct,{className:"grid w-full grid-cols-5",children:[e.jsx(xe,{value:"overview",children:"Market Overview"}),e.jsx(xe,{value:"competitors",children:"Competitor Analysis"}),e.jsx(xe,{value:"swot",children:"SWOT Analysis"}),e.jsx(xe,{value:"benchmarks",children:"Benchmarking"}),e.jsx(xe,{value:"advantages",children:"Competitive Edge"})]}),e.jsx(ce,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"Market Position Analysis"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Market Share Distribution"}),e.jsx("div",{className:"space-y-3",children:[{name:"EcoGas Solutions",share:25.3,color:"bg-red-500"},{name:"GreenTech Biogas",share:22.1,color:"bg-orange-500"},{name:"SAUBHAGYA",share:18.5,color:"bg-blue-500"},{name:"Rural Energy Corp",share:15.7,color:"bg-green-500"},{name:"CleanEnergy Dynamics",share:8.2,color:"bg-purple-500"},{name:"Others",share:10.2,color:"bg-gray-400"}].map((h,k)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded ${h.color}`}),e.jsx("span",{className:"font-medium",children:h.name}),h.name==="SAUBHAGYA"&&e.jsx(V,{variant:"outline",className:"bg-blue-100 text-blue-800",children:"Us"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"font-medium",children:[h.share,"%"]})})]},k))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Competitive Positioning"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"3rd"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Market Ranking"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"+3.2%"}),e.jsx("div",{className:"text-sm text-green-700",children:"YoY Growth"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:S(125e9)}),e.jsx("div",{className:"text-sm text-purple-700",children:"Revenue"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"12"}),e.jsx("div",{className:"text-sm text-orange-700",children:"States Present"})]})]})]})]})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"h-5 w-5"}),"Market Segments Performance"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:i.map(h=>e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(E,{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:h.name}),e.jsxs(V,{variant:"outline",className:h.opportunity==="high"?"bg-green-100 text-green-800":h.opportunity==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:[h.opportunity," opportunity"]}),h.leader==="SAUBHAGYA"&&e.jsxs(V,{variant:"outline",className:"bg-blue-100 text-blue-800",children:[e.jsx(an,{className:"h-3 w-3 mr-1"}),"Leader"]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Market Size"}),e.jsx("div",{className:"font-medium",children:S(h.size)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Growth Rate"}),e.jsxs("div",{className:"font-medium text-green-600",children:["+",h.growth,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Our Share"}),e.jsxs("div",{className:"font-medium",children:[h.ourShare,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Leader"}),e.jsxs("div",{className:"font-medium",children:[h.leader," (",h.leaderShare,"%)"]})]})]})]})}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Key Trends"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:h.trends.map((k,p)=>e.jsx(V,{variant:"outline",className:"text-xs",children:k},p))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Market Barriers"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:h.barriers.map((k,p)=>e.jsx(V,{variant:"outline",className:"text-xs bg-red-50 text-red-700",children:k},p))})]})]})]})},h.id))})})]})]})}),e.jsx(ce,{value:"competitors",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(st,{className:"h-5 w-5"}),"Competitive Landscape Analysis"]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsxs(Oe,{value:r,onValueChange:n,children:[e.jsx(Me,{className:"w-40",children:e.jsx(Fe,{})}),e.jsxs(Re,{children:[e.jsx(Q,{value:"6m",children:"6 Months"}),e.jsx(Q,{value:"12m",children:"12 Months"}),e.jsx(Q,{value:"24m",children:"24 Months"})]})]}),e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>N(!j),children:[e.jsx(wa,{className:"h-4 w-4 mr-2"}),"Advanced Analysis"]})]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-6",children:x.map(h=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"text-lg",children:h.name}),e.jsxs(V,{variant:"outline",className:h.tier==="direct"?"bg-red-100 text-red-800":h.tier==="indirect"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:[h.tier," competitor"]}),e.jsxs(V,{variant:"outline",className:D(h.threatLevel),children:[h.threatLevel," threat"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Market Share: ",h.marketShare,"%"]}),e.jsxs("span",{children:["Revenue: ",S(h.revenue)]}),e.jsxs("span",{children:["Growth: ",h.growth,"%"]}),e.jsxs("span",{children:["Employees: ",h.employees.toLocaleString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Math.round((h.innovationScore+h.customerSatisfaction+h.financialHealth+h.operationalEfficiency)/4)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overall Score"})]})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:h.innovationScore}),e.jsx("div",{className:"text-xs text-blue-700",children:"Innovation"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:h.customerSatisfaction}),e.jsx("div",{className:"text-xs text-green-700",children:"Customer Sat"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:h.financialHealth}),e.jsx("div",{className:"text-xs text-purple-700",children:"Financial"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:h.operationalEfficiency}),e.jsx("div",{className:"text-xs text-orange-700",children:"Operations"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Geographic Presence"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:h.regions.map((k,p)=>e.jsxs(V,{variant:"outline",className:"text-xs",children:[e.jsx(Rt,{className:"h-3 w-3 mr-1"}),k]},p))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Key Strengths"}),e.jsx("div",{className:"space-y-1",children:h.strengths.map((k,p)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(be,{className:"h-3 w-3 text-green-600"}),k]},p))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Key Weaknesses"}),e.jsx("div",{className:"space-y-1",children:h.weaknesses.map((k,p)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(we,{className:"h-3 w-3 text-red-600"}),k]},p))})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Recent Strategic Moves"}),e.jsx("div",{className:"space-y-2",children:h.recentMoves.map((k,p)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm p-2 bg-gray-50 rounded",children:[e.jsx($e,{className:"h-3 w-3 text-blue-600 mt-0.5"}),k]},p))})]}),j&&e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Advanced Intelligence"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Predicted Next Moves:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:" Market expansion to new states"}),e.jsx("li",{children:" Technology acquisition or partnership"}),e.jsx("li",{children:" Price competition in key segments"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Vulnerability Assessment:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:" Capital constraints limiting expansion"}),e.jsx("li",{children:" Technology gap in rural markets"}),e.jsx("li",{children:" Regulatory dependency risks"})]})]})]})]})]})]},h.id))})})]})})}),e.jsx(ce,{value:"swot",className:"space-y-6",children:e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5"}),"Strategic SWOT Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive analysis of Strengths, Weaknesses, Opportunities, and Threats"})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2 text-green-700",children:[e.jsx(be,{className:"h-5 w-5"}),"Strengths"]})}),e.jsx(E,{className:"space-y-4",children:g.strengths.map((h,k)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm",children:h.factor}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{variant:"outline",className:b(h.impact),children:[h.impact," impact"]}),e.jsxs("span",{className:"text-sm font-medium",children:[h.score,"/100"]})]})]}),e.jsx("div",{className:"text-xs text-gray-600",children:h.description}),e.jsx(Ce,{value:h.score,className:"h-2"})]},k))})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2 text-red-700",children:[e.jsx(we,{className:"h-5 w-5"}),"Weaknesses"]})}),e.jsx(E,{className:"space-y-4",children:g.weaknesses.map((h,k)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm",children:h.factor}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{variant:"outline",className:b(h.impact),children:[h.impact," impact"]}),e.jsxs("span",{className:"text-sm font-medium",children:[h.score,"/100"]})]})]}),e.jsx("div",{className:"text-xs text-gray-600",children:h.description}),e.jsx(Ce,{value:h.score,className:"h-2"}),h.actionPlan&&e.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded",children:[e.jsx("strong",{children:"Action Plan:"})," ",h.actionPlan]})]},k))})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(sn,{className:"h-5 w-5"}),"Opportunities"]})}),e.jsx(E,{className:"space-y-4",children:g.opportunities.map((h,k)=>e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-blue-800",children:h.factor}),e.jsxs(V,{variant:"outline",className:h.potential==="high"?"bg-green-100 text-green-800":h.potential==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:[h.potential," potential"]})]}),e.jsx("div",{className:"text-sm text-blue-700 mt-1",children:h.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Timeframe:"}),e.jsx("div",{className:"font-medium",children:h.timeframe})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Investment:"}),e.jsx("div",{className:"font-medium",children:S(h.investmentRequired)})]})]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("div",{className:"font-medium text-green-600",children:S(h.expectedReturn)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Expected Return"}),e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[Math.round(h.expectedReturn/h.investmentRequired*100),"% ROI"]})]})]})},k))})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2 text-orange-700",children:[e.jsx(we,{className:"h-5 w-5"}),"Threats"]})}),e.jsx(E,{className:"space-y-4",children:g.threats.map((h,k)=>e.jsx("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-orange-800",children:h.factor}),e.jsxs(V,{variant:"outline",className:h.severity==="high"?"bg-red-100 text-red-800":h.severity==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",children:[h.severity," severity"]})]}),e.jsx("div",{className:"text-sm text-orange-700 mt-1",children:h.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Timeline:"}),e.jsx("div",{className:"font-medium",children:h.timeline})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Probability:"}),e.jsxs("div",{className:"font-medium",children:[Math.round(h.probability*100),"%"]})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-white rounded text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Mitigation:"}),e.jsx("div",{className:"font-medium",children:h.mitigation})]})]})})},k))})]})]})})]})}),e.jsxs(ce,{value:"benchmarks",className:"space-y-6",children:[e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"Competitive Benchmarking Analysis"]}),e.jsx("p",{className:"text-gray-600",children:"Performance comparison against industry standards and top performers"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-6",children:f.map((h,k)=>e.jsx(P,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:h.metric}),v(h.trend),e.jsxs(V,{variant:"outline",className:"bg-blue-100 text-blue-800",children:["Rank #",h.ranking," of ",h.totalCompetitors]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Our Performance"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.unit===""?S(h.ourValue):h.unit==="months"?`${h.ourValue}${h.unit}`:`${h.ourValue}${h.unit}`}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(h.ourValue/h.topPerformer*100,100)}%`}})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Industry Average"}),e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:h.unit===""?S(h.industryAverage):h.unit==="months"?`${h.industryAverage}${h.unit}`:`${h.industryAverage}${h.unit}`}),e.jsx("div",{className:"text-sm",children:e.jsxs("span",{className:`font-medium ${h.metric.includes("Cost")||h.metric.includes("Time")?h.ourValue<h.industryAverage?"text-green-600":"text-red-600":h.ourValue>h.industryAverage?"text-green-600":"text-red-600"}`,children:[h.metric.includes("Cost")||h.metric.includes("Time")?h.ourValue<h.industryAverage?"Better":"Worse":h.ourValue>h.industryAverage?"Above":"Below"," by ",Math.abs((h.ourValue-h.industryAverage)/h.industryAverage*100).toFixed(1),"%"]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Best in Class"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.unit===""?S(h.topPerformer):h.unit==="months"?`${h.topPerformer}${h.unit}`:`${h.topPerformer}${h.unit}`}),e.jsx("div",{className:"text-sm",children:e.jsxs("span",{className:"text-orange-600 font-medium",children:["Gap: ",Math.abs((h.topPerformer-h.ourValue)/h.topPerformer*100).toFixed(1),"%"]})})]})]})]})})})},k))})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Pr,{className:"h-5 w-5"}),"Benchmarking Summary"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:f.filter(h=>h.metric.includes("Cost")||h.metric.includes("Time")?h.ourValue<h.industryAverage:h.ourValue>h.industryAverage).length}),e.jsx("div",{className:"text-sm text-green-700 mt-2",children:"Above Industry Average"})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:Math.round(f.reduce((h,k)=>h+k.ranking,0)/f.length)}),e.jsx("div",{className:"text-sm text-blue-700 mt-2",children:"Average Ranking"})]}),e.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:f.filter(h=>h.ranking<=3).length}),e.jsx("div",{className:"text-sm text-purple-700 mt-2",children:"Top 3 Rankings"})]})]})})]})]}),e.jsxs(ce,{value:"advantages",className:"space-y-6",children:[e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(an,{className:"h-5 w-5"}),"Competitive Advantages & Differentiation"]}),e.jsx("p",{className:"text-gray-600",children:"Analysis of sustainable competitive advantages and strategic differentiation"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-6",children:w.map(h=>e.jsxs(P,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"text-lg",children:h.advantage}),e.jsx(V,{variant:"outline",className:h.category==="technology"?"bg-blue-100 text-blue-800":h.category==="operational"?"bg-green-100 text-green-800":h.category==="financial"?"bg-purple-100 text-purple-800":h.category==="market"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800",children:h.category}),e.jsx(V,{variant:"outline",className:T(h.sustainability),children:h.sustainability})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:h.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.strength}),e.jsx("div",{className:"text-sm text-gray-600",children:"Strength Score"})]})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Supporting Evidence"}),e.jsx("div",{className:"space-y-2",children:h.evidence.map((k,p)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(be,{className:"h-3 w-3 text-green-600 mt-0.5"}),k]},p))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Potential Threats"}),e.jsx("div",{className:"space-y-2",children:h.threats.map((k,p)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(we,{className:"h-3 w-3 text-red-600 mt-0.5"}),k]},p))})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Reinforcement Strategy"}),e.jsx("div",{className:"text-sm text-gray-700 p-3 bg-blue-50 rounded-lg",children:h.reinforcementPlan})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Competitive Strength"}),e.jsxs("span",{children:[h.strength,"/100"]})]}),e.jsx(Ce,{value:h.strength,className:"h-3"})]})]})]},h.id))})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Ql,{className:"h-5 w-5"}),"Competitive Advantage Portfolio"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Advantages by Category"}),e.jsx("div",{className:"space-y-3",children:Array.from(new Set(w.map(h=>h.category))).map(h=>{const k=w.filter(M=>M.category===h),p=k.reduce((M,A)=>M+A.strength,0)/k.length;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded ${h==="technology"?"bg-blue-100":h==="operational"?"bg-green-100":h==="financial"?"bg-purple-100":h==="market"?"bg-orange-100":"bg-gray-100"}`,children:e.jsx(wa,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium capitalize",children:h}),e.jsxs("div",{className:"text-sm text-gray-600",children:[k.length," advantages"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[Math.round(p),"/100"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Strength"})]})]},h)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sustainability Assessment"}),e.jsx("div",{className:"space-y-3",children:["sustainable","temporary","at-risk"].map(h=>{const k=w.filter(M=>M.sustainability===h),p=k.length/w.length*100;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"font-medium capitalize",children:[h," Advantages"]}),e.jsxs("span",{children:[k.length," (",p.toFixed(0),"%)"]})]}),e.jsx(Ce,{value:p,className:"h-2"})]},h)})}),e.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"font-medium text-green-800",children:"Strategic Recommendation"}),e.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Focus on reinforcing sustainable advantages while developing mitigation strategies for at-risk advantages. Priority should be given to technology and market advantages as they provide the strongest differentiation."})]})]})]})})]})]})]})]})},Uh=()=>{const{trackModuleUsage:t,updateBreadcrumbs:s}=sa(),[a,r]=d.useState("summary"),n=[{id:"summary",label:"Executive Summary",icon:e.jsx(Te,{className:"h-4 w-4"}),description:"Real-time KPIs and business intelligence"},{id:"voice",label:"Voice Analytics",icon:e.jsx(Ks,{className:"h-4 w-4"}),description:"Voice-enabled business queries"},{id:"strategic",label:"Strategic Planning",icon:e.jsx(Vt,{className:"h-4 w-4"}),description:"Strategic initiatives and planning"},{id:"carbon",label:"Carbon Analytics",icon:e.jsx(Ys,{className:"h-4 w-4"}),description:"Environmental impact and carbon credits"},{id:"competitive",label:"Market Intelligence",icon:e.jsx(Ze,{className:"h-4 w-4"}),description:"Competitive analysis and market insights"}],o={en:{title:"UrjaNeta Executive Analytics",subtitle:"Advanced voice-enabled business intelligence platform"}}.en;return d.useEffect(()=>{t("urja-neta"),s([{label:"UrjaNeta",url:"/urjaneta",module:"urja-neta"},{label:"Executive Analytics",url:"/urjaneta",module:"urja-neta"}])},[]),e.jsx(Si,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:e.jsx(wa,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:o.title}),e.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(bs,{className:"h-4 w-4"}),o.subtitle]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:" Live Data"})})]}),e.jsxs(St,{value:a,onValueChange:r,className:"w-full",children:[e.jsx(Ct,{className:"grid w-full grid-cols-5 lg:grid-cols-5",children:n.map(c=>e.jsxs(xe,{value:c.id,className:"flex flex-col gap-1 p-3 h-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[c.icon,e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:c.label})]}),e.jsx("span",{className:"text-xs text-gray-500 hidden lg:inline",children:c.description})]},c.id))}),e.jsx(ce,{value:"summary",className:"space-y-6",children:e.jsx(Lh,{})}),e.jsx(ce,{value:"voice",className:"space-y-6",children:e.jsx(_h,{})}),e.jsx(ce,{value:"strategic",className:"space-y-6",children:e.jsx($h,{})}),e.jsx(ce,{value:"carbon",className:"space-y-6",children:e.jsx(Bh,{})}),e.jsx(ce,{value:"competitive",className:"space-y-6",children:e.jsx(qh,{})})]})]})})},Nr=B.lazy(()=>nt(()=>import("./Dashboard-R4ZXyicH.js"),__vite__mapDeps([13,1,2,14,3,4])).then(t=>({default:t.Dashboard}))),Hh=B.lazy(()=>nt(()=>import("./ScheduleManager-BEIpV1ju.js"),__vite__mapDeps([15,1,2,14,3,4])).then(t=>({default:t.ScheduleManager}))),Gh=B.lazy(()=>nt(()=>import("./RouteOptimization-D3tCJLi6.js"),__vite__mapDeps([16,1,2,14,3,4])).then(t=>({default:t.RouteOptimization}))),Vh=B.lazy(()=>nt(()=>import("./ActiveDeliveries-c-csZXUp.js"),__vite__mapDeps([17,1,2,14,3,4])).then(t=>({default:t.ActiveDeliveries}))),Wh=B.lazy(()=>nt(()=>import("./DeliveryConfirmation-xCQwWN0D.js"),__vite__mapDeps([18,1,2,14,3,4])).then(t=>({default:t.DeliveryConfirmation}))),zh=B.lazy(()=>nt(()=>import("./VehicleManagement-DZc9z5xy.js"),__vite__mapDeps([19,1,2,14,3,4])).then(t=>({default:t.VehicleManagement}))),Yh=B.lazy(()=>nt(()=>import("./DeliveryHistory-BKadEIND.js"),__vite__mapDeps([20,1,2,14,3,4])).then(t=>({default:t.DeliveryHistory}))),Qh=()=>e.jsxs("div",{className:"flex items-center justify-center min-h-[400px]",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}),Kh=()=>{const t=ve(),s=Hs(),a="/transport",r=[{id:"dashboard",label:"Dashboard",icon:e.jsx(Ar,{className:"w-5 h-5"}),onClick:()=>t(`${a}/dashboard`),isActive:s.pathname===`${a}/dashboard`||s.pathname===a},{id:"schedule",label:"Schedule Manager",icon:e.jsx(Ie,{className:"w-5 h-5"}),onClick:()=>t(`${a}/schedule`),isActive:s.pathname===`${a}/schedule`,badge:"15"},{id:"routes",label:"Route Optimization",icon:e.jsx(Da,{className:"w-5 h-5"}),onClick:()=>t(`${a}/routes`),isActive:s.pathname===`${a}/routes`},{id:"deliveries",label:"Active Deliveries",icon:e.jsx(Xt,{className:"w-5 h-5"}),onClick:()=>t(`${a}/deliveries`),isActive:s.pathname===`${a}/deliveries`,badge:"8"},{id:"confirmation",label:"Delivery Confirmation",icon:e.jsx(be,{className:"w-5 h-5"}),onClick:()=>t(`${a}/confirmation`),isActive:s.pathname===`${a}/confirmation`,badge:"3"},{id:"vehicles",label:"Vehicle Management",icon:e.jsx($t,{className:"w-5 h-5"}),onClick:()=>t(`${a}/vehicles`),isActive:s.pathname===`${a}/vehicles`},{id:"history",label:"Delivery History",icon:e.jsx(Ea,{className:"w-5 h-5"}),onClick:()=>t(`${a}/history`),isActive:s.pathname===`${a}/history`}];return e.jsx(aa,{moduleName:"Transporter",moduleSubtitle:"Biogas Delivery Management",navigationItems:r,userInfo:{name:"Transport Manager",role:"Operations Head"},children:e.jsx("div",{className:"p-6",children:e.jsx(d.Suspense,{fallback:e.jsx(Qh,{}),children:e.jsxs(ta,{children:[e.jsx(J,{path:"/",element:e.jsx(Nr,{})}),e.jsx(J,{path:"/dashboard",element:e.jsx(Nr,{})}),e.jsx(J,{path:"/schedule",element:e.jsx(Hh,{})}),e.jsx(J,{path:"/routes",element:e.jsx(Gh,{})}),e.jsx(J,{path:"/deliveries",element:e.jsx(Vh,{})}),e.jsx(J,{path:"/confirmation",element:e.jsx(Wh,{})}),e.jsx(J,{path:"/vehicles",element:e.jsx(zh,{})}),e.jsx(J,{path:"/history",element:e.jsx(Yh,{})}),e.jsx(J,{path:"*",element:e.jsx(Nr,{})})]})})})})},Zh=()=>{const{user:t,loading:s}=as(),a=ve(),r=Hs();return d.useEffect(()=>{if(s||!t||r.pathname==="/login"||r.pathname==="/admin"||r.pathname==="/testing"||r.pathname==="/database-setup")return;const n=()=>{if((t.executiveLevel||t.role==="senior_leader")&&t.appType!=="admin")return"/executive-dashboard";if(t.role==="cluster_manager"||t.appType==="biogassangh"||t.roles&&t.roles.some(o=>o==="BIOGAS_SANGH"||o==="CLUSTER_MANAGER"))return"/cluster";switch(t.appType){case"gausakhi":return t.role==="field_worker"?"/gaushala":"/dashboard";case"biogassangh":return"/cluster";case"urjavyapar":return"/sales";case"urjasanyojak":return"/urjasanyojak";case"admin":return"/admin";case"urjaneta":return"/urja-neta";case"shuddhidoot":return"/purification";default:return"/dashboard"}};if(r.pathname==="/"||r.pathname==="/dashboard"){const l=n();a(l,{replace:!0})}},[t,s,r,a]),null};function Gt({children:t}){const{user:s,loading:a}=as();return a?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):s?e.jsx(e.Fragment,{children:t}):e.jsx(Xl,{to:"/login"})}function Jh(){return e.jsxs(ta,{children:[e.jsx(J,{path:"/login",element:e.jsx(zc,{})}),e.jsx(J,{path:"/",element:e.jsx(Gt,{children:e.jsx(Zh,{})})}),e.jsx(J,{path:"/admin/*",element:e.jsx(Gt,{children:e.jsx(oo,{})})}),e.jsx(J,{path:"/gaushala/*",element:e.jsx(Gt,{children:e.jsx(td,{})})}),e.jsx(J,{path:"/cluster/*",element:e.jsx(Gt,{children:e.jsx(sh,{})})}),e.jsx(J,{path:"/sales/*",element:e.jsx(Gt,{children:e.jsx(Ih,{})})}),e.jsx(J,{path:"/purification/*",element:e.jsx(Gt,{children:e.jsx(Fh,{})})}),e.jsx(J,{path:"/urjaneta/*",element:e.jsx(Gt,{children:e.jsx(Uh,{})})}),e.jsx(J,{path:"/urjasanyojak/*",element:e.jsx(Gt,{children:e.jsx(uo,{})})}),e.jsx(J,{path:"/admin-dashboard/*",element:e.jsx(Gt,{children:e.jsx(mo,{})})}),e.jsx(J,{path:"/dashboard/*",element:e.jsx(Gt,{children:e.jsx(go,{})})}),e.jsx(J,{path:"/executive/*",element:e.jsx(Gt,{children:e.jsx(fo,{})})}),e.jsx(J,{path:"/transport/*",element:e.jsx(Gt,{children:e.jsx(Kh,{})})})]})}function Xh(){return e.jsx(dc,{children:e.jsx(vc,{children:e.jsxs(Jl,{children:[e.jsx(Jh,{}),e.jsx(fi,{position:"top-right",richColors:!0,closeButton:!0})]})})})}Sr.createRoot(document.getElementById("root")).render(e.jsx(B.StrictMode,{children:e.jsx(Xh,{})}));export{hs as A,q as B,P as C,fe as I,ee as L,Ce as P,Js as S,St as T,Ns as a,_ as b,$ as c,V as d,De as e,E as f,Ct as g,xe as h,ce as i,na as j,vt as m};
//# sourceMappingURL=index-Cwg1D4Xy.js.map
